(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[661],{82916:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(92950),s=r.n(n),a=r(45697),i=r.n(a),o=r(30586),u=r(15265),c=function(e){var t=e.description,r=e.linkTitle;return s().createElement(o.Text,{className:"pf-u-mt-0",component:o.TextVariants.h7},t,s().createElement(o.Text,{component:o.TextVariants.a,href:"https://www.".concat(window.insights.chrome.isProd?"":"qa.","redhat.com/wapps/ugc/protected/usermgt/userList.html"),target:"_blank",rel:"noopener noreferrer"},r,s().createElement(u.ZP,null)),".")};c.propTypes={description:i().node,linkTitle:i().node},c.defaultProps={description:"",linkTitle:" user management list "};const l=c},88093:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(22122),s=r(81253),a=r(92950),i=r.n(a),o=r(24985),u=r(45697),c=r.n(u),l=r(94184),f=r.n(l),p=function(e){var t,r=e.row,a=(0,s.Z)(e,["row"]),u=r.status,c=null==u||null===(t=u.props)||void 0===t?void 0:t["data-is-active"];return i().createElement(o.RowWrapper,(0,n.Z)({className:f()("ins-c-rbac__user-row",{"ins-m-inactive":!c}),row:r},a))};p.propTypes={row:c().shape({status:c().shape({props:c().shape({"data-is-active":c().bool,data:c().shape({isActive:c().bool})})})})};const m=p},90944:(e,t,r)=>{"use strict";r.d(t,{u:()=>c,a:()=>l});var n=r(36580),s=r(96156);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var o=(0,r(89400).bn)(),u={Active:"enabled",Inactive:"disabled"},c=function(e){return{type:n.WH,payload:(t=e,r=t.limit,s=t.offset,a=t.orderBy,c=t.filters,l=void 0===c?{}:c,f=t.inModal,p=l.username,m=l.email,d=l.status,v=void 0===d?[]:d,b="-username"===a?"desc":"asc",y=2===v.length?"all":u[v[0]]||"all",o.listPrincipals(r,s,void 0,p,b,m,y).then((function(e){var t=e.data,n=e.meta;return i({data:t,meta:i(i({},n),{},{offset:s,limit:r})},f?{}:{filters:l,pagination:i(i({},n),{},{offset:s,limit:r})})})))};var t,r,s,a,c,l,f,p,m,d,v,b,y},l=function(e){return{type:n.xD,payload:e}}},98033:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R,i:()=>_});var n=r(22122),s=r(96156),a=r(85061),i=r(92950),o=r.n(i),u=r(45237),c=r(45697),l=r.n(c),f=r(334),p=r(11107),m=r(41800),d=r(90944),v=r(71355),b=r(30586),y=r(24985),h=r(88093),g=r(61338),O=r(92758),w=r(98614),k=r(36438);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=[{title:"Org. Administrator",key:"org-admin",transforms:[y.nowrap]},{title:"Username",key:"username",transforms:[y.sortable]},{title:"Email"},{title:"First name",transforms:[y.nowrap]},{title:"Last name",transforms:[y.nowrap]},{title:"Status",transforms:[y.nowrap]}],U=function(e){return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t?t.reduce((function(t,r){var s=r.username,u=r.is_active,c=r.email,l=r.first_name,p=r.last_name,m=r.is_org_admin;return[].concat((0,a.Z)(t),[{uuid:s,cells:[m?o().createElement(i.Fragment,null,o().createElement(w.ZP,{key:"yes-icon",className:"pf-u-mr-sm"}),o().createElement("span",{key:"yes"},"Yes")):o().createElement(i.Fragment,null,o().createElement(k.ZP,{key:"no-icon",className:"pf-u-mr-sm"}),o().createElement("span",{key:"no"},"No")),{title:e?o().createElement(f.Link,{to:"/users/detail/".concat(s)},s):s},c,l,p,{title:o().createElement(b.Label,{key:"status",color:u&&"green"},u?"Active":"Inactive"),props:{"data-is-active":u}}],selected:Boolean(n&&n.find((function(e){return e.uuid===s})))}])}),[]):[]}},S=function(e){var t=e.users,r=e.fetchUsers,s=e.updateUsersFilters,a=e.isLoading,c=e.pagination,l=e.selectedUsers,d=e.setSelectedUsers,v=e.userLinks,b=e.inModal,y=e.props,w=(0,u.useSelector)((function(e){var t=e.userReducer.users;return{limit:b?t.meta.limit:t.pagination.limit||g.he.limit,offset:b?t.meta.offset:t.pagination.offset||g.he.offset}})),k=(0,f.useHistory)(),j=(0,u.useSelector)((function(e){var t=e.userReducer.users.filters;return{username:!b&&(null==t?void 0:t.username)||"",email:!b&&(null==t?void 0:t.email)||"",status:!b&&(null==t?void 0:t.status)||["Active"]}}));(0,i.useEffect)((function(){var e=b?g.he:(0,g.rj)(k,w);j=b?{status:j.status}:(0,O.a)(k,["username","email","status"],j),r(P(P({},(0,p.jl)(P(P({},e),{},{filters:j}))),{},{inModal:b}))}),[]);var S=function(e){b||s(e),j=e};return o().createElement(m.M,(0,n.Z)({columns:E,isSelectable:!0,isCompact:!0,borders:!1,createRows:U(v),data:t,ouiaId:"users-table",fetchData:function(e){var t=Object.prototype.hasOwnProperty.call(e,"status")?e.status:j.status,n=e.username,s=e.email,a=e.count,i=e.limit,o=e.offset,u=e.orderBy;r(P(P({},(0,p.jl)({count:a,limit:i,offset:o,orderBy:u,filters:{username:n,email:s,status:t}})),{},{inModal:b})),b||(0,g.oG)(k,e.limit,e.offset),b||(0,O.M)(k,{username:n,email:s,status:t})},setFilterValue:function(e){var t=e.username,r=e.email,n=e.status;void 0!==t&&S(P(P({},j),{},{username:t})),void 0!==r&&S(P(P({},j),{},{email:r})),void 0===n||n===j.status||S(P(P({},j),{},{status:n}))},isLoading:a,pagination:c,checkedRows:l,setCheckedItems:function(e){d((function(t){return e(t).map((function(e){var t=e.uuid;return{uuid:t,label:e.username||t}}))}))},sortBy:{index:1,direction:"asc"},rowWrapper:h.Z,titlePlural:"users",titleSingular:"user",filters:[{key:"username",value:j.username,placeholder:"Filter by exact username"},{key:"email",value:j.email,placeholder:"Filter by exact email"},{key:"status",value:j.status,label:"Status",type:"checkbox",items:[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}]}],tableId:"users-list"},y))},Z=function(e){var t=e.userReducer,r=t.users,n=t.isUserDataLoading;return{users:r.data&&r.data.map((function(e){return P(P({},e),{},{uuid:e.username})})),pagination:r.meta,isLoading:n}},L=function(e){return{fetchUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.he;e((0,d.u)(t))},updateUsersFilters:function(t){e((0,d.a)(t))},addNotification:function(){return e(v.wN.apply(void 0,arguments))}}};S.propTypes={history:l().shape({goBack:l().func.isRequired,push:l().func.isRequired}),users:l().array,isLoading:l().bool,searchFilter:l().string,fetchUsers:l().func.isRequired,updateUsersFilters:l().func.isRequired,setSelectedUsers:l().func.isRequired,selectedUsers:l().array,pagination:l().shape({limit:l().number.isRequired,offset:l().number,count:l().number}),userLinks:l().bool,props:l().object,inModal:l().bool},S.defaultProps={users:[],selectedUsers:[],setSelectedUsers:function(){},userLinks:!1,inModal:!1};const R=(0,u.connect)(Z,L)(S);var _=(0,u.connect)(Z,L,(function(e,t,r){return P(P(P(P({},r),e),t),{},{fetchUsers:function(e){return t.fetchUsers(e||g.eX)}})}))(S)}}]);
//# sourceMappingURL=../sourcemaps/661.fee6950bd24d6e9ec7a4.js.map