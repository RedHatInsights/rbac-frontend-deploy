"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[8769,7664],{69957:(e,t,n)=>{n.d(t,{LP:()=>r,RI:()=>i,ZP:()=>o});var a=n(40400);const i={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},r=(0,a.IU)(i),o=r},60817:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Portal=t.NotificationPortal=void 0;var i=n(50533),r=a(n(72837)),o=n(53446);t.NotificationPortal=(0,i.connect)((function(e,t){var n=e.notifications;return{notifications:t.notifications||n}}),(function(e,t){return{removeNotification:t.removeNotification?t.removeNotification:function(t){return e((0,o.removeNotification)(t))},onClearAll:t.clearNotifications?t.clearNotifications:function(){return e((0,o.clearNotifications)())}}}))(r.default);var c=n(72837);Object.defineProperty(t,"Portal",{enumerable:!0,get:function(){return a(c).default}}),t.default=t.NotificationPortal},72871:function(e,t,n){var a=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||a(t,e,n)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(60817);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(o).default}}),i(n(60817),t)},71355:function(e,t,n){var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsMiddleware=t.clearNotifications=t.removeNotification=t.addNotification=t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=t.notificationsReducers=t.notifications=t.NotificationsPortal=void 0;var i=n(72871);Object.defineProperty(t,"NotificationsPortal",{enumerable:!0,get:function(){return a(i).default}});var r=n(24778);Object.defineProperty(t,"notifications",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"notificationsReducers",{enumerable:!0,get:function(){return r.notificationsReducers}});var o=n(68129);Object.defineProperty(t,"ADD_NOTIFICATION",{enumerable:!0,get:function(){return o.ADD_NOTIFICATION}}),Object.defineProperty(t,"REMOVE_NOTIFICATION",{enumerable:!0,get:function(){return o.REMOVE_NOTIFICATION}}),Object.defineProperty(t,"CLEAR_NOTIFICATIONS",{enumerable:!0,get:function(){return o.CLEAR_NOTIFICATIONS}});var c=n(53446);Object.defineProperty(t,"addNotification",{enumerable:!0,get:function(){return c.addNotification}}),Object.defineProperty(t,"removeNotification",{enumerable:!0,get:function(){return c.removeNotification}}),Object.defineProperty(t,"clearNotifications",{enumerable:!0,get:function(){return c.clearNotifications}});var u=n(84885);Object.defineProperty(t,"notificationsMiddleware",{enumerable:!0,get:function(){return a(u).default}})},68129:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=void 0;var n="@@INSIGHTS-CORE/NOTIFICATIONS/";t.ADD_NOTIFICATION="".concat(n,"ADD_NOTIFICATION"),t.REMOVE_NOTIFICATION="".concat(n,"REMOVE_NOTIFICATION"),t.CLEAR_NOTIFICATIONS="".concat(n,"CLEAR_NOTIFICATIONS"),t.default={ADD_NOTIFICATION:t.ADD_NOTIFICATION,REMOVE_NOTIFICATION:t.REMOVE_NOTIFICATION,CLEAR_NOTIFICATIONS:t.CLEAR_NOTIFICATIONS}},53446:function(e,t,n){var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clearNotifications=t.removeNotification=t.addNotification=void 0;var i=n(68129);t.addNotification=function(e){return{type:i.ADD_NOTIFICATION,payload:a({id:("notification","cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2))},e)}},t.removeNotification=function(e){return{type:i.REMOVE_NOTIFICATION,payload:e}},t.clearNotifications=function(){return{type:i.CLEAR_NOTIFICATIONS}},t.default={addNotification:t.addNotification,removeNotification:t.removeNotification,clearNotifications:t.clearNotifications}},24778:function(e,t,n){var a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var a,i=0,r=t.length;i<r;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=t.notificationsReducers=t.defaultState=void 0;var i=n(68129);t.defaultState=[],t.notificationsReducers=function(e,n){switch(void 0===e&&(e=t.defaultState),n.type){case i.ADD_NOTIFICATION:return r=e,o=n.payload,a(a([],r,!0),[o],!1);case i.REMOVE_NOTIFICATION:return function(e,t){var n=t.payload,i=e.findIndex((function(e){return e.id===n}));return a(a([],e.slice(0,i),!0),e.slice(i+1),!0)}(e,n);case i.CLEAR_NOTIFICATIONS:return[];default:return e}var r,o},t.notifications=t.notificationsReducers,t.default=t.notifications},93736:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(46801),i=n(65126);const r=function(e){var t=(0,a.useNavigate)();return function(n,a){return t((0,i.n)(n,e),a)}}},73943:(e,t,n)=>{n.d(t,{R:()=>f});var a=n(92950),i=n.n(a),r=n(45697),o=n.n(r),c=n(25864),u=n(69957),l=n(86896),s=n(30893),f=function(e){var t=e.type,n=e.isOpen,a=e.onModalCancel,r=e.onConfirmCancel,o=e.customTitle,f=e.customDescription,d=e.customPrimaryButtonTitle,m=e.customSecondaryButtonTitle,p=(0,l.Z)();return i().createElement(c.Modal,{title:i().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},i().createElement(u.ZP,{size:"md",className:"rbac-c-wizard__cancel-warning-header--icon"}),o||p.formatMessage(s.Z.exitItemCreation,{item:t})),variant:c.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:n,onClose:a,actions:[i().createElement(c.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:r},null!=d?d:p.formatMessage(s.Z.exit)),i().createElement(c.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:a},null!=m?m:p.formatMessage(s.Z.stay))]},i().createElement("span",null,f||p.formatMessage(s.Z.discardedInputsWarning)," "))};f.propTypes={type:o().string,customTitle:o().node,customDescription:o().node,customPrimaryButtonTitle:o().string,customSecondaryButtonTitle:o().string,isOpen:o().bool,onModalCancel:o().func,onConfirmCancel:o().func}},93351:(e,t,n)=>{n.d(t,{Z:()=>p});var a=n(87462),i=n(45987),r=n(92950),o=n.n(r),c=n(1936),u=n(45697),l=n.n(u),s=n(94184),f=n.n(s),d=["className","row"],m=function(e){var t=e.className,n=e.row,r=(0,i.Z)(e,d);return o().createElement(c.RowWrapper,(0,a.Z)({className:f()(t,{"rbac-c-group-default":n.isPlatformDefault||n.isAdminDefault}),row:n},r))};m.propTypes={row:l().shape({isAdminDefault:l().bool,isPlatformDefault:l().bool}),className:l().string};const p=m},5509:(e,t,n)=>{n.r(t),n.d(t,{default:()=>M});var a=n(45987),i=n(4942),r=n(93433),o=n(29439),c=n(92950),u=n.n(c),l=n(45697),s=n.n(l),f=n(86896),d=n(50533),m=n(25864),p=n(55140),O=n(71355),I=n(93736),N=n(26794),v=n(93351),g=n(30060),b=n(73943),y=n(19756),T=n(30893),_=n(4682),C=["name"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.username,n=(0,p.Z)(),i=(0,d.useDispatch)(),l=(0,f.Z)(),s=(0,I.Z)(),A=(0,d.useSelector)((function(e){var t=e.groupReducer,n=t.groups,a=t.isLoading;return{groups:(null==n?void 0:n.data)||[],pagination:null==n?void 0:n.meta,filters:(null==n?void 0:n.filters)||"",isLoading:a}}),d.shallowEqual),E=A.groups,M=A.pagination,P=A.filters,D=A.isLoading,F=(0,c.useRef)(null),R=(0,c.useState)([]),Z=(0,o.Z)(R,2),j=Z[0],w=Z[1],S=(0,c.useState)(!1),k=(0,o.Z)(S,2),L=k[0],V=k[1],x=(0,c.useState)(P.name||""),B=(0,o.Z)(x,2),z=B[0],G=B[1],U=(0,c.useContext)(N.Z),W=U.orgAdmin,H=U.userAccessAdministrator,q=W||H,J=[{title:l.formatMessage(T.Z.name),key:"name"},{title:l.formatMessage(T.Z.description),key:"description"}],K=function(e){return i((0,y.bt)(h(h({},e),{},{excludeUsername:t,chrome:n})))};(0,c.useEffect)((function(){K(h(h({},M),{},{filters:{name:z}}))}),[]);var Q=function(){return(null==j?void 0:j.length)>0&&V(!0)||X()},X=function(){i((0,O.addNotification)({variant:"warning",title:l.formatMessage(T.Z.addingGroupMemberTitle),dismissDelay:8e3,description:l.formatMessage(T.Z.addingGroupMemberCancelled)})),s({pathname:_.Z["user-detail"].link.replace(":username",t)})};return u().createElement(c.Fragment,null,u().createElement(b.R,{type:"user",isOpen:L,onModalCancel:function(){return V(!1)},onConfirmCancel:X}),u().createElement(m.Modal,{variant:m.ModalVariant.medium,isOpen:!L,title:l.formatMessage(T.Z.addSpecificUserToGroup,{username:t}),onClose:Q,actions:[u().createElement(m.Button,{"aria-label":"Save",className:"pf-u-mr-sm",ouiaId:"primary-save-button",variant:"primary",key:"save",onClick:function(){j.forEach((function(e){i((0,y.dy)(e.uuid,[{username:t}]))})),s({state:{username:t},pathname:_.Z["user-detail"].link.replace(":username",t)})},isDisabled:0==(null==j?void 0:j.length)},l.formatMessage(T.Z.addToGroup)),u().createElement(m.Button,{"aria-label":"Cancel",ouiaId:"secondary-cancel-button",variant:"link",key:"cancel",onClick:Q},l.formatMessage(T.Z.cancel))]},u().createElement(m.Alert,{variant:"info",isInline:!0,isPlain:!0,title:l.formatMessage(T.Z.onlyNonUserGroupsVisible)}),u().createElement(g.M,{isCompact:!0,data:E,rows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.reduce((function(e,n){var a=n.uuid,i=n.name,o=n.description,l=n.platform_default,s=n.admin_default;return[].concat((0,r.Z)(e),[{uuid:a,isAdminDefault:s,isPlatformDefault:l,cells:[u().createElement(c.Fragment,{key:a},u().createElement("span",{"aria-label":"group-name-".concat(a)},i)),u().createElement(c.Fragment,{key:"".concat(a,"-description")},o)],selected:Boolean(t&&t.find((function(e){return e.uuid===a})))}])}),[])}(E,j),columns:J,isSelectable:q,checkedRows:j,setCheckedItems:function(e){return w(e(j).map((function(e){return{uuid:e.uuid,label:e.name}})))},titlePlural:l.formatMessage(T.Z.groups).toLowerCase(),titleSingular:l.formatMessage(T.Z.group).toLowerCase(),pagination:M,filterValue:z,fetchData:function(e){var t=e.name,n=(0,a.Z)(e,C);return K(h({filters:{name:t}},n))},setFilterValue:function(e){var t=e.name;return G(null!=t?t:"")},isLoading:D,filterPlaceholder:l.formatMessage(T.Z.name).toLowerCase(),rowWrapper:v.Z,textFilterRef:F,tableId:"available-user-groups",ouiaId:"available-user-groups-table","data-testid":"group-table"})))};E.propTypes={username:s().string};const M=E}}]);
//# sourceMappingURL=../sourcemaps/8769.1a2ee68a6c1144f0b0f789759dfb1b03.js.map