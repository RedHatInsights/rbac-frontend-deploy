(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[1453],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(66029),r=a.n(n),o=a(80236),l=a(47173),i=a(93149);const c=e=>{var{isOpen:t,onConfirm:a,onClose:c,children:s,confirmButtonLabel:m="Confirm",cancelButtonLabel:u="Cancel",variant:p=o.v.small,titleIconVariant:d="warning",withCheckbox:f=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=l.Wu.primary,ouiaId:v="WarningModal"}=e,y=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[E,h]=(0,n.useState)(!1);return r().createElement(o.u,Object.assign({variant:p,isOpen:t,onClose:c,onEscapePress:c,titleIconVariant:d,actions:[r().createElement(l.zx,{ouiaId:`${v}-confirm-button`,key:"confirm",variant:b,onClick:()=>{null==a||a(),h(!1)},isDisabled:f&&!E},m),r().createElement(l.zx,{ouiaId:`${v}-cancel-button`,key:"cancel",variant:l.Wu.link,onClick:c},u)],ouiaId:v},y),s,f?r().createElement(i.X,{isChecked:E,onChange:(e,t)=>h(t),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${v}-confirm-checkbox`}):null)}},30120:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var n=a(65353),r=a(66029),o=a(62165),l=a(75587);const i=e=>{var{id:t="",children:a=null,className:i="",isOpen:c=!1,"aria-label":s="Actions",parentRef:m=null,getMenuRef:u=null,isActive:p=!1,isPlain:d=!1,isDisabled:f=!1,bubbleEvent:g=!1,onToggle:b=(()=>{}),ref:v}=e,y=(0,n.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(l.Z,Object.assign({id:t,className:i,isOpen:c,"aria-label":s,parentRef:m,getMenuRef:u,isActive:p,isPlain:d,isDisabled:f,onToggle:b,bubbleEvent:g},y),r.createElement(o.default,null))};i.displayName="KebabToggle"},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(70347);const n={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(25238);const n={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},66042:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(87234);const n={bullseye:"pf-v5-l-bullseye"}},39173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(85893),r=a(94184),o=a.n(r),l=a(78956),i=a(6427),c=a(36530),s=function(){return s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const m=function(e){var t=e.className,a=e.title,r=e.actionsContent,m=e.ouiaId,u=e.ouiaSafe,p=void 0===u||u,d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),f=o()(t),g="RHI/Header",b=(0,i.useOUIAId)(g,m,p);return(0,n.jsxs)(c.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,n.jsx)(c.FlexItem,{children:(0,n.jsx)(l.Title,s({headingLevel:"h1",size:"2xl",className:f,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":b,"data-ouia-safe":p},d,{children:a}))}),r?(0,n.jsx)(c.FlexItem,{children:r}):null]})}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(62012),r=a(64756);const o=e=>{const t=(0,n.useNavigate)();return(a,n)=>t((0,r.n)(a,e),n)}},82617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(66029),r=a.n(n),o=a(45697),l=a.n(o),i=a(62012),c=a(75629),s=a(12849);const m=e=>e?r().createElement(c.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?r().createElement(c.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&r().createElement(i.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(s.Vj,{key:t})))):null;m.propTypes={breadcrumbs:l().object};const u=m},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(66029),r=a.n(n),o=a(95376),l=a(58826),i=a.n(l);const c=({title:e,icon:t,description:a,actions:n,...l})=>r().createElement(o.EmptyState,{variant:o.EmptyStateVariant.sm,...l},r().createElement(o.EmptyStateHeader,{titleText:r().createElement(r().Fragment,null,e),icon:r().createElement(o.EmptyStateIcon,{icon:t||i()}),headingLevel:"h4"}),r().createElement(o.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>r().createElement(r().Fragment,{key:t},e," ",r().createElement("br",null))))),r().createElement(o.EmptyStateFooter,null,n))},13851:(e,t,a)=>{"use strict";a.d(t,{Q:()=>E,y:()=>h});var n=a(66029),r=a.n(n),o=a(45697),l=a.n(o),i=a(64380),c=a(86304),s=a(12849),m=a(82617),u=a(85893),p=a(94184),d=a.n(p);const f=r().createContext("light");var g=a(6427),b=function(){return b=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},b.apply(this,arguments)};const v=function(e){var t=e.className,a=e.children,n=e.ouiaId,r=e.ouiaSafe,o=void 0===r||r,l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children","ouiaId","ouiaSafe"]),i=d()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),c="RHI/Header",s=(0,g.useOUIAId)(c,n,o);return(0,u.jsx)(f.Consumer,{children:function(e){var t,n;void 0===e&&(e="light");var r=d()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((n={})["pf-m-light"]="light"===e,n));return(0,u.jsx)("section",b({"data-ouia-component-type":c,"data-ouia-component-id":s,"data-ouia-safe":o},l,{className:"".concat(i," ").concat(r),"widget-type":"InsightsPageHeader",children:a}))}})};var y=a(39173);const E=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(m.Z,{...t})),r().createElement(v,{className:"rbac-page-header"},e));E.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},E.defaultProps={paddingBottom:!1};const h=({title:e,renderTitleTag:t,description:a,children:o})=>r().createElement(n.Fragment,null,r().createElement(c.Flex,null,r().createElement(c.FlexItem,{className:"pf-v5-u-mb-sm"},r().createElement(y.Z,{title:e||r().createElement(s.h2,null),className:"rbac-page-header__title"})),r().createElement(c.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(i.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(i.Text,{component:i.TextVariants.p},a):a),o);h.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},55073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var n=a(66029),r=a.n(n),o=a(55140),l=a(62012),i=a(86706),c=a(25387),s=a(1439),m=a.n(s),u=a(5904),p=a(78972),d=a(57043),f=a(31055),g=a(85044),b=a(79332),v=a(30120),y=a(55218),E=a(12913),h=a(45697),x=a.n(h),O=a(91397);const I=({tabItems:e,isHeader:t})=>{const{pathname:a}=(0,l.useLocation)(),n=(0,l.useNavigate)(),o=e.find((({name:e})=>a.includes(e)));return r().createElement(O.Tabs,{className:t?"rbac-page-header__tabs":"",activeKey:o?o.eventKey:0,onSelect:(t,a)=>n(e[a].to)},e.map((e=>r().createElement(O.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name}))))};I.propTypes={tabItems:x().array.isRequired,isHeader:x().bool};const k=I;var _=a(84414),Z=a(13851),C=a(77044),N=a(64756),j=a(66180),B=a(82617),S=a(29301),T=a(75614),P=a(2550),w=a(14289),F=a(79083);const A=()=>{const e=(0,c.YB)(),t=(0,i.useDispatch)(),a=(0,_.Z)(),s=(0,l.useLocation)(),h=(0,l.useNavigationType)(),x=(0,o.Z)(),{groupId:O}=(0,l.useParams)(),I=O===T.Cn,A=x.isBeta()&&(0,F.useFlag)("platform.rbac.group-service-accounts")||!x.isBeta()&&(0,F.useFlag)("platform.rbac.group-service-accounts.stable"),M=[{eventKey:0,title:"Roles",name:w.Z["group-detail-roles"].link.replace(":groupId",O),to:"roles"},{eventKey:1,title:"Members",name:w.Z["group-detail-members"].link.replace(":groupId",O),to:"members"},...A?[{eventKey:2,title:"Service accounts",name:w.Z["group-detail-service-accounts"].link.replace(":groupId",O),to:"service-accounts"}]:[]],{pagination:D,filters:H,groupExists:L,systemGroupUuid:G}=(0,i.useSelector)((({groupReducer:{groups:e,error:t,systemGroup:a}})=>({pagination:e.pagination||e.meta,filters:e.filters,groupExists:t!==S.VG,systemGroupUuid:a?.uuid})),i.shallowEqual),{group:R,isGroupLoading:K}=(0,i.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({group:e,isGroupLoading:t})),i.shallowEqual),[V,U]=(0,n.useState)(!1),[W,q]=(0,n.useState)(!1),[z,Q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t((0,C.WD)({chrome:x}));const e=I?G:O;return e&&(t((0,C.yi)(e)),x.appObjectId(e)),()=>x.appObjectId(void 0)}),[O,G]);const $=()=>[{title:e.formatMessage(P.Z.groups),to:(0,S.zk)((0,N.n)(w.Z.groups.link),D,H)},L?{title:K?void 0:R.name,isActive:!0}:{title:e.formatMessage(P.Z.invalidGroup),isActive:!0}],X=[r().createElement(g.h,{component:r().createElement(N.Z,{onClick:()=>q(!1),to:(s.pathname.includes("members")?w.Z["group-members-edit-group"]:w.Z["group-roles-edit-group"]).link.replace(":groupId",I?T.Cn:O)},e.formatMessage(P.Z.edit)),key:"edit-group"}),r().createElement(g.h,{component:r().createElement(N.Z,{to:(s.pathname.includes("members")?w.Z["group-members-remove-group"]:w.Z["group-roles-remove-group"]).link.replace(":groupId",O)},e.formatMessage(P.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return r().createElement(n.Fragment,null,V&&r().createElement(y.Z,{isOpen:V,title:e.formatMessage(P.Z.restoreDefaultAccessQuestion),confirmButtonLabel:e.formatMessage(P.Z.continue),onClose:()=>U(!1),onConfirm:()=>{t((0,C.gg)([G])).then((()=>t((0,C.WD)({chrome:x})).then((()=>{Q(!1)})))),U(!1),a(w.Z["group-detail-roles"].link.replace(":groupId",T.Cn))}},r().createElement(c._H,{...P.Z.restoreDefaultAccessDescription,values:{b:e=>r().createElement("b",null,e)}})),L?r().createElement(n.Fragment,null,r().createElement(Z.Q,{breadcrumbs:$()},r().createElement(d.Split,{hasGutter:!0},r().createElement(d.SplitItem,{isFilled:!0},r().createElement(Z.y,{title:!K&&R?r().createElement(n.Fragment,null,R.platform_default&&!R.system?(Y=R.name,r().createElement("div",{style:{display:"inline-flex"}},Y,r().createElement("div",{className:"pf-v5-u-ml-sm"},r().createElement(p.Popover,{"aria-label":"default-group-icon",bodyContent:r().createElement(c._H,{...P.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon"}))))):R.name):void 0,description:!K&&R?.description||void 0})),R.platform_default&&!R.system?r().createElement(d.SplitItem,null,r().createElement("div",{className:"rbac-default-group-reset-btn"},r().createElement(f.Button,{variant:"link",onClick:()=>U(!0)},e.formatMessage(P.Z.restoreToDefault)),r().createElement(p.Popover,{"aria-label":"default-group-icon",position:p.PopoverPosition.bottomEnd,bodyContent:r().createElement(c._H,{...P.Z.restoreDefaultAccessInfo,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon pf-v5-u-mt-sm"})))):null,r().createElement(d.SplitItem,null,R.platform_default||R.admin_default?null:r().createElement(b.L,{ouiaId:"group-title-actions-dropdown",toggle:r().createElement(v.a,{onToggle:(e,t)=>q(t),id:"group-actions-dropdown"}),isOpen:W,isPlain:!0,position:"right",dropdownItems:X}))),z?r().createElement(u.Alert,{variant:"info",isInline:!0,title:e.formatMessage(P.Z.defaultAccessGroupChanged),action:r().createElement(u.AlertActionCloseButton,{onClose:()=>Q(!1)}),className:"pf-v5-u-mb-lg pf-v5-u-mt-sm"},r().createElement(c._H,{...P.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})):null),r().createElement(k,{isHeader:!0,tabItems:M}),r().createElement(l.Outlet,{context:{[w.Z["group-detail-roles"].path]:{onDefaultGroupChanged:Q},groupId:O,systemGroupUuid:G}}),!R&&r().createElement(E.Z,{numberOfColumns:1})):r().createElement(n.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(B.Z,{...$()})),r().createElement(j.Z,{title:e.formatMessage(P.Z.groupNotFound),description:[e.formatMessage(P.Z.groupDoesNotExist,{id:O})],actions:[r().createElement(f.Button,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>a("POP"!==h?-1:w.Z.groups.link)},e.formatMessage(P.Z.backToPreviousPage))]})));var Y}},70347:()=>{},25238:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/1453.1eaa81a0fa4dbdd6ba1979c283b29484.js.map