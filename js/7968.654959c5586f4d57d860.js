(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[7968],{85998:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var n=s(65353),a=s(66029),i=s(5964),r=s(75587),l=s(73699),c=s(41435),o=s(38296),m=s(62472);const p=e=>{var{id:t="",children:s=null,className:d="",isOpen:u=!1,parentRef:g=null,getMenuRef:b=null,isDisabled:f=!1,isPlain:h=!1,isText:v=!1,toggleVariant:y="default",isActive:E=!1,onToggle:A=((e,t)=>{}),icon:O=null,toggleIndicator:_=i.default,splitButtonItems:k,splitButtonVariant:I="checkbox","aria-haspopup":N,ouiaId:S,ouiaSafe:j,ref:P}=e,T=(0,n.__rest)(e,["id","children","className","isOpen","parentRef","getMenuRef","isDisabled","isPlain","isText","toggleVariant","isActive","onToggle","icon","toggleIndicator","splitButtonItems","splitButtonVariant","aria-haspopup","ouiaId","ouiaSafe","ref"]);const w=(0,m.useOUIAProps)(p.displayName,S,j),x=a.createElement(c.Dl.Consumer,null,(({toggleTextClass:e,toggleIndicatorClass:n,toggleIconClass:i})=>a.createElement(r.Z,Object.assign({},T,{id:t,className:d,isOpen:u,parentRef:g,getMenuRef:b,isActive:E,isDisabled:f,isPlain:h,isText:v,toggleVariant:y,onToggle:A,"aria-haspopup":N},w,k&&{isSplitButton:!0,"aria-label":T["aria-label"]||"Select"}),O&&a.createElement("span",{className:(0,o.css)(i)},O),s&&a.createElement("span",{className:_&&(0,o.css)(e)},s),_&&a.createElement("span",{className:(0,o.css)(!k&&n)},a.createElement(_,null)))));return k?a.createElement("div",{className:(0,o.css)(l.Z.dropdownToggle,l.Z.modifiers.splitButton,"action"===I&&l.Z.modifiers.action,"primary"===y&&"action"===I&&l.Z.modifiers.primary,"secondary"===y&&"action"===I&&l.Z.modifiers.secondary,f&&l.Z.modifiers.disabled)},k,x):x};p.displayName="DropdownToggle"},39173:(e,t,s)=>{"use strict";s.d(t,{Z:()=>m});var n=s(85893),a=s(94184),i=s.n(a),r=s(78956),l=s(6427),c=s(36530),o=function(){return o=Object.assign||function(e){for(var t,s=1,n=arguments.length;s<n;s++)for(var a in t=arguments[s])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};const m=function(e){var t=e.className,s=e.title,a=e.actionsContent,m=e.ouiaId,p=e.ouiaSafe,d=void 0===p||p,u=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(s[n[a]]=e[n[a]])}return s}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),g=i()(t),b="RHI/Header",f=(0,l.useOUIAId)(b,m,d);return(0,n.jsxs)(c.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,n.jsx)(c.FlexItem,{children:(0,n.jsx)(r.Title,o({headingLevel:"h1",size:"2xl",className:g,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":b,"data-ouia-component-id":f,"data-ouia-safe":d},u,{children:s}))}),a?(0,n.jsx)(c.FlexItem,{children:a}):null]})}},67968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>F});var n=s(66029),a=s.n(n),i=s(62012),r=s(79332),l=s(85998),c=s(85044),o=s(39173),m=s(55140),p=s(64380),d=s(15950),u=s(25387),g=s(45697),b=s.n(g),f=s(2550),h=s(78173),v=s(50247);const y=({isOrgAdmin:e,isUserAccessAdmin:t})=>{const s=(0,u.YB)(),n=s.formatMessage(f.Z[e?"orgAdministrator":"userAccessAdmin"]),i=a().createElement("span",null,s.formatMessage(f.Z[e?"orgAdminHint":"userAccessAdminHint"]));return e||t?a().createElement(v.Tooltip,{position:v.TooltipPosition.right,content:i},a().createElement(h.Label,{color:"purple"}," ",n," ")):a().createElement(a().Fragment,null)};y.propTypes={isOrgAdmin:b().bool,isUserAccessAdmin:b().bool};const E=y;var A=s(86601);const O=[{entitlement:"application_services",title:"Application Services",apps:{"Streams for Apache Kafka (beta)":"/","API Management (beta)":"/","Data Science (private beta)":"/"}},{entitlement:"openshift",title:"OpenShift",apps:{clusters:"/",advisor:"/insights/advisor",subscriptions:"/subscriptions","cost management":"/cost-management"},appsIds:["cost-management","subscriptions","ocp-advisor","ocm"]},{entitlement:"rhel",title:"Red Hat Enterprise Linux",apps:{advisor:"/advisor",compliance:"/compliance",drift:"/drift","image builder":"/image-builder",patch:"/patch",vulnerability:"/vulnerability",policies:"/policies",remediations:"/remediations",subscriptions:"/subscriptions",repositories:"/content",provisioning:"/provisioning",tasks:"/tasks"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance","inventory","notifications","image-builder","remediations","subscriptions","content-sources","provisioning","tasks"]},{entitlement:"ansible",title:"Ansible Automation Platform",apps:{"automation hub":"/automation-hub","automation services catalog":"/catalog",insights:"/automation-analytics"},appsIds:["catalog","approval","automation-analytics","automation-hub"]}];var _=s(9545),k=s(23539),I=s(72232),N=s(94184),S=s.n(N),j=s(79222),P=s(88094);const T=(...e)=>{const{search:t}=(0,i.useLocation)(),s=new URLSearchParams(t);return e.reduce(((e,t)=>({...e,[t]:s.get(t)})),{})},w=({header:e,entitlements:t,isDisabled:s})=>{const{bundle:n}=T("bundle");return a().createElement(a().Fragment,null,e&&a().createElement(I.Title,{headingLevel:"h3",size:"xl"},e),a().createElement(k.Stack,{className:S()({"pf-v5-u-mt-lg":!e}),hasGutter:!0},t&&O?.map((e=>{const r=t.find((([t])=>e.entitlement===t)),l=e.entitlement;return r?a().createElement(k.StackItem,{key:l,className:"rbac-c-mua-cardWrapper"},a().createElement(i.NavLink,{"aria-label":"card-link",className:S()("rbac-c-mua-bundles__cardlink",{"pf-v5-u-background-color-disabled-color-300":s}),to:{pathname:"",search:`bundle=${l}`}},a().createElement(P.Card,{key:e.title,isFlat:s||l!==n,isSelectable:!s,isSelected:!s&&l===n,className:S()({"pf-v5-u-background-color-disabled-color-300":s})},a().createElement(P.CardTitle,{className:"pf-v5-u-font-weight-light"}," ",e.title),a().createElement(P.CardBody,null,a().createElement(j.List,{className:"pf-v5-u-color-400 pf-v5-u-font-size-sm rbac-c-mua-bundles__card--applist",isPlain:!0},Object.entries(e.apps||{}).map((([e])=>a().createElement(j.ListItem,{key:e}," ",e," ")))))))):null}))))};w.propTypes={header:b().string,entitlements:b().array,isDisabled:b().bool};const x=w;var Z=s(75614);const U=()=>n.Fragment,C=()=>{const{bundle:e}=T("bundle"),t=(e=>{const{pathname:t}=(0,i.useLocation)(),s=(0,i.useNavigate)();return"string"==typeof e&&0!==e.length&&["application_services","openshift","rhel","ansible"].includes(e)?O.find((({entitlement:t})=>t===e))?.appsIds||[]:(s({to:t,search:`bundle=${e=Z.Jr}`},{replace:!0}),[])})(e),[r,l]=(0,n.useState)({});(0,n.useEffect)((()=>{Object.prototype.hasOwnProperty.call(r,e)||s(19289)(`./${e}`).then((t=>l((s=>({...s,[e]:t.default}))))).catch(console.log)}),[e]);const c=r[e]||U;return a().createElement(c,{key:e,apps:t})};var L=s(65655);const B=({entitlements:e,isOrgAdmin:t,isUserAccessAdmin:s})=>{const n=(0,u.YB)(),i=Object.entries(e).filter((([e,{is_entitled:t}])=>t&&"application_services"!==e)),{bundle:r}=T("bundle"),l=t||s;return a().createElement(L.Z.Provider,{value:l},a().createElement(_.Grid,null,a().createElement(_.GridItem,{className:"pf-m-3-col-on-md rbac-l-myUserAccess-section__cards rbac-m-hide-on-sm"},a().createElement(k.Stack,null,a().createElement(k.StackItem,{"data-testid":"entitle-section",className:"rbac-l-myUserAccess-section__cards--entitled"},a().createElement(x,{entitlements:i})))),a().createElement(_.GridItem,{className:"pf-m-9-col-on-md rbac-l-myUserAccess-section__table"},"application_services"!==r&&a().createElement(I.Title,{headingLevel:"h3",size:"xl"},n.formatMessage(l?f.Z.yourRoles:f.Z.yourPermissions,{name:O.find((({entitlement:e})=>e===r))?.title})),a().createElement(C,null))))};B.propTypes={entitlements:b().object,isOrgAdmin:b().bool,isUserAccessAdmin:b().bool};const M=B,F=()=>{const e=(0,u.YB)(),t=(0,m.Z)(),[s,g]=(0,n.useState)({}),[{bundle:b},h]=(0,i.useSearchParams)(),[v,y]=(0,n.useState)(b),{userAccessAdministrator:_}=(0,n.useContext)(A.Z);(0,n.useEffect)((()=>{t.auth.getUser().then((({identity:e,entitlements:t})=>g({entitlements:t,isOrgAdmin:e?.user?.is_org_admin}))),!b&&h({bundle:Z.Jr})}),[]);const k={...s.entitlements,application_services:{is_entitled:!0,is_trial:!1}},I=Object.entries(k).filter((([,{is_entitled:e}])=>e)),[N,S]=(0,n.useState)(!1);return a().createElement(a().Fragment,null,Object.prototype.hasOwnProperty.call(s,"entitlements")&&(Object.prototype.hasOwnProperty.call(s,"isOrgAdmin")||_)?a().createElement(a().Fragment,null,a().createElement(o.Z,{className:"rbac-p-myUserAccess--title sticky",title:a().createElement(a().Fragment,null,a().createElement("span",null," ",e.formatMessage(f.Z.myUserAccess)," "),a().createElement(E,{isOrgAdmin:s.isOrgAdmin,isUserAccessAdmin:_}))}),a().createElement(p.Text,{component:"p",className:"rbac-p-myUserAccess--subtitle"},e.formatMessage(f.Z.selectAppsToViewPermissions)),I&&a().createElement("div",{className:"rbac-p-myUserAccess--dropdown sticky"},a().createElement(r.L,{ouiaId:"mua-bundle-dropdown",toggle:a().createElement(l.Z,{onToggle:()=>S(!N),id:"mua-bundle-dropdown"},v||e.formatMessage(f.Z.chooseSubscriptionEllipsis)),dropdownItems:O.map((e=>a().createElement(i.NavLink,{key:e.entitlement,to:{pathname:"",search:`bundle=${e.entitlement}`}},a().createElement(c.h,{onClick:()=>{y(e.title),S(!1)},component:"button"},e.title)))),isOpen:N})),a().createElement("section",null,a().createElement(M,{entitlements:k,isOrgAdmin:s.isOrgAdmin,isUserAccessAdmin:_}))):a().createElement(d.Spinner,null))}},65655:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});const n=(0,s(66029).createContext)(!1)},19289:(e,t,s)=>{var n={"./MUABundles":[51796,1796],"./MUABundles.scss":[51796,1796],"./__mocks__/rhel":[9116,9116],"./__mocks__/rhel.js":[9116,9116],"./ansible":[47341,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,5600],"./ansible.js":[47341,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,5600],"./application_services":[60989,5376,989],"./application_services.js":[60989,5376,989],"./openshift":[93474,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,4225],"./openshift.js":[93474,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,4225],"./rhel":[93312,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,459],"./rhel.js":[93312,5182,6872,8971,9389,4444,3297,5376,8826,8847,4229,1943,1621,459]};function a(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(a)))}a.keys=()=>Object.keys(n),a.id=19289,e.exports=a}}]);
//# sourceMappingURL=../sourcemaps/7968.9ddf08d7c549a08bf1895943c8070d05.js.map