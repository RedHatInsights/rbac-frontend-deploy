(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[1486,5467],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(28416),r=a.n(n),o=a(80236),l=a(47173);const c=e=>{var{isOpen:t,onConfirm:a,onClose:n,children:c,confirmButtonLabel:s="Confirm",cancelButtonLabel:i="Cancel",variant:u=o.v.small,titleIconVariant:m="warning"}=e,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant"]);return r().createElement(o.u,Object.assign({variant:u,isOpen:t,onClose:n,onEscapePress:n,titleIconVariant:m,actions:[r().createElement(l.zx,{ouiaId:"primary-confirm-button",key:"confirm",variant:l.Wu.primary,onClick:a},s),r().createElement(l.zx,{ouiaId:"secondary-cancel-button",key:"cancel",variant:l.Wu.link,onClick:n},i)]},p),c)}},30120:(e,t,a)=>{"use strict";a.d(t,{a:()=>c});var n=a(65353),r=a(28416),o=a(62165),l=a(75587);const c=e=>{var{id:t="",children:a=null,className:c="",isOpen:s=!1,"aria-label":i="Actions",parentRef:u=null,getMenuRef:m=null,isActive:p=!1,isPlain:d=!1,isDisabled:f=!1,bubbleEvent:g=!1,onToggle:b=(()=>{}),ref:v}=e,E=(0,n.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(l.Z,Object.assign({id:t,className:c,isOpen:s,"aria-label":i,parentRef:u,getMenuRef:m,isActive:p,isPlain:d,isDisabled:f,onToggle:b,bubbleEvent:g},E),r.createElement(o.default,null))};c.displayName="KebabToggle"},99578:(e,t,a)=>{"use strict";a.d(t,{i:()=>c});var n=a(65353),r=a(44291),o=a(28416),l=a.n(o);const c=(0,o.forwardRef)((function(e,t){var{active:a=!0,paused:c=!1,focusTrapOptions:s={},preventScrollOnDeactivate:i=!1}=e,u=(0,n.__rest)(e,["active","paused","focusTrapOptions","preventScrollOnDeactivate"]);const m=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(()=>m.current));const p=(0,o.useRef)(null);(0,o.useEffect)((()=>{const e=(0,r.createFocusTrap)(m.current,Object.assign(Object.assign({},s),{returnFocusOnDeactivate:!1}));return p.current=e,()=>{e.deactivate()}}),[]),(0,o.useEffect)((()=>{const e=p.current;a?null==e||e.activate():null==e||e.deactivate()}),[a]),(0,o.useEffect)((()=>{const e=p.current;c?null==e||e.pause():null==e||e.unpause()}),[c]);const d=(0,o.useRef)("undefined"!=typeof document?document.activeElement:null);return function(e){const t=(0,o.useRef)(e);t.current=e,(0,o.useEffect)((()=>()=>{t.current()}),[])}((()=>{!1!==s.returnFocusOnDeactivate&&d.current instanceof HTMLElement&&d.current.focus({preventScroll:i})})),l().createElement("div",Object.assign({ref:m},u))}));c.displayName="FocusTrap"},62165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EllipsisVIcon:()=>o,EllipsisVIconConfig:()=>r,default:()=>l});var n=a(40400);const r={name:"EllipsisVIcon",height:512,width:192,svgPath:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z",yOffset:0,xOffset:0},o=(0,n.I)(r),l=o},24307:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>n});const n=(0,a(40400).I)({name:"TimesIcon",height:512,width:352,svgPath:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",yOffset:0,xOffset:0})},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(70347);const n={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(25238);const n={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},66042:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(87234);const n={bullseye:"pf-v5-l-bullseye"}},63456:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(85893),r=a(94184),o=a.n(r),l=a(28416);const c=a.n(l)().createContext("light");var s=function(){return s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const i=function(e){var t=e.className,a=e.children,r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children"]),l=o()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section");return(0,n.jsx)(c.Consumer,{children:function(e){var t,c;void 0===e&&(e="light");var i=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((c={})["pf-m-light"]="light"===e,c));return(0,n.jsx)("section",s({},r,{className:"".concat(l," ").concat(i),"widget-type":"InsightsPageHeader",children:a}))}})}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(62012),r=a(64756);const o=e=>{const t=(0,n.useNavigate)();return(a,n)=>t((0,r.n)(a,e),n)}},82617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(28416),r=a.n(n),o=a(45697),l=a.n(o),c=a(62012),s=a(75629),i=a(12849);const u=e=>e?r().createElement(s.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?r().createElement(s.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&r().createElement(c.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(i.Vj,{key:t})))):null;u.propTypes={breadcrumbs:l().object};const m=u},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(28416),r=a.n(n),o=a(95376),l=a(58826),c=a.n(l);const s=({title:e,icon:t,description:a,actions:n,...l})=>r().createElement(o.EmptyState,{variant:o.EmptyStateVariant.sm,...l},r().createElement(o.EmptyStateHeader,{titleText:r().createElement(r().Fragment,null,e),icon:r().createElement(o.EmptyStateIcon,{icon:t||c()}),headingLevel:"h4"}),r().createElement(o.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>r().createElement(r().Fragment,{key:t},e," ",r().createElement("br",null))))),r().createElement(o.EmptyStateFooter,null,n))},2086:(e,t,a)=>{"use strict";a.d(t,{Q:()=>d,y:()=>f});var n=a(28416),r=a.n(n),o=a(45697),l=a.n(o),c=a(64380),s=a(86304),i=a(12849),u=a(82617),m=a(63456),p=a(39173);const d=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(u.Z,{...t})),r().createElement(m.Z,{className:"rbac-page-header"},e));d.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},d.defaultProps={paddingBottom:!1};const f=({title:e,renderTitleTag:t,description:a,children:o})=>r().createElement(n.Fragment,null,r().createElement(s.Flex,null,r().createElement(s.FlexItem,{className:"pf-v5-u-mb-sm"},r().createElement(p.Z,{title:e||r().createElement(i.h2,null),className:"rbac-page-header__title"})),r().createElement(s.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(c.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(c.Text,{component:c.TextVariants.p},a):a),o);f.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},44474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var n=a(28416),r=a.n(n),o=a(55140),l=a(62012),c=a(86706),s=a(25387),i=a(1439),u=a.n(i),m=a(5904),p=a(78972),d=a(57043),f=a(31055),g=a(85044),b=a(79332),v=a(30120),E=a(55218),y=a(45697),h=a.n(y),O=a(91397);const _=({tabItems:e,isHeader:t})=>{const{pathname:a}=(0,l.useLocation)(),n=(0,l.useNavigate)(),o=e.find((({name:e})=>a.includes(e)));return r().createElement(O.Tabs,{className:t?"rbac-page-header__tabs":"",activeKey:o?o.eventKey:0,onSelect:(t,a)=>n(e[a].to)},e.map((e=>r().createElement(O.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name}))))};_.propTypes={tabItems:h().array.isRequired,isHeader:h().bool};const x=_;var Z=a(84414),I=a(2086),k=a(77044),T=a(12849),C=a(64756),N=a(66180),B=a(82617),S=a(29301),P=a(75614),j=a(2550),w=a(14289),F=a(65220);const M=()=>{const e=(0,s.YB)(),t=(0,c.useDispatch)(),a=(0,Z.Z)(),i=(0,l.useLocation)(),y=(0,o.Z)(),{groupId:h}=(0,l.useParams)(),O=h===P.Cn,_=(e=>{const{isBeta:t,getEnvironment:a}=(0,o.Z)(),n=(0,F.useFlag)("platform.rbac.group-service-accounts");return("prod"!==a()||!1!==t())&&n})(),M=[{eventKey:0,title:"Roles",name:w.Z["group-detail-roles"].link.replace(":groupId",h),to:"roles"},{eventKey:1,title:"Members",name:w.Z["group-detail-members"].link.replace(":groupId",h),to:"members"},..._?[{eventKey:2,title:"Service accounts",name:w.Z["group-detail-service-accounts"].link.replace(":groupId",h),to:"service-accounts"}]:[]],{pagination:D,filters:L,groupExists:A,systemGroupUuid:R}=(0,c.useSelector)((({groupReducer:{groups:e,error:t,systemGroup:a}})=>({pagination:e.pagination||e.meta,filters:e.filters,groupExists:t!==S.VG,systemGroupUuid:a?.uuid})),c.shallowEqual),{group:G,isGroupLoading:H}=(0,c.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({group:e,isGroupLoading:t})),c.shallowEqual),[V,K]=(0,n.useState)(!1),[z,W]=(0,n.useState)(!1),[q,Q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t((0,k.WD)({chrome:y}));const e=O?R:h;return e&&(t((0,k.yi)(e)),y.appObjectId(e)),()=>y.appObjectId(void 0)}),[h,R]);const U=()=>[{title:e.formatMessage(j.Z.groups),to:(0,S.zk)((0,C.n)(w.Z.groups.link),D,L)},A?{title:H?void 0:G.name,isActive:!0}:{title:e.formatMessage(j.Z.invalidGroup),isActive:!0}],Y=[r().createElement(g.h,{component:r().createElement(C.Z,{onClick:()=>W(!1),to:(i.pathname.includes("members")?w.Z["group-members-edit-group"]:w.Z["group-roles-edit-group"]).link.replace(":groupId",O?P.Cn:h)},e.formatMessage(j.Z.edit)),key:"edit-group"}),r().createElement(g.h,{component:r().createElement(C.Z,{to:(i.pathname.includes("members")?w.Z["group-members-remove-group"]:w.Z["group-roles-remove-group"]).link.replace(":groupId",h)},e.formatMessage(j.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return r().createElement(n.Fragment,null,V&&r().createElement(E.Z,{isOpen:V,title:e.formatMessage(j.Z.restoreDefaultAccessQuestion),confirmButtonLabel:e.formatMessage(j.Z.continue),onClose:()=>K(!1),onConfirm:()=>{t((0,k.gg)([R])).then((()=>t((0,k.WD)({chrome:y})).then((()=>{Q(!1)})))),K(!1),a(w.Z["group-detail-roles"].link.replace(":groupId",P.Cn))}},r().createElement(s._H,{...j.Z.restoreDefaultAccessDescription,values:{b:e=>r().createElement("b",null,e)}})),A?r().createElement(n.Fragment,null,r().createElement(I.Q,{breadcrumbs:U()},r().createElement(d.Split,{hasGutter:!0},r().createElement(d.SplitItem,{isFilled:!0},r().createElement(I.y,{title:!H&&G?r().createElement(n.Fragment,null,G.platform_default&&!G.system?(J=G.name,r().createElement("div",{style:{display:"inline-flex"}},J,r().createElement("div",{className:"pf-v5-u-ml-sm"},r().createElement(p.Popover,{"aria-label":"default-group-icon",bodyContent:r().createElement(s._H,{...j.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(u(),{className:"rbac-default-group-info-icon"}))))):G.name):void 0,description:!H&&G?.description||void 0})),G.platform_default&&!G.system?r().createElement(d.SplitItem,null,r().createElement("div",{className:"rbac-default-group-reset-btn"},r().createElement(f.Button,{variant:"link",onClick:()=>K(!0)},e.formatMessage(j.Z.restoreToDefault)),r().createElement(p.Popover,{"aria-label":"default-group-icon",position:p.PopoverPosition.bottomEnd,bodyContent:r().createElement(s._H,{...j.Z.restoreDefaultAccessInfo,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(u(),{className:"rbac-default-group-info-icon pf-v5-u-mt-sm"})))):null,r().createElement(d.SplitItem,null,G.platform_default||G.admin_default?null:r().createElement(b.L,{ouiaId:"group-title-actions-dropdown",toggle:r().createElement(v.a,{onToggle:(e,t)=>W(t),id:"group-actions-dropdown"}),isOpen:z,isPlain:!0,position:"right",dropdownItems:Y}))),q?r().createElement(m.Alert,{variant:"info",isInline:!0,title:e.formatMessage(j.Z.defaultAccessGroupChanged),action:r().createElement(m.AlertActionCloseButton,{onClose:()=>Q(!1)}),className:"pf-v5-u-mb-lg pf-v5-u-mt-sm"},r().createElement(s._H,{...j.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})):null),r().createElement(x,{isHeader:!0,tabItems:M}),r().createElement(l.Outlet,{context:{[w.Z["group-detail-roles"].path]:{onDefaultGroupChanged:Q},groupId:h,systemGroupUuid:R}}),!G&&r().createElement(T.Wi,null)):r().createElement(n.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(B.Z,{...U()})),r().createElement(N.Z,{title:e.formatMessage(j.Z.groupNotFound),description:[e.formatMessage(j.Z.groupDoesNotExist,{id:h})],actions:[r().createElement(f.Button,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>a(-1)},e.formatMessage(j.Z.backToPreviousPage))]})));var J}},45467:()=>{},70347:()=>{},30187:()=>{},25238:()=>{},49854:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/1486.7ea990132e4404309c79fa08187752b6.js.map