"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[3134,6710],{53926:(e,t,s)=>{s.d(t,{Lr:()=>n,cH:()=>i,nU:()=>a,rO:()=>o});var a,n,c=s(44914);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(n||(n={}));const o=c.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),i=c.createContext({keyHandler:null,sendRef:null})},6939:(e,t,s)=>{s.d(t,{q:()=>p,A:()=>A});var a=s(44914),n=s.n(a),c=s(94253),o=s(6442),i=s(42134),r=s(20881),l=s(63767),u=s(69733),d=s(38694),m=s(71966),g=s(40335);const f=({serviceAccountReducer:e})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset}),p=({selected:e,setSelected:t,groupId:s})=>{const{auth:p,getEnvironmentDetails:A}=(0,r.A)(),{serviceAccounts:v,status:C,limit:y,offset:k,isLoading:b}=(0,u.useSelector)(f),I=(0,u.useDispatch)(),M=(0,o.A)(),S=(0,a.useCallback)((async e=>{const t=A(),a=await p.getToken();var n;I((n={limit:e?.limit??y,offset:e?.offset??k,token:a,sso:t?.sso,groupId:s},{type:m.M1,payload:c.mx(n),meta:n}))}),[y,k]);(0,a.useEffect)((()=>{S({limit:y,offset:0})}),[]);const E=[{title:M.formatMessage(g.A.name),orderBy:"name"},{title:M.formatMessage(g.A.description),orderBy:"description"},{title:M.formatMessage(g.A.clientId),orderBy:"clientId"},{title:M.formatMessage(g.A.owner),orderBy:"owner"},{title:M.formatMessage(g.A.timeCreated),orderBy:"timeCreated"}];return n().createElement(d.Z,{className:"rbac-service-accounts-list",columns:E,isSelectable:!0,rows:(h=v,T=e,h?.reduce(((e,t)=>[...e,{uuid:t.uuid,title:t.name,cells:[t.name,t.description,t.clientId,t.createdBy,n().createElement(a.Fragment,{key:`${t.name}-modified`},n().createElement(l.A,{date:t.createdAt,type:(0,i.eW)(t.createdAt)}))],selected:Boolean(T&&T.find((e=>e.uuid===t.uuid)))||t.assignedToSelectedGroup,disableSelection:t.assignedToSelectedGroup}]),[])),data:v,fetchData:S,isLoading:b,pagination:{limit:y,offset:k,...C===c.jt?{count:k+v.length}:{}},paginationProps:{toggleTemplate:({firstIndex:e,lastIndex:t})=>n().createElement(n().Fragment,null,n().createElement("b",null,e," - ",t)," ","of ",n().createElement("b",null,C===c.jt?k+v.length:"many")),isCompact:!0},checkedRows:e,setCheckedItems:t,titlePlural:M.formatMessage(g.A.serviceAccounts).toLowerCase(),titleSingular:M.formatMessage(g.A.serviceAccount),emptyProps:{title:M.formatMessage(g.A.noServiceAccountsFound),description:[M.formatMessage(g.A.contactServiceTeamForAccounts),""]},tableId:"group-add-accounts",ouiaId:"group-add-accounts"});var h,T},A=p},23360:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(44914),n=s.n(a),c=s(6442),o=s(69733),i=s(62448),r=s(79994),l=s(20380),u=s(79300),d=s(40748),m=s(49634),g=s(58471),f=s(6939),p=s(47181),A=s(99843),v=s(40335);const C=({serviceAccountReducer:e,groupReducer:{systemGroup:t}})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset,systemGroupUuid:t?.uuid}),y=({postMethod:e})=>{const t=(0,c.A)(),s=(0,o.useDispatch)(),{groupId:y}=(0,m.useParams)(),[k,b]=(0,a.useState)([]),{systemGroupUuid:I}=(0,o.useSelector)(C),M=()=>{e()};return n().createElement(l.Modal,{isOpen:!0,className:"rbac",variant:l.ModalVariant.medium,title:t.formatMessage(v.A.addServiceAccount),actions:[n().createElement(r.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===k.length,variant:"primary",onClick:()=>{const t=(0,A.Px)(y===p.p3?I:y,k);s(t),e(t.payload)}},t.formatMessage(v.A.addToGroup)),n().createElement(r.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:M},t.formatMessage(v.A.cancel))],onClose:M},n().createElement(u.Stack,{hasGutter:!0},n().createElement(u.StackItem,null,n().createElement(d.TextContent,null,t.formatMessage(v.A.addServiceAccountsToGroupDescription),n().createElement(i.Alert,{className:"pf-v5-u-mt-sm rbac-service-accounts-alert",variant:"info",component:"span",isInline:!0,isPlain:!0,title:t.formatMessage(v.A.visitServiceAccountsPage,{link:n().createElement(g.A,{to:"/service-accounts",linkBasename:"/iam"},t.formatMessage(v.A.serviceAccountsPage))})}))),n().createElement(u.StackItem,{className:"rbac-add-service-account-modal"},n().createElement(f.q,{selected:k,setSelected:b,groupId:y===p.p3?I:y}))))}}}]);
//# sourceMappingURL=../sourcemaps/3134.391cbd96698a9b2ef46eeea8c5aba36f.js.map