(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{496:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return b})),n.d(t,"f",(function(){return y})),n.d(t,"c",(function(){return g}));var r=n(182),a=n.n(r),i=n(7),o=n.n(i),c=n(493),s=n.n(c),l=n(464);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},f=function(e){return Object.entries(e).reduce((function(e,t){var n=s()(t,2),r=n[0],a=n[1];return p(p({},e),a&&o()({},r,a))}),{})},m=n.n(l)()((function(e){return e()})),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0!==e.length&&e.every((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))}))||!(0===e.length||!e.some((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))})))&&null},y=function(e,t){return function(n){return t?[].concat(a()(n),a()(e)).filter((function(e,t,n){return n.findIndex((function(t){var n=t.uuid;return e.uuid===n}))===t})):n.filter((function(t){return!e.find((function(e){return e.uuid===t.uuid}))}))}},g=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},497:function(e,t,n){"use strict";n.d(t,"f",(function(){return q})),n.d(t,"e",(function(){return G})),n.d(t,"a",(function(){return N})),n.d(t,"l",(function(){return A})),n.d(t,"i",(function(){return M})),n.d(t,"b",(function(){return z})),n.d(t,"j",(function(){return J})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return W})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return K})),n.d(t,"k",(function(){return Q}));var r=n(10),a=n(505),i=n.n(a),o=n(7),c=n.n(o),s=n(493),l=n.n(s),u=n(506),p=n.n(u),d=n(504);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(d.a)();function y(e){return g.apply(this,arguments)}function g(){return(g=p()(i.a.mark((function e(t){var n,r,a,o,c,s,u,p,d,f,y,g,h,v,O;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,a=t.name,o=t.nameMatch,c=t.scope,s=t.username,u=t.uuid,p=t.roleNames,d=t.roleDiscriminator,f=t.orderBy,y=t.options,e.next=3,Promise.all([b.listGroups(n,r,a,o,c,s,u,p,d,f,y),insights.chrome.auth.getUser()]);case 3:return g=e.sent,h=l()(g,2),v=h[0],O=h[1],e.abrupt("return",m(m({},v),O));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return w.apply(this,arguments)}function w(){return(w=p()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=b.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=b.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return T.apply(this,arguments)}function T(){return(T=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return b.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return k.apply(this,arguments)}function k(){return(k=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return S.apply(this,arguments)}function S(){return(S=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return C.apply(this,arguments)}function C(){return(C=p()(i.a.mark((function e(t,n,r){var a,o,c,s,l,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.limit,o=r.offset,c=r.name,s=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,b.listRolesForGroup(t,n,c,s,a,o,void 0,l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return _.apply(this,arguments)}function _(){return(_=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return L.apply(this,arguments)}function L(){return(L=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return V.apply(this,arguments)}function V(){return(V=p()(i.a.mark((function e(t,n){var r,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,b.getPrincipalsFromGroup(t,n,void 0,{query:m({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.g,payload:y(e)}},G=function(e){return{type:r.f,payload:h(e)}},N=function(e){return{type:r.a,payload:j(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",dismissDelay:8e3,dismissable:!1,description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",dismissDelay:8e3,dismissable:!1,description:"The group was not added successfuly."}}}}},A=function(e){return{type:r.w,payload:O(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},M=function(e){return{type:r.r,payload:x(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},z=function(e,t){return{type:r.b,payload:R(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},J=function(e,t){return{type:r.s,payload:P(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},U=function(e,t,n){return{type:r.m,payload:D(e,!1,t,n)}},W=function(e,t,n){return{type:r.i,payload:B(e,t,n)}},H=function(e,t,n){return{type:r.e,payload:D(e,!0,t,n)}},K=function(e,t){return{type:r.d,payload:F(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},Q=function(e,t){return{type:r.u,payload:I(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},498:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r=n(63),a=n.n(r),i=n(7),o=n.n(i),c=n(493),s=n.n(c),l=n(0),u=n.n(l),p=n(13),d=n.n(p),f=n(25),m=n(243),b=n(241),y=n(467),g=n(37),h=n(187),v=n(466),O=n(77),E=n(468),j=n.n(E),w=n(496),x=n(182),T=n.n(x),P=n(465),k=n(278),R=n(34);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return D(D({},e),{},{itemCount:e.count,perPage:e.limit,page:Object(w.d)(e.limit,e.offset),onSetPage:function(a,i){t(D(D({},e),{},{offset:(i-1)*e.limit,name:n,orderBy:r}))},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50}],onPerPageSelect:function(a,i){t(D(D({},e),{},{offset:0,limit:i,name:n,orderBy:r}))}})},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{count:t.length,items:[{title:"Select none (0)",onClick:function(){n((function(){return[]}))}},D({},!e&&r&&r.length>0?{title:"Select page (".concat(r.length,")"),onClick:function(){n(Object(w.f)(r,!0))}}:{})],checked:Object(w.a)(r,t),onSelect:function(t){!e&&n(Object(w.f)(r,t))}}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;return{items:[].concat(T()(l&&l.length>0?l.map((function(r){var i=r.key,c=r.value,s=r.placeholder,p=r.type,d=void 0===p?"text":p,f=r.items;return{label:Object(w.c)(i),type:d,filterValues:{id:"filter-by-".concat(i),key:"filter-by-".concat(i),placeholder:s||"Filter by ".concat(i),value:c,items:f,onChange:function(e,r){t(D(D({},a),{},o()({offset:0},i,r))),Object(w.b)((function(){return n(D(D(D({},a),{},{offset:0,orderBy:u},l.reduce((function(e,t){return D(D({},e),{},o()({},t.key,t.value))}),{})),{},o()({},i,r)))}))},isDisabled:e}}})):[{label:Object(w.c)(c||i),type:"text",filterValues:{id:"filter-by-string",key:"filter-by-string",placeholder:"Filter by ".concat(c||i),value:r,onChange:function(e,r){t(D(D({},a),{},{offset:0,name:r})),Object(w.b)((function(){return n(D(D({},a),{},{offset:0,name:r,orderBy:u}))}))},isDisabled:e}}]),T()(s||[]))}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=arguments.length>5?arguments[5]:void 0;return{filters:t&&t.length>0?t.map((function(e){var t=e.key,n=e.value;return 0!==n.length&&{category:Object(w.c)(t),type:t,chips:Array.isArray(n)?n.map((function(e){return{name:e}})):[{name:n}]}})).filter(Boolean):[{name:e}],onDelete:function(e,c,l){var u=s()(c,1)[0];r(D(D({},n),{},{offset:0,name:""},t?t.reduce((function(e,t){var n=t.key,r=t.value,a=t.type;return D(D({},e),{},o()({},n,function(e,t){return l?"checkbox"===t?[]:"":"checkbox"===t?e.filter((function(e){return e!==u.chips[0].name})):""}(r,a)))}),{}):{name:""})),a(D(D({},n),{},{offset:0,orderBy:i},t?t.reduce((function(e,t){var n=t.key,r=t.value;return D(D({},e),{},o()({},n,u.type===n||l?"":r))}),{}):{name:""}))}}},L=function(e){var t=e.isSelectable,n=e.checkedRows,r=e.setCheckedItems,i=e.isLoading,o=e.data,c=e.titleSingular,s=e.filterValue,l=e.setFilterValue,p=e.pagination,d=e.fetchData,f=e.sortBy,m=e.toolbarButtons,b=e.filterPlaceholder,y=e.filterItems,g=e.filters,h=e.hideFilterChips;return u.a.createElement(P.PrimaryToolbar,a()({},t&&{bulkSelect:I(i,n,r,o)},{filterConfig:_(i,l,d,s,p,c,b,y,g,f),actionsConfig:{actions:m()}},!i&&{pagination:C(p,d,s,f)},(s.length>0||g&&g.length>0)&&!h&&{activeFiltersConfig:F(s,g,p,l,d,f)}))};L.propTypes={isSelectable:d.a.bool,checkedRows:d.a.array,setCheckedItems:d.a.func,isLoading:d.a.bool,data:d.a.array,titleSingular:d.a.string,filterValue:d.a.oneOfType([d.a.array,d.a.string]),setFilterValue:d.a.func,filters:d.a.arrayOf(d.a.shape({value:d.a.oneOfType([d.a.string,d.a.number,d.a.array]),key:d.a.string,placeholder:d.a.string})),pagination:d.a.shape({limit:d.a.number,offset:d.a.number,count:d.a.number}),sortBy:d.a.string,filterItems:k.ConditionalFilter.propTypes.items,filterPlaceholder:d.a.string,isCollapsible:d.a.bool,fetchData:d.a.func,toolbarButtons:d.a.func,hideFilterChips:d.a.bool},L.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:R.b,setCheckedItems:function(){},setFilterValue:function(){},sortBy:void 0,fetchData:function(){},toolbarButtons:function(){return[]},filterItems:[],filters:[],hideFilterChips:!1};var B=L,V=n(78),q=n.n(V),G=n(79),N=n(64),A=n(191),M=n(190),z=n(188),J=n.n(z),U=function(e){var t=e.title,n=e.icon,r=e.description,i=e.actions,o=q()(e,["title","icon","description","actions"]);return u.a.createElement(G.EmptyState,a()({variant:G.EmptyStateVariant.full},o),u.a.createElement(M.EmptyStateIcon,{icon:n||J.a}),u.a.createElement(N.Title,{headingLevel:"h5",size:"lg"},t),u.a.createElement(A.EmptyStateBody,null,r.map((function(e,t){return u.a.createElement(u.a.Fragment,{key:t},e," ",u.a.createElement("br",null))}))),i)};U.propTypes={icon:d.a.func,title:d.a.node,description:d.a.node,actions:d.a.arrayOf(d.a.node),className:d.a.string};var W=U;n(515);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){var t=e.isCompact,n=e.createRows,r=e.borders,i=e.columns,c=e.toolbarButtons,p=e.data,d=e.actionResolver,E=e.areActionsDisabled,x=e.routes,T=e.titlePlural,P=e.titleSingular,k=e.pagination,R=e.filterValue,S=e.isLoading,D=e.setFilterValue,I=e.checkedRows,_=e.isSelectable,F=e.fetchData,L=e.setCheckedItems,V=e.isCollapsible,q=e.emptyProps,G=e.filterPlaceholder,N=e.rowWrapper,A=e.filters,M=e.sortBy,z=e.isExpandable,J=e.onExpand,U=e.hideFilterChips,H=Object(l.useState)({}),Q=s()(H,2),X=Q[0],Y=Q[1],Z=Object(l.useState)({index:void 0,direction:void 0}),$=s()(Z,2),ee=$[0],te=$[1];Object(l.useEffect)((function(){te(K(K({},M),void 0!==ee.index&&ee))}),[M]);var ne=n(p,X,I),re=function(e,t,n,r){var a=r.uuid;return Y((function(e){return K(K({},e),{},o()({},a,n))}))};return u.a.createElement(l.Fragment,null,x(),!S&&0===ne.length&&0===R.length&&A.every((function(e){return!e.value}))?u.a.createElement(W,a()({title:"Configure ".concat(T),icon:j.a,description:["To configure user access to applications","create at least one ".concat(P)],actions:c()[0]},q)):u.a.createElement(l.Fragment,null,u.a.createElement(B,{isSelectable:_,checkedRows:I,setCheckedItems:L,isLoading:S,data:p,titleSingular:P,filterValue:R,setFilterValue:D,sortBy:void 0!==ee.index&&ee.index-_>=0&&"".concat("desc"===ee.direction?"-":"").concat(i[ee.index-_].key)||void 0,pagination:k,fetchData:F,toolbarButtons:c,filterPlaceholder:G,filters:A,hideFilterChips:U}),S?u.a.createElement(O.d,null):u.a.createElement(f.b,a()({canSelectAll:!1,"aria-label":"".concat(T," table"),variant:t?f.e.compact:null,borders:r},V&&{onCollapse:re},_&&ne.length>0&&{onSelect:function(e,t,n,r){var a=r.uuid,i=s()(r.cells,1)[0];return L(Object(w.f)([{uuid:a,name:i}],t))}},z&&{onExpand:J},{rows:ne.length>0?ne:[{fullWidth:!0,cells:[{title:u.a.createElement(W,{title:"No matching ".concat(T," found"),description:["This filter criteria matches no ".concat(T,"."),"Try changing your filter settings."],actions:[u.a.createElement(v.EmptyStatePrimary,{key:"clear-filters"},u.a.createElement(g.Button,{variant:"link",onClick:function(){D(K(K({},k),{},{offset:0,name:""})),F(K(K({},k),{},{offset:0,name:""}))}},"Clear all filters"))]}),props:{colSpan:i.length+Boolean(re)}}]}],cells:i},ne.length>0&&{actionResolver:d},{areActionsDisabled:E,rowWrapper:N,sortBy:ee,onSort:function(e,t,n){te({index:t,direction:n}),F(K(K({},k),{},{offset:0,name:R,orderBy:"".concat("desc"===n?"-":"").concat(i[t-_].key)}))}}),u.a.createElement(m.a,null),u.a.createElement(b.a,null)),!k.noBottom&&u.a.createElement(y.TableToolbar,null,!S&&u.a.createElement(h.Pagination,a()({},C(k,F,R),{variant:"bottom",dropDirection:"up"})))))};Q.propTypes=K(K({},B.propTypes),{},{rowWrapper:d.a.any,isCompact:d.a.bool,borders:d.a.bool,createRows:d.a.func.isRequired,columns:d.a.array.isRequired,titlePlural:d.a.string,routes:d.a.func,actionResolver:d.a.func,areActionsDisabled:d.a.func,pagination:d.a.shape({noBottom:d.a.bool}),isExpandable:d.a.bool,onExpand:d.a.func,hideFilterChips:d.a.bool}),Q.defaultProps=K(K({},B.defaultProps),{},{isCompact:!1,borders:!0,routes:function(){return null},hideFilterChips:!1})},499:function(e,t,n){(t=n(5)(!1)).push([e.i,".pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item{min-width:5rem}\n",""]),e.exports=t},500:function(e,t,n){(t=n(5)(!1)).push([e.i,".ins-rbac-page-header__title{display:block}.ins-rbac-page-header__title+.ins-rbac-page-header__description{margin-top:8px}\n",""]),e.exports=t},501:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return R}));var r=n(10),a=n(7),i=n.n(a),o=n(505),c=n.n(o),s=n(506),l=n.n(s),u=n(504);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(u.c)();function m(e){return b.apply(this,arguments)}function b(){return(b=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.limit,n=e.offset,r=e.name,a=e.nameMatch,i=e.scope,o=e.orderBy,c=e.addFields,s=e.username,l=e.options;return f.listRoles(t,n,r,a,i,o,c,s,l)}function g(e){return h.apply(this,arguments)}function h(){return(h=l()(c.a.mark((function e(t){var n,r,a,i,o,s,l,u,p,m,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,a=t.name,i=t.nameMatch,o=t.scope,s=void 0===o?"account":o,l=t.orderBy,u=t.addFields,p=void 0===u?["groups_in_count"]:u,m=t.username,b=t.options,e.t0=d,e.t1=d,e.t2={},e.next=6,f.listRoles(n,r,a,i,s,l,p,m,b);case 6:return e.t3=e.sent,e.t4=(0,e.t1)(e.t2,e.t3),e.next=10,insights.chrome.auth.getUser();case 10:return e.t5=e.sent,e.abrupt("return",(0,e.t0)(e.t4,e.t5));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return O.apply(this,arguments)}function O(){return(O=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return j.apply(this,arguments)}function j(){return(j=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return{type:r.c,payload:m(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",dismissDelay:8e3,dismissable:!1,description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",dismissDelay:8e3,dismissable:!1,description:"The role was not added successfuly."}}}}},x=function(e){return{type:r.k,payload:v(e)}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.l,payload:y(e)}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.l,payload:g(e)}},k=function(e){return{type:r.t,payload:E(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",dismissDelay:8e3,dismissable:!1,description:"The role was removed successfully."}}}}},R=function(e){return{type:r.o,payload:v(e)}}},503:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=n(271),s=n(272),l=n(472),u=n(473),p=n(77),d=n(76),f=n(469),m=n(470),b=function(e){return e?a.a.createElement(f.Breadcrumb,null,Object.values(e).map((function(e){return e.title?a.a.createElement(m.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a.a.createElement(d.c,{exact:!0,to:e.to},e.title)||e.title):a.a.createElement(p.b,null)}))):null};b.propTypes={breadcrumbs:o.a.object};var y=b,g=n(471),h=(n(517),function(e){var t=e.children,n=e.breadcrumbs;return a.a.createElement(r.Fragment,null,n&&a.a.createElement("section",{className:"pf-c-page__main-breadcrumb"},a.a.createElement(y,n)),a.a.createElement(g.PageHeader,{className:"ins-rbac-page-header"},t))});h.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},h.defaultProps={paddingBottom:!1};var v=function(e){var t=e.title,n=e.renderTitleTag,i=e.description,o=e.children;return a.a.createElement(r.Fragment,null,a.a.createElement(l.Flex,null,a.a.createElement(u.FlexItem,{spaceItems:{modifier:"spaceItemsSm"}},a.a.createElement(g.PageHeaderTitle,{title:t||a.a.createElement(p.e,null),className:"ins-rbac-page-header__title"})),a.a.createElement(u.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},n&&n())),i&&a.a.createElement(s.TextContent,{className:"ins-rbac-page-header__description"},a.a.createElement(c.Text,{component:c.TextVariants.p},i)),o)};v.propTypes={title:o.a.string,renderTitleTag:o.a.func,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}},504:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n(460),a=n.n(r),i=n(459),o=new i.PrincipalApi(void 0,"/api/rbac/v1",a.a),c=new i.GroupApi(void 0,"/api/rbac/v1",a.a),s=new i.RoleApi(void 0,"/api/rbac/v1",a.a);new i.PolicyApi(void 0,"/api/rbac/v1",a.a),new i.AccessApi(void 0,"/api/rbac/v1",a.a);function l(){return o}function u(){return c}function p(){return s}},507:function(e,t,n){(t=n(5)(!1)).push([e.i,".ins-c-wizard__cancel-warning-header{display:flex;align-items:center}.ins-c-wizard__cancel-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""]),e.exports=t},508:function(e,t,n){(t=n(5)(!1)).push([e.i,".ins-m-wizard__hidden{display:none}\n",""]),e.exports=t},509:function(e,t,n){(t=n(5)(!1)).push([e.i,".ins-c-role__permissions .pf-c-content{padding-bottom:var(--pf-global--spacer--lg)}\n",""]),e.exports=t},515:function(e,t,n){var r=n(6),a=n(499);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i);if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(499,(function(){"string"==typeof(a=(a=n(499)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.locals)?(c=a.locals,o(a)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=a.locals||{}},517:function(e,t,n){var r=n(6),a=n(500);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i);if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(500,(function(){"string"==typeof(a=(a=n(500)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.locals)?(c=a.locals,o(a)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=a.locals||{}},527:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),i=n(13),o=n.n(i),c=n(275),s=n(37),l=n(276),u=n.n(l),p=(n(528),function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,i=e.onConfirmCancel;return a.a.createElement(c.Modal,{title:a.a.createElement("span",{className:"ins-c-wizard__cancel-warning-header"},a.a.createElement(u.a,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),"Exit ",t," creation?"),variant:c.ModalVariant.small,className:"ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[a.a.createElement(s.Button,{key:"confirm",variant:"primary",onClick:i},"Exit"),a.a.createElement(s.Button,{key:"cancel",variant:"link",onClick:r},"Stay")],isFooterLeftAligned:!0},a.a.createElement("span",null," All inputs will be discarded."))});p.propTypes={type:o.a.string,isOpen:o.a.bool,onModalCancel:o.a.func,onConfirmCancel:o.a.func}},528:function(e,t,n){var r=n(6),a=n(507);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i);if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(507,(function(){"string"==typeof(a=(a=n(507)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.locals)?(c=a.locals,o(a)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=a.locals||{}},529:function(e,t,n){var r=n(6),a=n(508);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i);if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(508,(function(){"string"==typeof(a=(a=n(508)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.locals)?(c=a.locals,o(a)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=a.locals||{}},540:function(e,t,n){var r=n(6),a=n(509);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i);if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(509,(function(){"string"==typeof(a=(a=n(509)).__esModule?a.default:a)&&(a=[[e.i,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,a.locals)?(c=a.locals,o(a)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=a.locals||{}},543:function(e,t,n){"use strict";var r=n(182),a=n.n(r),i=n(7),o=n.n(i),c=n(0),s=n.n(c),l=n(14),u=n(53),p=n(501),d=n(503),f=n(77),m=n(493),b=n.n(m),y=n(272),g=n(271),h=n(498),v=n(456),O=function(e){return e.reduce((function(e,t){var n=t.permission,r=t.modified,i=n.split(":"),o=b()(i,3),l=o[0],u=o[1],p=o[2];return[].concat(a()(e),[{cells:[l,u,p,s.a.createElement(c.Fragment,{key:"".concat(l,"-modified")},s.a.createElement(v.DateFormat,{date:r,type:"relative"}))]}])}),[])},E=n(228),j=(n(540),n(34));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Last commit",transforms:[Object(E.a)(15)]}],P=function(){var e=Object(c.useState)({pagination:x(x({},j.b),{},{filter:""})}),t=b()(e,2),n=t[0],r=t[1],a=Object(u.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),u.shallowEqual),i=a.role,o=a.isRecordLoading,l=n.pagination,p=n.filter;Object(c.useEffect)((function(){r(x(x({},n),{},{pagination:x(x({},n.pagination),{},{count:i.access?i.access.length:0})}))}),[i]);var d=i&&i.access?(i.access||[]).filter((function(e){var t=e.permission;return"*"!==t&&!p||t.includes(p)})).map((function(e){return x(x({},e),{},{modified:i.modified})})):[];return s.a.createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},s.a.createElement(y.TextContent,null,s.a.createElement(g.Text,{component:g.TextVariants.h1},"Permissions")),s.a.createElement(h.a,{columns:T,createRows:O,data:d.slice(l.offset,l.offset+l.limit),filterValue:p,fetchData:function(e){var t=e.limit,a=e.offset,i=e.name;return r(x(x({},n),{},{filter:i,pagination:x(x({},n.pagination),{},{limit:t,offset:a})}))},setFilterValue:function(e){var t=e.name;return r(x(x({},n),{},{filter:t}))},isLoading:o,pagination:x(x({},l),{},{count:d.length}),titlePlural:"permissions",titleSingular:"permission"}))},k=n(497);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(){var e=Object(l.h)(),t=e.uuid,n=e.groupUuid,r=Object(u.useSelector)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},n&&{group:e.groupReducer.selectedGroup})}),u.shallowEqual),i=r.role,m=r.group,b=r.isRecordLoading,y=Object(u.useDispatch)();return Object(c.useEffect)((function(){y(Object(p.b)(t)),n&&y(Object(k.e)(n))}),[t,n]),s.a.createElement(c.Fragment,null,s.a.createElement(d.a,{breadcrumbs:[n?{title:"Groups",to:"/groups"}:{title:"Roles",to:"/roles"}].concat(a()(n?[{title:m&&m.name,to:"/groups/detail/".concat(n,"/roles"),isLoading:m&&m.loaded}]:[]),[{title:i&&i.name,isActive:!0}])},s.a.createElement(d.b,{title:!b&&i?i.name:void 0,description:!b&&i?i.description:void 0})),b||!i?s.a.createElement(f.d,null):s.a.createElement(P,null))}},617:function(e,t,n){"use strict";n.r(t);var r=n(7),a=n.n(r),i=n(493),o=n.n(i),c=n(0),s=n.n(c),l=n(53),u=n(14),p=n(76),d=n(228),f=n(227),m=n(37),b=n(454),y=n(455),g=n(182),h=n.n(g),v=n(456),O=function(e){return e.reduce((function(e,t){var n=t.uuid,r=t.name,a=t.description,i=t.system,o=t.accessCount,l=t.groups_in_count,u=t.modified;return[].concat(h()(e),[{uuid:n,system:i,cells:[s.a.createElement(c.Fragment,{key:"".concat(n,"-name")},s.a.createElement(p.b,{to:"/roles/detail/".concat(n)},r)),a,s.a.createElement(c.Fragment,{key:"".concat(n,"-accessCount")},s.a.createElement(p.b,{to:"/roles/detail/".concat(n)},o)),l,s.a.createElement(c.Fragment,{key:"".concat(n,"-modified")},s.a.createElement(v.DateFormat,{date:u,type:"relative"}))]}])}),[])},E=n(496),j=n(501),w=n(503),x=n(498),T=n(505),P=n.n(T),k=n(506),R=n.n(k),S=n(184),D=n(13),C=n.n(D),I=n(474),_=n(183),F=n(271),L=n(272),B=n(476),V=n(477),q=n(64),G=n(25),N=n(243),A=n(241),M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.resourceDefinitions,a=void 0===r?[]:r,i=[{title:"Key"},{title:"Operation"},{title:"value"},""],o=a.map((function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:n?s.a.createElement(m.Button,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}}));return s.a.createElement(G.b,{"aria-label":"Resource definitions",cells:i,rows:o,variant:G.e.compact},s.a.createElement(N.a,null),s.a.createElement(A.a,null))};M.propTypes={resourceDefinitions:C.a.arrayOf(C.a.shape({key:C.a.number.isRequired,operation:C.a.number.isRequired,value:C.a.number.isRequired}))};var z=M,J=function(e){var t=e.application,n=void 0===t?"":t,r=e.description,a=void 0===r?"":r,i=e.name,o=void 0===i?"":i,c=e.permission,l=void 0===c?"":c,u=e.resourceType,p=void 0===u?"":u;return s.a.createElement(b.Stack,{hasGutter:!0},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{headingLevel:"h4",size:"xl"},"Confirm details")),s.a.createElement(y.StackItem,null,s.a.createElement(b.Stack,{hasGutter:!0},s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h5},"Confirm the details for your source, or click Back to revise"))),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(B.TextList,{component:B.TextListVariants.dl},s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Name"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},o),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Description"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},a),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Application"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},n),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Resource type"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},p),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Operation"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},l),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Resource definition"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},new z(e))))))))};J.propTypes={application:C.a.string,description:C.a.string,name:C.a.string,permission:C.a.string,resourceType:C.a.string};var U=J,W=n(185),H=n(110),K=n(111);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=function(e,t){var n=Object(c.useState)({key:"",operation:"",value:""}),r=o()(n,2),a=r[0],i=r[1],l=e.resourceDefinitions,u=void 0===l?[]:l,p=function(){for(var e=!1,t=0;t<u.length;t++){var n=u[t];if(n.key===a.key&&n.operation===a.operation&&n.value===a.value){e=!0;break}}return e},d=!p()&&a.key.trim().length>0&&a.operation.trim().length>0&&a.value.trim().length>0,f=function(e){i(X(X({},a),e))};return s.a.createElement(b.Stack,{hasGutter:!0},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{headingLevel:"h4",size:"xl"},"Resource definitions")),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Key",fieldId:"resource-key"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return f({key:t.currentTarget.value})},type:"text",value:a.key})),s.a.createElement(H.FormGroup,{label:"Operation",fieldId:"resource-operation"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return f({operation:t.currentTarget.value})},type:"text",value:a.operation})),s.a.createElement(H.FormGroup,{label:"Value",fieldId:"resource-value"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return f({value:t.currentTarget.value})},type:"text",value:a.value})))),s.a.createElement(y.StackItem,null,s.a.createElement(m.Button,{variant:"primary",isDisabled:!d,onClick:function(){if(!p()){var e=[].concat(h()(u),[a]);t({resourceDefinitions:e})}}},"Add to definitions")),s.a.createElement(y.StackItem,null,new z(e,(function(e){for(var n=[],r=0;r<u.length;r++){var a=u[r];a.key===e.key&&a.operation===e.operation&&a.value===e.value||n.push(a)}t({resourceDefinitions:n})}),!0)))};Y.propTypes={resourceDefinitions:C.a.arrayOf(C.a.shape({key:C.a.number.isRequired,operation:C.a.number.isRequired,value:C.a.number.isRequired}))};var Z=Y,$=n(463),ee=function(e,t){var n=e.description,r=void 0===n?"":n,a=e.name,i=void 0===a?"":a;return s.a.createElement(b.Stack,{hasGutter:!0},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{headingLevel:"h4",size:"xl"},"Name and description")),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Name",isRequired:!0,fieldId:"name"},s.a.createElement(K.TextInput,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,n){return t({name:n.currentTarget.value},n.currentTarget.value.trim().length>0)}})),s.a.createElement(H.FormGroup,{label:"Description",fieldId:"description"},s.a.createElement($.TextArea,{type:"text",id:"description",name:"description",value:r,onChange:function(e,n){return t({description:n.currentTarget.value},!0)}})))))};ee.propTypes={name:C.a.string,description:C.a.string};var te=ee;function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var re=function(e,t){var n=e.application,r=void 0===n?"":n,i=e.permission,o=void 0===i?"":i,c=e.resourceType,l=void 0===c?"":c,u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({application:r,permission:o,resourceType:l},e)},p=function(e){var n=u(e),r=n.application.trim().length>0&&n.permission.trim().length>0&&n.resourceType.trim().length>0;t(n,r)};return s.a.createElement(b.Stack,{hasGutter:!0},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{headingLevel:"h4",size:"xl"},"Permission")),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Application",isRequired:!0,fieldId:"application"},s.a.createElement(K.TextInput,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return p({application:t.currentTarget.value})},type:"text",value:r})),s.a.createElement(H.FormGroup,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return p({resourceType:t.currentTarget.value})},type:"text",value:l})),s.a.createElement(H.FormGroup,{label:"Permission",isRequired:!0,fieldId:"permission"},s.a.createElement(K.TextInput,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return p({permission:t.currentTarget.value})},type:"text",value:o})))))};re.propTypes={application:C.a.string,permission:C.a.string,resourceType:C.a.string};var ae=re,ie=n(527);n(529);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){var t=e.addNotification,n=e.createRole,r=e.history.push,a=e.pagination,i=Object(c.useState)({}),l=o()(i,2),u=l[0],p=l[1],d=Object(c.useState)(!1),f=o()(d,2),m=f[0],b=f[1],y=Object(c.useState)(!1),g=o()(y,2),h=g[0],v=g[1],O=Object(c.useState)(1),E=o()(O,2),w=E[0],x=E[1],T=function(e){p(ce(ce({},u),e))},k=[{id:1,name:"Name and Description",canJumpTo:w>=1,component:new te(u,(function(e,t){T(e),b(t)})),enableNext:m},{id:2,name:"Permission",canJumpTo:w>=2&&m,component:new ae(u,(function(e,t){T(e),v(t)})),enableNext:h},{id:3,name:"Resource definitions",canJumpTo:w>=3&&m&&h,component:new Z(u,T)},{id:4,name:"Review",canJumpTo:w>=4&&m&&h,component:new U(u),nextButtonText:"Confirm"}],S=function(){var e=R()(P.a.mark((function e(){var t,i;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[u.application],description:u.description,name:u.name,access:[{permission:"".concat(u.application,":").concat(u.resourceType,":").concat(u.permission),resourceDefinitions:u.resourceDefinitions.map((function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}}))}]},e.next=3,n(t);case 3:return i=e.sent,Object(j.d)(a).then(r("/roles")),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){t({variant:"warning",title:"Creating role was canceled by the user",dismissDelay:8e3,dismissable:!1}),r("/roles")},C=Object(c.useState)(!1),_=o()(C,2),F=_[0],L=_[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(I.Wizard,{className:F&&"ins-m-wizard__hidden",title:"Add role",isOpen:!0,onClose:function(){!Object.values(u).filter(Boolean).length>0&&D()||L(!0)},onNext:function(e){var t=e.id;x(w<t?t:w)},onSave:S,steps:k}),s.a.createElement(ie.a,{type:"role",isOpen:F,onModalCancel:function(){return L(!1)},onConfirmCancel:D}))};se.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},se.propTypes={history:C.a.shape({goBack:C.a.func.isRequired,push:C.a.func.isRequired}).isRequired,addNotification:C.a.func.isRequired,createRole:C.a.func.isRequired,fetchRoles:C.a.func.isRequired,inputValue:C.a.string,pagination:C.a.shape({limit:C.a.number.isRequired,offset:C.a.number.isRequired,count:C.a.number.isRequired})};var le=Object(u.j)(Object(l.connect)((function(e){var t=e.roleReducer,n=t.roles,r=t.filterValue,a=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:a,searchFilter:r}}),(function(e){return Object(S.a)({addNotification:_.addNotification,createRole:j.a,fetchRoles:j.d},e)}))(se)),ue=n(275),pe=n(461),de=n(462),fe=n(77),me=function(e){var t=e.history,n=t.goBack,r=t.push,a=e.match.params.id,i=e.removeRole,o=e.role,l=e.isLoading,u=e.fetchRole,p=e.postMethod;Object(c.useEffect)((function(){u(a)}),[]);var d=function(){return n()};return s.a.createElement(ue.Modal,{isOpen:!0,variant:ue.ModalVariant.small,title:"",onClose:d,actions:[s.a.createElement(m.Button,{key:"cancel",variant:"secondary",type:"button",onClick:d},"Cancel"),s.a.createElement(m.Button,{key:"submit",isDisabled:l,variant:"primary",type:"button",onClick:function(){return i(a).then((function(){p(),r("/roles")}))}},"Confirm")]},s.a.createElement(pe.Grid,{gutter:"sm"},s.a.createElement(de.GridItem,{span:5},s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h1},"Removing Role:"))),s.a.createElement(de.GridItem,{span:6},s.a.createElement(L.TextContent,null,!l&&s.a.createElement(F.Text,{component:F.TextVariants.h1},o.name)),l&&s.a.createElement(fe.c,null))))};me.defaultProps={role:{},isLoading:!0},me.propTypes={addNotification:C.a.func.isRequired,fetchRole:C.a.func.isRequired,isLoading:C.a.bool,history:C.a.shape({goBack:C.a.func.isRequired,push:C.a.func.isRequired}).isRequired,match:C.a.shape({params:C.a.shape({id:C.a.string}).isRequired}).isRequired,postMethod:C.a.func,removeRole:C.a.func.isRequired,role:C.a.object};var be=Object(u.j)(Object(l.connect)((function(e){var t=e.roleReducer,n=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:n.meta}}),(function(e){return Object(S.a)({addNotification:_.addNotification,fetchRole:j.b,removeRole:j.f},e)}))(me)),ye=n(457),ge=n(543);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe=[{title:"Name",key:"name",transforms:[Object(d.a)(20),f.a]},{title:"Description"},{title:"Permissions",transforms:[Object(d.a)(5)]},{title:"Groups",transforms:[Object(d.a)(5)]},{title:"Last modified",key:"modified",transforms:[Object(d.a)(10),f.a]}],Ee=function(e){var t=e.roleReducer,n=t.roles,r=t.isLoading;return{roles:n.data,pagination:n.meta,userIdentity:n.identity,userEntitlements:n.entitlements,isLoading:r}};t.default=function(){var e=Object(c.useState)(""),t=o()(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=o()(a,2),d=i[0],f=i[1],g=Object(l.useDispatch)(),h=Object(u.g)().push,v=Object(l.useSelector)(Ee,l.shallowEqual),T=v.roles,P=v.isLoading,k=v.pagination,R=v.userIdentity,S=v.userEntitlements,D=function(e){return g(Object(j.e)(e))};Object(c.useEffect)((function(){insights.chrome.appNavClick({id:"roles",secondaryNav:!0}),D(ve(ve({},k),{},{name:n})),window.insights.chrome.getUserPermissions("cost-management").then((function(e){var t=e.map((function(e){return e.permission}));f(t.includes("cost-management:*:*"))}))}),[]);var C=function(){return s.a.createElement(c.Fragment,null,s.a.createElement(u.b,{exact:!0,path:"/roles/add-role",component:le}),s.a.createElement(u.b,{exact:!0,path:"/roles/remove/:id"},s.a.createElement(be,{postMethod:function(){D(),r("")}})))},I=function(e){var t=e.system,n=insights.chrome.isBeta()&&R&&R.user&&R.user.is_org_admin;return t||!n?[]:[{title:"Delete",onClick:function(e,t,n){return h("/roles/remove/".concat(n.uuid))}}]},_=function(){return[s.a.createElement(c.Fragment,{key:"add-role"},S&&S.cost_management&&window.insights.chrome.isBeta()&&d?s.a.createElement(p.b,{to:"/roles/add-role"},s.a.createElement(m.Button,{variant:"primary","aria-label":"Create role"},"Create role")):s.a.createElement(c.Fragment,null))]};return s.a.createElement(u.d,null,s.a.createElement(u.b,{path:"/roles/detail/:uuid",render:function(e){return s.a.createElement(ge.a,e)}}),s.a.createElement(u.b,{path:"/roles",render:function(){return s.a.createElement(b.Stack,null,s.a.createElement(y.StackItem,null,s.a.createElement(w.a,null,s.a.createElement(w.b,{title:"Roles"}))),s.a.createElement(y.StackItem,null,s.a.createElement(ye.Section,{type:"content",id:"tab-roles"},s.a.createElement(x.a,{actionResolver:I,columns:Oe,createRows:O,data:T,filterValue:n,fetchData:function(e){return D(Object(E.e)(e))},setFilterValue:function(e){var t=e.name;return r(t)},isLoading:P,pagination:k,routes:C,titlePlural:"roles",titleSingular:"role",toolbarButtons:_,filterPlaceholder:"name"}))))}}))}}}]);
//# sourceMappingURL=8.js.map