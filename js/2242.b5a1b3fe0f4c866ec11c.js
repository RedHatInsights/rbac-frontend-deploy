(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[2242,459],{55218:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var a=o(66029),n=o.n(a),r=o(80236),i=o(47173),l=o(93149);const s=e=>{var{isOpen:t,onConfirm:o,onClose:s,children:c,confirmButtonLabel:u="Confirm",cancelButtonLabel:d="Cancel",variant:f=r.v.small,titleIconVariant:m="warning",withCheckbox:p=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=i.Wu.primary,ouiaId:h="WarningModal"}=e,y=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(o[a[n]]=e[a[n]])}return o}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[I,C]=(0,a.useState)(!1);return n().createElement(r.u,Object.assign({variant:f,isOpen:t,onClose:s,onEscapePress:s,titleIconVariant:m,actions:[n().createElement(i.zx,{ouiaId:`${h}-confirm-button`,key:"confirm",variant:b,onClick:()=>{null==o||o(),C(!1)},isDisabled:p&&!I},u),n().createElement(i.zx,{ouiaId:`${h}-cancel-button`,key:"cancel",variant:i.Wu.link,onClick:s},d)],ouiaId:h},y),c,p?n().createElement(l.X,{isChecked:I,onChange:(e,t)=>C(t),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${h}-confirm-checkbox`}):null)}},41435:(e,t,o)=>{"use strict";o.d(t,{Dl:()=>i,dw:()=>n,e4:()=>l,ir:()=>a});var a,n,r=o(66029);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(n||(n={}));const i=r.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),l=r.createContext({keyHandler:null,sendRef:null})},19993:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a}),o(70347);const a={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>a}),o(25238);const a={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},60817:function(e,t,o){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)},n=this&&this.__rest||function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(o[a[n]]=e[a[n]])}return o},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Portal=t.NotificationPortal=t.NotificationPortalBase=void 0;var i=o(85893),l=o(86706),s=r(o(72837)),c=o(53446),u=o(79206);t.NotificationPortalBase=function(e){var t=e.clearNotifications,o=n(e,["clearNotifications"]),r=(0,l.useSelector)((function(e){return e.notifications})),u=(0,l.useDispatch)();return(0,i.jsx)(s.default,a({notifications:r,removeNotification:function(e){return u((0,c.removeNotification)(e))},onClearAll:t||function(){return u((0,c.clearNotifications)())}},o))},t.NotificationPortal=function(e){var o=e.silent,r=void 0===o||o,l=n(e,["silent"]);return(0,i.jsx)(u.ErrorBoundary,{headerTitle:"Notifications portal",silent:r,children:(0,i.jsx)(t.NotificationPortalBase,a({},l))})};var d=o(72837);Object.defineProperty(t,"Portal",{enumerable:!0,get:function(){return r(d).default}}),t.default=t.NotificationPortal},72871:function(e,t,o){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,o,a){void 0===a&&(a=o);var n=Object.getOwnPropertyDescriptor(t,o);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[o]}}),Object.defineProperty(e,a,n)}:function(e,t,o,a){void 0===a&&(a=o),e[a]=t[o]}),n=this&&this.__exportStar||function(e,t){for(var o in e)"default"===o||Object.prototype.hasOwnProperty.call(t,o)||a(t,e,o)},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(60817);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}}),n(o(60817),t)},71355:function(e,t,o){"use strict";var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.notificationsMiddleware=t.clearNotifications=t.removeNotification=t.addNotification=t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=t.notificationsReducers=t.notifications=t.NotificationsPortal=void 0;var n=o(72871);Object.defineProperty(t,"NotificationsPortal",{enumerable:!0,get:function(){return a(n).default}});var r=o(24778);Object.defineProperty(t,"notifications",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(t,"notificationsReducers",{enumerable:!0,get:function(){return r.notificationsReducers}});var i=o(68129);Object.defineProperty(t,"ADD_NOTIFICATION",{enumerable:!0,get:function(){return i.ADD_NOTIFICATION}}),Object.defineProperty(t,"REMOVE_NOTIFICATION",{enumerable:!0,get:function(){return i.REMOVE_NOTIFICATION}}),Object.defineProperty(t,"CLEAR_NOTIFICATIONS",{enumerable:!0,get:function(){return i.CLEAR_NOTIFICATIONS}});var l=o(53446);Object.defineProperty(t,"addNotification",{enumerable:!0,get:function(){return l.addNotification}}),Object.defineProperty(t,"removeNotification",{enumerable:!0,get:function(){return l.removeNotification}}),Object.defineProperty(t,"clearNotifications",{enumerable:!0,get:function(){return l.clearNotifications}});var s=o(84885);Object.defineProperty(t,"notificationsMiddleware",{enumerable:!0,get:function(){return a(s).default}})},68129:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CLEAR_NOTIFICATIONS=t.REMOVE_NOTIFICATION=t.ADD_NOTIFICATION=void 0;var o="@@INSIGHTS-CORE/NOTIFICATIONS/";t.ADD_NOTIFICATION="".concat(o,"ADD_NOTIFICATION"),t.REMOVE_NOTIFICATION="".concat(o,"REMOVE_NOTIFICATION"),t.CLEAR_NOTIFICATIONS="".concat(o,"CLEAR_NOTIFICATIONS"),t.default={ADD_NOTIFICATION:t.ADD_NOTIFICATION,REMOVE_NOTIFICATION:t.REMOVE_NOTIFICATION,CLEAR_NOTIFICATIONS:t.CLEAR_NOTIFICATIONS}},53446:function(e,t,o){"use strict";var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var n in t=arguments[o])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.clearNotifications=t.removeNotification=t.addNotification=void 0;var n=o(68129);t.addNotification=function(e){return{type:n.ADD_NOTIFICATION,payload:a({id:("notification","cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2))},e)}},t.removeNotification=function(e){return{type:n.REMOVE_NOTIFICATION,payload:e}},t.clearNotifications=function(){return{type:n.CLEAR_NOTIFICATIONS}},t.default={addNotification:t.addNotification,removeNotification:t.removeNotification,clearNotifications:t.clearNotifications}},24778:function(e,t,o){"use strict";var a=this&&this.__spreadArray||function(e,t,o){if(o||2===arguments.length)for(var a,n=0,r=t.length;n<r;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.notifications=t.notificationsReducers=t.defaultState=void 0;var n=o(68129);t.defaultState=[],t.notificationsReducers=function(e,o){switch(void 0===e&&(e=t.defaultState),o.type){case n.ADD_NOTIFICATION:return r=e,i=o.payload,a(a([],r,!0),[i],!1);case n.REMOVE_NOTIFICATION:return function(e,t){var o=t.payload,n=e.findIndex((function(e){return e.id===o}));return a(a([],e.slice(0,n),!0),e.slice(n+1),!0)}(e,o);case n.CLEAR_NOTIFICATIONS:return[];default:return e}var r,i},t.notifications=t.notificationsReducers,t.default=t.notifications},79206:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ErrorBoundary:()=>a.Z,default:()=>a.Z}),o(27351);var a=o(49314)},84414:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});var a=o(62012),n=o(64756);const r=e=>{const t=(0,a.useNavigate)();return(o,a)=>t((0,n.n)(o,e),a)}},66180:(e,t,o)=>{"use strict";o.d(t,{Z:()=>s});var a=o(66029),n=o.n(a),r=o(95376),i=o(58826),l=o.n(i);const s=({title:e,icon:t,description:o,actions:a,...i})=>n().createElement(r.EmptyState,{variant:r.EmptyStateVariant.sm,...i},n().createElement(r.EmptyStateHeader,{titleText:n().createElement(n().Fragment,null,e),icon:n().createElement(r.EmptyStateIcon,{icon:t||l()}),headingLevel:"h4"}),n().createElement(r.EmptyStateBody,{className:"pf-v5-u-mb-md"},o.map(((e,t)=>n().createElement(n().Fragment,{key:t},e," ",n().createElement("br",null))))),n().createElement(r.EmptyStateFooter,null,a))},97246:(e,t,o)=>{"use strict";o.d(t,{M:()=>E});var a=o(66029),n=o.n(a),r=o(25387),i=o(45697),l=o.n(i),s=o(2550),c=o(79083),u=o(75863),d=o(21081),f=o(49004),m=o(34844),p=o(15433),g=o(12913),b=o(31055),h=o(93297),y=o(95376),I=o(47826),C=o.n(I),O=o(29301),v=o(68572),N=o(66180);const E=({className:e,isCompact:t,borders:o,columns:i,rows:l,toolbarButtons:I,data:E,actionResolver:T,areActionsDisabled:_,routes:R,titlePlural:S,titleSingular:k,pagination:x,paginationProps:A,filterValue:F,isLoading:P,emptyFilters:M,setFilterValue:B,checkedRows:w,isSelectable:D,isRowSelectable:Z,fetchData:j,setCheckedItems:L,emptyProps:V,filterPlaceholder:G,rowWrapper:$,filters:q,isFilterable:W,onShowMore:H,showMoreTitle:z,onFilter:Y,onChange:U,value:K,sortBy:Q,onSort:X,isExpandable:J,onExpand:ee,hideFilterChips:te,hideHeader:oe,noData:ae,noDataDescription:ne,ouiaId:re,tableId:ie,containerRef:le,textFilterRef:se,toolbarChildren:ce})=>{const ue=(0,r.YB)(),de=(0,c.useFlag)("platform.rbac.itless");return n().createElement("div",{className:e},R(),!P&&0===l?.length&&0===F?.length&&q.every((({value:e})=>!e))?n().createElement(N.Z,{title:ue.formatMessage(s.Z.configureItems,{items:S}),icon:C(),description:[ue.formatMessage(s.Z.toConfigureUserAccess),ue.formatMessage(s.Z.createAtLeastOneItem,{item:k})],actions:I()[0],...V}):(()=>{const e=`${"desc"===Q?.direction?"-":""}${i[Q?.index]?.key}`;return n().createElement(a.Fragment,null,n().createElement(v.ZP,{isSelectable:D,isRowSelectable:Z,checkedRows:w,setCheckedItems:L,isLoading:P||ae,data:E,titleSingular:k,filterValue:F,setFilterValue:B,sortBy:e,pagination:x,paginationProps:A,fetchData:j,toolbarButtons:I,filterPlaceholder:G,filters:q,isFilterable:W,onShowMore:H,showMoreTitle:z,onFilter:Y,onChange:U,value:K,hideFilterChips:te,tableId:ie,containerRef:le,textFilterRef:se,toolbarChildren:ce}),P?n().createElement(g.Z,{variant:t?u.B.compact:void 0,rows:x?.limit,columns:i.map((e=>e.title))}):n().createElement(d.i,{canSelectAll:!1,"aria-label":`${S.toLowerCase()} table`,variant:t?u.B.compact:null,borders:o,...D&&l?.length>0&&{onSelect:(e,t,o,{uuid:a,cells:[n],requires:r})=>L((0,O.ZQ)([{uuid:a,name:n,requires:r,...de&&{username:E[o]?.username}}],t))},...J&&{onExpand:ee},rows:l?.length>0?l:[{fullWidth:!0,cells:[{title:n().createElement(N.Z,{title:ue.formatMessage(s.Z.noMatchingItemsFound,{items:S}),description:ae&&ne?ne:[ue.formatMessage(s.Z.filterMatchesNoItems,{items:S}),ue.formatMessage(s.Z.tryChangingFilters)],actions:ae&&ne?void 0:[n().createElement(y.EmptyStateActions,{key:"clear-filters"},n().createElement(b.Button,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{B(M),j({...x,offset:0,...M||{name:""}})}},ue.formatMessage(s.Z.clearAllFilters)))]}),props:{colSpan:i.length}}]}],cells:i,...l?.length>0&&{actionResolver:T},className:0==l?.length?"ins-c-table-empty-state":"",areActionsDisabled:_,rowWrapper:$,sortBy:Q,ouiaId:re,onSort:(e,t,o,a)=>X(e,t,o,a)},!oe&&n().createElement(f.x,null),n().createElement(m.R,null)),!x.noBottom&&n().createElement(p.Z,null,!P&&n().createElement(h.Pagination,{...(0,v.Wz)(x,j,F,Q,A),variant:"bottom",dropDirection:"up"})))})())};E.propTypes={...v.ZP.propTypes,sortBy:l().shape({directions:l().string,index:l().number}),className:l().string,rowWrapper:l().any,isCompact:l().bool,isRowSelectable:l().func,borders:l().bool,emptyFilters:l().object,checkedRows:l().array,columns:l().array.isRequired,rows:l().array.isRequired,titlePlural:l().string,routes:l().func,actionResolver:l().func,areActionsDisabled:l().func,pagination:l().shape({noBottom:l().bool,limit:l().number,offset:l().number,count:l().number}),paginationProps:l().shape({toggleTemplate:l().func,isCompact:l().bool}),isExpandable:l().bool,onExpand:l().func,onSort:l().func,containerRef:l().node,noData:l().bool,hideFilterChips:l().bool,hideHeader:l().bool,noDataDescription:l().arrayOf(l().node),filters:l().array,tableId:l().string.isRequired,toolbarChildren:l().func},E.defaultProps={...v.ZP.defaultProps,emptyFilters:{},isCompact:!1,borders:!0,routes:()=>null,hideFilterChips:!1,checkedRows:[],hideHeader:!1,toolbarChildren:()=>null}},68572:(e,t,o)=>{"use strict";o.d(t,{Wz:()=>m,ZP:()=>y});var a=o(66029),n=o.n(a),r=o(31611),i=o(25387),l=o(45697),s=o.n(l),c=o(2550),u=o(96486),d=o(29301),f=o(74982);const m=(e={},t,o="",a="",n)=>({...n,itemCount:e.count,perPage:e.limit,page:(0,f.wy)(e.limit,e.offset),onSetPage:(n,r)=>{t({...e,offset:(0,f.vE)(r,e.limit),name:o,orderBy:a})},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}],onPerPageSelect:(e,n)=>{t({offset:0,limit:n,name:o,orderBy:a})}}),p=(e,t=[],o=(()=>{}),a=[],n,r=(()=>!0))=>{const l=(0,i.YB)();return{count:t.length,items:[{title:l.formatMessage(c.Z.selectNone),onClick:()=>{o((()=>[]))}},{...!e&&a&&a.length>0?{title:l.formatMessage(c.Z.selectPage,{length:a.filter(r).length}),onClick:()=>{o((0,d.ZQ)(a,!0))}}:{}}],checked:(0,d.um)(a,t,r),onSelect:t=>{!e&&o((0,d.ZQ)(a,t))},id:n}},g=(e,t=(()=>{}),o=(()=>{}),a="",n={},r="",l,s,f,m,p,g,b,h,y,I,C)=>{const O=(0,i.YB)();return{onChange:h,value:y,items:[...f&&f.length>0?f.map((({key:r,label:i,value:l,selected:s,placeholder:h,type:y="text",groups:C,items:v,innerRef:N})=>({label:i||(0,d.RI)(r),type:y??"text",filterValues:{innerRef:N,id:`filter-by-${r}`,key:`filter-by-${r}`,placeholder:h||O.formatMessage(c.Z.filterByKey,{key:r}),value:l,selected:s,..."text"!==y?{isFilterable:m,onShowMore:p,showMoreTitle:g,onFilter:b}:{},groups:C,items:v,onChange:(e,i)=>{const l="string"==typeof i||Array.isArray(i)?i:Object.keys((0,u.pickBy)(i[""],(e=>e)));t({...a,...n,offset:0,[r]:l}),(0,d.Aq)((()=>o({...n,offset:0,orderBy:I,...f.reduce(((e,t)=>({...e,[t.key]:t.value})),{}),[r]:l}))).then((e=>(N?.current?.focus(),e)))},isDisabled:e}}))):[{label:(0,d.RI)(l||r),type:"text",filterValues:{innerRef:C,id:"filter-by-string",key:"filter-by-string",placeholder:O.formatMessage(c.Z.filterByKey,{key:l||r}),value:a,onChange:(e,a)=>{t({...n,offset:0,name:a}),(0,d.Aq)((()=>o({...n,offset:0,name:a,orderBy:I}))).then((e=>(C?.current?.focus(),e)))},isDisabled:e}}],...s||[]]}},b=(e="",t,o={},a=(()=>{}),n=(()=>{}),r)=>({filters:t&&t.length>0?t.map((({key:e,value:t})=>t&&0!==t.length&&{category:(0,d.RI)(e),type:e,chips:Array.isArray(t)?t.map((e=>({name:e}))):[{name:t}]})).filter(Boolean):[{name:e}],onDelete:(e,[i],l)=>{const s=(e,t,o)=>l?"group"===t||"checkbox"===t?[]:"":o!==i.type?e:"checkbox"===t||"group"===t?e.filter((e=>e!==i.chips[0]?.name)):Array.isArray(e)?[]:"",c=t.reduce(((e,{key:t,value:o,type:a})=>({...e,[t]:s(o,a,t)})),{});a({...o,offset:0,name:"",...c}),n({...o,offset:0,orderBy:r,name:"",...c})}}),h=({isSelectable:e,isRowSelectable:t,checkedRows:o,setCheckedItems:a,isLoading:i,data:l,titleSingular:s,filterValue:c,setFilterValue:u,pagination:d,paginationProps:f,fetchData:h,sortBy:y,toolbarButtons:I,filterPlaceholder:C,filterItems:O,filters:v,isFilterable:N,onShowMore:E,showMoreTitle:T,onFilter:_,onChange:R,value:S,hideFilterChips:k,tableId:x,textFilterRef:A,toolbarChildren:F})=>n().createElement(r.Z,{...e&&{bulkSelect:p(i,o,a,l,x,t)},filterConfig:g(i,u,h,c,d,s,C,O,v,N,E,T,_,R,S,y,A),actionsConfig:{actions:I()},...!i&&{pagination:m(d,h,c,y,f)},...(c.length>0||v&&v.length>0)&&!k&&{activeFiltersConfig:b(c,v,d,u,h,y)}},F());h.propTypes={isSelectable:s().bool,isRowSelectable:s().func,checkedRows:s().array,setCheckedItems:s().func,isLoading:s().bool,data:s().array,titleSingular:s().string,filterValue:s().oneOfType([s().array,s().string]),setFilterValue:s().func,filters:s().arrayOf(s().shape({value:s().oneOfType([s().string,s().number,s().array]),key:s().string,placeholder:s().string})),isFilterable:s().bool,onShowMore:s().func,showMoreTitle:s().string,onFilter:s().func,onChange:s().func,value:s().any,pagination:s().shape({limit:s().number,offset:s().number,count:s().number}),paginationProps:s().shape({toggleTemplate:s().func,isCompact:s().bool}),sortBy:s().string,filterItems:s().arrayOf(s().object),filterPlaceholder:s().string,isCollapsible:s().bool,fetchData:s().func.isRequired,toolbarButtons:s().func,hideFilterChips:s().bool,tableId:s().string,textFilterRef:s().object,toolbarChildren:s().func},h.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:f.he,setCheckedItems:()=>{},setFilterValue:()=>{},sortBy:void 0,toolbarButtons:()=>[],filterItems:[],filters:[],isFilterable:!1,hideFilterChips:!1,toolbarChildren:()=>null};const y=h},87285:(e,t,o)=>{"use strict";o.d(t,{Z:()=>y});var a=o(66029),n=o.n(a),r=o(45697),i=o.n(r),l=o(25387),s=o(86706),c=o(7732),u=o(55140),d=o(74982),f=o(29301),m=o(97246),p=o(13563),g=o(77044),b=o(2550);const h=({selectedRoles:e,setSelectedRoles:t,rolesExcluded:o,groupId:r})=>{const i=(0,l.YB)(),h=(0,u.Z)(),y=(0,s.useDispatch)(),I=(0,a.useRef)(null),{roles:C,pagination:O,isLoading:v,groupId:N,filters:E}=(0,s.useSelector)(o?({groupReducer:{selectedGroup:{addRoles:{roles:e,pagination:t,loaded:o},uuid:a}}})=>({roles:e,pagination:t||{...d.eX,count:e?.length},isLoading:!o,groupId:r||a}):({roleReducer:{roles:e,isLoading:t}})=>({roles:e.data,pagination:e.meta,isLoading:t,filters:e.filters}),s.shallowEqual),{current:T}=(0,a.useRef)([{title:i.formatMessage(b.Z.name),key:"display_name",...o?{orderBy:"name"}:{transforms:[c.p]}},{title:i.formatMessage(b.Z.description)}]),[_,R]=(0,a.useState)(""),[S,k]=(0,a.useState)({index:1,direction:"asc"}),x=(0,a.useCallback)(((e,t)=>y(o?(0,g.nr)(e,t):(0,p.Kt)((0,f.jl)({...t,chrome:h})))),[o]),A=`${"desc"===S?.direction?"-":""}${T[S?.index].key}`,F=((e,t=[])=>e?e.reduce(((e,{uuid:o,display_name:a,name:n,description:r})=>[...e,{uuid:o,cells:[a||n,r],selected:Boolean(t&&t.find((e=>e.uuid===o)))}]),[]):[])(C,e);return(0,a.useEffect)((()=>{x(N,{...O,orderBy:A})}),[]),n().createElement(m.M,{isSelectable:!0,isCompact:!0,borders:!1,columns:T,rows:F,sortBy:S,onSort:(e,t,o,a)=>{const n=`${"desc"===o?"-":""}${T[a?t-1:t].key}`;k({index:t,direction:o}),((e,t)=>{const{name:o,count:a,limit:n,offset:r,orderBy:i}=t;x(e,(0,f.jl)({count:a,limit:n,offset:r,orderBy:i,filters:{display_name:o}}))})(N,{...O,offset:0,orderBy:n,...E?.length>0?{...E.reduce(((e,t)=>({...e,[t.key]:t.value})),{})}:{name:_}})},data:C,filterValue:_,filterPlaceholder:i.formatMessage(b.Z.roleName).toLowerCase(),fetchData:e=>x(N,{...e,filters:{display_name:e.name}}),setFilterValue:({name:e})=>R(e),isLoading:v,ouiaId:"roles-table",pagination:O,checkedRows:e,setCheckedItems:e=>{t((t=>e(t).map((({uuid:e,name:t,label:o})=>({uuid:e,label:o||t})))))},titlePlural:i.formatMessage(b.Z.roles).toLowerCase(),titleSingular:i.formatMessage(b.Z.role),tableId:"roles-list",textFilterRef:I})};h.propTypes={canSort:i().bool,setSelectedRoles:i().func.isRequired,selectedRoles:i().array,rolesExcluded:i().bool.isRequired,groupId:i().string},h.defaultProps={roles:[],pagination:d.eX,canSort:!0};const y=h},58105:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>N});var a=o(66029),n=o.n(a),r=o(45697),i=o.n(r),l=o(25387),s=o(5904),c=o(31055),u=o(94229),d=o(23539),f=o(72232),m=o(62012),p=o(86706),g=o(32819),b=o(71355),h=o(77044),y=o(84414),I=o(87285),C=o(5839),O=o(2550);const v=({afterSubmit:e,fetchUuid:t,selectedRoles:o,setSelectedRoles:r,title:i,closeUrl:v,addRolesToGroup:N,groupName:E,isDefault:T,isChanged:_,onDefaultGroupChanged:R})=>{const S=(0,l.YB)(),k=(0,p.useDispatch)();let{state:x}=(0,m.useLocation)();const{groupId:A}=(0,m.useParams)(),F=T&&t?t:A,P=(0,y.Z)(),[M,B]=(0,a.useState)(!1),{groupName:w,isRecordLoading:D}=(0,p.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({groupName:E||x?.name||e.name,isRecordLoading:t})));(0,a.useEffect)((()=>{E||k((0,h.yi)(F))}),[]);const Z=()=>{r&&r([]),k((0,b.addNotification)({variant:"warning",title:S.formatMessage(O.Z.addingGroupRolesTitle),dismissDelay:8e3,description:S.formatMessage(O.Z.addingGroupRolesCancelled)})),P(v)},j=()=>{const t=o.map((e=>e.uuid));return T&&!_&&(R(!0),k((0,h.K4)())),N(F,t).then(e),r([]),P(v)};return T&&!_&&M?n().createElement(C.Z,{isOpen:M,onClose:Z,onSubmit:j}):n().createElement(u.Modal,{className:"rbac",title:S.formatMessage(O.Z.addRolesToGroup,{name:D?n().createElement(g.Z,{size:g.i.xs,className:"rbac-c-skeleton__add-role-to-group"}):w}),variant:u.ModalVariant.medium,isOpen:!0,onClose:()=>{Z(),B(!0)},actions:[n().createElement(c.Button,{"aria-label":"Save",ouiaId:"primary-save-button",variant:"primary",key:"confirm",isDisabled:0===o.length,onClick:()=>{B(!0),(!T||_)&&j()}},S.formatMessage(O.Z.addToGroup)),n().createElement(c.Button,{"aria-label":"Cancel",ouiaId:"secondary-cancel-button",variant:"link",key:"cancel",onClick:Z},S.formatMessage(O.Z.cancel))]},n().createElement(d.Stack,{hasGutter:!0},i&&n().createElement(d.StackItem,null,n().createElement(f.Title,{headingLevel:"h4",size:"xl"},i)),n().createElement(d.StackItem,null,n().createElement(s.Alert,{variant:"info",isInline:!0,isPlain:!0,title:S.formatMessage(O.Z.onlyGroupRolesVisible)})),n().createElement(d.StackItem,null,n().createElement(I.Z,{selectedRoles:o,setSelectedRoles:r,rolesExcluded:!0,groupId:F}))))};v.propTypes={afterSubmit:i().func,selectedRoles:i().array,setSelectedRoles:i().func,addRolesToGroup:i().func,closeUrl:i().string,title:i().string,groupName:i().string,fetchUuid:i().string,isDefault:i().bool,isChanged:i().bool,onDefaultGroupChanged:i().func};const N=v},5839:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});var a=o(66029),n=o.n(a),r=o(45697),i=o.n(r),l=o(64380),s=o(55218),c=o(25387),u=o(2550);const d=({isOpen:e,onClose:t,onSubmit:o})=>{const a=(0,c.YB)();return n().createElement(s.Z,{withCheckbox:!0,isOpen:e,title:a.formatMessage(u.Z.warning),checkboxLabel:a.formatMessage(u.Z.confirmCheckMessage),confirmButtonLabel:a.formatMessage(u.Z.continue),onClose:t,onConfirm:o},n().createElement(l.TextContent,null,n().createElement(l.Text,null,n().createElement(c._H,{...u.Z.defaultAccessGroupEditWarning,values:{b:e=>n().createElement("b",null,e)}}))))};d.propTypes={onSubmit:i().func,onClose:i().func,isOpen:i().bool};const f=d},70347:()=>{},25238:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2242.ad88880231dbfb9ca9843593d2a41cbc.js.map