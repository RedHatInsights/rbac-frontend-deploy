{"version":3,"sources":["webpack://insights-rbac-frontend/./src/presentational-components/shared/table-toolbar-view.scss","webpack://insights-rbac-frontend/./src/helpers/role/role-helper.js","webpack://insights-rbac-frontend/./src/helpers/shared/helpers.js","webpack://insights-rbac-frontend/./src/utilities/constants.js","webpack://insights-rbac-frontend/./src/helpers/shared/user-login.js","webpack://insights-rbac-frontend/./src/presentational-components/shared/empty-state.js","webpack://insights-rbac-frontend/./src/presentational-components/shared/toolbar.js","webpack://insights-rbac-frontend/./src/presentational-components/shared/table-toolbar-view.js","webpack://insights-rbac-frontend/./src/redux/actions/role-actions.js","webpack://insights-rbac-frontend/./src/presentational-components/shared/table-toolbar-view.scss?79c2"],"names":["exports","___CSS_LOADER_API_IMPORT___","push","module","id","roleApi","getRoleApi","createRole","data","createRoles","fetchRoles","limit","offset","name","nameMatch","scope","orderBy","addFields","username","application","permission","options","listRoles","undefined","fetchRolesWithPolicies","insights","chrome","auth","getUser","fetchRole","uuid","getRole","fetchRoleForPrincipal","removeRole","roleId","deleteRole","updateRole","useCustomAccess","getRoleAccess","access","removeRolePermissions","role","permissionsToRemove","newRole","filter","item","includes","patchRole","BAD_UUID","getCurrentPage","Math","floor","mappedProps","apiProps","Object","entries","reduce","acc","key","value","debouncedFetch","debouncePromise","callback","calculateChecked","rows","selected","nonDefaults","row","platform_default","length","every","find","selectedRows","newSelection","isSelected","arr","findIndex","firstUpperCase","text","charAt","toUpperCase","slice","RBAC_API_BASE","COST_API_BASE","principalApi","PrincipalApi","axiosInstance","groupApi","GroupApi","RoleApi","accessApi","PolicyApi","AccessApi","permissionApi","PermissionApi","costApi","BaseAPI","getPrincipalApi","getGroupApi","getAccessApi","getPermissionApi","getCostApi","getResourceTypes","axios","get","getResource","path","EmptyWithAction","title","icon","description","actions","props","variant","EmptyStateVariant","SearchIcon","headingLevel","map","propTypes","PropTypes","className","paginationBuilder","pagination","fetchData","filterValue","sortBy","itemCount","count","perPage","page","onSetPage","_event","perPageOptions","onPerPageSelect","bulkSelectBuilder","isLoading","checkedRows","setCheckedItems","tableId","items","onClick","checked","onSelect","filterConfigBuilder","setFilterValue","titleSingular","filterPlaceholder","filterItems","filters","isFilterable","onShowMore","showMoreTitle","onFilter","onChange","label","placeholder","type","groups","filterValues","_e","filterBy","newFilter","Array","isArray","keys","curr","isDisabled","activeFiltersConfigBuilder","category","chips","Boolean","onDelete","isAll","deleted","filtersValue","setKeyValue","Toolbar","isSelectable","toolbarButtons","hideFilterChips","PrimaryToolbar","bulkSelect","filterConfig","actionsConfig","activeFiltersConfig","ConditionalFilter","isCollapsible","defaultProps","defaultSettings","TableToolbarView","isCompact","createRows","borders","columns","actionResolver","areActionsDisabled","routes","titlePlural","emptyProps","rowWrapper","isExpandable","onExpand","hideHeader","noData","noDataDescription","ouiaId","useState","opened","openRow","index","direction","sortByState","setSortByState","useEffect","onCollapse","_index","isOpen","Fragment","PlusCircleIcon","Table","canSelectAll","aria-label","TableVariant","_idx","cells","fullWidth","EmptyStatePrimary","Button","colSpan","onSort","e","TableHeader","TableBody","noBottom","TableToolbar","Pagination","dropDirection","directions","roleData","ActionTypes","payload","RoleHelper","meta","notifications","rejected","dismissDelay","dismissable","err","error","errors","status","source","fulfilled","fetchRoleForUser","fetchRolesForWizard","api","content","__esModule","default","update","locals","hot","invalidate","oldLocals","accept","a","b","p","isEqualLocals","dispose"],"mappings":"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","file":"js/4932.80fbc750a19f5130031e.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".rbac .pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item,.my-user-access .pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item{min-width:5rem}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import { getRoleApi } from '../shared/user-login';\n\nconst roleApi = getRoleApi();\n\nexport async function createRole(data) {\n  return await roleApi.createRoles(data);\n}\n\nexport function fetchRoles({\n  limit,\n  offset,\n  name,\n  nameMatch,\n  scope,\n  orderBy = 'display_name',\n  addFields,\n  username,\n  application,\n  permission,\n  options,\n}) {\n  return roleApi.listRoles(limit, offset, undefined, name, nameMatch, scope, orderBy, addFields, username, application, permission, options);\n}\n\nexport async function fetchRolesWithPolicies({\n  limit,\n  offset,\n  name,\n  nameMatch,\n  scope = 'account',\n  orderBy = 'display_name',\n  addFields = ['groups_in_count'],\n  username,\n  options,\n  permission,\n  application,\n}) {\n  return {\n    ...(await roleApi.listRoles(limit, offset, undefined, name, nameMatch, scope, orderBy, addFields, username, application, permission, options)),\n    ...(await insights.chrome.auth.getUser()),\n  };\n}\n\nexport async function fetchRole(uuid) {\n  return await roleApi.getRole(uuid);\n}\n\nexport async function fetchRoleForPrincipal(uuid) {\n  return await roleApi.getRole(uuid, 'principal');\n}\n\nexport async function removeRole(roleId) {\n  return await roleApi.deleteRole(roleId);\n}\n\nexport const updateRole = async (roleId, data, useCustomAccess) => {\n  const { data: access } = await roleApi.getRoleAccess(roleId);\n  return roleApi.updateRole(roleId, useCustomAccess ? { ...data, access } : data);\n};\n\nexport const removeRolePermissions = async (role, permissionsToRemove) => {\n  const { data: access } = await roleApi.getRoleAccess(role.uuid);\n  const newRole = { ...role, access: access.filter((item) => !permissionsToRemove.includes(item.permission)) };\n  return roleApi.updateRole(role.uuid, { ...newRole });\n};\n\nexport const patchRole = async (roleId, data) => {\n  return roleApi.patchRole(roleId, data);\n};\n","export const BAD_UUID = 'bad uuid';\n\nimport debouncePromise from '@redhat-cloud-services/frontend-components-utilities/debounce';\n\nexport const scrollToTop = () =>\n  document.getElementById('root').scrollTo({\n    behavior: 'smooth',\n    top: 0,\n    left: 0,\n  });\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n\nexport const mappedProps = (apiProps) =>\n  Object.entries(apiProps).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      ...(value && { [key]: value }),\n    }),\n    {}\n  );\n\nexport const debouncedFetch = debouncePromise((callback) => callback());\n\nexport const calculateChecked = (rows = [], selected) => {\n  const nonDefaults = rows.filter((row) => !row.platform_default);\n  return (\n    (nonDefaults.length !== 0 && nonDefaults.every(({ uuid }) => selected.find((row) => row.uuid === uuid))) || (selected.length > 0 ? null : false)\n  );\n};\n\nexport const selectedRows = (newSelection, isSelected) => (selected) => {\n  if (!isSelected) {\n    return selected.filter((row) => !newSelection.find(({ uuid }) => uuid === row.uuid));\n  }\n\n  return [...selected, ...newSelection].filter((row, key, arr) => arr.findIndex(({ uuid }) => row.uuid === uuid) === key);\n};\n\nexport const firstUpperCase = (text) => text.charAt(0).toUpperCase() + text.slice(1);\n","export const RBAC_API_BASE = `/api/rbac/v1`;\nexport const COST_API_BASE = `/api/cost-management/v1`;\n","/* eslint-disable no-unused-vars */\nimport axiosInstance from '@redhat-cloud-services/frontend-components-utilities/interceptors';\nimport { GroupApi, PrincipalApi, RoleApi, PolicyApi, AccessApi, PermissionApi } from '@redhat-cloud-services/rbac-client';\nimport { BaseAPI } from '@redhat-cloud-services/rbac-client/dist/base';\n\nimport { RBAC_API_BASE, COST_API_BASE } from '../../utilities/constants';\n\nconst principalApi = new PrincipalApi(undefined, RBAC_API_BASE, axiosInstance);\nconst groupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\nconst roleApi = new RoleApi(undefined, RBAC_API_BASE, axiosInstance);\nconst policyApi = new PolicyApi(undefined, RBAC_API_BASE, axiosInstance);\nconst accessApi = new AccessApi(undefined, RBAC_API_BASE, axiosInstance);\nconst permissionApi = new PermissionApi(undefined, RBAC_API_BASE, axiosInstance);\nconst costApi = new BaseAPI(undefined, COST_API_BASE, axiosInstance);\n\nexport function getPrincipalApi() {\n  return principalApi;\n}\n\nexport function getGroupApi() {\n  return groupApi;\n}\n\nexport function getRoleApi() {\n  return roleApi;\n}\n\nexport function getPolicyApi() {\n  return policyApi;\n}\n\nexport function getAccessApi() {\n  return accessApi;\n}\n\nexport function getPermissionApi() {\n  return permissionApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nexport function getCostApi() {\n  return {\n    getResourceTypes: () => costApi.axios.get(`${COST_API_BASE}/resource-types/`),\n    getResource: (path) => costApi.axios.get(`${path}?limit=1000`),\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nconst EmptyWithAction = ({ title, icon, description, actions, ...props }) => (\n  <EmptyState variant={EmptyStateVariant.full} {...props}>\n    <EmptyStateIcon icon={icon || SearchIcon} />\n    <Title headingLevel=\"h4\">{title}</Title>\n    <EmptyStateBody>\n      {description.map((text, key) => (\n        <React.Fragment key={key}>\n          {text} <br />\n        </React.Fragment>\n      ))}\n    </EmptyStateBody>\n    {actions}\n  </EmptyState>\n);\n\nEmptyWithAction.propTypes = {\n  icon: PropTypes.func,\n  title: PropTypes.node,\n  description: PropTypes.node,\n  actions: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf(PropTypes.node)]),\n  className: PropTypes.string,\n};\n\nexport default EmptyWithAction;\n","import React from 'react';\nimport { PrimaryToolbar, ConditionalFilter } from '@redhat-cloud-services/frontend-components';\nimport PropTypes from 'prop-types';\nimport { pickBy } from 'lodash';\nimport { getCurrentPage, selectedRows, calculateChecked, debouncedFetch, firstUpperCase } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const paginationBuilder = (pagination = {}, fetchData = () => undefined, filterValue = '', sortBy = '') => ({\n  ...pagination,\n  itemCount: pagination.count,\n  perPage: pagination.limit,\n  page: getCurrentPage(pagination.limit, pagination.offset),\n  onSetPage: (_event, page) => {\n    fetchData({\n      ...pagination,\n      offset: (page - 1) * pagination.limit,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n  perPageOptions: [\n    { title: '5', value: 5 },\n    { title: '10', value: 10 },\n    { title: '20', value: 20 },\n    { title: '50', value: 50 },\n  ],\n  onPerPageSelect: (_event, perPage) => {\n    fetchData({\n      ...pagination,\n      offset: 0,\n      limit: perPage,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n});\n\nexport const bulkSelectBuilder = (isLoading, checkedRows = [], setCheckedItems = () => undefined, data = [], tableId) => ({\n  count: checkedRows.length,\n  items: [\n    {\n      title: 'Select none (0)',\n      onClick: () => {\n        setCheckedItems(() => []);\n      },\n    },\n    {\n      ...(!isLoading && data && data.length > 0\n        ? {\n            title: `Select page (${data.length})`,\n            onClick: () => {\n              setCheckedItems(selectedRows(data, true));\n            },\n          }\n        : {}),\n    },\n  ],\n  checked: calculateChecked(data, checkedRows),\n  onSelect: (value) => {\n    !isLoading && setCheckedItems(selectedRows(data, value));\n  },\n  id: tableId,\n});\n\nexport const filterConfigBuilder = (\n  isLoading,\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  filterValue = '',\n  pagination = {},\n  titleSingular = '',\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy\n) => ({\n  onChange,\n  value,\n  items: [\n    ...(filters && filters.length > 0\n      ? filters.map(({ key, label, value, selected, placeholder, type = 'text', groups, items }) => ({\n          label: label || firstUpperCase(key),\n          type,\n          filterValues: {\n            id: `filter-by-${key}`,\n            key: `filter-by-${key}`,\n            placeholder: placeholder ? placeholder : `Filter by ${key}`,\n            value,\n            selected,\n            ...(type !== 'text' ? { isFilterable, onShowMore, showMoreTitle, onFilter } : {}),\n            groups,\n            items,\n            onChange: (_e, filterBy) => {\n              const newFilter =\n                typeof filterBy !== 'string' && !Array.isArray(filterBy) ? Object.keys(pickBy(filterBy[0], (value) => value)) : filterBy;\n              setFilterValue({\n                ...filterValue,\n                ...pagination,\n                offset: 0,\n                [key]: newFilter,\n              });\n              debouncedFetch(() =>\n                fetchData({\n                  ...pagination,\n                  offset: 0,\n                  orderBy: sortBy,\n                  ...filters.reduce(\n                    (acc, curr) => ({\n                      ...acc,\n                      [curr.key]: curr.value,\n                    }),\n                    {}\n                  ),\n                  [key]: newFilter,\n                })\n              );\n            },\n            isDisabled: isLoading,\n          },\n        }))\n      : [\n          {\n            label: firstUpperCase(filterPlaceholder || titleSingular),\n            type: 'text',\n            filterValues: {\n              id: 'filter-by-string',\n              key: 'filter-by-string',\n              placeholder: `Filter by ${filterPlaceholder || titleSingular}`,\n              value: filterValue,\n              onChange: (_e, value) => {\n                setFilterValue({\n                  ...pagination,\n                  offset: 0,\n                  name: value,\n                });\n                debouncedFetch(() =>\n                  fetchData({\n                    ...pagination,\n                    offset: 0,\n                    name: value,\n                    orderBy: sortBy,\n                  })\n                );\n              },\n              isDisabled: isLoading,\n            },\n          },\n        ]),\n    ...(filterItems || []),\n  ],\n});\n\nexport const activeFiltersConfigBuilder = (\n  filterValue = '',\n  filters,\n  pagination = {},\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  sortBy\n) => ({\n  filters:\n    filters && filters.length > 0\n      ? filters\n          .map(\n            ({ key: type, value: options }) =>\n              options &&\n              options.length !== 0 && {\n                category: firstUpperCase(type),\n                type,\n                chips: Array.isArray(options) ? options.map((filter) => ({ name: filter })) : [{ name: options }],\n              }\n          )\n          .filter(Boolean)\n      : [\n          {\n            name: filterValue,\n          },\n        ],\n  onDelete: (_e, [deleted], isAll) => {\n    const setKeyValue = (value, type, key) => {\n      if (isAll) {\n        return type === 'group' || type === 'checkbox' ? [] : '';\n      }\n\n      if (key !== deleted.type) {\n        return value;\n      }\n\n      if (type === 'checkbox' || type === 'group') {\n        return value.filter((value) => value !== deleted.chips[0]?.name);\n      }\n\n      return Array.isArray(value) ? [] : '';\n    };\n\n    const filtersValue = filters.reduce((acc, { key, value, type }) => ({ ...acc, [key]: setKeyValue(value, type, key) }), {});\n    setFilterValue({\n      ...pagination,\n      offset: 0,\n      name: '',\n      ...filtersValue,\n    });\n    fetchData({\n      ...pagination,\n      offset: 0,\n      orderBy: sortBy,\n      name: '',\n      ...filtersValue,\n    });\n  },\n});\n\nconst Toolbar = ({\n  isSelectable,\n  checkedRows,\n  setCheckedItems,\n  isLoading,\n  data,\n  titleSingular,\n  filterValue,\n  setFilterValue,\n  pagination,\n  fetchData,\n  sortBy,\n  toolbarButtons,\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  hideFilterChips,\n  tableId,\n}) => (\n  <PrimaryToolbar\n    {...(isSelectable && {\n      bulkSelect: bulkSelectBuilder(isLoading, checkedRows, setCheckedItems, data, tableId),\n    })}\n    filterConfig={filterConfigBuilder(\n      isLoading,\n      setFilterValue,\n      fetchData,\n      filterValue,\n      pagination,\n      titleSingular,\n      filterPlaceholder,\n      filterItems,\n      filters,\n      isFilterable,\n      onShowMore,\n      showMoreTitle,\n      onFilter,\n      onChange,\n      value,\n      sortBy\n    )}\n    actionsConfig={{\n      actions: toolbarButtons(),\n    }}\n    {...(!isLoading && {\n      pagination: paginationBuilder(pagination, fetchData, filterValue, sortBy),\n    })}\n    {...((filterValue.length > 0 || (filters && filters.length > 0)) &&\n      !hideFilterChips && {\n        activeFiltersConfig: activeFiltersConfigBuilder(filterValue, filters, pagination, setFilterValue, fetchData, sortBy),\n      })}\n  />\n);\n\nToolbar.propTypes = {\n  isSelectable: PropTypes.bool,\n  checkedRows: PropTypes.array,\n  setCheckedItems: PropTypes.func,\n  isLoading: PropTypes.bool,\n  data: PropTypes.array,\n  titleSingular: PropTypes.string,\n  filterValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  setFilterValue: PropTypes.func,\n  filters: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array]),\n      key: PropTypes.string,\n      placeholder: PropTypes.string,\n    })\n  ),\n  isFilterable: PropTypes.bool,\n  onShowMore: PropTypes.func,\n  showMoreTitle: PropTypes.string,\n  onFilter: PropTypes.func,\n  onChange: PropTypes.func,\n  value: PropTypes.any,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    count: PropTypes.number,\n  }),\n  sortBy: PropTypes.string,\n  filterItems: ConditionalFilter.propTypes.items,\n  filterPlaceholder: PropTypes.string,\n  isCollapsible: PropTypes.bool,\n  fetchData: PropTypes.func,\n  toolbarButtons: PropTypes.func,\n  hideFilterChips: PropTypes.bool,\n  tableId: PropTypes.string,\n};\n\nToolbar.defaultProps = {\n  isCollapsible: false,\n  isSelectable: false,\n  isLoading: false,\n  data: [],\n  titleSingular: '',\n  filterValue: [],\n  pagination: defaultSettings,\n  setCheckedItems: () => undefined,\n  setFilterValue: () => undefined,\n  sortBy: undefined,\n  fetchData: () => undefined,\n  toolbarButtons: () => [],\n  filterItems: [],\n  filters: [],\n  isFilterable: false,\n  hideFilterChips: false,\n};\n\nexport default Toolbar;\n","import React, { Fragment, useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { Table, TableHeader, TableBody, TableVariant } from '@patternfly/react-table';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components';\nimport { Button, Pagination, EmptyStatePrimary } from '@patternfly/react-core';\nimport { ListLoader } from './loader-placeholders';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport { selectedRows } from '../../helpers/shared/helpers';\nimport Toolbar, { paginationBuilder } from './toolbar';\nimport EmptyWithAction from './empty-state';\nimport './table-toolbar-view.scss';\n\nexport const TableToolbarView = ({\n  isCompact,\n  createRows,\n  borders,\n  columns,\n  toolbarButtons,\n  data,\n  actionResolver,\n  areActionsDisabled,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  filterValue,\n  isLoading,\n  setFilterValue,\n  checkedRows,\n  isSelectable,\n  fetchData,\n  setCheckedItems,\n  isCollapsible,\n  emptyProps,\n  filterPlaceholder,\n  rowWrapper,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  isExpandable,\n  onExpand,\n  hideFilterChips,\n  hideHeader,\n  noData,\n  noDataDescription,\n  ouiaId,\n  tableId,\n}) => {\n  const [opened, openRow] = useState({});\n  const [sortByState, setSortByState] = useState({ index: undefined, direction: undefined });\n  useEffect(() => {\n    setSortByState({\n      ...sortBy,\n      ...(sortByState.index !== undefined && sortByState),\n    });\n  }, [sortBy]);\n\n  const rows = createRows(data, opened, checkedRows);\n\n  const onCollapse = (_event, _index, isOpen, { uuid }) =>\n    openRow((opened) => ({\n      ...opened,\n      [uuid]: isOpen,\n    }));\n\n  const renderEmpty = () => ({\n    title: (\n      <EmptyWithAction\n        title={`No matching ${titlePlural} found`}\n        description={\n          noData && noDataDescription ? noDataDescription : [`This filter criteria matches no ${titlePlural}.`, `Try changing your filter settings.`]\n        }\n        actions={\n          noData && noDataDescription\n            ? undefined\n            : [\n                <EmptyStatePrimary key=\"clear-filters\">\n                  <Button\n                    variant=\"link\"\n                    ouiaId=\"clear-filters-button\"\n                    onClick={() => {\n                      setFilterValue({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                      fetchData({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                    }}\n                  >\n                    Clear all filters\n                  </Button>\n                </EmptyStatePrimary>,\n              ]\n        }\n      />\n    ),\n    props: {\n      colSpan: columns.length + Boolean(onCollapse),\n    },\n  });\n\n  const renderTable = () => (\n    <Fragment>\n      <Toolbar\n        isSelectable={isSelectable}\n        checkedRows={checkedRows}\n        setCheckedItems={setCheckedItems}\n        isLoading={isLoading || noData}\n        data={data}\n        titleSingular={titleSingular}\n        filterValue={filterValue}\n        setFilterValue={setFilterValue}\n        sortBy={\n          (sortByState.index !== undefined &&\n            sortByState.index - isSelectable >= 0 &&\n            `${sortByState.direction === 'desc' ? '-' : ''}${columns[sortByState.index - isSelectable].key}`) ||\n          undefined\n        }\n        pagination={pagination}\n        fetchData={fetchData}\n        toolbarButtons={toolbarButtons}\n        filterPlaceholder={filterPlaceholder}\n        filters={filters}\n        isFilterable={isFilterable}\n        onShowMore={onShowMore}\n        showMoreTitle={showMoreTitle}\n        onFilter={onFilter}\n        onChange={onChange}\n        value={value}\n        hideFilterChips={hideFilterChips}\n        tableId={tableId}\n      />\n      {isLoading ? (\n        <ListLoader />\n      ) : (\n        <Table\n          canSelectAll={false}\n          aria-label={`${titlePlural} table`}\n          variant={isCompact ? TableVariant.compact : null}\n          borders={borders}\n          {...(isCollapsible && { onCollapse })}\n          {...(isSelectable &&\n            rows.length > 0 && {\n              onSelect: (_e, isSelected, _idx, { uuid, cells: [name] }) => setCheckedItems(selectedRows([{ uuid, name }], isSelected)),\n            })}\n          {...(isExpandable && { onExpand })}\n          rows={rows.length > 0 ? rows : [{ fullWidth: true, cells: [renderEmpty()] }]}\n          cells={columns}\n          {...(rows.length > 0 && { actionResolver })}\n          areActionsDisabled={areActionsDisabled}\n          rowWrapper={rowWrapper}\n          sortBy={sortByState}\n          ouiaId={ouiaId}\n          onSort={(e, index, direction) => {\n            setSortByState({ index, direction });\n            filters && filters.length > 0\n              ? fetchData({\n                  ...pagination,\n                  offset: 0,\n                  ...filters.reduce(\n                    (acc, curr) => ({\n                      ...acc,\n                      [curr.key]: curr.value,\n                    }),\n                    {}\n                  ),\n                  orderBy: `${direction === 'desc' ? '-' : ''}${columns[index - isSelectable].key}`,\n                })\n              : fetchData({\n                  ...pagination,\n                  offset: 0,\n                  name: filterValue,\n                  orderBy: `${direction === 'desc' ? '-' : ''}${columns[index - isSelectable].key}`,\n                });\n          }}\n        >\n          {!hideHeader && <TableHeader />}\n          <TableBody />\n        </Table>\n      )}\n      {!pagination.noBottom && (\n        <TableToolbar>\n          {!isLoading && <Pagination {...paginationBuilder(pagination, fetchData, filterValue)} variant=\"bottom\" dropDirection=\"up\" />}\n        </TableToolbar>\n      )}\n    </Fragment>\n  );\n\n  return (\n    <Fragment>\n      {routes()}\n      {!isLoading && rows.length === 0 && filterValue.length === 0 && filters.every(({ value }) => !value) ? (\n        <EmptyWithAction\n          title={`Configure ${titlePlural}`}\n          icon={PlusCircleIcon}\n          description={[`To configure user access to applications`, `create at least one ${titleSingular}`]}\n          actions={toolbarButtons()[0]}\n          {...emptyProps}\n        />\n      ) : (\n        renderTable()\n      )}\n    </Fragment>\n  );\n};\n\nTableToolbarView.propTypes = {\n  ...Toolbar.propTypes,\n  sortBy: propTypes.shape({\n    directions: propTypes.string,\n    index: propTypes.number,\n  }),\n  rowWrapper: propTypes.any,\n  isCompact: propTypes.bool,\n  borders: propTypes.bool,\n  checkedRows: propTypes.array,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  titlePlural: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  areActionsDisabled: propTypes.func,\n  pagination: propTypes.shape({\n    noBottom: propTypes.bool,\n  }),\n  isExpandable: propTypes.bool,\n  onExpand: propTypes.func,\n  hideFilterChips: propTypes.bool,\n  hideHeader: propTypes.bool,\n  noDataDescription: propTypes.arrayOf(propTypes.node),\n  filters: propTypes.array,\n  tableId: propTypes.string.isRequired,\n};\n\nTableToolbarView.defaultProps = {\n  ...Toolbar.defaultProps,\n  isCompact: false,\n  borders: true,\n  routes: () => null,\n  hideFilterChips: false,\n  checkedRows: [],\n  hideHeader: false,\n};\n","import * as ActionTypes from '../action-types';\nimport * as RoleHelper from '../../helpers/role/role-helper';\nimport { BAD_UUID } from '../../helpers/shared/helpers';\n\nexport const createRole = (roleData) => ({\n  type: ActionTypes.ADD_ROLE,\n  payload: RoleHelper.createRole(roleData),\n  meta: {\n    notifications: {\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not added successfuly.',\n      },\n    },\n  },\n});\n\nexport const fetchRole = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE,\n  payload: RoleHelper.fetchRole(apiProps).catch((err) => {\n    const error = err?.errors?.[0] || {};\n    if (error.status === '400' && error.source === 'role uuid validation') {\n      return { error: BAD_UUID };\n    }\n\n    throw err;\n  }),\n});\n\nexport const fetchRoles = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRoles(options).catch((err) => {\n    const error = err?.errors?.[0] || {};\n    if (error.status === '400' && error.source === 'detail') {\n      return { error: BAD_UUID };\n    }\n\n    throw err;\n  }),\n});\n\nexport const fetchRolesWithPolicies = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRolesWithPolicies(options),\n});\n\nexport const removeRole = (role) => ({\n  type: ActionTypes.REMOVE_ROLE,\n  payload: RoleHelper.removeRole(role),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was removed successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed removing role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not removed successfuly.',\n      },\n    },\n  },\n});\n\nexport const fetchRoleForUser = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_USER,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoleForPrincipal = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_PRINCIPAL,\n  payload: RoleHelper.fetchRoleForPrincipal(apiProps),\n});\n\nexport const fetchRolesForWizard = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES_FOR_WIZARD,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const updateRole = (roleId, data, useCustomAccess) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.updateRole(roleId, data, useCustomAccess),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was updated successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed updating role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not updated successfuly.',\n      },\n    },\n  },\n});\n\nexport const patchRole = (roleId, data) => ({\n  type: ActionTypes.PATCH_ROLE,\n  payload: RoleHelper.patchRole(roleId, data),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was updated successfully.',\n      },\n    },\n  },\n});\n\nexport const removeRolePermissions = (role, permissionsToRemove) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.removeRolePermissions(role, permissionsToRemove),\n});\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};"],"sourceRoot":""}