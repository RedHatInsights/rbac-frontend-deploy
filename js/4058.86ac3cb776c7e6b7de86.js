(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[4058,459],{41448:(e,t,a)=>{"use strict";a.d(t,{b:()=>_,U:()=>I});var s=a(65353),i=a(66029),c=a(38296);a(81754);const n={alert:"pf-v5-c-alert",alertAction:"pf-v5-c-alert__action",alertActionGroup:"pf-v5-c-alert__action-group",alertDescription:"pf-v5-c-alert__description",alertIcon:"pf-v5-c-alert__icon",alertTitle:"pf-v5-c-alert__title",alertToggle:"pf-v5-c-alert__toggle",alertToggleIcon:"pf-v5-c-alert__toggle-icon",button:"pf-v5-c-button",dirRtl:"pf-v5-m-dir-rtl",modifiers:{custom:"pf-m-custom",success:"pf-m-success",danger:"pf-m-danger",warning:"pf-m-warning",info:"pf-m-info",inline:"pf-m-inline",plain:"pf-m-plain",expandable:"pf-m-expandable",expanded:"pf-m-expanded",truncate:"pf-m-truncate"},themeDark:"pf-v5-theme-dark"};var r=a(68778),l=a(43047),o=a(69957),d=a(53688),u=a(34143);const m={success:r.ZP,danger:l.ZP,warning:o.ZP,info:d.ZP,custom:u.ZP},p=e=>{var{variant:t,customIcon:a,className:r=""}=e,l=(0,s.__rest)(e,["variant","customIcon","className"]);const o=m[t];return o?i.createElement("div",Object.assign({},l,{className:(0,c.css)(n.alertIcon,r)}),a||i.createElement(o,null)):null};var f=a(80164),g=a(62472),v=a(21133);const b="--pf-v5-c-alert__title--max-lines";var h=a(35224),C=a(47173),Z=a(93174);const E=e=>{var{"aria-label":t="",variantLabel:a,onToggleExpand:r,isExpanded:l=!1}=e,o=(0,s.__rest)(e,["aria-label","variantLabel","onToggleExpand","isExpanded"]);const{title:d,variantLabel:u}=i.useContext(v.w);return i.createElement(C.zx,Object.assign({variant:C.Wu.plain,onClick:r,"aria-expanded":l,"aria-label":""===t?`Toggle ${a||u} alert: ${d}`:t},o),i.createElement("span",{className:(0,c.css)(n.alertToggleIcon)},i.createElement(Z.default,{"aria-hidden":"true"})))};var I;E.displayName="AlertToggleExpandButton",function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.custom="custom"}(I||(I={}));const _=e=>{var{variant:t=I.custom,isInline:a=!1,isPlain:r=!1,isLiveRegion:l=!1,variantLabel:o=`${(0,f.kC)(t)} alert:`,actionClose:d,actionLinks:u,title:m,component:C="h4",children:Z="",className:k="",ouiaId:y,ouiaSafe:x=!0,timeout:S=!1,timeoutAnimation:L=3e3,onTimeout:A=(()=>{}),truncateTitle:N=0,tooltipPosition:P,customIcon:T,isExpandable:M=!1,toggleAriaLabel:w=`${(0,f.kC)(t)} alert details`,onMouseEnter:O=(()=>{}),onMouseLeave:R=(()=>{}),id:D}=e,F=(0,s.__rest)(e,["variant","isInline","isPlain","isLiveRegion","variantLabel","actionClose","actionLinks","title","component","children","className","ouiaId","ouiaSafe","timeout","timeoutAnimation","onTimeout","truncateTitle","tooltipPosition","customIcon","isExpandable","toggleAriaLabel","onMouseEnter","onMouseLeave","id"]);const j=(0,g.useOUIAProps)(_.displayName,y,x,t),H=i.createElement(i.Fragment,null,i.createElement("span",{className:"pf-v5-screen-reader"},o),m),B=i.useRef(null),G=C,$=i.useRef(),[z,U]=(0,i.useState)(!1);i.useEffect((()=>{if(!B.current||!N)return;B.current.style.setProperty(b,N.toString());const e=B.current&&B.current.offsetHeight<B.current.scrollHeight;z!==e&&U(e)}),[B,N,z]);const[V,q]=(0,i.useState)(!1),[K,W]=(0,i.useState)(!0),[Y,J]=(0,i.useState)(),[Q,X]=(0,i.useState)(),ee=V&&K&&!Y&&!Q;i.useEffect((()=>{const e=!0===S?8e3:Number(S);if(e>0){const t=setTimeout((()=>q(!0)),e);return()=>clearTimeout(t)}}),[S]),i.useEffect((()=>{const e=()=>{$.current&&($.current.contains(document.activeElement)?(X(!0),W(!1)):Q&&X(!1))};return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[Q]),i.useEffect((()=>{if(!1===Q||!1===Y){const e=setTimeout((()=>W(!0)),L);return()=>clearTimeout(e)}}),[Q,Y,L]),i.useEffect((()=>{ee&&A()}),[ee,A]);const[te,ae]=(0,i.useState)(!1);if(ee)return null;const se=i.createElement(G,Object.assign({},z&&{tabIndex:0},{ref:B,className:(0,c.css)(n.alertTitle,N&&n.modifiers.truncate)}),H);return i.createElement("div",Object.assign({ref:$,className:(0,c.css)(n.alert,a&&n.modifiers.inline,r&&n.modifiers.plain,M&&n.modifiers.expandable,te&&n.modifiers.expanded,n.modifiers[t],k)},j,l&&{"aria-live":"polite","aria-atomic":"false"},{onMouseEnter:e=>{J(!0),W(!1),O(e)},onMouseLeave:e=>{J(!1),R(e)},id:D},F),M&&i.createElement(v.w.Provider,{value:{title:m,variantLabel:o}},i.createElement("div",{className:(0,c.css)(n.alertToggle)},i.createElement(E,{isExpanded:te,onToggleExpand:()=>{ae(!te)},"aria-label":w}))),i.createElement(p,{variant:t,customIcon:T}),z?i.createElement(h.u,{content:H,position:P},se):se,d&&i.createElement(v.w.Provider,{value:{title:m,variantLabel:o}},i.createElement("div",{className:(0,c.css)(n.alertAction)},d)),Z&&(!M||M&&te)&&i.createElement("div",{className:(0,c.css)(n.alertDescription)},Z),u&&i.createElement("div",{className:(0,c.css)(n.alertActionGroup)},u))};_.displayName="Alert"},21133:(e,t,a)=>{"use strict";a.d(t,{w:()=>s});const s=a(66029).createContext(null)},32203:(e,t,a)=>{"use strict";a.d(t,{H:()=>l,Z:()=>o});var s=a(65353),i=a(66029),c=a(54918),n=a(38296),r=a(62472);const l=i.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1,isClickable:!1,isSelectable:!1,isSelected:!1,isClicked:!1,isDisabled:!1}),o=e=>{var{children:t,id:a="",className:d,component:u="div",isCompact:m=!1,isSelectable:p=!1,isClickable:f=!1,isDisabled:g=!1,isSelectableRaised:v=!1,isSelected:b=!1,isClicked:h=!1,isDisabledRaised:C=!1,isFlat:Z=!1,isExpanded:E=!1,isRounded:I=!1,isLarge:_=!1,isFullHeight:k=!1,isPlain:y=!1,ouiaId:x,ouiaSafe:S=!0,hasSelectableInput:L=!1,selectableInputAriaLabel:A,onSelectableInputChange:N=(()=>{})}=e,P=(0,s.__rest)(e,["children","id","className","component","isCompact","isSelectable","isClickable","isDisabled","isSelectableRaised","isSelected","isClicked","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const T=u,M=(0,r.useOUIAProps)(o.displayName,x,S),[w,O]=i.useState(""),[R,D]=i.useState();m&&_&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),_=!1);const F=i.useRef(!1);return i.useEffect((()=>{A?D({"aria-label":A}):w?D({"aria-labelledby":w}):L&&!F.current&&(D({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[L,A,w]),i.createElement(l.Provider,{value:{cardId:a,registerTitleId:e=>{O(e),F.current=!!e},isExpanded:E,isClickable:f,isSelectable:p,isSelected:b,isClicked:h,isDisabled:g,hasSelectableInput:L}},L&&i.createElement("input",Object.assign({className:"pf-v5-screen-reader",id:`${a}-input`},R,{type:"checkbox",checked:b,onChange:e=>N(e,a),disabled:C,tabIndex:-1})),i.createElement(T,Object.assign({id:a,className:(0,n.css)(c.Z.card,m&&c.Z.modifiers.compact,E&&c.Z.modifiers.expanded,Z&&c.Z.modifiers.flat,I&&c.Z.modifiers.rounded,_&&c.Z.modifiers.displayLg,k&&c.Z.modifiers.fullHeight,y&&c.Z.modifiers.plain,C?(0,n.css)(c.Z.modifiers.nonSelectableRaised):v?(0,n.css)(c.Z.modifiers.selectableRaised,b&&c.Z.modifiers.selectedRaised):p&&f?(0,n.css)(c.Z.modifiers.selectable,c.Z.modifiers.clickable,(b||h)&&c.Z.modifiers.current):p?(0,n.css)(c.Z.modifiers.selectable,b&&c.Z.modifiers.selected):f?(0,n.css)(c.Z.modifiers.clickable,h&&c.Z.modifiers.current):"",g&&c.Z.modifiers.disabled,d),tabIndex:v?"0":void 0},P,M),t))};o.displayName="Card"},62394:(e,t,a)=>{"use strict";a.d(t,{e:()=>r});var s=a(65353),i=a(66029),c=a(54918),n=a(38296);const r=e=>{var{children:t,className:a,component:r="div",isFilled:l=!0}=e,o=(0,s.__rest)(e,["children","className","component","isFilled"]);const d=r;return i.createElement(d,Object.assign({className:(0,n.css)(c.Z.cardBody,!l&&c.Z.modifiers.noFill,a)},o),t)};r.displayName="CardBody"},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>r});var s=a(65353),i=a(66029),c=a(62873),n=a(38296);const r=e=>{var{children:t,className:a="",isVisited:r=!1}=e,l=(0,s.__rest)(e,["children","className","isVisited"]);return i.createElement("div",Object.assign({},l,{className:(0,n.css)(c.Z.content,r&&c.Z.modifiers.visited,a)}),t)};r.displayName="TextContent"},41435:(e,t,a)=>{"use strict";a.d(t,{Dl:()=>n,dw:()=>i,e4:()=>r,ir:()=>s});var s,i,c=a(66029);!function(e){e.right="right",e.left="left"}(s||(s={})),function(e){e.up="up",e.down="down"}(i||(i={}));const n=c.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),r=c.createContext({keyHandler:null,sendRef:null})},34143:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>s});const s=(0,a(40400).I)({name:"BellIcon",height:1024,width:896,svgPath:"M448,0 C465.333333,0 480.333333,6.33333333 493,19 C505.666667,31.6666667 512,46.6666667 512,64 L512,106 L514.23,106.45 C587.89,121.39 648.48,157.24 696,214 C744,271.333333 768,338.666667 768,416 C768,500 780,568.666667 804,622 C818.666667,652.666667 841.333333,684 872,716 C873.773676,718.829136 875.780658,721.505113 878,724 C890,737.333333 896,752.333333 896,769 C896,785.666667 890,800.333333 878,813 C866,825.666667 850.666667,832 832,832 L63.3,832 C44.9533333,831.84 29.8533333,825.506667 18,813 C6,800.333333 0,785.666667 0,769 C0,752.333333 6,737.333333 18,724 L24,716 L25.06,714.9 C55.1933333,683.28 77.5066667,652.313333 92,622 C116,568.666667 128,500 128,416 C128,338.666667 152,271.333333 200,214 C248,156.666667 309.333333,120.666667 384,106 L384,63.31 C384.166667,46.27 390.5,31.5 403,19 C415.666667,6.33333333 430.666667,0 448,0 Z M576,896 L576,897.08 C575.74,932.6 563.073333,962.573333 538,987 C512.666667,1011.66667 482.666667,1024 448,1024 C413.333333,1024 383.333333,1011.66667 358,987 C332.666667,962.333333 320,932 320,896 L576,896 Z",yOffset:0,xOffset:0})},53688:(e,t,a)=>{"use strict";a.d(t,{ZP:()=>s});const s=(0,a(40400).I)({name:"InfoCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z",yOffset:0,xOffset:0})},54918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s}),a(80598);const s={card:"pf-v5-c-card",cardActions:"pf-v5-c-card__actions",cardBody:"pf-v5-c-card__body",cardExpandableContent:"pf-v5-c-card__expandable-content",cardFooter:"pf-v5-c-card__footer",cardHeader:"pf-v5-c-card__header",cardHeaderMain:"pf-v5-c-card__header-main",cardHeaderToggle:"pf-v5-c-card__header-toggle",cardHeaderToggleIcon:"pf-v5-c-card__header-toggle-icon",cardSelectableActions:"pf-v5-c-card__selectable-actions",cardSrInput:"pf-v5-c-card__sr-input",cardTitle:"pf-v5-c-card__title",cardTitleText:"pf-v5-c-card__title-text",check:"pf-v5-c-check",checkInput:"pf-v5-c-check__input",checkLabel:"pf-v5-c-check__label",dirRtl:"pf-v5-m-dir-rtl",divider:"pf-v5-c-divider",modifiers:{selectable:"pf-m-selectable",clickable:"pf-m-clickable",selected:"pf-m-selected",current:"pf-m-current",disabled:"pf-m-disabled",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill"},radio:"pf-v5-c-radio",radioInput:"pf-v5-c-radio__input",radioLabel:"pf-v5-c-radio__label",themeDark:"pf-v5-theme-dark"}},7876:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(85893),i=a(94184),c=a.n(i),n=function(){return n=Object.assign||function(e){for(var t,a=1,s=arguments.length;a<s;a++)for(var i in t=arguments[a])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};const r=function(e){var t,a=e.type,i=e.children,r=e.className,l=function(e,t){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(a[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(a[s[i]]=e[s[i]])}return a}(e,["type","children","className"]),o=c()(r,((t={})["ins-l-".concat(a)]=void 0!==a,t));return(0,s.jsxs)("section",n({},l,{className:o,children:[" ",i," "]}))}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var s=a(62012),i=a(64756);const c=e=>{const t=(0,s.useNavigate)();return(a,s)=>t((0,i.n)(a,e),s)}},92057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(66029),i=a.n(s),c=a(86706),n=a(25387),r=a(62012),l=a(47173),o=a(32203),d=a(62394),u=a(52643),m=a(68774),p=a(68340),f=a(41448),g=a(7876),v=a(62410),b=a(74982),h=a(97246),C=a(77044),Z=a(29301),E=a(75614),I=a(86601),_=a(64756),k=a(84414),y=a(2550),x=a(14289);const S=(e=[],t=[])=>e?.reduce(((e,{uuid:a,name:c,clientId:n,owner:r,time_created:l})=>[...e,{uuid:a,title:c,cells:[c,n,r,i().createElement(s.Fragment,{key:`${c}-modified`},i().createElement(v.Z,{date:l,type:(0,Z.mh)(l)}))],selected:Boolean(t&&t.find((e=>e.uuid===a)))}]),[]),L=({groupReducer:{selectedGroup:e,systemGroup:t,groups:a}})=>({serviceAccounts:e.serviceAccounts?.data||[],pagination:{...b.he,...e?.serviceAccounts?.meta||{}},groupsPagination:a.pagination||a.meta,groupsFilters:a.filters,isLoading:e.serviceAccounts.isLoading,isAdminDefault:e.admin_default,systemGroupUuid:t?.uuid,group:e,platformDefault:e.platform_default}),A=()=>{const e=(0,n.YB)(),t=(0,c.useDispatch)(),a=(0,k.Z)(),{groupId:v}=(0,r.useParams)(),[b,Z]=(0,s.useState)({clientId:"",name:"",description:""}),[A,N]=(0,s.useState)([]),{userAccessAdministrator:P,orgAdmin:T}=(0,s.useContext)(I.Z),M=(0,s.useRef)(T||P),{serviceAccounts:w,pagination:O,isLoading:R,isAdminDefault:D,systemGroupUuid:F,platformDefault:j}=(0,c.useSelector)(L),H=(e,a)=>t((0,C.Gr)(e,a)),B=[{title:e.formatMessage(y.Z.name)},{title:e.formatMessage(y.Z.clientId)},{title:e.formatMessage(y.Z.owner)},{title:e.formatMessage(y.Z.timeCreated)}],G=(0,s.useCallback)((()=>{v!==E.Cn?H(v,O):F&&H(F,O)}),[F,v]);return(0,s.useEffect)((()=>{G()}),[F]),(0,s.useEffect)((()=>{M.current=T||P}),[T,P]),i().createElement(i().Fragment,null,i().createElement(g.Z,{type:"content",id:"tab-service-accounts"},j?i().createElement(o.Z,null,i().createElement(d.e,null,i().createElement(u.b,null,i().createElement(m.D,null,i().createElement(p.x,{component:p.q.h1},e.formatMessage(y.Z.noAccountsInDefaultAccess)))))):i().createElement(i().Fragment,null,i().createElement(f.b,{className:"rbac-service-accounts-alert",variant:"info",isInline:!0,isPlain:!0,title:e.formatMessage(y.Z.visitServiceAccountsPage,{link:i().createElement(_.Z,{to:"/service-accounts",linkBasename:"/iam"},e.formatMessage(y.Z.serviceAccountsPage))})}),i().createElement(h.M,{columns:B,isSelectable:!0,rows:S(w,A),data:w,filterValue:b,fetchData:e=>H(v,e),emptyFilters:{clientId:"",name:"",description:""},setFilterValue:({clientId:e,name:t,description:a})=>{Z({clientId:void 0===e?b.clientId:e,name:void 0===t?b.name:t,description:void 0===a?b.description:a})},isLoading:R,pagination:O,checkedRows:A,setCheckedItems:N,titlePlural:e.formatMessage(y.Z.serviceAccounts).toLowerCase(),titleSingular:e.formatMessage(y.Z.serviceAccount),toolbarButtons:()=>[i().createElement(_.Z,{className:"rbac-m-hide-on-sm",to:x.Z["group-add-service-account"].link.replace(":groupId",v),key:"add-to-group"},i().createElement(l.zx,{ouiaId:"add-service-account-button",variant:"primary",className:"rbac-m-hide-on-sm","aria-label":"Add service account to group"},e.formatMessage(y.Z.addServiceAccount))),{label:e.formatMessage(y.Z.remove),props:{isDisabled:0===A.length},onClick:()=>{const e=(0,r.createSearchParams)();A.forEach((({name:t})=>e.append("name",t))),a({pathname:x.Z["group-service-accounts-remove-group"].link.replace(":groupId",v),search:e.toString()})}},{label:e.formatMessage(y.Z.addServiceAccount),props:{className:"rbac-m-hide-on-md"},onClick:()=>a(x.Z["group-add-service-account"].link.replace(":groupId",v))}],actionResolver:({uuid:t})=>[...M.current&&!D?[{title:e.formatMessage(y.Z.remove),onClick:()=>a({pathname:x.Z["group-service-accounts-remove-group"].link.replace(":groupId",v),search:(0,r.createSearchParams)({name:t}).toString()})}]:[]],emptyProps:{title:e.formatMessage(y.Z.noGroupAccounts),description:[e.formatMessage(D?y.Z.contactServiceTeamForAccounts:y.Z.addAccountsToThisGroup),""]},filters:[{key:"clientId",value:b.clientId,label:e.formatMessage(y.Z.clientId),placeholder:e.formatMessage(y.Z.filterByKey,{key:`${e.formatMessage(y.Z.clientId)[0].toLowerCase()}${e.formatMessage(y.Z.clientId).slice(1)}`})},{key:"name",value:b.name},{key:"description",value:b.description}],isFilterable:!0,tableId:"group-accounts",ouiaId:"group-accounts"}))),j?null:i().createElement(s.Suspense,null,i().createElement(r.Outlet,{context:{[x.Z["group-service-accounts-remove-group"].path]:{postMethod:e=>{N([]),a(x.Z["group-detail-service-accounts"].link.replace(":groupId",v)),e&&e.then?.(G)}},[x.Z["group-add-service-account"].path]:{postMethod:e=>{a(x.Z["group-detail-service-accounts"].link.replace(":groupId",v)),e&&e.then?.(G)}}}})))}},81754:()=>{},80598:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4058.d53b56d7a67eb52778931721ed7df239.js.map