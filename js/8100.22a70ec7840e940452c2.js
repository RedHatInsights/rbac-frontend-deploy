"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[8100],{88100:(e,t,a)=>{a.r(t),a.d(t,{TreeView:()=>w,TreeViewSearch:()=>R});var s=a(65353),n=a(66029),l=a.n(n),c=a(38296),o=a(15627);a(38024);const i="pf-m-compact",r="pf-m-guides",d="pf-m-expanded",m="pf-m-no-background",p="pf-m-current",u="pf-m-selectable",h="pf-v5-c-tree-view",v="pf-v5-c-tree-view__node",b="pf-v5-c-tree-view__node-count",f="pf-v5-c-tree-view__node-text",g="pf-v5-c-tree-view__node-toggle",E=e=>{var{isNested:t=!1,toolbar:a,children:l}=e,i=(0,s.__rest)(e,["isNested","toolbar","children"]);return n.createElement(n.Fragment,null,a&&n.createElement(n.Fragment,null,a,n.createElement(o.i,null)),n.createElement("ul",Object.assign({className:(0,c.css)(`${h}__list`),role:t?"group":"tree"},i),l))};E.displayName="TreeViewList";var x=a(93174),N=a(68425),C=a(41724);const k=l().memo((({name:e,title:t,id:a,isExpanded:s,defaultExpanded:o=!1,children:i=null,onSelect:r,onExpand:m,onCollapse:h,onCheck:E,hasCheckbox:k=!1,checkProps:I={checked:!1},hasBadge:S=!1,customBadgeContent:y,badgeProps:_={isRead:!0},isSelectable:w=!1,isCompact:B,activeItems:P=[],itemData:R,parentItem:L,icon:A,expandedIcon:D,action:T,compareItems:j,useMemo:O})=>{const[M,V]=(0,n.useState)(o);(0,n.useEffect)((()=>{null!=s?V(s):null!=o&&V(M||o)}),[s,o]);let q="button";k?q="label":w&&(q="div");const F=k||w?"button":"span",G=l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-icon")},!M&&A,M&&(D||A)),K=l().createElement(l().Fragment,null,S&&i&&l().createElement("span",{className:(0,c.css)(b)},l().createElement(N.C,Object.assign({},_),y||i.props.data.length)),S&&!i&&void 0!==y&&l().createElement("span",{className:(0,c.css)(b)},l().createElement(N.C,Object.assign({},_),y)));return l().createElement("li",{id:a,className:(0,c.css)("pf-v5-c-tree-view__list-item",M&&d),"aria-expanded":M,role:"treeitem",tabIndex:-1},l().createElement("div",{className:(0,c.css)("pf-v5-c-tree-view__content")},l().createElement(C.w,{prefix:w?"selectable-id":"checkbox-id"},(a=>l().createElement(q,Object.assign({className:(0,c.css)(v,i&&(w||k)&&u,(!i||w)&&P&&P.length>0&&P.some((e=>j&&e&&j(e,R)))?p:""),onClick:e=>{k||(r&&r(e,R,L),!w&&i&&!0!==e.isDefaultPrevented()&&(M?h&&h(e,R,L):m&&m(e,R,L),V(!M)))}},k&&{htmlFor:a},(k||w&&i)&&{id:`label-${a}`},"button"===q&&{type:"button"}),l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-container")},i&&(e=>l().createElement(F,Object.assign({className:(0,c.css)(g),onClick:e=>{(w||k)&&(M?h&&h(e,R,L):m&&m(e,R,L),V(!M)),w&&e.stopPropagation()}},(k||w)&&{"aria-labelledby":`label-${e}`},"button"===F&&{type:"button"},{tabIndex:-1}),l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-toggle-icon")},l().createElement(x.default,{"aria-hidden":"true"}))))(a),k&&(e=>l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-check")},l().createElement("input",Object.assign({type:"checkbox",onChange:e=>E&&E(e,R,L),onClick:e=>e.stopPropagation(),ref:e=>e&&(e.indeterminate=null===I.checked)},I,{checked:null!==I.checked&&I.checked,id:e,tabIndex:-1}))))(a),A&&G,(()=>{const a=l().createElement(l().Fragment,null,B&&t&&l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-title")},t),w?l().createElement("button",{tabIndex:-1,className:(0,c.css)(f),type:"button"},e):l().createElement("span",{className:(0,c.css)(f)},e));return B?l().createElement("span",{className:(0,c.css)("pf-v5-c-tree-view__node-content")},a):a})(),K)))),T&&l().createElement("div",{className:(0,c.css)("pf-v5-c-tree-view__action")},T)),M&&i)}),((e,t)=>{if(!t.useMemo)return!1;const a=e.activeItems&&e.activeItems.length>0&&e.activeItems.some((t=>e.compareItems&&t&&e.compareItems(t,e.itemData))),s=t.activeItems&&t.activeItems.length>0&&t.activeItems.some((e=>t.compareItems&&e&&t.compareItems(e,t.itemData)));return!a&&!s&&e.name===t.name&&e.title===t.title&&e.id===t.id&&e.isExpanded===t.isExpanded&&e.defaultExpanded===t.defaultExpanded&&e.onSelect===t.onSelect&&e.onCheck===t.onCheck&&e.onExpand===t.onExpand&&e.onCollapse===t.onCollapse&&e.hasCheckbox===t.hasCheckbox&&e.checkProps===t.checkProps&&e.hasBadge===t.hasBadge&&e.customBadgeContent===t.customBadgeContent&&e.badgeProps===t.badgeProps&&e.isCompact===t.isCompact&&e.icon===t.icon&&e.expandedIcon===t.expandedIcon&&e.action===t.action&&e.parentItem===t.parentItem&&e.itemData===t.itemData}));k.displayName="TreeViewListItem";var I=a(80164),S=a(24396),y=a(1774);class _ extends n.Component{constructor(){super(...arguments),this.displayName="TreeViewRoot",this.treeRef=n.createRef(),this.handleKeys=e=>{var t,a,s,n,l,c,o;if(!this.treeRef.current.contains(e.target)||!e.target.classList.contains(v))return;const i=document.activeElement,r=e.key,d=Array.from(null===(t=this.treeRef.current)||void 0===t?void 0:t.getElementsByClassName(v)).filter((e=>!e.classList.contains("pf-m-disabled")));if(r===y.yu.Space&&(i.click(),e.preventDefault()),(0,S.tL)(e,d,(e=>i===e),void 0,[],void 0,!0,!0),["ArrowLeft","ArrowRight"].includes(r)){const t=null===(s=null===(a=null==i?void 0:i.firstElementChild)||void 0===a?void 0:a.firstElementChild)||void 0===s?void 0:s.classList.contains(g),d=null===(n=null==i?void 0:i.closest("li"))||void 0===n?void 0:n.classList.contains("pf-m-expanded");if("ArrowLeft"===r)if(t&&d)i.click();else{const e=null===(l=null==i?void 0:i.closest("ul"))||void 0===l?void 0:l.parentElement;if("DIV"!==(null==e?void 0:e.tagName)){const t=null==e?void 0:e.querySelector("button");i.tabIndex=-1,t&&(t.tabIndex=0,t.focus())}}else if(t&&!d){i.tabIndex=-1,i.click();const e=null===(o=null===(c=null==i?void 0:i.closest("li"))||void 0===c?void 0:c.querySelector("ul > li"))||void 0===o?void 0:o.querySelector("button");e&&(e.tabIndex=0,e.focus())}e.preventDefault()}},this.handleKeysCheckbox=e=>{var t,a,s,n,l;if(!this.treeRef.current.contains(e.target))return;const c=document.activeElement,o=e.key;o===y.yu.Space&&(c.click(),e.preventDefault());const i=Array.from(null===(t=this.treeRef.current)||void 0===t?void 0:t.getElementsByClassName(v));(0,S.tL)(e,i,(e=>e.contains(c)),(e=>e.querySelector("button,input")),[],void 0,!0,!0),["ArrowLeft","ArrowRight"].includes(o)&&("ArrowLeft"===o?"INPUT"===(null==c?void 0:c.tagName)?(null===(a=null==c?void 0:c.parentElement)||void 0===a?void 0:a.previousSibling)&&c.parentElement.previousSibling.focus():(null==c?void 0:c.previousSibling)&&("SPAN"===(null===(s=c.previousElementSibling)||void 0===s?void 0:s.tagName)?c.previousSibling.firstChild.focus():c.previousSibling.focus()):"INPUT"===(null==c?void 0:c.tagName)?(null===(n=c.parentElement)||void 0===n?void 0:n.nextSibling)&&c.parentElement.nextSibling.focus():(null==c?void 0:c.nextSibling)&&("SPAN"===(null===(l=c.nextElementSibling)||void 0===l?void 0:l.tagName)?c.nextSibling.firstChild.focus():c.nextSibling.focus()),e.preventDefault())},this.variantStyleModifiers={default:"",compact:i,compactNoBackground:[i,m]}}componentDidMount(){var e;if(I.Nq&&window.addEventListener("keydown",this.props.hasCheckboxes||this.props.hasSelectableNodes?this.handleKeysCheckbox:this.handleKeys),this.props.hasCheckboxes||this.props.hasSelectableNodes){const e=this.treeRef.current.getElementsByClassName(g)[0];if(e&&(e.tabIndex=0),this.props.hasCheckboxes){const e=this.treeRef.current.getElementsByTagName("INPUT")[0];e&&(e.tabIndex=0)}if(this.props.hasSelectableNodes){const e=this.treeRef.current.getElementsByClassName(f)[0];e&&(e.tabIndex=0)}}else(null===(e=this.treeRef.current)||void 0===e?void 0:e.getElementsByClassName(v)[0]).tabIndex=0}componentWillUnmount(){I.Nq&&window.removeEventListener("keydown",this.props.hasCheckboxes||this.props.hasSelectableNodes?this.handleKeysCheckbox:this.handleKeys)}render(){const e=this.props,{children:t,hasCheckboxes:a,hasGuides:l,variant:o,className:i,hasSelectableNodes:d}=e,m=(0,s.__rest)(e,["children","hasCheckboxes","hasGuides","variant","className","hasSelectableNodes"]);return n.createElement("div",Object.assign({className:(0,c.css)(h,l&&r,this.variantStyleModifiers[o],i),ref:this.treeRef},m),t)}}const w=e=>{var{data:t,isNested:a=!1,hasCheckboxes:l=!1,hasBadges:c=!1,hasGuides:o=!1,hasSelectableNodes:i=!1,variant:r="default",defaultAllExpanded:d=!1,allExpanded:m,icon:p,expandedIcon:u,parentItem:h,onSelect:v,onCheck:b,onExpand:f,onCollapse:g,toolbar:x,activeItems:N,compareItems:C=((e,t)=>e.id===t.id),className:I,useMemo:S}=e,y=(0,s.__rest)(e,["data","isNested","hasCheckboxes","hasBadges","hasGuides","hasSelectableNodes","variant","defaultAllExpanded","allExpanded","icon","expandedIcon","parentItem","onSelect","onCheck","onExpand","onCollapse","toolbar","activeItems","compareItems","className","useMemo"]);const B=n.createElement(E,{isNested:a,toolbar:x},t.map((e=>{var t,a;return n.createElement(k,Object.assign({key:(null===(t=e.id)||void 0===t?void 0:t.toString())||(null===(a=e.name)||void 0===a?void 0:a.toString()),name:e.name,title:e.title,id:e.id,isExpanded:m,isSelectable:i,defaultExpanded:void 0!==e.defaultExpanded?e.defaultExpanded:d,onSelect:v,onCheck:b,onExpand:f,onCollapse:g,hasCheckbox:void 0!==e.hasCheckbox?e.hasCheckbox:l,checkProps:e.checkProps,hasBadge:void 0!==e.hasBadge?e.hasBadge:c,customBadgeContent:e.customBadgeContent,badgeProps:e.badgeProps,activeItems:N,parentItem:h,itemData:e,icon:void 0!==e.icon?e.icon:p,expandedIcon:void 0!==e.expandedIcon?e.expandedIcon:u,action:e.action,compareItems:C,isCompact:"compact"===r||"compactNoBackground"===r,useMemo:S},e.children&&{children:n.createElement(w,{data:e.children,isNested:!0,parentItem:e,hasCheckboxes:l,hasBadges:c,hasGuides:o,hasSelectableNodes:i,variant:r,allExpanded:m,defaultAllExpanded:d,onSelect:v,onCheck:b,onExpand:f,onCollapse:g,activeItems:N,icon:p,expandedIcon:u})}))})));return n.createElement(n.Fragment,null,h?B:n.createElement(_,Object.assign({hasSelectableNodes:i,hasCheckboxes:l,hasGuides:o,variant:r,className:I},y),B))};w.displayName="TreeView";var B=a(12455),P=a(80810);const R=e=>{var{className:t,onSearch:a,id:l,name:o,"aria-label":i}=e,r=(0,s.__rest)(e,["className","onSearch","id","name","aria-label"]);return n.createElement("div",{className:(0,c.css)("pf-v5-c-tree-view__search",t)},n.createElement("div",{className:(0,c.css)(B.Z.formControl,B.Z.modifiers.icon)},n.createElement("input",Object.assign({onChange:a,id:l,name:o,"aria-label":i,type:"search"},r)),n.createElement("div",{className:(0,c.css)(B.Z.formControlUtilities)},n.createElement("div",{className:(0,c.css)(B.Z.formControlIcon)},n.createElement(P.default,null)))))};R.displayName="TreeViewSearch"}}]);
//# sourceMappingURL=../sourcemaps/8100.30b4701039992100fa37ce214d401afa.js.map