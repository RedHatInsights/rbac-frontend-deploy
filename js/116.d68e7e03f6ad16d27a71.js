(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[116],{80116:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var r=t(59713),n=t.n(r),a=t(63038),c=t.n(a),i=t(80150),l=t.n(i),o=t(39173),p=t(68340),u=t(2372),d=t(45697),m=t.n(d),b=t(69174),f=t(35224),g=function(e){return e.isOrgAdmin?l().createElement(f.u,{position:f.D.right,content:l().createElement("span",null," You can manage other users' permissions with 'User access' ")},l().createElement(b._,{color:"purple"}," Org. Administrator ")):l().createElement(l().Fragment,null)};g.propTypes={isOrgAdmin:m().bool};const _=g;t(19748);var y=t(50693),v=t(16475),h=t(49739),O=t(83826),A=t(60485),E=t(334),w=t(94184),j=t.n(w),U=t(60306),k=t(32203),P=t(70),x=t(62394),N=[{entitlement:"application_services",title:"Application Services",apps:{"Streams for Apache Kafka (beta)":"/","API Management (beta)":"/","Data Science (private beta)":"/"}},{entitlement:"openshift",title:"OpenShift",apps:{clusters:"/",subscriptions:"/subscriptions","cost management":"/cost-management"},appsIds:["cost-management","subscriptions"]},{entitlement:"rhel",title:"Red Hat Enterprise Linux",apps:{advisor:"/advisor",compliance:"/compliance",drift:"/drift","image builder":"/image-builder",patch:"/patch",vulnerability:"/vulnerability",policies:"/policies",subscriptions:"/subscriptions"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance","inventory","notifications","image-builder","subscriptions"]},{entitlement:"ansible",title:"Ansible Automation Platform",apps:{"automation hub":"/automation-hub","automation services catalog":"/catalog",insights:"/automation-analytics"},appsIds:["catalog","approval","automation-analytics","automation-hub"]}];function D(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?D(Object(t),!0).forEach((function(s){n()(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}const C=function(){for(var e=(0,E.useLocation)(),s=e.search,t=new URLSearchParams(s),r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return a.reduce((function(e,s){return S(S({},e),{},n()({},s,t.get(s)))}),{})};t(22300);var M=function(e){var s=e.header,t=e.entitlements,r=e.isDisabled,n=C("bundle").bundle;return l().createElement(l().Fragment,null,s&&l().createElement(A.D,{headingLevel:"h3",size:"xl"},s),l().createElement(h.K,{className:j()({"pf-u-mt-lg":!s}),hasGutter:!0},t&&(null==N?void 0:N.map((function(e){var s=t.find((function(s){var t=c()(s,1)[0];return e.entitlement===t})),a=e.entitlement;return s?l().createElement(O.v,{key:a,className:"ins-c-mua-cardWrapper"},l().createElement(E.NavLink,{className:j()("ins-c-mua-bundles__cardlink",{"ins-c-mua-bundles__cardlink--disabled":r}),to:{pathname:U._j.d$,search:"bundle=".concat(a)}},l().createElement(k.Z,{key:e.title,isFlat:r||a!==n,isSelectable:!r,isSelected:!r&&a===n,className:j()("ins-c-mua-bundles__card","ins-c-mua-bundles__card--".concat(e.entitlement),{"ins-c-mua-bundles__card--disabled":r})},l().createElement(P.l,{className:"ins-c-mua-bundles__card--header"}," ",e.title),l().createElement(x.e,null,l().createElement(h.K,{hasGutter:!0},l().createElement(O.v,{className:"ins-c-mua-bundles__card--applist"},Object.entries(e.apps||{}).map((function(e){var s=c()(e,1)[0];return l().createElement("span",{key:s}," ",s," ")})))))))):null})))))};M.propTypes={header:m().string,entitlements:m().array,isDisabled:m().bool};const B=M;t(57433);function F(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?F(Object(t),!0).forEach((function(s){n()(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var z=function(){return i.Fragment};const I=function(){var e=C("bundle").bundle,s=function(e){var s,t=(0,E.useHistory)(),r=t.push,n=t.location.pathname;return"string"!=typeof e||0===e.length?(r({to:n,search:"bundle=rhel"}),[]):(null===(s=N.find((function(s){return s.entitlement===e})))||void 0===s?void 0:s.appsIds)||[]}(e),r=(0,i.useState)({}),a=c()(r,2),o=a[0],p=a[1];(0,i.useEffect)((function(){Object.prototype.hasOwnProperty.call(o,e)||t(19289)("./".concat(e)).then((function(s){return p((function(t){return L(L({},t),{},n()({},e,s.default))}))})).catch(console.log)}),[e]);var u=o[e]||z;return l().createElement(u,{key:e,apps:s})};var K=t(92622),T=function(e){var s,t=e.entitlements,r=e.isOrgAdmin,n=Object.entries(t).filter((function(e){return c()(e,2)[1].is_entitled})),a=Object.entries(t).filter((function(e){return!c()(e,2)[1].is_entitled})),i=C("bundle").bundle;return l().createElement(K.Z.Provider,{value:r},l().createElement(y.r,null,l().createElement(v.P,{className:"pf-m-3-col-on-md ins-l-myUserAccess-section__cards ins-m-hide-on-sm"},l().createElement(h.K,null,l().createElement(O.v,{className:"ins-l-myUserAccess-section__cards--entitled"},l().createElement(B,{entitlements:n})),a.length>0&&l().createElement(O.v,{className:"ins-l-myUserAccess-section__cards--unentitled"},l().createElement(B,{header:"Not subscribed",entitlements:a,isDisabled:!0})))),l().createElement(v.P,{className:"pf-m-9-col-on-md ins-l-myUserAccess-section__table"},"application_services"!==i&&l().createElement(A.D,{headingLevel:"h3",size:"xl"},"Your ".concat(null===(s=N.find((function(e){return e.entitlement===i})))||void 0===s?void 0:s.title," ").concat(r?"roles":"permissions")),l().createElement(I,null))))};T.propTypes={entitlements:m().object,isOrgAdmin:m().bool};const Z=T;function W(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);s&&(r=r.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?W(Object(t),!0).forEach((function(s){n()(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}const H=function(){var e=(0,i.useState)({}),s=c()(e,2),t=s[0],r=s[1];(0,i.useEffect)((function(){insights.chrome.auth.getUser().then((function(e){var s,t=e.identity,n=e.entitlements;return r({entitlements:n,isOrgAdmin:null==t||null===(s=t.user)||void 0===s?void 0:s.is_org_admin})}))}),[]);var n=G(G({},t.entitlements),window.insights.chrome.isProd?{}:{application_services:{is_entitled:!0,is_trial:!1}});return l().createElement(l().Fragment,null,Object.prototype.hasOwnProperty.call(t,"entitlements")&&Object.prototype.hasOwnProperty.call(t,"isOrgAdmin")?l().createElement(l().Fragment,null,l().createElement(o.Z,{className:"ins-p-myUserAccess--title sticky",title:l().createElement(l().Fragment,null,l().createElement("span",null," My User Access "),l().createElement(_,{isOrgAdmin:t.isOrgAdmin}))}),l().createElement(p.x,{component:"p",className:"ins-p-myUserAccess--subtitle"},"Select applications to view your personal permissions."),l().createElement("div",{className:"ins-p-myUserAccess--dropdown sticky"},l().createElement("div",{className:"pf-c-dropdown pf-m-expanded"},l().createElement("button",{className:"pf-c-dropdown__toggle",type:"button"},l().createElement("span",{className:"pf-c-dropdown__toggle-text"},"Choose a subscription..."),l().createElement("span",{className:"pf-c-dropdown__toggle-icon"},l().createElement("i",{className:"fas fa-caret-down"}))))),l().createElement("section",null,l().createElement(Z,{entitlements:n,isOrgAdmin:t.isOrgAdmin}))):l().createElement(u.$,null))}},92622:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});const r=(0,t(80150).createContext)(!1)},63877:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-c-mua-bundles__card--header,.my-user-access .ins-c-mua-bundles__card--header{font-weight:300}.rbac .ins-c-mua-bundles__card--body,.my-user-access .ins-c-mua-bundles__card--body{color:var(--pf-global--Color--200)}.rbac .ins-c-mua-bundles__card--applist,.my-user-access .ins-c-mua-bundles__card--applist{display:flex;flex-direction:column;color:var(--pf-global--Color--400)}.rbac .ins-c-mua-bundles__card--applist span,.my-user-access .ins-c-mua-bundles__card--applist span{text-transform:capitalize;font-size:var(--pf-global--FontSize--sm);margin-top:var(--pf-global--spacer--sm)}.rbac .ins-c-mua-bundles__card--rhel .ins-c-mua-bundles__card--applist,.my-user-access .ins-c-mua-bundles__card--rhel .ins-c-mua-bundles__card--applist{display:grid;grid-template-columns:auto auto;gap:var(--pf-global--spacer--sm)}.rbac .ins-c-mua-bundles__card--rhel .ins-c-mua-bundles__card--applist span,.my-user-access .ins-c-mua-bundles__card--rhel .ins-c-mua-bundles__card--applist span{margin-top:0}.rbac .ins-c-mua-bundles__card--disabled,.my-user-access .ins-c-mua-bundles__card--disabled{background:var(--pf-global--disabled-color--300)}.rbac .ins-c-mua-bundles__card+.ins-c-mua-bundles__card,.my-user-access .ins-c-mua-bundles__card+.ins-c-mua-bundles__card{margin-top:var(--pf-global--spacer--md)}.rbac .ins-c-mua-bundles__cardlink,.my-user-access .ins-c-mua-bundles__cardlink{color:inherit}.rbac .ins-c-mua-bundles__cardlink:hover,.my-user-access .ins-c-mua-bundles__cardlink:hover{text-decoration:none}.rbac .ins-c-mua-bundles__cardlink--disabled,.my-user-access .ins-c-mua-bundles__cardlink--disabled{pointer-events:none}\n",""]),e.exports=s},99510:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-l-myUserAccess-section__cards--unentitled .pf-c-title,.my-user-access .ins-l-myUserAccess-section__cards--unentitled .pf-c-title{border-top:1px solid var(--pf-global--BorderColor--100);padding-top:var(--pf-global--spacer--md)}.rbac .ins-l-myUserAccess-section__cards--unentitled .ins-c-mua-cardWrapper,.my-user-access .ins-l-myUserAccess-section__cards--unentitled .ins-c-mua-cardWrapper{cursor:not-allowed}\n",""]),e.exports=s},31495:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-p-myUserAccess--title,.my-user-access .ins-p-myUserAccess--title{display:flex;align-items:center;background-color:var(--pf-global--BackgroundColor--100);padding:var(--pf-global--spacer--lg) 0 var(--pf-global--spacer--lg) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--title .pf-c-label,.my-user-access .ins-p-myUserAccess--title .pf-c-label{margin-left:var(--pf-global--spacer--md)}.rbac .ins-p-myUserAccess--subtitle,.my-user-access .ins-p-myUserAccess--subtitle{position:relative;background-color:var(--pf-global--BackgroundColor--100);box-shadow:var(--pf-global--BoxShadow--md-bottom);padding:0 var(--pf-global--spacer--lg) var(--pf-global--spacer--md) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--dropdown,.my-user-access .ins-p-myUserAccess--dropdown{display:none}.rbac .ins-l-myUserAccess-section__cards,.rbac .ins-l-myUserAccess-section__table,.my-user-access .ins-l-myUserAccess-section__cards,.my-user-access .ins-l-myUserAccess-section__table{background-color:var(--pf-global--BackgroundColor--100);height:calc(100vh - 111px - 84px);padding:0 var(--pf-global--spacer--lg);overflow-x:auto}.rbac .ins-l-myUserAccess-section__cards h3,.rbac .ins-l-myUserAccess-section__table h3,.my-user-access .ins-l-myUserAccess-section__cards h3,.my-user-access .ins-l-myUserAccess-section__table h3{padding:var(--pf-global--spacer--lg) 0}.rbac .ins-l-myUserAccess-section__cards,.my-user-access .ins-l-myUserAccess-section__cards{border-right:1px solid var(--pf-global--BorderColor--100)}@media only screen and (max-width: 768px){.rbac .sticky,.my-user-access .sticky{position:sticky;position:-webkit-sticky;background-color:var(--pf-global--BackgroundColor--100);height:60px;width:100%;z-index:200}.rbac .ins-p-myUserAccess--title,.my-user-access .ins-p-myUserAccess--title{padding:var(--pf-global--spacer--xl) var(--pf-global--spacer--lg) var(--pf-global--spacer--md) var(--pf-global--spacer--lg);top:0}.rbac .ins-p-myUserAccess--subtitle,.my-user-access .ins-p-myUserAccess--subtitle{box-shadow:none;padding:0 var(--pf-global--spacer--lg) var(--pf-global--spacer--lg) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--dropdown,.my-user-access .ins-p-myUserAccess--dropdown{display:block;padding:0 var(--pf-global--spacer--lg);top:60px}.rbac .ins-p-myUserAccess-section__table,.my-user-access .ins-p-myUserAccess-section__table{height:auto;margin:var(--pf-global--spacer--md)}.rbac .ins-p-myUserAccess-section__table>.pf-c-title,.my-user-access .ins-p-myUserAccess-section__table>.pf-c-title{display:none}}\n",""]),e.exports=s},22300:(e,s,t)=>{var r=t(93379),n=t(63877);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.id,n,""]]);var a=r(n,{insert:"head",singleton:!1});if(!n.locals||e.hot.invalidate){var c=n.locals;e.hot.accept(63877,(function(){"string"==typeof(n=(n=t(63877)).__esModule?n.default:n)&&(n=[[e.id,n,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,n.locals)?(c=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},57433:(e,s,t)=>{var r=t(93379),n=t(99510);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.id,n,""]]);var a=r(n,{insert:"head",singleton:!1});if(!n.locals||e.hot.invalidate){var c=n.locals;e.hot.accept(99510,(function(){"string"==typeof(n=(n=t(99510)).__esModule?n.default:n)&&(n=[[e.id,n,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,n.locals)?(c=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},19748:(e,s,t)=>{var r=t(93379),n=t(31495);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.id,n,""]]);var a=r(n,{insert:"head",singleton:!1});if(!n.locals||e.hot.invalidate){var c=n.locals;e.hot.accept(31495,(function(){"string"==typeof(n=(n=t(31495)).__esModule?n.default:n)&&(n=[[e.id,n,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,n.locals)?(c=n.locals,a(n)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=n.locals||{}},19289:(e,s,t)=>{var r={"./MUABundles":[98015,7,8015],"./MUABundles.scss":[98015,7,8015],"./__mocks__/rhel":[74528,9,4528],"./__mocks__/rhel.js":[74528,9,4528],"./ansible":[3962,9,6410,5252,4155,8446,5157,3279,4276,3726,3962],"./ansible.js":[3962,9,6410,5252,4155,8446,5157,3279,4276,3726,3962],"./application_services":[39811,9,6410,8015,9811],"./application_services.js":[39811,9,6410,8015,9811],"./openshift":[16662,9,6410,5252,4155,8446,5157,3279,4276,3726,8015,6662],"./openshift.js":[16662,9,6410,5252,4155,8446,5157,3279,4276,3726,8015,6662],"./rhel":[3726,9,6410,5252,4155,8446,5157,3279,4276,3726],"./rhel.js":[3726,9,6410,5252,4155,8446,5157,3279,4276,3726]};function n(e){if(!t.o(r,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=r[e],n=s[0];return Promise.all(s.slice(2).map(t.e)).then((()=>t.t(n,16|s[1])))}n.keys=()=>Object.keys(r),n.id=19289,e.exports=n}}]);