"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[9213],{40400:(e,t,n)=>{n.d(t,{IU:()=>c,Jh:()=>r});var r,a=n(70655),l=n(92950);!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(r||(r={}));let o=0;function c({name:e,xOffset:t=0,yOffset:n=0,width:c,height:i,svgPath:s}){var u;return u=class extends l.Component{constructor(){super(...arguments),this.id="icon-title-"+o++}render(){const e=this.props,{size:o,color:u,title:m,noVerticalAlign:d}=e,p=(0,a.__rest)(e,["size","color","title","noVerticalAlign"]),g=Boolean(m),f=(e=>{switch(e){case r.sm:return"1em";case r.md:return"1.5em";case r.lg:return"2em";case r.xl:return"3em";default:return"1em"}})(o),v=-.125*Number.parseFloat(f),b=d?null:{verticalAlign:`${v}em`},E=[t,n,c,i].join(" ");return l.createElement("svg",Object.assign({style:b,fill:u,height:f,width:f,viewBox:E,"aria-labelledby":g?this.id:null,"aria-hidden":!g||null,role:"img"},p),g&&l.createElement("title",{id:this.id},m),l.createElement("path",{d:s}))}},u.displayName=e,u.defaultProps={color:"currentColor",size:r.sm,noVerticalAlign:!1},u}},69957:(e,t,n)=>{n.d(t,{LP:()=>l,RI:()=>a,ZP:()=>o});var r=n(40400);const a={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},l=(0,r.IU)(a),o=l},91290:(e,t,n)=>{n.d(t,{ZP:()=>o,iC:()=>l,sN:()=>a});var r=n(40400);const a={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},l=(0,r.IU)(a),o=l},39173:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(85893),a=n(94184),l=n.n(a),o=n(25864),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const i=function(e){var t=e.className,n=e.title,a=l()(t);return(0,r.jsx)(o.Title,c({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},93736:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(46801),a=n(65126);const l=function(e){var t=(0,r.useNavigate)();return function(n,r){return t((0,a.n)(n,e),r)}}},76137:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(92950),a=n.n(r),l=n(45697),o=n.n(l),c=n(46801),i=n(25864),s=n(19571),u=function(e){return e?a().createElement(i.Breadcrumb,null,Object.values(e).map((function(e,t){return e.title?a().createElement(i.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a().createElement(c.NavLink,{end:!0,to:e.to},e.title)||e.title):a().createElement(s.Vj,{key:t})}))):null};u.propTypes={breadcrumbs:o().object};const m=u},51999:(e,t,n)=>{n.d(t,{Q:()=>b,y:()=>E});var r=n(92950),a=n.n(r),l=n(45697),o=n.n(l),c=n(25864),i=n(19571),s=n(76137),u=n(85893),m=n(94184),d=n.n(m);const p=a().createContext("light");var g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)};const f=function(e){var t=e.className,n=e.children,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children"]),a=d()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,u.jsx)(p.Consumer,{children:function(e){var t,l;void 0===e&&(e="light");var o=d()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((l={})["pf-m-light"]="light"===e,l));return(0,u.jsx)("section",g({},r,{className:"".concat(a," ").concat(o),"widget-type":"InsightsPageHeader"},{children:n}))}})};var v=n(39173),b=function(e){var t=e.children,n=e.breadcrumbs;return a().createElement(r.Fragment,null,n&&a().createElement("section",{className:"pf-c-page__main-breadcrumb"},a().createElement(s.Z,n)),a().createElement(f,{className:"rbac-page-header"},t))};b.propTypes={children:o().oneOfType([o().arrayOf(o().node),o().node]).isRequired,breadcrumbs:o().array,paddingBottom:o().bool},b.defaultProps={paddingBottom:!1};var E=function(e){var t=e.title,n=e.renderTitleTag,l=e.description,o=e.children;return a().createElement(r.Fragment,null,a().createElement(c.Flex,null,a().createElement(c.FlexItem,{className:"pf-u-mb-sm"},a().createElement(v.Z,{title:t||a().createElement(i.h2,null),className:"rbac-page-header__title"})),a().createElement(c.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},n&&n())),l&&a().createElement(c.TextContent,{className:"rbac-page-header__description"},"string"==typeof l?a().createElement(c.Text,{component:c.TextVariants.p},l):l),o)};E.propTypes={title:o().node,renderTitleTag:o().func,description:o().node,children:o().oneOfType([o().node,o().arrayOf(o().node)])}},73943:(e,t,n)=>{n.d(t,{R:()=>m});var r=n(92950),a=n.n(r),l=n(45697),o=n.n(l),c=n(25864),i=n(69957),s=n(86896),u=n(30893),m=function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,l=e.onConfirmCancel,o=e.customTitle,m=e.customDescription,d=e.customPrimaryButtonTitle,p=e.customSecondaryButtonTitle,g=(0,s.Z)();return a().createElement(c.Modal,{title:a().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},a().createElement(i.ZP,{size:"md",className:"rbac-c-wizard__cancel-warning-header--icon"}),o||g.formatMessage(u.Z.exitItemCreation,{item:t})),variant:c.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[a().createElement(c.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:l},null!=d?d:g.formatMessage(u.Z.exit)),a().createElement(c.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},null!=p?p:g.formatMessage(u.Z.stay))]},a().createElement("span",null,m||g.formatMessage(u.Z.discardedInputsWarning)," "))};m.propTypes={type:o().string,customTitle:o().node,customDescription:o().node,customPrimaryButtonTitle:o().string,customSecondaryButtonTitle:o().string,isOpen:o().bool,onModalCancel:o().func,onConfirmCancel:o().func}},19213:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var r=n(4942),a=n(87462),l=n(29439),o=n(93433),c=n(92950),i=n.n(c),s=n(55140),u=n(46801),m=n(50533),d=n(86896),p=n(44012),g=n(91290),f=n(25864),v=n(67768),b=n(45697),E=n.n(b),h=function(e){var t=e.tabItems,n=e.isHeader,r=(0,u.useLocation)().pathname,a=(0,u.useNavigate)(),l=t.find((function(e){var t=e.name;return r.includes(t)}));return i().createElement(f.Tabs,{className:n?"rbac-page-header__tabs":"",activeKey:l?l.eventKey:0,onSelect:function(e,n){return a(t[n].to)}},t.map((function(e){return i().createElement(f.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))};h.propTypes={tabItems:E().array.isRequired,isHeader:E().bool};const y=h;var Z=n(93736),I=n(51999),C=n(73943),N=n(19756),O=n(19571),_=n(65126),T=n(74368),k=n(76137),x=n(11107),M=n(30893),w=n(4682);const P=function(){var e,t=(0,d.Z)(),n=(0,m.useDispatch)(),b=(0,Z.Z)(),E=(0,u.useLocation)(),h=(0,s.Z)(),P=(0,u.useParams)().groupId,S="default-access"===P,A=(0,v.useFlag)("platform.rbac.group-service-accounts"),F=[{eventKey:0,title:"Roles",name:w.Z["group-detail-roles"].link.replace(":groupId",P),to:"roles"},{eventKey:1,title:"Members",name:w.Z["group-detail-members"].link.replace(":groupId",P),to:"members"}].concat((0,o.Z)(A?[{eventKey:2,title:"Service accounts",name:w.Z["group-detail-service-accounts"].link.replace(":groupId",P),to:"service-accounts"}]:[])),B=(0,m.useSelector)((function(e){var t=e.groupReducer,n=t.groups,r=t.error,a=t.systemGroup;return{pagination:n.pagination||n.meta,filters:n.filters,groupExists:r!==x.VG,systemGroupUuid:null==a?void 0:a.uuid}}),m.shallowEqual),j=B.pagination,z=B.filters,D=B.groupExists,G=B.systemGroupUuid,R=(0,m.useSelector)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.isRecordLoading,a=t.isRecordRolesLoading;return{group:n,isFetching:r||a}}),m.shallowEqual),K=R.group,L=R.isFetching,V=(0,c.useState)(!1),U=(0,l.Z)(V,2),H=U[0],q=U[1],Q=(0,c.useState)(!1),W=(0,l.Z)(Q,2),J=W[0],$=W[1],X=(0,c.useState)(!1),Y=(0,l.Z)(X,2),ee=Y[0],te=Y[1];(0,c.useEffect)((function(){n((0,N.WD)({chrome:h}));var e=S?G:P;return e&&(n((0,N.yi)(e)),h.appObjectId(e)),function(){return h.appObjectId(void 0)}}),[P,G]);var ne,re=function(){return[{title:t.formatMessage(M.Z.groups),to:(0,x.zk)((0,_.n)(w.Z.groups.link),j,z)},D?{title:L?void 0:K.name,isActive:!0}:{title:t.formatMessage(M.Z.invalidGroup),isActive:!0}]},ae=[i().createElement(f.DropdownItem,{component:i().createElement(_.Z,{onClick:function(){return $(!1)},to:(E.pathname.includes("members")?w.Z["group-members-edit-group"]:w.Z["group-roles-edit-group"]).link.replace(":groupId",S?"default-access":P)},t.formatMessage(M.Z.edit)),key:"edit-group"}),i().createElement(f.DropdownItem,{component:i().createElement(_.Z,{to:(E.pathname.includes("members")?w.Z["group-members-remove-group"]:w.Z["group-roles-remove-group"]).link.replace(":groupId",P)},t.formatMessage(M.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return i().createElement(c.Fragment,null,H&&i().createElement(C.R,{type:"group",isOpen:H,customTitle:i().createElement("div",null,t.formatMessage(M.Z.restoreDefaultAccessQuestion)),customDescription:i().createElement(p.Z,(0,a.Z)({},M.Z.restoreDefaultAccessDescription,{values:{b:function(e){return i().createElement("b",null,e)}}})),customPrimaryButtonTitle:t.formatMessage(M.Z.continue),customSecondaryButtonTitle:t.formatMessage(M.Z.cancel),onModalCancel:function(){return q(!1)},onConfirmCancel:function(){n((0,N.gg)([G])).then((function(){return n((0,N.WD)({chrome:h})).then((function(){te(!1)}))})),q(!1),b(w.Z["group-detail-roles"].link).replace(":groupId","default-access")}}),D?i().createElement(c.Fragment,null,i().createElement(I.Q,{breadcrumbs:re()},i().createElement(f.Split,{hasGutter:!0},i().createElement(f.SplitItem,{isFilled:!0},i().createElement(I.y,{title:!L&&K?i().createElement(c.Fragment,null,K.platform_default&&!K.system?(ne=K.name,i().createElement("div",{style:{display:"inline-flex"}},ne,i().createElement("div",{className:"pf-u-ml-sm"},i().createElement(f.Popover,{"aria-label":"default-group-icon",bodyContent:i().createElement(p.Z,(0,a.Z)({},M.Z.defaultAccessGroupNameChanged,{values:{b:function(e){return i().createElement("b",null,e)}}}))},i().createElement(g.ZP,{className:"rbac-default-group-info-icon"}))))):K.name):void 0,description:!L&&K?K.description:void 0})),K.platform_default&&!K.system?i().createElement(f.SplitItem,null,i().createElement("div",{className:"rbac-default-group-reset-btn"},i().createElement(f.Button,{variant:"link",onClick:function(){return q(!0)}},t.formatMessage(M.Z.restoreToDefault)),i().createElement(f.Popover,{"aria-label":"default-group-icon",position:f.PopoverPosition.bottomEnd,bodyContent:i().createElement(p.Z,(0,a.Z)({},M.Z.restoreDefaultAccessInfo,{values:{b:function(e){return i().createElement("b",null,e)}}}))},i().createElement(g.ZP,{className:"rbac-default-group-info-icon pf-u-mt-sm"})))):null,i().createElement(f.SplitItem,null,K.platform_default||K.admin_default?null:i().createElement(f.Dropdown,{ouiaId:"group-title-actions-dropdown",toggle:i().createElement(f.KebabToggle,{onToggle:function(e){return $(e)},id:"group-actions-dropdown"}),isOpen:J,isPlain:!0,position:"right",dropdownItems:ae}))),ee?i().createElement(f.Alert,{variant:"info",isInline:!0,title:t.formatMessage(M.Z.defaultAccessGroupChanged),action:i().createElement(f.AlertActionCloseButton,{onClose:function(){return te(!1)}}),className:"pf-u-mb-lg pf-u-mt-sm"},i().createElement(p.Z,(0,a.Z)({},M.Z.defaultAccessGroupNameChanged,{values:{b:function(e){return i().createElement("b",null,e)}}}))):null),i().createElement(y,{isHeader:!0,tabItems:F}),i().createElement(u.Outlet,{context:(e={},(0,r.Z)(e,w.Z["group-detail-roles"].path,{onDefaultGroupChanged:te}),(0,r.Z)(e,"groupId",P),e)}),!K&&i().createElement(O.Wi,null)):i().createElement(c.Fragment,null,i().createElement("section",{className:"pf-c-page__main-breadcrumb pf-u-pb-md"},i().createElement(k.Z,re())),i().createElement(T.Z,{title:t.formatMessage(M.Z.groupNotFound),description:[t.formatMessage(M.Z.groupDoesNotExist,{id:P})],actions:[i().createElement(f.Button,{key:"back-button",className:"pf-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:function(){return b(-1)}},t.formatMessage(M.Z.backToPreviousPage))]})))}},44012:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(70655),a=n(92950),l=n(86896),o=n(680);function c(e){var t=(0,l.Z)(),n=t.formatMessage,r=t.textComponent,o=void 0===r?a.Fragment:r,c=e.id,i=e.description,s=e.defaultMessage,u=e.values,m=e.children,d=e.tagName,p=void 0===d?o:d,g=n({id:c,description:i,defaultMessage:s},u,{ignoreTag:e.ignoreTag});return"function"==typeof m?m(Array.isArray(g)?g:[g]):p?a.createElement(p,null,a.Children.toArray(g)):a.createElement(a.Fragment,null,g)}c.displayName="FormattedMessage";var i=a.memo(c,(function(e,t){var n=e.values,a=(0,r.__rest)(e,["values"]),l=t.values,c=(0,r.__rest)(t,["values"]);return(0,o.wU)(l,n)&&(0,o.wU)(a,c)}));i.displayName="MemoizedFormattedMessage";const s=i},74368:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(92950),a=n.n(r),l=n(25864),o=n(84747);const c=({title:e,icon:t,description:n,actions:r,...c})=>a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.small,...c},a().createElement(l.EmptyStateIcon,{icon:t||o.SearchIcon}),a().createElement(l.Title,{headingLevel:"h4",size:"lg"},e),a().createElement(l.EmptyStateBody,{className:"pf-u-mb-md"},n.map(((e,t)=>a().createElement(a().Fragment,{key:t},e," ",a().createElement("br",null))))),r)}}]);
//# sourceMappingURL=../sourcemaps/9213.624f7fe3f2f8cecabbfed29c7629f533.js.map