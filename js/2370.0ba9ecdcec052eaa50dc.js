(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[2370,459],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(28416),o=a.n(r),n=a(80236),l=a(47173),s=a(93149);const i=e=>{var{isOpen:t,onConfirm:a,onClose:i,children:c,confirmButtonLabel:m="Confirm",cancelButtonLabel:u="Cancel",variant:p=n.v.small,titleIconVariant:d="warning",withCheckbox:f=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=l.Wu.primary}=e,h=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(a[r[o]]=e[r[o]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant"]);const[y,v]=(0,r.useState)(!1);return o().createElement(n.u,Object.assign({variant:p,isOpen:t,onClose:i,onEscapePress:i,titleIconVariant:d,actions:[o().createElement(l.zx,{ouiaId:"primary-confirm-button",key:"confirm",variant:b,onClick:a,isDisabled:f&&!y},m),o().createElement(l.zx,{ouiaId:"secondary-cancel-button",key:"cancel",variant:l.Wu.link,onClick:i},u)]},h),c,f?o().createElement(s.X,{isChecked:y,onChange:()=>v(!y),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg"}):null)}},41435:(e,t,a)=>{"use strict";a.d(t,{Dl:()=>l,dw:()=>o,e4:()=>s,ir:()=>r});var r,o,n=a(28416);!function(e){e.right="right",e.left="left"}(r||(r={})),function(e){e.up="up",e.down="down"}(o||(o={}));const l=n.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),s=n.createContext({keyHandler:null,sendRef:null})},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r}),a(70347);const r={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r}),a(25238);const r={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},46818:(e,t,a)=>{"use strict";a.d(t,{P8:()=>o});var r=a(78632);const o=()=>({className:r.Z.modifiers.nowrap})},7876:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(85893),o=a(94184),n=a.n(o),l=function(){return l=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};const s=function(e){var t,a=e.type,o=e.children,s=e.className,i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(a[r[o]]=e[r[o]])}return a}(e,["type","children","className"]),c=n()(s,((t={})["ins-l-".concat(a)]=void 0!==a,t));return(0,r.jsxs)("section",l({},i,{className:c,children:[" ",o," "]}))}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(62012),o=a(64756);const n=e=>{const t=(0,r.useNavigate)();return(a,r)=>t((0,o.n)(a,e),r)}},24869:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(28416),o=a.n(r),n=a(55573),l=a(45697),s=a.n(l),i=a(94184),c=a.n(i);const m=({row:e,...t})=>{const{status:a}=e,r=a?.props?.["data-is-active"];return o().createElement(n.e,{className:c()("rbac__user-row",{"ins-m-inactive":!r}),row:e,...t})};m.propTypes={row:s().shape({status:s().shape({props:s().shape({"data-is-active":s().bool,data:s().shape({isActive:s().bool})})})})};const u=m},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(28416),o=a.n(r),n=a(95376),l=a(58826),s=a.n(l);const i=({title:e,icon:t,description:a,actions:r,...l})=>o().createElement(n.EmptyState,{variant:n.EmptyStateVariant.sm,...l},o().createElement(n.EmptyStateHeader,{titleText:o().createElement(o().Fragment,null,e),icon:o().createElement(n.EmptyStateIcon,{icon:t||s()}),headingLevel:"h4"}),o().createElement(n.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>o().createElement(o().Fragment,{key:t},e," ",o().createElement("br",null))))),o().createElement(n.EmptyStateFooter,null,r))},97246:(e,t,a)=>{"use strict";a.d(t,{M:()=>x});var r=a(28416),o=a.n(r),n=a(25387),l=a(45697),s=a.n(l),i=a(2550),c=a(75863),m=a(21081),u=a(49004),p=a(34844),d=a(15433),f=a(12913),g=a(31055),b=a(93297),h=a(95376),y=a(47826),v=a.n(y),C=a(29301),Z=a(68572),k=a(66180);const x=({isCompact:e,borders:t,columns:a,rows:l,toolbarButtons:s,data:y,actionResolver:x,areActionsDisabled:E,routes:M,titlePlural:w,titleSingular:B,pagination:S,paginationProps:I,filterValue:F,isLoading:R,emptyFilters:P,setFilterValue:O,checkedRows:D,isSelectable:T,isRowSelectable:_,fetchData:L,setCheckedItems:A,emptyProps:V,filterPlaceholder:j,rowWrapper:N,filters:q,isFilterable:W,onShowMore:H,showMoreTitle:z,onFilter:Q,onChange:U,value:Y,sortBy:$,onSort:G,isExpandable:K,onExpand:X,hideFilterChips:J,hideHeader:ee,noData:te,noDataDescription:ae,ouiaId:re,tableId:oe,containerRef:ne,textFilterRef:le})=>{const se=(0,n.YB)();return o().createElement(r.Fragment,null,M(),!R&&0===l?.length&&0===F?.length&&q.every((({value:e})=>!e))?o().createElement(k.Z,{title:se.formatMessage(i.Z.configureItems,{items:w}),icon:v(),description:[se.formatMessage(i.Z.toConfigureUserAccess),se.formatMessage(i.Z.createAtLeastOneItem,{item:B})],actions:s()[0],...V}):(()=>{const n=`${"desc"===$?.direction?"-":""}${a[$?.index]?.key}`;return o().createElement(r.Fragment,null,o().createElement(Z.ZP,{isSelectable:T,isRowSelectable:_,checkedRows:D,setCheckedItems:A,isLoading:R||te,data:y,titleSingular:B,filterValue:F,setFilterValue:O,sortBy:n,pagination:S,paginationProps:I,fetchData:L,toolbarButtons:s,filterPlaceholder:j,filters:q,isFilterable:W,onShowMore:H,showMoreTitle:z,onFilter:Q,onChange:U,value:Y,hideFilterChips:J,tableId:oe,containerRef:ne,textFilterRef:le}),R?o().createElement(f.Z,{variant:e?c.B.compact:void 0,rows:S?.limit,columns:a.map((e=>e.title))}):o().createElement(m.i,{canSelectAll:!1,"aria-label":`${w.toLowerCase()} table`,variant:e?c.B.compact:null,borders:t,...T&&l?.length>0&&{onSelect:(e,t,a,{uuid:r,cells:[o],requires:n})=>A((0,C.ZQ)([{uuid:r,name:o,requires:n}],t))},...K&&{onExpand:X},rows:l?.length>0?l:[{fullWidth:!0,cells:[{title:o().createElement(k.Z,{title:se.formatMessage(i.Z.noMatchingItemsFound,{items:w}),description:te&&ae?ae:[se.formatMessage(i.Z.filterMatchesNoItems,{items:w}),se.formatMessage(i.Z.tryChangingFilters)],actions:te&&ae?void 0:[o().createElement(h.EmptyStateActions,{key:"clear-filters"},o().createElement(g.Button,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{O(P),L({...S,offset:0,...P||{name:""}})}},se.formatMessage(i.Z.clearAllFilters)))]}),props:{colSpan:a.length}}]}],cells:a,...l?.length>0&&{actionResolver:x},className:0==l?.length?"ins-c-table-empty-state":"",areActionsDisabled:E,rowWrapper:N,sortBy:$,ouiaId:re,onSort:(e,t,a,r)=>G(e,t,a,r)},!ee&&o().createElement(u.x,null),o().createElement(p.R,null)),!S.noBottom&&o().createElement(d.Z,null,!R&&o().createElement(b.Pagination,{...(0,Z.Wz)(S,L,F,$,I),variant:"bottom",dropDirection:"up"})))})())};x.propTypes={...Z.ZP.propTypes,sortBy:s().shape({directions:s().string,index:s().number}),rowWrapper:s().any,isCompact:s().bool,isRowSelectable:s().func,borders:s().bool,emptyFilters:s().object,checkedRows:s().array,columns:s().array.isRequired,rows:s().array.isRequired,titlePlural:s().string,routes:s().func,actionResolver:s().func,areActionsDisabled:s().func,pagination:s().shape({noBottom:s().bool,limit:s().number,offset:s().number,count:s().number}),paginationProps:s().shape({toggleTemplate:s().func,isCompact:s().bool}),isExpandable:s().bool,onExpand:s().func,onSort:s().func,containerRef:s().node,noData:s().bool,hideFilterChips:s().bool,hideHeader:s().bool,noDataDescription:s().arrayOf(s().node),filters:s().array,tableId:s().string.isRequired},x.defaultProps={...Z.ZP.defaultProps,emptyFilters:{},isCompact:!1,borders:!0,routes:()=>null,hideFilterChips:!1,checkedRows:[],hideHeader:!1}},68572:(e,t,a)=>{"use strict";a.d(t,{Wz:()=>d,ZP:()=>y});var r=a(28416),o=a.n(r),n=a(31611),l=a(25387),s=a(45697),i=a.n(s),c=a(2550),m=a(96486),u=a(29301),p=a(74982);const d=(e={},t,a="",r="",o)=>({...o,itemCount:e.count,perPage:e.limit,page:(0,p.wy)(e.limit,e.offset),onSetPage:(o,n)=>{t({...e,offset:(0,p.vE)(n,e.limit),name:a,orderBy:r})},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}],onPerPageSelect:(e,o)=>{t({offset:0,limit:o,name:a,orderBy:r})}}),f=(e,t=[],a=(()=>{}),r=[],o,n=(()=>!0))=>{const s=(0,l.YB)();return{count:t.length,items:[{title:s.formatMessage(c.Z.selectNone),onClick:()=>{a((()=>[]))}},{...!e&&r&&r.length>0?{title:s.formatMessage(c.Z.selectPage,{length:r.filter(n).length}),onClick:()=>{a((0,u.ZQ)(r,!0))}}:{}}],checked:(0,u.um)(r,t,n),onSelect:t=>{!e&&a((0,u.ZQ)(r,t))},id:o}},g=(e,t=(()=>{}),a=(()=>{}),r="",o={},n="",s,i,p,d,f,g,b,h,y,v,C)=>{const Z=(0,l.YB)();return{onChange:h,value:y,items:[...p&&p.length>0?p.map((({key:n,label:l,value:s,selected:i,placeholder:h,type:y="text",groups:C,items:k,innerRef:x})=>({label:l||(0,u.RI)(n),type:y??"text",filterValues:{innerRef:x,id:`filter-by-${n}`,key:`filter-by-${n}`,placeholder:h||Z.formatMessage(c.Z.filterByKey,{key:n}),value:s,selected:i,..."text"!==y?{isFilterable:d,onShowMore:f,showMoreTitle:g,onFilter:b}:{},groups:C,items:k,onChange:(e,l)=>{const s="string"==typeof l||Array.isArray(l)?l:Object.keys((0,m.pickBy)(l[""],(e=>e)));t({...r,...o,offset:0,[n]:s}),(0,u.Aq)((()=>a({...o,offset:0,orderBy:v,...p.reduce(((e,t)=>({...e,[t.key]:t.value})),{}),[n]:s}))).then((e=>(x?.current?.focus(),e)))},isDisabled:e}}))):[{label:(0,u.RI)(s||n),type:"text",filterValues:{innerRef:C,id:"filter-by-string",key:"filter-by-string",placeholder:Z.formatMessage(c.Z.filterByKey,{key:s||n}),value:r,onChange:(e,r)=>{t({...o,offset:0,name:r}),(0,u.Aq)((()=>a({...o,offset:0,name:r,orderBy:v}))).then((e=>(C?.current?.focus(),e)))},isDisabled:e}}],...i||[]]}},b=(e="",t,a={},r=(()=>{}),o=(()=>{}),n)=>({filters:t&&t.length>0?t.map((({key:e,value:t})=>t&&0!==t.length&&{category:(0,u.RI)(e),type:e,chips:Array.isArray(t)?t.map((e=>({name:e}))):[{name:t}]})).filter(Boolean):[{name:e}],onDelete:(e,[l],s)=>{const i=(e,t,a)=>s?"group"===t||"checkbox"===t?[]:"":a!==l.type?e:"checkbox"===t||"group"===t?e.filter((e=>e!==l.chips[0]?.name)):Array.isArray(e)?[]:"",c=t.reduce(((e,{key:t,value:a,type:r})=>({...e,[t]:i(a,r,t)})),{});r({...a,offset:0,name:"",...c}),o({...a,offset:0,orderBy:n,name:"",...c})}}),h=({isSelectable:e,isRowSelectable:t,checkedRows:a,setCheckedItems:r,isLoading:l,data:s,titleSingular:i,filterValue:c,setFilterValue:m,pagination:u,paginationProps:p,fetchData:h,sortBy:y,toolbarButtons:v,filterPlaceholder:C,filterItems:Z,filters:k,isFilterable:x,onShowMore:E,showMoreTitle:M,onFilter:w,onChange:B,value:S,hideFilterChips:I,tableId:F,textFilterRef:R})=>o().createElement(n.Z,{...e&&{bulkSelect:f(l,a,r,s,F,t)},filterConfig:g(l,m,h,c,u,i,C,Z,k,x,E,M,w,B,S,y,R),actionsConfig:{actions:v()},...!l&&{pagination:d(u,h,c,y,p)},...(c.length>0||k&&k.length>0)&&!I&&{activeFiltersConfig:b(c,k,u,m,h,y)}});h.propTypes={isSelectable:i().bool,isRowSelectable:i().func,checkedRows:i().array,setCheckedItems:i().func,isLoading:i().bool,data:i().array,titleSingular:i().string,filterValue:i().oneOfType([i().array,i().string]),setFilterValue:i().func,filters:i().arrayOf(i().shape({value:i().oneOfType([i().string,i().number,i().array]),key:i().string,placeholder:i().string})),isFilterable:i().bool,onShowMore:i().func,showMoreTitle:i().string,onFilter:i().func,onChange:i().func,value:i().any,pagination:i().shape({limit:i().number,offset:i().number,count:i().number}),paginationProps:i().shape({toggleTemplate:i().func,isCompact:i().bool}),sortBy:i().string,filterItems:i().arrayOf(i().object),filterPlaceholder:i().string,isCollapsible:i().bool,fetchData:i().func.isRequired,toolbarButtons:i().func,hideFilterChips:i().bool,tableId:i().string,textFilterRef:i().object},h.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:p.he,setCheckedItems:()=>{},setFilterValue:()=>{},sortBy:void 0,toolbarButtons:()=>[],filterItems:[],filters:[],isFilterable:!1,hideFilterChips:!1};const y=h},86009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var r=a(46818),o=a(28416),n=a.n(o),l=a(25387),s=a(86706),i=a(62012),c=a(31055),m=a(88094),u=a(64380),p=a(74503),d=a(55140),f=a(7876),g=a(97246),b=a(55218),h=a(78173),y=a(2550),v=a(77044),C=a(29301),Z=a(24869),k=a(86601),x=a(64756),E=a(84414),M=a(14289);const w=({groupReducer:{selectedGroup:e,groups:t}})=>({members:e.members.data,pagination:e.members.meta,groupsPagination:t.pagination||t.meta,groupsFilters:t.filters,group:e,adminDefault:e.admin_default,platformDefault:e.platform_default,isLoading:e.members.isLoading}),B=(e,t,a)=>n().createElement(l._H,{...a?y.Z.removeMembersText:y.Z.removeMemberText,values:{b:e=>n().createElement("b",null,e),name:e,group:t}}),S=()=>{const e=(0,l.YB)(),t=(0,d.Z)(),[a,S]=(0,o.useState)(""),[I,F]=(0,o.useState)([]),[R,P]=(0,o.useState)(!1),[O,D]=(0,o.useState)((()=>null)),[T,_]=(0,o.useState)({}),{groupId:L}=(0,i.useParams)(),{members:A,pagination:V,groupsPagination:j,groupsFilters:N,isLoading:q,adminDefault:W,platformDefault:H,group:z}=(0,s.useSelector)(w,s.shallowEqual),{userAccessAdministrator:Q,orgAdmin:U}=(0,o.useContext)(k.Z),Y=(0,o.useRef)(U||Q),$=[{title:e.formatMessage(y.Z.status),transforms:[r.P8]},{title:e.formatMessage(y.Z.username)},{title:e.formatMessage(y.Z.email)},{title:e.formatMessage(y.Z.lastName)},{title:e.formatMessage(y.Z.firstName)}],G=(0,s.useDispatch)(),K=(e,t=V)=>{G((0,v.nd)(L,e,t))};(0,o.useEffect)((()=>{K()}),[]),(0,o.useEffect)((()=>{Y.current=U||Q}),[U,Q]);const X=e=>G((0,v.tz)(L,e)).then((()=>{F([]),K(void 0,{...V,offset:0}),G((0,v.bt)({usesMetaInURL:!0,chrome:t}))})),J=((0,E.Z)(),(A||[]).map((e=>({...e,uuid:e.username})))),ee=((e,t=[])=>{const a=(0,l.YB)();return e.reduce(((e,{is_active:r,username:o,email:l,first_name:s,last_name:i})=>[...e,{uuid:o,username:o,cells:[{title:n().createElement(h.Label,{color:r&&"green"},a.formatMessage(r?y.Z.active:y.Z.inactive)),props:{data:{isActive:r}}},o,l,i,s],selected:t.find((e=>e.uuid===o))}]),[])})(J,I);return n().createElement(o.Fragment,null,n().createElement(b.Z,{title:T.title,confirmButtonLabel:T.confirmButtonLabel,confirmButtonVariant:c.ButtonVariant.danger,isOpen:R,onClose:()=>P(!1),onConfirm:()=>{P(!1),O()}},T.text),n().createElement(f.Z,{type:"content",id:"tab-principals"},H||W?n().createElement(m.Card,null,n().createElement(m.CardBody,null,n().createElement(p.Bullseye,null,n().createElement(u.TextContent,null,n().createElement(u.Text,{component:u.TextVariants.h1},e.formatMessage(W?y.Z.allOrgAdminsAreMembers:y.Z.allUsersAreMembers)))))):n().createElement(g.M,{data:J,isSelectable:Y.current,rows:ee,columns:$,actionResolver:()=>Y.current?[{title:e.formatMessage(y.Z.remove),onClick:(t,a,r)=>{D((()=>()=>X([r.username.title]))),_({title:e.formatMessage(y.Z.removeMemberQuestion),text:B(r.username.title,z.name,!1),confirmButtonLabel:e.formatMessage(y.Z.removeMember)}),P(!0)}}]:null,filterPlaceholder:e.formatMessage(y.Z.username).toLowerCase(),titlePlural:e.formatMessage(y.Z.members).toLowerCase(),titleSingular:e.formatMessage(y.Z.member),ouiaId:"members-table",pagination:V,filterValue:a,fetchData:({limit:e,offset:t,name:a})=>K(a,{limit:e,offset:t}),setFilterValue:({name:e})=>S(e),checkedRows:I,isLoading:q,rowWrapper:Z.Z,setCheckedItems:e=>{F((t=>e(t)))},toolbarButtons:()=>[...Y.current?[n().createElement(x.Z,{to:M.Z["group-add-members"].link.replace(":groupId",L),key:"remove-from-group",className:"rbac-m-hide-on-sm"},n().createElement(c.Button,{variant:"primary","aria-label":"Add member"},e.formatMessage(y.Z.addMember))),{label:e.formatMessage(y.Z.addMember),props:{className:"rbac-m-hide-on-md"},onClick:()=>{}},{label:e.formatMessage(y.Z.remove),props:{isDisabled:!I||!I.length>0,variant:"danger"},onClick:()=>{const t=I.length>1,a=e.formatMessage(t?y.Z.removeMembersQuestion:y.Z.removeMemberQuestion);D((()=>()=>X(I.map((e=>e.uuid))))),_({title:a,confirmButtonLabel:a,text:B(t?I.length:I[0].uuid,z.name,t)}),P(!0)}}]:[]],emptyProps:{title:e.formatMessage(y.Z.noGroupMembers),description:[e.formatMessage(y.Z.addUserToConfigure),""]},tableId:"group-members"})),n().createElement(o.Suspense,null,n().createElement(i.Outlet,{context:{[M.Z["group-members-edit-group"].path]:{group:z,cancelRoute:M.Z["group-detail-members"].link.replace(":groupId",L),postMethod:()=>G((0,v.yi)(z.uuid))},[M.Z["group-members-remove-group"].path]:{postMethod:()=>G((0,v.bt)({...j,offset:0,filters:N,usesMetaInURL:!0,chrome:t})),cancelRoute:M.Z["group-detail-members"].link.replace(":groupId",L),submitRoute:(0,C.zk)(M.Z.groups.link,{...j,offset:0},N),groupsUuid:[z]},[M.Z["group-add-members"].path]:{fetchData:K,cancelRoute:M.Z["group-detail-members"].link.replace(":groupId",L)}}})))}},70347:()=>{},25238:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2370.c800a14e2511139905fc84d61eb13e32.js.map