(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[7035],{41939:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var o=n(93345),a=n.n(o),r=n(16165),i=n(72583),l=n(83873);const c=e=>{var{isOpen:t,onConfirm:n,onClose:c,children:s,confirmButtonLabel:d="Confirm",cancelButtonLabel:m="Cancel",variant:u=r.d.small,titleIconVariant:p="warning",withCheckbox:f=!1,checkboxLabel:b="I understand that this action cannot be undone",confirmButtonVariant:h=i.Ak.primary,ouiaId:g="WarningModal"}=e,x=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[v,k]=(0,o.useState)(!1);return a().createElement(r.a,Object.assign({variant:u,isOpen:t,onClose:c,onEscapePress:c,titleIconVariant:p,actions:[a().createElement(i.$n,{ouiaId:`${g}-confirm-button`,key:"confirm",variant:h,onClick:()=>{null==n||n(),k(!1)},isDisabled:f&&!v},d),a().createElement(i.$n,{ouiaId:`${g}-cancel-button`,key:"cancel",variant:i.Ak.link,onClick:c},m)],ouiaId:g},x),s,f?a().createElement(l.S,{isChecked:v,onChange:(e,t)=>k(t),label:b,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${g}-confirm-checkbox`}):null)}},61354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o}),n(95067);const o={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},81539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o}),n(26078);const o={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},32069:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o}),n(2580);const o={bullseye:"pf-v5-l-bullseye"}},44419:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var o=n(49634),a=n(58471);const r=e=>{const t=(0,o.useNavigate)();return(n,o)=>t((0,a.o)(n,e),o)}},98374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>k});var o=n(93345),a=n.n(o),r=n(5556),i=n.n(r),l=n(69733),c=n(49634),s=n(8604),d=n(41939),m=n(40748),u=n(79994),p=n(11830),f=n(8582),b=n(31237),h=n(75242),g=n(44419),x=n(40335);const v=({cancelRoute:e,submitRoute:t=e,afterSubmit:n,isLoading:r})=>{const i=(0,s.tz)(),{roleId:v}=(0,c.useParams)(),k=v.split(","),C=(0,l.useSelector)((e=>1===k.length?(0,h.h)(e,k[0]):k.length)),[_,y]=(0,o.useState)(C),B=(0,l.useDispatch)(),O=(0,g.A)();return(0,o.useEffect)((()=>{k&&C?y(C):k&&1===k.length&&(0,b.rM)(k[0]).then((e=>y(e.display_name))).catch((e=>B((0,p.z8)({variant:"danger",title:"Could not get role",description:e?.errors?.[0]?.detail}))))}),[C,k]),_?a().createElement(d.A,{withCheckbox:!0,isOpen:!r,"aria-label":"delete-role",title:i.formatMessage(x.A.deleteRoleQuestion),onClose:()=>O(e,{replace:!0}),onConfirm:()=>{Promise.all(k.map((e=>B((0,f.Tj)(e))))).then((()=>n())),O(t)},confirmButtonLabel:i.formatMessage(x.A.deleteRole),confirmButtonVariant:u.ButtonVariant.danger},a().createElement(m.TextContent,null,a().createElement(m.Text,{component:m.TextVariants.p},a().createElement(s.sA,{...x.A.roleWilBeRemovedWithPermissions,values:{strong:e=>a().createElement("strong",null,e),name:_,count:k.length}})))):null};v.propTypes={cancelRoute:i().oneOfType([i().string,i().shape({pathname:i().string.isRequired,search:i().string,hash:i().string})]).isRequired,submitRoute:i().oneOfType([i().string,i().shape({pathname:i().string.isRequired,search:i().string,hash:i().string})]),afterSubmit:i().func.isRequired,isLoading:i().bool.isRequired};const k=v},75242:(e,t,n)=>{"use strict";n.d(t,{C:()=>o,h:()=>a});const o=(e,t)=>{const{roleReducer:{roles:n={data:[]},selectedRole:o}}=e;return o?.uuid===t?o:n.data.find((({uuid:e})=>e===t))},a=(e,t)=>o(e,t)?.display_name},95067:()=>{},26078:()=>{},2580:()=>{}}]);