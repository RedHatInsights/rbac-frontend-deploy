!function(e){function t(t){for(var a,o,l=t[0],c=t[1],u=t[2],d=0,m=[];d<l.length;d++)o=l[d],r[o]&&m.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);for(s&&s(t);m.length;)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,l=1;l<n.length;l++){var c=n[l];0!==r[c]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/beta/apps/rbac/";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var s=c;i.push([480,1]),n()}({10:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"t",(function(){return o})),n.d(t,"o",(function(){return l})),n.d(t,"n",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"l",(function(){return d})),n.d(t,"q",(function(){return m})),n.d(t,"h",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"s",(function(){return g})),n.d(t,"p",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"r",(function(){return v})),n.d(t,"d",(function(){return E})),n.d(t,"m",(function(){return y})),n.d(t,"i",(function(){return R})),n.d(t,"e",(function(){return O}));var a="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",l="REMOVE_GROUPS",c="FETCH_USERS",u="ADD_ROLE",s="FETCH_ROLE",d="FETCH_ROLES",m="REMOVE_ROLE",p="FETCH_GROUP_POLICIES",f="FETCH_POLICY",g="RESET_SELECTED_GROUP",h="REMOVE_MEMBERS_FROM_GROUP",b="ADD_MEMBERS_TO_GROUP",v="REMOVE_ROLES_FROM_GROUP",E="ADD_ROLES_TO_GROUP",y="FETCH_ROLES_FOR_GROUP",R="FETCH_MEMBERS_FOR_GROUP",O="FETCH_ADD_ROLES_FOR_GROUP"},109:function(e,t,n){"use strict";var a=n(27),r=n.n(a),i=n(4),o=n.n(i),l=n(6),c=n.n(l),u=n(19),s=n.n(u),d=n(2),m=n.n(d),p=n(12),f=n(1),g=n.n(f),h=n(35),b=n(68),v=n(55),E=n(157),y=n(33),R=[{title:"Username",orderBy:"name"},{title:"Email"},{title:"First name"},{title:"Last name"}],O=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce((function(e,t){var a=t.username,r=t.email,i=t.first_name,o=t.last_name;return[].concat(s()(e),[{uuid:a,cells:[a,r,i,o],selected:Boolean(n&&n.find((function(e){return e.uuid===a})))}])}),[]):[]},j=function(e){var t=e.users,n=e.fetchUsers,a=e.isLoading,i=e.pagination,l=e.selectedUsers,u=e.setSelectedUsers,s=e.props,p=Object(d.useState)(""),f=c()(p,2),g=f[0],b=f[1];Object(d.useEffect)((function(){n()}),[]);return m.a.createElement(v.a,r()({columns:R,isSelectable:!0,isCompact:!0,borders:!1,createRows:O,data:t,filterValue:g,fetchData:function(e){return n(Object(h.e)(e))},setFilterValue:function(e){var t=e.name;return b(t)},isLoading:a,pagination:o()({},i,{noBottom:!0,toggleTemplate:function(e){var t=e.firstIndex,n=e.lastIndex;return m.a.createElement("b",null,"".concat(t," - ").concat(n))}}),checkedRows:l,setCheckedItems:function(e){u((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name,a=e.username;return{uuid:t,label:e.label||n||a}}))}))},filterPlaceholder:"username",titlePlural:"users",titleSingular:"user"},s))};j.propTypes={history:g.a.shape({goBack:g.a.func.isRequired,push:g.a.func.isRequired}),users:g.a.array,isLoading:g.a.bool,searchFilter:g.a.string,fetchUsers:g.a.func.isRequired,setSelectedUsers:g.a.func.isRequired,selectedUsers:g.a.array,pagination:g.a.shape({limit:g.a.number.isRequired,offset:g.a.number.isRequired,count:g.a.number}),props:g.a.object},j.defaultProps={users:[],pagination:b.a,selectedUsers:[],setSelectedUsers:function(){}},t.a=Object(p.connect)((function(e){var t=e.userReducer,n=t.users,a=t.isUserDataLoading;return{users:n.data&&n.data.map((function(e){return o()({},e,{uuid:e.username})})),pagination:n.meta,isLoading:a}}),(function(e){return{fetchUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{limit:10,offset:0};e(Object(E.a)(Object(h.e)(t)))},addNotification:function(){return e(y.addNotification.apply(void 0,arguments))}}}))(j)},111:function(e,t,n){"use strict";var a=n(117),r=n.n(a),i=n(132),o="".concat("/api","/rbac/v1");n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m}));var l=new i.PrincipalApi(void 0,o,r.a),c=new i.GroupApi(void 0,o,r.a),u=new i.RoleApi(void 0,o,r.a);new i.PolicyApi(void 0,o,r.a);function s(){return l}function d(){return c}function m(){return u}},120:function(e,t,n){},156:function(e,t,n){"use strict";var a=n(19),r=n.n(a),i=n(4),o=n.n(i),l=n(2),c=n.n(l),u=n(88),s=n(12),d=n(40),m=n(50),p=n(39),f=n(6),g=n.n(f),h=n(197),b=n(130),v=n(55),E=n(26),y=function(e){return e.reduce((function(e,t){var n=t.permission,a=t.modified,i=n.split(":"),o=g()(i,3),u=o[0],s=o[1],d=o[2];return[].concat(r()(e),[{cells:[u,s,d,c.a.createElement(l.Fragment,{key:"".concat(u,"-modified")},c.a.createElement(E.DateFormat,{date:a,type:"relative"}))]}])}),[])},R=n(268),O=(n(474),[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Last commit",transforms:[Object(R.a)(15)]}]),j=function(){var e=Object(l.useState)({pagination:{limit:10,offset:0,count:0,filter:""}}),t=g()(e,2),n=t[0],a=t[1],r=Object(s.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),s.shallowEqual),i=r.role,u=r.isRecordLoading,d=n.pagination,m=n.filter;Object(l.useEffect)((function(){a(o()({},n,{pagination:o()({},n.pagination,{count:i.access?i.access.length:0})}))}),[i]);var p=i&&i.access?(i.access||[]).filter((function(e){var t=e.permission;return"*"!==t&&!m||t.includes(m)})).map((function(e){return o()({},e,{modified:i.modified})})):[];return c.a.createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},c.a.createElement(h.a,null,c.a.createElement(b.a,{component:b.b.h1},"Permissions")),c.a.createElement(v.a,{columns:O,createRows:y,data:p.slice(d.offset,d.offset+d.limit),filterValue:m,fetchData:function(e){var t=e.limit,r=e.offset,i=e.name;return a(o()({},n,{filter:i,pagination:o()({},n.pagination,{limit:t,offset:r})}))},setFilterValue:function(e){var t=e.name;return a(o()({},n,{filter:t}))},isLoading:u,pagination:o()({},d,{count:p.length}),titlePlural:"permissions",titleSingular:"permission"}))},k=n(20);t.a=function(){var e=Object(u.m)(),t=e.uuid,n=e.groupUuid,a=Object(s.useSelector)((function(e){return o()({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},n&&{group:e.groupReducer.selectedGroup})}),s.shallowEqual),i=a.role,f=a.group,g=a.isRecordLoading,h=Object(s.useDispatch)();return Object(l.useEffect)((function(){h(Object(d.b)(t)),n&&h(Object(k.e)(n))}),[t,n]),c.a.createElement(l.Fragment,null,c.a.createElement(m.a,{breadcrumbs:[n?{title:"Groups",to:"/groups"}:{title:"Roles",to:"/roles"}].concat(r()(n?[{title:f&&f.name,to:"/groups/detail/".concat(n,"/roles"),isLoading:f&&f.loaded}]:[]),[{title:i&&i.name,isActive:!0}])},c.a.createElement(m.b,{title:!g&&i?i.name:void 0,description:!g&&i?i.description:void 0})),g||!i?c.a.createElement(p.d,null):c.a.createElement(j,null))}},157:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n.n(r),o=n(111),l=Object(o.b)();n.d(t,"a",(function(){return c}));var c=function(e){return{type:a.n,payload:(t=e,n=t.limit,r=t.offset,o=t.name,l.listPrincipals(n+1,r,o).then((function(e){var t=e.data,a=e.meta,o=!t||t.length<=n,l=t.slice(0,n);return{data:l,meta:i()({},a,{offset:r,limit:n,count:null===a.count?o?(r||0)+l.length:1/0:a.count})}})))};var t,n,r,o}},20:function(e,t,n){"use strict";var a=n(10),r=n(16),i=n.n(r),o=n(4),l=n.n(o),c=n(6),u=n.n(c),s=n(37),d=n.n(s),m=n(111),p=Object(m.a)();function f(e){return g.apply(this,arguments)}function g(){return(g=d()(i.a.mark((function e(t){var n,a,r,o,c,s,d,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.offset,r=t.name,o=t.orderBy,e.next=3,Promise.all([p.listGroups(n,a,r,void 0,void 0,o),insights.chrome.auth.getUser()]);case 3:return c=e.sent,s=u()(c,2),d=s[0],m=s[1],e.abrupt("return",l()({},d,m));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return b.apply(this,arguments)}function b(){return(b=d()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return E.apply(this,arguments)}function E(){return(E=d()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return R.apply(this,arguments)}function R(){return(R=d()(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createGroup(t);case 2:return n=e.sent,a=n,t.user_list&&t.user_list.length>0&&(a=p.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(a=p.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=d()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return p.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return C.apply(this,arguments)}function C(){return(C=d()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t){return L.apply(this,arguments)}function L(){return(L=d()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,n){return D.apply(this,arguments)}function D(){return(D=d()(i.a.mark((function e(t,n,a){var r,o,l,c,u,s=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.limit,o=a.offset,l=a.name,c=a.description,u=s.length>3&&void 0!==s[3]?s[3]:{},e.next=4,p.listRolesForGroup(t,n,l,c,r,o,u);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t){return _.apply(this,arguments)}function _(){return(_=d()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return x.apply(this,arguments)}function x(){return(x=d()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t,n){return P.apply(this,arguments)}function P(){return(P=d()(i.a.mark((function e(t,n,a){var r,o=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>3&&void 0!==o[3]?o[3]:{},e.next=3,p.getPrincipalsFromGroup(t,n,l()({},r,{query:l()({},r.query,a)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"f",(function(){return N})),n.d(t,"e",(function(){return q})),n.d(t,"a",(function(){return U})),n.d(t,"l",(function(){return I})),n.d(t,"i",(function(){return A})),n.d(t,"b",(function(){return B})),n.d(t,"j",(function(){return M})),n.d(t,"h",(function(){return V})),n.d(t,"g",(function(){return z})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return K})),n.d(t,"k",(function(){return W}));var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:a.g,payload:f(e)}},q=function(e){return{type:a.f,payload:h(e)}},U=function(e){return{type:a.a,payload:y(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",dismissDelay:8e3,dismissable:!1,description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",dismissDelay:8e3,dismissable:!1,description:"The group was not added successfuly."}}}}},I=function(e){return{type:a.t,payload:v(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},A=function(e){return{type:a.o,payload:O(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},B=function(e,t){return{type:a.b,payload:w(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},M=function(e,t){return{type:a.p,payload:k(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},V=function(e,t,n){return{type:a.m,payload:S(e,!1,t,n)}},z=function(e,t,n){return{type:a.i,payload:G(e,t,n)}},H=function(e,t,n){return{type:a.e,payload:S(e,!0,t,n)}},K=function(e,t){return{type:a.d,payload:F(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},W=function(e,t){return{type:a.r,payload:T(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},35:function(e,t,n){"use strict";n.d(t,"d",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return b}));var a=n(19),r=n.n(a),i=n(14),o=n.n(i),l=n(4),c=n.n(l),u=n(6),s=n.n(u),d=n(293),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},p=function(e){return Object.entries(e).reduce((function(e,t){var n=s()(t,2),a=n[0],r=n[1];return c()({},e,r&&o()({},a,r))}),{})},f=n.n(d)()((function(e){return e()})),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0!==e.length&&e.every((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))}))||!(0===e.length||!e.some((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))})))&&null},h=function(e,t){return function(n){return t?[].concat(r()(n),r()(e)).filter((function(e,t,n){return n.findIndex((function(t){var n=t.uuid;return e.uuid===n}))===t})):n.filter((function(t){return!e.find((function(e){return e.uuid===t.uuid}))}))}},b=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},384:function(e,t,n){},388:function(e,t,n){},39:function(e,t,n){"use strict";n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return R})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return k}));var a=n(27),r=n.n(a),i=n(19),o=n.n(i),l=n(60),c=n.n(l),u=n(2),s=n.n(u),d=n(1),m=n.n(d),p=n(191),f=n(193),g=n(195),h=n(194),b=n(192),v=(n(196),n(152),n(114)),E=n(26),y=function(e){var t=e.items,n=c()(e,["items"]);return s.a.createElement(u.Fragment,null,s.a.createElement(p.a,{"aria-label":"datalist-placeholder"},o()(Array(t)).map((function(e,t){return s.a.createElement(f.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},s.a.createElement(g.a,{"aria-label":"datalist-item-placeholder-row"},s.a.createElement(h.a,{dataListCells:[s.a.createElement(b.a,{key:"1"},s.a.createElement(E.Skeleton,r()({size:E.SkeletonSize.lg},n)))]})))}))))};y.propTypes={items:m.a.number},y.defaultProps={items:5};var R=function(e){return s.a.createElement("div",null,s.a.createElement(v.default,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),s.a.createElement(y,null))},O=function(e){return s.a.createElement("div",{style:{width:"200px",height:"21px"}},s.a.createElement(v.default,r()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"})))},j=function(e){return s.a.createElement("div",{style:{width:"200px",height:"18px"}},s.a.createElement(v.default,r()({height:18,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"18"})))},k=function(){return s.a.createElement(v.default,{height:32,width:160,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"160",height:"32"}))}},40:function(e,t,n){"use strict";var a=n(10),r=n(4),i=n.n(r),o=n(16),l=n.n(o),c=n(37),u=n.n(c),s=n(111),d=Object(s.c)();function m(e){return p.apply(this,arguments)}function p(){return(p=u()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t=e.limit,n=e.offset;return d.listRoles(t,n)}function g(e){return h.apply(this,arguments)}function h(){return(h=u()(l.a.mark((function e(t){var n,a,r,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.offset,r=t.name,o=t.orderBy,e.t0=i.a,e.t1={},e.next=5,d.listRoles(n,a,r,"account",o,["groups_in_count"]);case 5:return e.t2=e.sent,e.next=8,insights.chrome.auth.getUser();case 8:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=u()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return y.apply(this,arguments)}function y(){return(y=u()(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.d(t,"a",(function(){return R})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return C}));var R=function(e){return{type:a.c,payload:m(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",dismissDelay:8e3,dismissable:!1,description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",dismissDelay:8e3,dismissable:!1,description:"The role was not added successfuly."}}}}},O=function(e){return{type:a.k,payload:b(e)}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:a.l,payload:f(e)}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:a.l,payload:g(e)}},C=function(e){return{type:a.q,payload:E(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",dismissDelay:8e3,dismissable:!1,description:"The role was removed successfully."}}}}}},435:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},476:function(e,t,n){},477:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(197),o=n(130),l=n(198),c=n(153),u=n(50),s=n(26),d=n(109),m=function(){var e=window.insights.chrome.isProd,t=r.a.createElement(i.a,null,r.a.createElement(o.a,null,"These are the users in your organization. To add new users to your organization, go to"," ",r.a.createElement(o.a,{component:o.b.a,href:"https://www.".concat(e?"":"qa.","redhat.com/wapps/ugc/protected/usermgt/userList.html")},"user management list.")));return r.a.createElement(l.a,null,r.a.createElement(c.a,null,r.a.createElement(u.a,{paddingBottm:!1},r.a.createElement(u.b,{title:"Users",description:t}))),r.a.createElement(c.a,null,r.a.createElement(s.Section,{type:"content",id:"users"},r.a.createElement(d.a,{props:{isSelectable:!1,isCompact:!1}}))))};m.propTypes={},m.defaultProps={},t.default=m},478:function(e,t,n){"use strict";n.r(t);var a=n(19),r=n.n(a),i=n(4),o=n.n(i),l=n(6),c=n.n(l),u=n(2),s=n.n(u),d=n(88),m=n(25),p=n(275),f=n(113),g=n(198),h=n(153),b=n(16),v=n.n(b),E=n(37),y=n.n(E),R=n(12),O=n(43),j=n(1),k=n.n(j),C=n(272),w=n(33),L=n(20),S=n(40),D=n(157),T=n(197),_=n(129),F=n(130),x=n(241),G=n(242),P=function(e){var t=e.values?e.values:{name:"",description:""},n=t.name,a=t.description,r=e.selectedUsers?e.selectedUsers:[],i=e.selectedRoles?e.selectedRoles:[];return s.a.createElement(u.Fragment,null,s.a.createElement(g.a,{gutter:"md"},s.a.createElement(h.a,null,s.a.createElement(g.a,{gutter:"md"},s.a.createElement(h.a,null,s.a.createElement(T.a,null,s.a.createElement(_.a,{headingLevel:"h4",size:"xl"}," Add members to the group "),s.a.createElement(F.a,{className:"pf-u-mt-0",component:F.b.h6},"Confirm the details for this group, or click Back to revise."))),s.a.createElement(h.a,{className:"ins-c-rbac__summary"},s.a.createElement(x.a,{gutter:"md"},s.a.createElement(G.a,{span:2},s.a.createElement(F.a,{className:"data-table-detail heading content",component:F.b.h5},"Group name")),s.a.createElement(G.a,{span:10},s.a.createElement(F.a,{className:"data-table-detail content content",component:F.b.p},n))),s.a.createElement(x.a,{gutter:"md"},s.a.createElement(G.a,{span:2},s.a.createElement(F.a,{className:"data-table-detail heading content",component:F.b.h5},"Group description")),s.a.createElement(G.a,{span:10},s.a.createElement(F.a,{className:"data-table-detail content content",component:F.b.p},a))),s.a.createElement(x.a,{gutter:"md"},s.a.createElement(G.a,{span:2},s.a.createElement(F.a,{className:"data-table-detail heading content",component:F.b.h5},"Member(s)")),s.a.createElement(G.a,{span:10},s.a.createElement(F.a,{className:"groups-table-detail content",component:F.b.h5},r.map((function(e,t){return s.a.createElement(F.a,{className:"pf-u-mb-0",key:t},e.label)}))))),s.a.createElement(x.a,{gutter:"md"},s.a.createElement(G.a,{span:2},s.a.createElement(F.a,{className:"data-table-detail heading content",component:F.b.h5},"Role(s)")),s.a.createElement(G.a,{span:10},s.a.createElement(F.a,{className:"groups-table-detail content",component:F.b.h5},i.map((function(e,t){return s.a.createElement(F.a,{className:"pf-u-mb-0",key:t},e.label)}))))))))))};P.propTypes={name:k.a.string,description:k.a.string,groups:k.a.array};var N=P,q=n(196),U=n(152),I=n(226),A=n(228),B=function(e,t,n){return s.a.createElement(u.Fragment,null,s.a.createElement(g.a,{gutter:"md"},s.a.createElement(h.a,null,s.a.createElement(_.a,{size:"xl"}," Enter group details ")),s.a.createElement(h.a,null,s.a.createElement(q.a,null,s.a.createElement(U.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},s.a.createElement(I.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){n(a.currentTarget.value.trim().length>0),t({name:a.currentTarget.value})}})),s.a.createElement(U.a,{label:"Group description",fieldId:"group-description"},s.a.createElement(A.b,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,n){return t({description:n.currentTarget.value})}}))))))};B.propTypes={name:k.a.string,description:k.a.string};var M=B,V=n(223),z=n(109),H=(n(120),function(e){var t=e.selectedUsers,n=e.setSelectedUsers,a=e.title,r=e.description;return s.a.createElement(u.Fragment,null,s.a.createElement(q.a,null,s.a.createElement(g.a,{gutter:"md"},a&&s.a.createElement(h.a,null,s.a.createElement(_.a,{size:"xl"},a)),s.a.createElement(h.a,null,s.a.createElement(T.a,null,s.a.createElement(_.a,{headingLevel:"h4",size:"xl"}," Add members to the group "),s.a.createElement(F.a,{className:"pf-u-mt-0",component:F.b.h6},r||"Select users from your organization to add to this group."))),s.a.createElement(h.a,null,s.a.createElement(U.a,{fieldId:"select-user"},s.a.createElement(V.a,null,s.a.createElement(z.a,{selectedUsers:t,setSelectedUsers:n})))))))});H.propTypes={selectedUsers:k.a.array,setSelectedUsers:k.a.func,title:k.a.string,description:k.a.string};var K=H,W=n(35),J=n(68),X=n(55),Y=[{title:"Name",orderBy:"name"},{title:"Description"}],Q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce((function(e,t){var a=t.uuid,i=t.name,o=t.description;return[].concat(r()(e),[{uuid:a,cells:[i,o],selected:Boolean(n&&n.find((function(e){return e.uuid===a})))}])}),[]):[]},Z=function(e){var t=e.roles,n=e.fetchRoles,a=e.isLoading,r=e.pagination,i=e.selectedRoles,o=e.setSelectedRoles,l=Object(u.useState)(""),d=c()(l,2),m=d[0],p=d[1];Object(u.useEffect)((function(){n({})}),[]);return s.a.createElement(X.a,{columns:Y,isSelectable:!0,isCompact:!0,borders:!1,createRows:Q,data:t,filterValue:m,fetchData:function(e){return n(Object(W.e)(e))},setFilterValue:function(e){var t=e.name;return p(t)},isLoading:a,pagination:r,checkedRows:i,setCheckedItems:function(e){o((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role"})};Z.propTypes={history:k.a.shape({goBack:k.a.func.isRequired,push:k.a.func.isRequired}),roles:k.a.array,isLoading:k.a.bool,searchFilter:k.a.string,fetchRoles:k.a.func.isRequired,setSelectedRoles:k.a.func.isRequired,selectedRoles:k.a.array,pagination:k.a.shape({limit:k.a.number.isRequired,offset:k.a.number.isRequired,count:k.a.number})},Z.defaultProps={roles:[],pagination:J.a};var $=Object(R.connect)((function(e){var t=e.roleReducer,n=t.roles,a=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:a}}),(function(e){return{fetchRoles:function(t){e(Object(S.d)(Object(W.e)(t)))},addNotification:function(){return e(w.addNotification.apply(void 0,arguments))}}}))(Z),ee=Object(R.connect)((function(e){var t=e.groupReducer.selectedGroup,n=t.addRoles.roles;return{roles:n,pagination:t.addRoles.pagination||o()({},J.b,{count:n&&n.length}),isLoading:!t.addRoles.loaded,groupId:t.uuid}}),(function(e){return{fetchRoles:function(t,n){e(Object(L.d)(t,n))},addNotification:function(){return e(w.addNotification.apply(void 0,arguments))}}}),(function(e,t,n){return o()({},n,e,t,{fetchRoles:function(n){return t.fetchRoles(e.groupId,n)}})}))(Z),te=function(e){var t=e.selectedRoles,n=e.setSelectedRoles,a=e.title,r=e.description;return s.a.createElement(u.Fragment,null,s.a.createElement(q.a,null,s.a.createElement(g.a,{gutter:"md"},a&&s.a.createElement(h.a,null,s.a.createElement(_.a,{size:"xl"},a)),s.a.createElement(h.a,null,s.a.createElement(T.a,null,s.a.createElement(_.a,{headingLevel:"h4",size:"xl"}," Assign roles to the group "),s.a.createElement(F.a,{className:"pf-u-mt-0",component:F.b.h6},r||"Select one or more roles to add to this group."))),s.a.createElement(h.a,null,s.a.createElement(U.a,{fieldId:"select-role"},s.a.createElement(V.a,null,s.a.createElement($,{selectedRoles:t,setSelectedRoles:n})))))))};te.propTypes={selectedRoles:k.a.array,setSelectedRoles:k.a.func,title:k.a.string,description:k.a.string};var ne=te,ae=function(e){var t=e.addNotification,n=e.addGroup,a=e.postMethod,r=e.closeUrl,i=Object(u.useState)([]),l=c()(i,2),m=l[0],p=l[1],f=Object(u.useState)([]),g=c()(f,2),h=g[0],b=g[1],E=Object(u.useState)({}),R=c()(E,2),O=R[0],j=R[1],k=Object(u.useState)(!1),w=c()(k,2),L=w[0],S=w[1],D=Object(d.k)(),T=[{name:"General information",component:new M(O,(function(e){j(o()({},O,e))}),S),enableNext:L},{name:"Add members",component:new K({formData:O,selectedUsers:m,setSelectedUsers:p})},{name:"Assign roles",component:new ne({formData:O,selectedRoles:h,setSelectedRoles:b})},{name:"Review",component:new N({values:O,selectedUsers:m,selectedRoles:h}),nextButtonText:"Confirm",enableNext:L}],_=function(){var e=y()(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o()({},O,{user_list:m?m.map((function(e){return{username:e.label}})):void 0,roles_list:h?h.map((function(e){return e.uuid})):void 0}),e.next=3,n(t);case 3:a(),D.push(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return s.a.createElement(C.a,{isLarge:!0,isCompactNav:!0,title:"Create and configure a group",description:"To give users access permissions, create a group and assign roles to it.",isOpen:!0,onClose:function(){t({variant:"warning",title:"Adding group",dismissDelay:8e3,dismissable:!1,description:"Adding group was canceled by the user."}),D.push("/groups")},onSave:_,steps:T})};ae.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups",postMethod:function(){}},ae.propTypes={addGroup:k.a.func.isRequired,addNotification:k.a.func.isRequired,fetchGroup:k.a.func.isRequired,inputValue:k.a.string,selectedUsers:k.a.array,match:k.a.object,postMethod:k.a.func,closeUrl:k.a.string};var re=Object(R.connect)((function(e){var t=e.roleReducer,n=t.roles.meta,a=t.filterValue;return{pagination:n,isLoading:t.isLoading,searchFilter:a}}),(function(e){return Object(O.a)({addNotification:w.addNotification,addGroup:L.a,fetchGroup:L.e,fetchRoles:S.c,fetchUsers:D.a},e)}))(ae),ie=n(87),oe=n.n(ie),le=n(26),ce=n(236),ue=n(27),se=n.n(ue),de=n(14),me=n.n(de),pe=n(60),fe=n.n(pe),ge=n(208),he=n(227),be=n(235),ve=function(e){var t=e.input,n=e.options,a=e.isReadOnly,i=e.isDisabled,o=(e.FieldProvider,e.isRequired),l=fe()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return s.a.createElement(he.a,se()({},t,l,{isDisabled:i||a}),function(e,t,n){if(t&&n)return e;var a=r()(e);return a.find((function(e){return void 0===e.value}))?r()(a):[{label:n?"Please choose":"None"}].concat(r()(a))}(n,t.value,o).map((function(e){return s.a.createElement(be.a,se()({key:e.value||e.label},e,{label:e.label.toString()}))})))};ve.propTypes={input:k.a.object.isRequired,options:k.a.arrayOf(k.a.shape({value:k.a.any,label:k.a.string.isRequired})).isRequired,isReadOnly:k.a.bool,isDisabled:k.a.bool,isRequired:k.a.bool,FieldProvider:k.a.any};var Ee=function(e){e.componentType;var t=e.label,n=e.isRequired,a=e.helperText,r=e.meta,i=e.description,o=e.hideLabel,l=fe()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),c=r.error,u=r.touched&&c;return s.a.createElement(U.a,{isRequired:n,label:!o&&t,fieldId:l.id,isValid:!u,helperText:a,helperTextInvalid:r.error},i&&s.a.createElement(T.a,null,s.a.createElement(F.a,{component:F.b.small},i)),s.a.createElement(ve,se()({label:t,isValid:!u,isRequired:n},l)))};Ee.propTypes={componentType:k.a.string,label:k.a.string,isRequired:k.a.bool,helperText:k.a.string,meta:k.a.object,description:k.a.string,hideLabel:k.a.bool};var ye=Ee,Re={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},Oe=function(e){var t=e.componentMapper,n=e.formContainer,a=fe()(e,["componentMapper","formContainer"]);return s.a.createElement("div",{className:Re[n].buttonClassName},s.a.createElement(oe.a,se()({formFieldsMapper:o()({},ge.formFieldsMapper,me()({componentMapper:t},ie.componentTypes.SELECT,ye)),layoutMapper:ge.layoutMapper},Re[n],a)))};Oe.propTypes={componentMapper:k.a.object,formContainer:k.a.oneOf(["default","modal"])},Oe.defaultProps={componentMapper:{},formContainer:"default"};var je=Oe,ke=function(e){var t=e.addNotification,n=e.updateGroup,a=e.postMethod,r=e.closeUrl,i=e.isOpen,l=e.group,m=e.onClose,p=Object(u.useState)(void 0),g=c()(p,2),h=g[0],b=g[1],v=Object(d.k)(),E=Object(d.n)("/groups/edit/:id"),y=function(e){b(e)};Object(u.useEffect)((function(){E&&Object(L.e)(E.params.id).payload.then((function(e){return y(e)})).catch((function(){return y(void 0)}))}),[]),Object(u.useEffect)((function(){b(l)}),[l]);var R=function(){t({variant:"warning",dismissDelay:8e3,dismissable:!1,title:h?"Editing group":"Adding group",description:h?"Edit group was canceled by the user.":"Adding group was canceled by the user."}),m(),v.push(r)},O={fields:[{name:"name",label:"Name",component:ie.componentTypes.TEXT_FIELD,validate:[{type:ie.validatorTypes.REQUIRED}]},{name:"description",label:"Description",component:ie.componentTypes.TEXTAREA_FIELD}]};return s.a.createElement(ce.a,{isLarge:!0,width:"50%",title:"Edit group's information",isOpen:i,onClose:R}," ",h?s.a.createElement(x.a,{gutter:"md"},s.a.createElement(T.a,null,s.a.createElement(F.a,null,"Make any changes to ".concat(h.name," group."))),s.a.createElement(G.a,null,s.a.createElement(je,{schema:O,schemaType:"mozilla",onSubmit:function(e){var t=o()({},e);a?n(t).then((function(){return a()})).then(v.push(r)):n(t).then((function(){return v.push(r)}))},formContainer:"modal",initialValues:o()({},h),renderFormButtons:function(e){var t=e.pristine,n=e.valid,a=e.form.submit;return s.a.createElement("div",null,s.a.createElement(f.a,{isDisabled:t||!n,onClick:a,variant:"primary"},"Submit"),s.a.createElement(f.a,{variant:"link",onClick:R},"Cancel"))}}))):s.a.createElement(le.Skeleton,null))};ke.defaultProps={closeUrl:"/groups",onClose:function(){return null},onSubmit:function(){return null}},ke.propTypes={addNotification:k.a.func.isRequired,fetchGroup:k.a.func.isRequired,inputValue:k.a.string,updateGroup:k.a.func.isRequired,postMethod:k.a.func,closeUrl:k.a.string,isOpen:k.a.bool,group:k.a.object,onClose:k.a.func};var Ce=Object(R.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return Object(O.a)({addNotification:w.addNotification,updateGroup:L.l,fetchGroup:L.e},e)}))(ke),we=n(225),Le=n(166),Se=n(39),De=function(e){var t=e.removeGroups,n=e.group,a=e.isLoading,r=e.fetchGroup,i=e.groupsUuid,o=e.isModalOpen,l=e.postMethod,m=e.closeUrl;Object(u.useEffect)((function(){1===i.length&&r(i[0].uuid)}),[]);var p=Object(d.k)(),g=Object(u.useState)(!1),h=c()(g,2),b=h[0],v=h[1],E=i.length>1,y=function(){return p.goBack()};return s.a.createElement(ce.a,{isOpen:o,isSmall:!0,title:s.a.createElement(F.a,null,s.a.createElement(Le.b,{className:"delete-group-warning-icon"}),"  ",E?"Delete groups?":"Delete group?"),onClose:y,actions:[s.a.createElement(f.a,{key:"submit",isDisabled:!b,variant:"danger",type:"button",onClick:function(){var e=i.map((function(e){return e.uuid}));t(e).then((function(){return l(e)})).then(p.push(m))}},E?"Delete groups":"Delete group"),s.a.createElement(f.a,{key:"cancel",variant:"link",type:"button",onClick:y},"Cancel")],isFooterLeftAligned:!0},s.a.createElement(T.a,null,E?s.a.createElement(F.a,null,"Deleting these ",s.a.createElement("b",null,i.length)," groups removes all roles from the members inside the group."):a?s.a.createElement(Se.c,null):s.a.createElement(F.a,null,"Deleting the ",s.a.createElement("b",null,n.name)," group removes all roles from the members inside the group."))," ",s.a.createElement(we.a,{isChecked:b,onChange:function(){return v(!b)},label:"I understand that this action cannot be undone.",id:"delete-group-check"}))};De.defaultProps={isModalOpen:!1,group:{},groupsUuid:[],isLoading:!0,closeUrl:"/groups"},De.propTypes={isModalOpen:k.a.bool,removeGroups:k.a.func.isRequired,fetchGroup:k.a.func.isRequired,postMethod:k.a.func,isLoading:k.a.bool,group:k.a.object,groupsUuid:k.a.array,closeUrl:k.a.string};var Te=Object(R.connect)((function(e){var t=e.groupReducer.selectedGroup;return{group:t,isLoading:!t.loaded}}),(function(e){return Object(O.a)({fetchGroup:L.e,removeGroups:L.i},e)}))(De),_e=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var a=t.uuid,i=t.name,o=t.roleCount,l=t.principalCount,c=t.modified,d=t.platform_default;return[].concat(r()(e),[{uuid:a,isPlatformDefault:d,cells:[s.a.createElement(u.Fragment,{key:a},s.a.createElement(m.Link,{to:"/groups/detail/".concat(a)},i)),o,l,s.a.createElement(u.Fragment,{key:"".concat(a,"-modified")},s.a.createElement(le.DateFormat,{date:c,type:"relative"}))],selected:Boolean(n&&n.find((function(e){return e.uuid===a})))}])}),[])},Fe=n(274),xe=n(237),Ge=(n(476),function(e){var t=e.history.push,n=e.location.pathname,a=e.tabItems,r=e.isHeader,i=a.find((function(e){var t=e.name;return n.includes(t)}));return s.a.createElement(Fe.a,{className:r?"ins-rbac-page-header__tabs":"",activeKey:i?i.eventKey:0,onSelect:function(e,n){return t(a[n].name)}},a.map((function(e){return s.a.createElement(xe.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))});Ge.propTypes={location:k.a.shape({pathname:k.a.string.isRequired}),history:k.a.shape({push:k.a.func.isRequired}),tabItems:k.a.array.isRequired,isHeader:k.a.bool};var Pe=Object(d.o)(Ge),Ne=n(50),qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var a=t.username,i=t.email,o=t.first_name,l=t.last_name;return[].concat(r()(e),[{uuid:a,username:a,cells:[a,i,l,o],selected:n.find((function(e){return e.uuid===a}))}])}),[])},Ue=n(224),Ie=n(240),Ae=function(e){var t=e.history.push,n=e.match.params.uuid,a=e.addNotification,r=e.closeUrl,i=e.addMembersToGroup,o=e.fetchGroup,l=Object(u.useState)([]),d=c()(l,2),m=d[0],p=d[1],g=function(){a({variant:"warning",title:"Adding member".concat(m.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(m.length>1?"s":""," to group was canceled by the user.")}),t(r)};return s.a.createElement(ce.a,{title:"Add members to the group",width:"40%",isOpen:!0,isFooterLeftAligned:!0,actions:[s.a.createElement(f.a,{key:"confirm",isDisabled:0===m.length,variant:"primary",onClick:function(){var e=m.map((function(e){return{username:e.label}}));e.length>0&&(a({variant:"info",title:"Adding member".concat(e.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(e.length>1?"s":""," to group initiated.")}),i(n,e).then((function(){return o(n)}))),t(r)}},"Add to group"),s.a.createElement(f.a,{key:"cancel",variant:"link",onClick:g},"Cancel")],onClose:g},s.a.createElement(z.a,{selectedUsers:m,setSelectedUsers:p}))};Ae.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},Ae.propTypes={history:k.a.shape({goBack:k.a.func.isRequired}).isRequired,addGroup:k.a.func.isRequired,addNotification:k.a.func.isRequired,fetchData:k.a.func.isRequired,fetchGroup:k.a.func.isRequired,inputValue:k.a.string,users:k.a.array,selectedUsers:k.a.array,match:k.a.object,closeUrl:k.a.string,addMembersToGroup:k.a.func.isRequired};var Be=Object(d.o)(Object(R.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return Object(O.a)({addNotification:w.addNotification,addGroup:L.a,addMembersToGroup:L.b,fetchGroup:L.e},e)}))(Ae)),Me=n(243),Ve=n(244),ze=function(e){var t=e.title,n=e.text,a=e.onClose,r=e.onSubmit,i=e.isOpen,o=e.confirmButtonLabel,l=e.withCheckbox,d=Object(u.useState)(!1),m=c()(d,2),p=m[0],h=m[1];return s.a.createElement(ce.a,{className:"ins-c-rbac__dialog--warning",title:s.a.createElement("div",null," ",s.a.createElement(Le.b,{className:"ins-m-alert ins-c-rbac__delete-icon"})," ",t," "),isOpen:i,isSmall:!0,onClose:a,actions:[s.a.createElement(f.a,{key:"confirm",isDisabled:l&&!p,variant:"danger",onClick:r},o),s.a.createElement(f.a,{key:"cancel",variant:"link",onClick:a},"Cancel")],isFooterLeftAligned:!0},s.a.createElement(Me.a,{gutter:"md"},s.a.createElement(Ve.a,{isFilled:!0},s.a.createElement(g.a,{gutter:"md"},s.a.createElement(T.a,null,n)))),l?s.a.createElement(we.a,{isChecked:p,onChange:function(){return h(!p)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)};ze.propTypes={text:k.a.string,title:k.a.string,confirmButtonLabel:k.a.string,onSubmit:k.a.func,onClose:k.a.func,isOpen:k.a.bool,withCheckbox:k.a.bool},ze.defaultProps={withCheckbox:!1};var He=ze,Ke=[{title:"Username"},"Email","Last name","First name"],We=function(e){var t=e.groupReducer,n=t.groups,a=t.selectedGroup;return{principals:a.members.data,pagination:a.members.meta,userIdentity:n.identity,groupName:a.name,platform_default:a.platform_default,isLoading:a.members.isLoading}},Je=function(e,t,n){return n?s.a.createElement("p",null,"These ",s.a.createElement("b",null," ","".concat(e))," members will lose all the roles associated with the ",s.a.createElement("b",null,"".concat(t))," group."):s.a.createElement("p",null," ",s.a.createElement("b",null,"".concat(e))," will lose all the roles associated with the ",s.a.createElement("b",null," ","".concat(t))," group.")},Xe=function(){var e=Object(u.useState)(""),t=c()(e,2),n=t[0],a=t[1],i=Object(u.useState)([]),l=c()(i,2),p=l[0],g=l[1],h=Object(u.useState)(!1),b=c()(h,2),v=b[0],E=b[1],y=Object(u.useState)((function(){return null})),O=c()(y,2),j=O[0],k=O[1],C=Object(u.useState)({}),w=c()(C,2),S=w[0],D=w[1],_=Object(d.m)().uuid,x=Object(R.useSelector)(We,R.shallowEqual),G=x.principals,P=x.pagination,N=x.groupName,q=x.userIdentity,U=x.isLoading,I=x.platform_default,A=Object(R.useDispatch)(),B=function(e,t){A(Object(L.g)(_,e,t))};Object(u.useEffect)((function(){B()}),[]);var M=function(e){return A(Object(L.j)(_,e)).then((function(){g([]),B()}))};return s.a.createElement(u.Fragment,null,s.a.createElement(He,{text:S.text,title:S.title,confirmButtonLabel:S.confirmButtonLabel,isOpen:v,onClose:function(){return E(!1)},onSubmit:function(){E(!1),j()}}),s.a.createElement(le.Section,{type:"content",id:"tab-principals"},I?s.a.createElement(V.a,null,s.a.createElement(Ue.a,null,s.a.createElement(Ie.a,null,s.a.createElement(T.a,null,s.a.createElement(F.a,{component:F.b.h1},"All users in this organization are members of this group."))))):s.a.createElement(X.a,{data:(G||[]).map((function(e){return o()({},e,{uuid:e.username})})),isSelectable:q&&q.user&&q.user.is_org_admin,createRows:qe,columns:Ke,routes:function(){return s.a.createElement(u.Fragment,null,s.a.createElement(d.d,{path:"/groups/detail/:uuid/members/add_members",render:function(e){return s.a.createElement(Be,se()({fetchData:B,closeUrl:"/groups/detail/".concat(_,"/members")},e))}}))},actionResolver:function(){return q&&q.user&&q.user.is_org_admin?[{title:"Remove",onClick:function(e,t,n){k((function(){return function(){return M([n.username.title])}})),D({title:"Remove member?",text:Je(n.username.title,N,!1),confirmButtonLabel:"Remove member"}),E(!0)}}]:null},filterPlaceholder:"username",titlePlural:"members",titleSingular:"member",pagination:P,filterValue:n,fetchData:function(e){var t=e.limit,n=e.offset,a=e.name;return B(a,{limit:t,offset:n})},setFilterValue:function(e){var t=e.name;return a(t)},checkedRows:p,isLoading:U,setCheckedItems:function(e){g((function(t){return e(t)}))},toolbarButtons:function(){return r()(q&&q.user&&q.user.is_org_admin?[s.a.createElement(m.Link,{to:"/groups/detail/".concat(_,"/members/add_members"),key:"remove-from-group"},s.a.createElement(f.a,{variant:"primary","aria-label":"Add member"},"Add member")),{label:"Remove",props:{isDisabled:!p||!p.length>0,variant:"danger"},onClick:function(){var e=p.length>1;k((function(){return function(){return M(p.map((function(e){return e.name||e.username})))}})),D({title:"Remove members?",confirmButtonLabel:e?"Remove members":"Remove member",text:Je(e?p.length:p[0].name||p[0].username,N,e)}),E(!0)}}]:[])},emptyProps:{title:"There are no members in this group",description:["Add a user to configure user access.",""]}})))},Ye=n(148),Qe=function(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit;return s.a.createElement(He,{text:s.a.createElement(T.a,null,s.a.createElement(F.a,null,"Once you edit the ",s.a.createElement("b",null,"Default user access")," group, the system will no longer update it with new default access roles. The group name will change to ",s.a.createElement("b",null,"Custom default user access"),".")),title:"Warning",withCheckbox:!0,isOpen:t,confirmButtonLabel:"Continue",onClose:n,onSubmit:a})};Qe.propTypes={onSubmit:k.a.func,onClose:k.a.func,isOpen:k.a.bool};var Ze=Qe,$e=function(e){var t=e.history.push,n=e.match.params.uuid,a=e.selectedRoles,r=e.setSelectedRoles,i=e.title,o=e.closeUrl,l=e.addRolesToGroup,d=e.name,m=e.isDefault,p=e.isChanged,b=e.addNotification,v=e.onDefaultGroupChanged,E=e.fetchGroup,y=Object(u.useState)(!0),R=c()(y,2),O=R[0],j=R[1],k=function(){b({variant:"warning",title:"Adding roles to group",dismissDelay:8e3,dismissable:!1,description:"Adding roles to group was canceled by the user."}),t(o)};return m&&!p&&O?s.a.createElement(Ze,{isOpen:O,onClose:k,onSubmit:function(){return j(!1)}}):s.a.createElement(ce.a,{title:"Add roles to group",width:"70%",isOpen:!0,onClose:function(){k(),j(!0)},actions:[s.a.createElement(f.a,{"aria-label":"Save",variant:"primary",key:"confirm",isDisabled:0===a.length,onClick:function(){var e=a.map((function(e){return e.uuid}));return l(n,e,(function(){return E(n)})),m&&!p&&v(!0),t(o)}},"Add to group"),s.a.createElement(f.a,{"aria-label":"Cancel",variant:"link",key:"cancel",onClick:k},"Cancel")],isFooterLeftAligned:!0},s.a.createElement(g.a,{gutter:"md"},i&&s.a.createElement(h.a,null,s.a.createElement(_.a,{size:"xl"},i)),s.a.createElement(h.a,null,s.a.createElement(T.a,null,s.a.createElement(F.a,{component:F.b.h6},"This role list has been ",s.a.createElement("b",null," filtered ")," to ",s.a.createElement("b",null," only show roles ")," that are ",s.a.createElement("b",null," not currently ")," in ",s.a.createElement("b",null," ",d),"."))),s.a.createElement(h.a,null,s.a.createElement(V.a,null,s.a.createElement(ee,{selectedRoles:a,setSelectedRoles:r})))))};$e.propTypes={history:k.a.shape({goBack:k.a.func.isRequired}).isRequired,match:k.a.shape({params:k.a.object.isRequired}).isRequired,selectedRoles:k.a.array,setSelectedRoles:k.a.func,addRolesToGroup:k.a.func,closeUrl:k.a.string,title:k.a.string,name:k.a.string,isDefault:k.a.bool,isChanged:k.a.bool,addNotification:k.a.func,onDefaultGroupChanged:k.a.func,fetchGroup:k.a.func};var et=$e,tt=function(e){var t=e.title,n=e.text,a=e.onClose,r=e.onSubmit,i=e.isOpen,o=e.confirmButtonLabel,l=e.isDefault,d=e.isChanged,m=Object(u.useState)(!0),p=c()(m,2),f=p[0],g=p[1];return l&&!d&&f?s.a.createElement(Ze,{isOpen:f&&i,onClose:function(){a()},onSubmit:function(){g(!1)}}):s.a.createElement(He,{text:n,title:t,isOpen:i,confirmButtonLabel:o,onClose:function(){a(),g(!0)},onSubmit:function(){r()}})};tt.propTypes={text:k.a.string,title:k.a.string,confirmButtonLabel:k.a.string,onSubmit:k.a.func,onClose:k.a.func,isOpen:k.a.bool,isDefault:k.a.bool,isChanged:k.a.bool},tt.defaultProps={isDefault:!1,isChanged:!1};var nt=tt,at=[{title:"Name",orderBy:"name"},{title:"Description"},{title:"Last modified"}],rt=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t?t.reduce((function(t,n){var i=n.uuid,o=n.name,l=n.description,c=n.modified;return[].concat(r()(t),[{uuid:i,title:o,cells:[s.a.createElement(u.Fragment,{key:"".concat(i,"-name")},s.a.createElement(m.Link,{to:"/groups/detail/".concat(e,"/roles/detail/").concat(i)},o)),l,s.a.createElement(u.Fragment,{key:"".concat(i,"-modified")},s.a.createElement(le.DateFormat,{date:c,type:"relative"}))],selected:Boolean(a&&a.find((function(e){return e.uuid===i})))}])}),[]):[]},it=function(e){var t=e.roles,n=e.fetchRoles,a=e.removeRoles,i=e.addRoles,o=e.fetchRolesForGroup,l=e.isLoading,p=e.pagination,g=e.match.params.uuid,h=e.userIdentity,b=e.name,v=e.isDefault,E=e.isChanged,y=e.onDefaultGroupChanged,R=e.fetchAddRolesForGroup,O=e.disableAddRoles,j=e.addNotification,k=e.fetchGroup,C=Object(u.useState)(""),w=c()(C,2),L=w[0],S=w[1],D=Object(u.useState)(""),T=c()(D,2),_=T[0],F=T[1],x=Object(u.useState)([]),G=c()(x,2),P=G[0],N=G[1],q=Object(u.useState)([]),U=c()(q,2),I=U[0],A=U[1],B=Object(u.useState)(!1),M=c()(B,2),V=M[0],z=M[1],H=Object(u.useState)((function(){return null})),K=c()(H,2),W=K[0],J=K[1],Y=Object(u.useState)({}),Q=c()(Y,2),Z=Q[0],$=Q[1];Object(u.useEffect)((function(){o(p)(g)}),[]),Object(u.useEffect)((function(){R(g)}),[t]);var ee=function(e,t,n){return s.a.createElement("p",null,"Members in the ",s.a.createElement("b",null,e)," group will lose the permissions in ",n?"these":"the",s.a.createElement("b",null," ",t)," role",n?"s":"",".")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(nt,{text:Z.text,title:Z.title,isOpen:V,isChanged:E,isDefault:v,confirmButtonLabel:Z.confirmButtonLabel,onClose:function(){return z(!1)},onSubmit:function(){z(!1),W(),N([]),y(v)}}),s.a.createElement(le.Section,{type:"content",id:"tab-roles"},s.a.createElement(X.a,{columns:at,isSelectable:h&&h.user&&h.user.is_org_admin,createRows:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rt.apply(void 0,[g].concat(t))},data:t,filterValue:_,fetchData:function(e){o(e)(g)},setFilterValue:function(e){var t=e.name,n=e.description;void 0!==t&&F(t),void 0!==n&&S(n)},isLoading:l,pagination:p,checkedRows:P,setCheckedItems:function(e){N((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role",toolbarButtons:function(){return r()(h&&h.user&&h.user.is_org_admin?[s.a.createElement(m.Link,{to:"/groups/detail/".concat(g,"/roles/add_roles"),key:"add-to-group"},(e=O,e?s.a.createElement(Ye.a,{content:s.a.createElement("div",null,"All available roles have already been added to the group")},s.a.createElement("div",null,s.a.createElement(f.a,{variant:"primary","aria-label":"Add role",isDisabled:e},"Add role"))):s.a.createElement(f.a,{variant:"primary","aria-label":"Add role"},"Add role"))),{label:"Remove from group",props:{isDisabled:!P||!P.length>0,variant:"danger"},onClick:function(){var e=P.length>1;J((function(){return function(){return a(g,P.map((function(e){return e.uuid})),(function(){return o(p)(g)}))}})),$({title:e?"Remove roles?":"Remove role?",confirmButtonLabel:P.length>1?"Remove roles":"Remove role",text:ee(b,e?P.length:t.find((function(e){return e.uuid===P[0].uuid})).name,e)}),z(!0)}}]:[]);var e},actionResolver:function(){return r()(h&&h.user&&h.user.is_org_admin?[{title:"Remove from group",onClick:function(e,t,n){J((function(){return function(){return a(g,[n.uuid],(function(){return k(g)}))}})),$({title:"Remove role?",confirmButtonLabel:"Remove role",text:ee(b,n.title,!1)}),z(!0)}}]:[])},routes:function(){return s.a.createElement(u.Fragment,null,s.a.createElement(d.d,{path:"/groups/detail/:uuid/roles/add_roles",render:function(e){return s.a.createElement(et,se()({fetchData:n,fetchGroup:k,selectedRoles:I,setSelectedRoles:A,closeUrl:"/groups/detail/".concat(g,"/roles"),addRolesToGroup:i,name:b,isDefault:v,isChanged:E,addNotification:j,onDefaultGroupChanged:y},e))}}))},emptyProps:{title:"There are no roles in this group",description:["Add a role to configure user access.",""]},textFilters:[{key:"name",value:_},{key:"description",value:L}]})))},ot=function(e,t){return e.payload.then(t),e};it.propTypes={history:k.a.shape({goBack:k.a.func.isRequired,push:k.a.func.isRequired}),roles:k.a.array,isLoading:k.a.bool,searchFilter:k.a.string,fetchRoles:k.a.func.isRequired,fetchRolesForGroup:k.a.func.isRequired,fetchAddRolesForGroup:k.a.func.isRequired,selectedRoles:k.a.array,addRoles:k.a.func,name:k.a.string,removeRoles:k.a.func,pagination:k.a.shape({limit:k.a.number.isRequired,offset:k.a.number.isRequired,count:k.a.number}),match:k.a.shape({params:k.a.object.isRequired}).isRequired,userIdentity:k.a.shape({user:k.a.shape({is_org_admin:k.a.bool})}),isDefault:k.a.bool,isChanged:k.a.bool,onDefaultGroupChanged:k.a.func,disableAddRoles:k.a.bool.isRequired,addNotification:k.a.func,fetchGroup:k.a.func},it.defaultProps={roles:[],pagination:J.a,selectedRoles:[],userIdentity:{}};var lt=Object(R.connect)((function(e){var t=e.groupReducer,n=t.selectedGroup,a=t.groups,r=n.roles;return{roles:r,pagination:n.pagination||o()({},J.b,{count:r&&r.length}),isLoading:!n.loaded,userIdentity:a.identity,name:n.name,isDefault:n.platform_default,isChanged:!n.system,disableAddRoles:!(n.addRoles.pagination&&n.addRoles.pagination.count>0)}}),(function(e){return{fetchRoles:function(t){e(Object(S.c)(Object(W.e)(t)))},addRoles:function(t,n,a){return e(ot(Object(L.c)(t,n),a))},removeRoles:function(t,n,a){return e(ot(Object(L.k)(t,n),a))},fetchRolesForGroup:function(t){return function(n,a){return e(Object(L.h)(n,t,a))}},fetchAddRolesForGroup:function(t){return e(Object(L.d)(t,{},{}))},addNotification:function(){return e(w.addNotification.apply(void 0,arguments))},fetchGroup:function(t){return e(Object(L.e)(t))}}}))(it),ct=n(190),ut=n(273),st=n(214),dt=n(167),mt=(n(475),function(e){var t=e.match.params.uuid,n=e.group,a=e.fetchGroup,r=e.isFetching,i=[{eventKey:0,title:"Roles",name:"/groups/detail/".concat(t,"/roles")},{eventKey:1,title:"Members",name:"/groups/detail/".concat(t,"/members")}],o=Object(u.useState)(!1),l=c()(o,2),m=l[0],p=l[1],g=Object(u.useState)(!1),h=c()(g,2),b=h[0],v=h[1],E=function(e){a(e)};Object(u.useEffect)((function(){E(t)}),[]);var y;return s.a.createElement(u.Fragment,null,s.a.createElement(Ne.a,{breadcrumbs:[{title:"Groups",to:"/groups"},{title:n.name,isActive:!0}]},s.a.createElement(Me.a,{gutter:"md"},s.a.createElement(Ve.a,{isFilled:!0},s.a.createElement(Ne.b,{title:!r&&n?s.a.createElement(u.Fragment,null,n.platform_default&&!n.system?(y=n.name,s.a.createElement("div",{style:{display:"inline-flex"}},y,s.a.createElement("div",{className:"pf-u-ml-sm"},s.a.createElement(ct.a,{"aria-label":"default-group-icon",bodyContent:s.a.createElement("div",null,"Now that you have edited the ",s.a.createElement("b",null,"Default user access")," group, the system will no longer update it with new default access roles. The group name has changed to ",s.a.createElement("b",null,"Custom default user access"),".")},s.a.createElement(dt.b,{className:"ins-c-rbac__default-group-info-icon"}))))):n.name):void 0,description:!r&&n?n.description:void 0})),s.a.createElement(Ve.a,null,n.platform_default?null:s.a.createElement(f.a,{onClick:function(){return p(!0)},variant:"secondary"},"Edit group")),s.a.createElement(Ce,{isOpen:m,group:n,closeUrl:"group/detail/".concat(t),onClose:function(){return p(!1)},postMethod:function(){E(t),p(!1)}})),b?s.a.createElement(ut.a,{variant:"info",isInline:!0,title:"Default user access group has changed",action:s.a.createElement(st.a,{onClose:function(){return v(!1)}}),className:"pf-u-mb-lg pf-u-mt-sm"},"Now that you have edited the ",s.a.createElement("b",null,"Default user access")," group, the system will no longer update it with new default access roles. The group name has changed to ",s.a.createElement("b",null,"Custom default user access"),"."):null),s.a.createElement(Pe,{isHeader:!0,tabItems:i}),s.a.createElement(d.g,null,s.a.createElement(d.d,{path:"/groups/detail/:uuid/roles",render:function(e){return s.a.createElement(lt,se()({},e,{onDefaultGroupChanged:v}))}}),s.a.createElement(d.d,{path:"/groups/detail/:uuid/members",component:Xe}),s.a.createElement(d.d,{render:function(){return s.a.createElement(d.c,{to:"/groups/detail/".concat(t,"/roles")})}})),!n&&s.a.createElement(Se.d,null))});mt.propTypes={location:k.a.shape({pathname:k.a.string.isRequired}),history:k.a.shape({push:k.a.func.isRequired}),match:k.a.object,group:k.a.shape({uuid:k.a.string,name:k.a.string,description:k.a.string}),isFetching:k.a.bool,fetchGroup:k.a.func},mt.defaultProps={isFetching:!1};var pt=Object(R.connect)((function(e){var t=e.groupReducer;return{group:t.selectedGroup,isFetching:t.isLoading}}),(function(e){return Object(O.a)({fetchGroup:L.e},e)}))(mt),ft=n(156),gt=n(291),ht=n(297),bt=function(e){var t=e.className,n=e.row,a=fe()(e,["className","row"]);return s.a.createElement(gt.a,se()({className:Object(ht.a)(t,{"ins-c-rbac__group-default":n.isPlatformDefault}),row:n},a))};bt.propTypes={row:k.a.shape({isPlatformDefault:k.a.bool}),className:k.a.string};var vt=bt,Et=(n(388),[{title:"Name",key:"name",transforms:[p.a]},{title:"Roles"},{title:"Members"},{title:"Last modified",key:"modified",transforms:[p.a]}]);t.default=function(){var e=Object(u.useState)(""),t=c()(e,2),n=t[0],a=t[1],i=Object(u.useState)([]),l=c()(i,2),p=l[0],b=l[1],v=Object(u.useState)([]),E=c()(v,2),y=E[0],O=E[1],j=Object(R.useDispatch)(),k=Object(R.useSelector)((function(e){var t=e.groupReducer,n=t.groups,a=t.isLoading;return{groups:n.data,pagination:n.meta,userIdentity:n.identity,isLoading:a}}),R.shallowEqual),C=k.groups,w=k.pagination,S=k.userIdentity,D=k.isLoading;Object(u.useEffect)((function(){j(Object(L.f)(o()({},w,{name:n})))}),[]);var T=Object(d.k)(),_=function(e){b((function(t){return e(t).filter((function(e){return!e.platform_default})).map((function(e){return{uuid:e.uuid,label:e.name}}))}))},F=function(){return s.a.createElement(u.Fragment,null,s.a.createElement(d.d,{exact:!0,path:"/groups/add-group"},s.a.createElement(re,{postMethod:function(e){j(Object(L.f)(e)),a("")}})),s.a.createElement(d.d,{exact:!0,path:"/groups/edit/:id"},s.a.createElement(Ce,{postMethod:function(e){j(Object(L.f)(e)),a("")},isOpen:!0})),s.a.createElement(d.d,{exact:!0,path:"/groups/removegroups"},s.a.createElement(Te,{postMethod:function(e){j(Object(L.f)()),b(p.filter((function(t){return!e.includes(t.uuid)}))),a("")},isModalOpen:!0,groupsUuid:y})))},x=function(e){return e.isPlatformDefault||!(S&&S.user&&S.user.is_org_admin)?null:[{title:"Edit group",onClick:function(e,t,n){T.push("/groups/edit/".concat(n.uuid))}},{title:"Delete group",onClick:function(e,t,n){O([n]),T.push("/groups/removegroups")}}]},G=function(){return r()(S&&S.user&&S.user.is_org_admin?[s.a.createElement(m.Link,{to:"/groups/add-group",key:"add-group"},s.a.createElement(f.a,{variant:"primary","aria-label":"Create group"},"Create group")),{label:"Edit group",props:{isDisabled:!(1===p.length)},onClick:function(){return T.push("/groups/edit/".concat(p[0].uuid))}},{label:"Delete Group(s)",props:{isDisabled:!p.length>0},onClick:function(){O(p),T.push("/groups/removegroups")}}]:[])};return s.a.createElement(d.g,null,s.a.createElement(d.d,{path:"/groups/detail/:groupUuid/roles/detail/:uuid",render:function(e){return s.a.createElement(ft.a,e)}}),s.a.createElement(d.d,{path:"/groups/detail/:uuid",render:function(e){return s.a.createElement(pt,e)}}),s.a.createElement(d.d,{path:"/groups",render:function(){return s.a.createElement(g.a,null,s.a.createElement(h.a,null,s.a.createElement(Ne.a,{paddingBottom:!0},s.a.createElement(Ne.b,{title:"Groups"}))),s.a.createElement(h.a,null,s.a.createElement(le.Section,{type:"content",id:"tab-groups"},s.a.createElement(X.a,{data:C.map((function(e){return e.platform_default?o()({},e,{principalCount:"All"}):e})),createRows:_e,columns:Et,isSelectable:S&&S.user&&S.user.is_org_admin,checkedRows:p,setCheckedItems:_,routes:F,actionResolver:x,titlePlural:"groups",titleSingular:"group",pagination:w,filterValue:n,fetchData:function(e){return j(Object(L.f)(e))},setFilterValue:function(e){var t=e.name;return a(t)},toolbarButtons:G,isLoading:D,filterPlaceholder:"name",rowWrapper:vt}))))}}))}},479:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n.n(a),i=n(6),o=n.n(i),l=n(2),c=n.n(l),u=n(12),s=n(88),d=n(25),m=n(268),p=n(275),f=n(113),g=n(198),h=n(153),b=n(19),v=n.n(b),E=n(26),y=function(e){return e.reduce((function(e,t){var n=t.uuid,a=t.name,r=t.description,i=t.system,o=t.accessCount,u=t.groups_in_count,s=t.modified;return[].concat(v()(e),[{uuid:n,system:i,cells:[c.a.createElement(l.Fragment,{key:"".concat(n,"-name")},c.a.createElement(d.Link,{to:"/roles/detail/".concat(n)},a)),r,c.a.createElement(l.Fragment,{key:"".concat(n,"-accessCount")},c.a.createElement(d.Link,{to:"/roles/detail/".concat(n)},o)),u,c.a.createElement(l.Fragment,{key:"".concat(n,"-modified")},c.a.createElement(E.DateFormat,{date:s,type:"relative"}))]}])}),[])},R=n(35),O=n(40),j=n(50),k=n(55),C=n(16),w=n.n(C),L=n(37),S=n.n(L),D=n(43),T=n(1),_=n.n(T),F=n(272),x=n(33),G=n(129),P=n(197),N=n(130),q=n(238),U=n(239),I=n(72),A=n(484),B=n(483),M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.resourceDefinitions,r=void 0===a?[]:a,i=[{title:"Key"},{title:"Operation"},{title:"value"},""],o=r.map((function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:n?c.a.createElement(f.a,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}}));return c.a.createElement(I.b,{"aria-label":"Resource definitions",cells:i,rows:o,variant:I.d.compact},c.a.createElement(A.a,null),c.a.createElement(B.a,null))};M.propTypes={resourceDefinitions:_.a.arrayOf(_.a.shape({key:_.a.number.isRequired,operation:_.a.number.isRequired,value:_.a.number.isRequired}))};var V=M,z=function(e){var t=e.application,n=void 0===t?"":t,a=e.description,r=void 0===a?"":a,i=e.name,o=void 0===i?"":i,l=e.permission,u=void 0===l?"":l,s=e.resourceType,d=void 0===s?"":s;return c.a.createElement(g.a,{gutter:"md"},c.a.createElement(h.a,null,c.a.createElement(G.a,{size:"xl"},"Confirm details")),c.a.createElement(h.a,null,c.a.createElement(g.a,{gutter:"md"},c.a.createElement(h.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{component:N.b.h5},"Confirm the details for your source, or click Back to revise"))),c.a.createElement(h.a,null,c.a.createElement(P.a,null,c.a.createElement(q.a,{component:q.b.dl},c.a.createElement(U.a,{component:U.b.dt},"Name"),c.a.createElement(U.a,{component:U.b.dd},o),c.a.createElement(U.a,{component:U.b.dt},"Description"),c.a.createElement(U.a,{component:U.b.dd},r),c.a.createElement(U.a,{component:U.b.dt},"Application"),c.a.createElement(U.a,{component:U.b.dd},n),c.a.createElement(U.a,{component:U.b.dt},"Resource type"),c.a.createElement(U.a,{component:U.b.dd},d),c.a.createElement(U.a,{component:U.b.dt},"Operation"),c.a.createElement(U.a,{component:U.b.dd},u),c.a.createElement(U.a,{component:U.b.dt},"Resource definition"),c.a.createElement(U.a,{component:U.b.dd},new V(e))))))))};z.propTypes={application:_.a.string,description:_.a.string,name:_.a.string,permission:_.a.string,resourceType:_.a.string};var H=z,K=n(196),W=n(152),J=n(226),X=function(e,t){var n=Object(l.useState)({key:"",operation:"",value:""}),a=o()(n,2),i=a[0],u=a[1],s=e.resourceDefinitions,d=void 0===s?[]:s,m=function(){for(var e=!1,t=0;t<d.length;t++){var n=d[t];if(n.key===i.key&&n.operation===i.operation&&n.value===i.value){e=!0;break}}return e},p=!m()&&i.key.trim().length>0&&i.operation.trim().length>0&&i.value.trim().length>0,b=function(e){u(r()({},i,e))};return c.a.createElement(g.a,{gutter:"md"},c.a.createElement(h.a,null,c.a.createElement(G.a,{size:"xl"},"Resource definitions")),c.a.createElement(h.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{component:N.b.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),c.a.createElement(h.a,null,c.a.createElement(K.a,null,c.a.createElement(W.a,{label:"Key",fieldId:"resource-key"},c.a.createElement(J.a,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return b({key:t.currentTarget.value})},type:"text",value:i.key})),c.a.createElement(W.a,{label:"Operation",fieldId:"resource-operation"},c.a.createElement(J.a,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return b({operation:t.currentTarget.value})},type:"text",value:i.operation})),c.a.createElement(W.a,{label:"Value",fieldId:"resource-value"},c.a.createElement(J.a,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return b({value:t.currentTarget.value})},type:"text",value:i.value})))),c.a.createElement(h.a,null,c.a.createElement(f.a,{variant:"primary",isDisabled:!p,onClick:function(){if(!m()){var e=[].concat(v()(d),[i]);t({resourceDefinitions:e})}}},"Add to definitions")),c.a.createElement(h.a,null,new V(e,(function(e){for(var n=[],a=0;a<d.length;a++){var r=d[a];r.key===e.key&&r.operation===e.operation&&r.value===e.value||n.push(r)}t({resourceDefinitions:n})}),!0)))};X.propTypes={resourceDefinitions:_.a.arrayOf(_.a.shape({key:_.a.number.isRequired,operation:_.a.number.isRequired,value:_.a.number.isRequired}))};var Y=X,Q=n(228),Z=function(e,t){var n=e.description,a=void 0===n?"":n,r=e.name,i=void 0===r?"":r;return c.a.createElement(g.a,{gutter:"md"},c.a.createElement(h.a,null,c.a.createElement(G.a,{size:"xl"},"Name and description")),c.a.createElement(h.a,null,c.a.createElement(K.a,null,c.a.createElement(W.a,{label:"Name",isRequired:!0,fieldId:"name"},c.a.createElement(J.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,n){return t({name:n.currentTarget.value},n.currentTarget.value.trim().length>0)}})),c.a.createElement(W.a,{label:"Description",fieldId:"description"},c.a.createElement(Q.b,{type:"text",id:"description",name:"description",value:a,onChange:function(e,n){return t({description:n.currentTarget.value},!0)}})))))};Z.propTypes={name:_.a.string,description:_.a.string};var $=Z,ee=function(e,t){var n=e.application,a=void 0===n?"":n,i=e.permission,o=void 0===i?"":i,l=e.resourceType,u=void 0===l?"":l,s=function(e){var n=function(e){return r()({application:a,permission:o,resourceType:u},e)}(e),i=n.application.trim().length>0&&n.permission.trim().length>0&&n.resourceType.trim().length>0;t(n,i)};return c.a.createElement(g.a,{gutter:"md"},c.a.createElement(h.a,null,c.a.createElement(G.a,{size:"xl"},"Permission")),c.a.createElement(h.a,null,c.a.createElement(P.a,null,c.a.createElement(N.a,{component:N.b.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),c.a.createElement(h.a,null,c.a.createElement(K.a,null,c.a.createElement(W.a,{label:"Application",isRequired:!0,fieldId:"application"},c.a.createElement(J.a,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return s({application:t.currentTarget.value})},type:"text",value:a})),c.a.createElement(W.a,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},c.a.createElement(J.a,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return s({resourceType:t.currentTarget.value})},type:"text",value:u})),c.a.createElement(W.a,{label:"Permission",isRequired:!0,fieldId:"permission"},c.a.createElement(J.a,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return s({permission:t.currentTarget.value})},type:"text",value:o})))))};ee.propTypes={application:_.a.string,permission:_.a.string,resourceType:_.a.string};var te=ee,ne=function(e){var t=e.addNotification,n=e.createRole,a=e.history.push,i=e.pagination,u=Object(l.useState)({}),s=o()(u,2),d=s[0],m=s[1],p=Object(l.useState)(!1),f=o()(p,2),g=f[0],h=f[1],b=Object(l.useState)(!1),v=o()(b,2),E=v[0],y=v[1],R=Object(l.useState)(1),j=o()(R,2),k=j[0],C=j[1],L=function(e){m(r()({},d,e))},D=[{id:1,name:"Name and Description",canJumpTo:k>=1,component:new $(d,(function(e,t){L(e),h(t)})),enableNext:g},{id:2,name:"Permission",canJumpTo:k>=2&&g,component:new te(d,(function(e,t){L(e),y(t)})),enableNext:E},{id:3,name:"Resource definitions",canJumpTo:k>=3&&g&&E,component:new Y(d,L)},{id:4,name:"Review",canJumpTo:k>=4&&g&&E,component:new H(d),nextButtonText:"Confirm"}],T=function(){var e=S()(w.a.mark((function e(){var t,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[d.application],description:d.description,name:d.name,access:[{permission:"".concat(d.application,":").concat(d.resourceType,":").concat(d.permission),resourceDefinitions:d.resourceDefinitions.map((function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}}))}]},e.next=3,n(t);case 3:return r=e.sent,Object(O.c)(i).then(a("/roles")),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(F.a,{isLarge:!0,title:"Add role",isOpen:!0,onClose:function(){t({variant:"warning",title:"Creating role was canceled by the user",dismissDelay:8e3,dismissable:!1}),a("/roles")},onNext:function(e){var t=e.id;C(k<t?t:k)},onSave:T,steps:D})};ne.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},ne.propTypes={history:_.a.shape({goBack:_.a.func.isRequired,push:_.a.func.isRequired}).isRequired,addNotification:_.a.func.isRequired,createRole:_.a.func.isRequired,fetchRoles:_.a.func.isRequired,inputValue:_.a.string,pagination:_.a.shape({limit:_.a.number.isRequired,offset:_.a.number.isRequired,count:_.a.number.isRequired})};var ae=Object(s.o)(Object(u.connect)((function(e){var t=e.roleReducer,n=t.roles,a=t.filterValue,r=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:r,searchFilter:a}}),(function(e){return Object(D.a)({addNotification:x.addNotification,createRole:O.a,fetchRoles:O.c},e)}))(ne)),re=n(236),ie=n(241),oe=n(242),le=n(39),ce=function(e){var t=e.history,n=t.goBack,a=t.push,r=e.match.params.id,i=e.removeRole,o=e.role,u=e.isLoading,s=e.fetchRole,d=e.fetchRoles;Object(l.useEffect)((function(){s(r)}),[]);var m=function(){return n()};return c.a.createElement(re.a,{isOpen:!0,isSmall:!0,title:"",onClose:m,actions:[c.a.createElement(f.a,{key:"cancel",variant:"secondary",type:"button",onClick:m},"Cancel"),c.a.createElement(f.a,{key:"submit",isDisabled:u,variant:"primary",type:"button",onClick:function(){return i(r).then((function(){d(),a("/roles")}))}},"Confirm")]},c.a.createElement(ie.a,{gutter:"sm"},c.a.createElement(oe.a,{span:5},c.a.createElement(P.a,null,c.a.createElement(N.a,{component:N.b.h1},"Removing Role:"))),c.a.createElement(oe.a,{span:6},c.a.createElement(P.a,null,!u&&c.a.createElement(N.a,{component:N.b.h1},o.name)),u&&c.a.createElement(le.c,null))))};ce.defaultProps={role:{},isLoading:!0},ce.propTypes={addNotification:_.a.func.isRequired,fetchRole:_.a.func.isRequired,fetchRoles:_.a.func.isRequired,isLoading:_.a.bool,history:_.a.shape({goBack:_.a.func.isRequired,push:_.a.func.isRequired}).isRequired,match:_.a.shape({params:_.a.shape({id:_.a.string}).isRequired}).isRequired,removeRole:_.a.func.isRequired,role:_.a.object};var ue=Object(s.o)(Object(u.connect)((function(e){var t=e.roleReducer,n=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:n.meta}}),(function(e){return Object(D.a)({addNotification:x.addNotification,fetchRole:O.b,fetchRoles:O.c,removeRole:O.e},e)}))(ce)),se=n(156),de=[{title:"Name",key:"name",transforms:[Object(m.a)(20),p.a]},{title:"Description"},{title:"Permissions",transforms:[Object(m.a)(5)]},{title:"Groups",transforms:[Object(m.a)(5)]},{title:"Last modified",key:"modified",transforms:[Object(m.a)(10),p.a]}],me=function(e){var t=e.roleReducer,n=t.roles,a=t.isLoading;return{roles:n.data,pagination:n.meta,userIdentity:n.identity,userEntitlements:n.entitlements,isLoading:a}};t.default=function(){var e=Object(l.useState)(""),t=o()(e,2),n=t[0],a=t[1],i=Object(l.useState)(!1),m=o()(i,2),p=m[0],b=m[1],v=Object(u.useDispatch)(),C=Object(s.k)().push,w=Object(u.useSelector)(me,u.shallowEqual),L=w.roles,S=w.isLoading,D=w.pagination,T=w.userIdentity,_=w.userEntitlements,F=function(e){return v(Object(O.d)(e))};Object(l.useEffect)((function(){F(r()({},D,{name:n})),window.insights.chrome.getUserPermissions("cost-management").then((function(e){var t=e.map((function(e){return e.permission}));b(t.includes("cost-management:*:*"))}))}),[]);var x=function(){return c.a.createElement(l.Fragment,null,c.a.createElement(s.d,{exact:!0,path:"/roles/add-role",component:ae}),c.a.createElement(s.d,{exact:!0,path:"/roles/remove/:id",component:ue}))},G=function(e){var t=e.system,n=insights.chrome.isBeta()&&T&&T.user&&T.user.is_org_admin;return t||!n?[]:[{title:"Delete",onClick:function(e,t,n){return C("/roles/remove/".concat(n.uuid))}}]},P=function(){return[c.a.createElement(l.Fragment,{key:"add-role"},_&&_.cost_management&&window.insights.chrome.isBeta()&&p?c.a.createElement(d.Link,{to:"/roles/add-role"},c.a.createElement(f.a,{variant:"primary","aria-label":"Create role"},"Create Role")):c.a.createElement(l.Fragment,null))]};return c.a.createElement(s.g,null,c.a.createElement(s.d,{path:"/roles/detail/:uuid",render:function(e){return c.a.createElement(se.a,e)}}),c.a.createElement(s.d,{path:"/roles",render:function(){return c.a.createElement(g.a,null,c.a.createElement(h.a,null,c.a.createElement(j.a,null,c.a.createElement(j.b,{title:"Roles"}))),c.a.createElement(h.a,null,c.a.createElement(E.Section,{type:"content",id:"tab-roles"},c.a.createElement(k.a,{actionResolver:G,columns:de,createRows:y,data:L,filterValue:n,fetchData:function(e){return F(Object(R.e)(e))},setFilterValue:function(e){var t=e.name;return a(t)},isLoading:S,pagination:D,routes:x,titlePlural:"roles",titleSingular:"role",toolbarButtons:P,filterPlaceholder:"name"}))))}}))}},480:function(e,t,n){"use strict";n.r(t);var a,r,i,o,l=n(2),c=n.n(l),u=n(32),s=n.n(u),d=n(25),m=n(12),p=n(300),f=n(116),g=n.n(f),h=n(33),b=n(282),v=n.n(b),E=n(283),y=n(14),R=n.n(y),O=n(4),j=n.n(O),k=n(10),C=(a={},R()(a,"".concat(k.n,"_PENDING"),(function(e){return j()({},e,{isUserDataLoading:!0})})),R()(a,"".concat(k.n,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{users:n,isUserDataLoading:!1})})),a),w=function(e){return j()({},e,{isRecordLoading:!0,selectedGroup:j()({},e.selectedGroup,{loaded:!1})})},L=(r={},R()(r,"".concat(k.g,"_PENDING"),(function(e){return j()({},e,{isLoading:!0})})),R()(r,"".concat(k.g,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{groups:n,isLoading:!1})})),R()(r,"".concat(k.f,"_PENDING"),w),R()(r,"".concat(k.f,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{groups:j()({},e.groups,{data:e.groups.data.map((function(e){return j()({},e,n.uuid===e.uuid&&j()({},n,{loaded:!0}))}))}),selectedGroup:j()({},e.selectedGroup,{members:j()({},e.selectedGroup.members,{data:n.principals})},n,{loaded:!0})})})),R()(r,"".concat(k.m,"_PENDING"),w),R()(r,"".concat(k.m,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{isRecordLoading:!1,selectedGroup:j()({},e.selectedGroup,{roles:n.data,pagination:n.meta,loaded:!0})})})),R()(r,"".concat(k.i,"_PENDING"),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return j()({},e,{selectedGroup:j()({},e.selectedGroup||{},{members:{isLoading:!0}})})})),R()(r,"".concat(k.i,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{selectedGroup:j()({},e.selectedGroup||{},{members:j()({isLoading:!1},n)})})})),R()(r,"".concat(k.e,"_PENDING"),(function(e){return j()({},e,{selectedGroup:j()({},e.selectedGroup,{addRoles:{loaded:!1}})})})),R()(r,"".concat(k.e,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{selectedGroup:j()({},e.selectedGroup,{addRoles:{roles:n.data,pagination:n.meta,loaded:!0}})})})),R()(r,k.s,(function(e){return j()({},e,{selectedGroup:void 0})})),r),S=(i={},R()(i,"".concat(k.h,"_PENDING"),(function(e){return j()({},e,{isLoading:!0})})),R()(i,"".concat(k.h,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{policies:n,isLoading:!1})})),R()(i,"".concat(k.j,"_PENDING"),(function(e){return j()({},e,{isRecordLoading:!0})})),R()(i,"".concat(k.j,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{selectedPolicy:n,isRecordLoading:!1})})),i),D=(o={},R()(o,"".concat(k.k,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{selectedRole:n,isRecordLoading:!1})})),R()(o,"".concat(k.k,"_PENDING"),(function(e){return j()({},e,{isRecordLoading:!0})})),R()(o,"".concat(k.l,"_FULFILLED"),(function(e,t){var n=t.payload;return j()({},e,{roles:n,isLoading:!1})})),R()(o,"".concat(k.l,"_PENDING"),(function(e){return j()({},e,{isLoading:!0})})),o),T=new g.a({},[E.a,Object(p.a)(),Object(h.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),v.a]);T.register({userReducer:Object(f.applyReducerHash)(C,{selectedUser:{},isUserDataLoading:!1,users:[]}),groupReducer:Object(f.applyReducerHash)(L,{groups:{data:[],meta:{count:0,limit:10,offset:0}},selectedGroup:{addRoles:{},members:{}},isLoading:!1,isRecordLoading:!1}),policyReducer:Object(f.applyReducerHash)(S,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1,isRecordLoading:!1}),roleReducer:Object(f.applyReducerHash)(D,{isLoading:!1,isRecordLoading:!1,roles:{data:[],meta:{count:0,limit:5,offset:0}},selectedRole:{}}),notifications:h.notifications});var _=T.getStore(),F=n(286),x=n.n(F),G=n(287),P=n.n(G),N=n(288),q=n.n(N),U=n(289),I=n.n(U),A=n(199),B=n.n(A),M=n(290),V=n.n(M),z=n(1),H=n.n(z),K=n(88),W=n(60),J=n.n(W),X=n(162),Y=n.n(X),Q=n(39),Z=Object(l.lazy)((function(){return Promise.resolve().then((function(){return Y()(n(478))}))})),$=Object(l.lazy)((function(){return Promise.resolve().then((function(){return Y()(n(479))}))})),ee=Object(l.lazy)((function(){return Promise.resolve().then((function(){return Y()(n(477))}))})),te="/groups",ne="/roles",ae="/users",re=function(e){var t=e.rootClass,n=J()(e,["rootClass"]),a=document.getElementById("root");return a.removeAttribute("class"),a.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),a.setAttribute("role","main"),c.a.createElement(K.d,n)};re.propTypes={rootClass:H.a.string};var ie=function(){return c.a.createElement(l.Suspense,{fallback:c.a.createElement(Q.a,null)},c.a.createElement(K.g,null,c.a.createElement(re,{path:te,component:Z,rootClass:"groups"}),c.a.createElement(re,{path:ne,component:$,rootClass:"roles"}),c.a.createElement(re,{path:ae,component:ee,rootClass:"roles"}),c.a.createElement(K.d,{render:function(){return c.a.createElement(K.c,{to:te})}})))};ie.propTypes={childProps:H.a.object};n(120);var oe=n(26),le=n(298),ce=(n(379),n(231)),ue=n(233),se=n(129),de=n(232),me=n(113),pe=n(183),fe=(n(384),function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.PageHeader,null,c.a.createElement(oe.PageHeaderTitle,{title:"User access"})),c.a.createElement(oe.Main,null,c.a.createElement(ce.a,{variant:ce.b.full,className:"ins-c-rbac-denied-state"},c.a.createElement(ue.a,{icon:pe.b}),c.a.createElement(se.a,{headingLevel:"h5",size:"lg"}," You do not have permissions to view or manage User access "),c.a.createElement(de.a,null,"Contact your organization administrator(s) for more information."),document.referrer?c.a.createElement(me.a,{variant:"primary",onClick:function(){return history.back()}},"Return to previous page"):c.a.createElement(me.a,{variant:"primary",component:"a",href:"."},"Go to landing page"))))}),ge=function(e){function t(){var e,n;x()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=q()(this,(e=I()(t)).call.apply(e,[this].concat(r))),R()(B()(n),"state",{chromeNavAvailable:!0,userReady:!1,isAdmin:void 0}),n}return V()(t,e),P()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history;insights.chrome.init(),insights.chrome.auth.getUser().then((function(t){return e.setState({userReady:!0,isAdmin:t.identity.user.is_org_admin})})),insights.chrome.identifyApp("rbac"),this.unregister=insights.chrome.on("APP_NAVIGATION",(function(e){e.domEvent&&t.push("/".concat(e.navId))}))}},{key:"componentWillUnmount",value:function(){this.unregister&&this.unregister()}},{key:"render",value:function(){var e=this.state,t=e.userReady,n=e.isAdmin;return t?n?c.a.createElement(le.a,{locale:"en"},c.a.createElement(c.a.Fragment,null,c.a.createElement(h.NotificationsPortal,null),c.a.createElement(oe.Main,{style:{marginLeft:0,padding:0}},c.a.createElement(ie,null)))):c.a.createElement(fe,null):c.a.createElement(Q.a,null)}}]),t}(l.Component);ge.propTypes={history:H.a.object};var he=Object(K.o)(Object(m.connect)()(ge)),be=n(285);s.a.render(c.a.createElement(m.Provider,{store:_},c.a.createElement(d.BrowserRouter,{basename:Object(be.getBaseName)(location.pathname)},c.a.createElement(he,null))),document.getElementById("root"))},50:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),o=n.n(i),l=n(197),c=n(130),u=n(39),s=n(25),d=n(221),m=n(222),p=function(e){return e?r.a.createElement(d.a,null,Object.values(e).map((function(e){return e.title?r.a.createElement(m.a,{key:e.title,isActive:e.isActive},e.to&&r.a.createElement(s.NavLink,{exact:!0,to:e.to},e.title)||e.title):r.a.createElement(u.b,null)}))):null};p.propTypes={breadcrumbs:o.a.object};var f=p,g=n(209);n(473);n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return b}));var h=function(e){var t=e.children,n=e.breadcrumbs;return r.a.createElement(a.Fragment,null,n&&r.a.createElement("section",{className:"pf-c-page__main-breadcrumb"},r.a.createElement(f,n)),r.a.createElement(g.PageHeader,{className:"ins-rbac-page-header"},t))};h.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},h.defaultProps={paddingBottom:!1};var b=function(e){var t=e.title,n=e.description,i=e.children;return r.a.createElement(a.Fragment,null,r.a.createElement(g.PageHeaderTitle,{title:t||r.a.createElement(u.e,null),className:"ins-rbac-page-header__title"}),n&&r.a.createElement(l.a,{className:"ins-rbac-page-header__description"},r.a.createElement(c.a,{component:c.b.p},n)),i)};b.propTypes={title:o.a.string,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}},55:function(e,t,n){"use strict";var a=n(27),r=n.n(a),i=n(14),o=n.n(i),l=n(4),c=n.n(l),u=n(6),s=n.n(u),d=n(2),m=n.n(d),p=n(1),f=n.n(p),g=n(72),h=n(484),b=n(483),v=n(26),E=n(234),y=n(113),R=n(271),O=n(39),j=n(186),k=n(35),C=n(19),w=n.n(C),L=n(295),S=n(296),D=n(68),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return c()({},e,{itemCount:e.count,perPage:e.limit,page:Object(k.d)(e.limit,e.offset),onSetPage:function(a,r){t(c()({},e,{offset:(r-1)*e.limit,name:n}))},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50}],onPerPageSelect:function(a,r){t(c()({},e,{offset:0,limit:r,name:n}))}})},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{count:t.length,items:[{title:"Select none (0)",onClick:function(){n((function(){return[]}))}},c()({},!e&&a&&a.length>0?{title:"Select page (".concat(a.length,")"),onClick:function(){n(Object(k.f)(a,!0))}}:{})],checked:Object(k.a)(a,t),onSelect:function(t){!e&&n(Object(k.f)(a,t))}}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=arguments.length>8?arguments[8]:void 0;return{items:[].concat(w()(s&&s.length>0?s.map((function(a){var i=a.key,l=a.value;return{label:Object(k.c)(i),type:"text",filterValues:{id:"filter-by-".concat(i),key:"filter-by-".concat(i),placeholder:"Filter by ".concat(i),value:l,onChange:function(e,a){t(c()({},r,o()({offset:0},i,a))),Object(k.b)((function(){return n(c()({},r,{offset:0},s.reduce((function(e,t){return c()({},e,o()({},t.key,t.value))}),{}),o()({},i,a)))}))},isDisabled:e}}})):[{label:Object(k.c)(l||i),type:"text",filterValues:{id:"filter-by-string",key:"filter-by-string",placeholder:"Filter by ".concat(l||i),value:a,onChange:function(e,a){t(c()({},r,{offset:0,name:a})),Object(k.b)((function(){return n(c()({},r,{offset:0,name:a}))}))},isDisabled:e}}]),w()(u||[]))}},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};return{filters:t&&t.length>0?t.map((function(e){var t=e.key,n=e.value;return n&&{category:Object(k.c)(t),type:t,chips:[{name:n}]}})).filter(Boolean):[{name:e}],onDelete:function(e,i,l){var u=s()(i,1)[0];a(c()({},n,{offset:0,name:""},t?t.reduce((function(e,t){var n=t.key,a=t.value;return c()({},e,o()({},n,u.type===n||l?"":a))}),{}):{name:"sf"})),r(c()({},n,{offset:0},t?t.reduce((function(e,t){var n=t.key,a=t.value;return c()({},e,o()({},n,u.type===n||l?"":a))}),{}):{name:""}))}}},G=function(e){var t=e.isSelectable,n=e.checkedRows,a=e.setCheckedItems,i=e.isLoading,o=e.data,l=e.titleSingular,c=e.filterValue,u=e.setFilterValue,s=e.pagination,d=e.fetchData,p=e.toolbarButtons,f=e.filterPlaceholder,g=e.filterItems,h=e.textFilters;return m.a.createElement(L.PrimaryToolbar,r()({},t&&{bulkSelect:_(i,n,a,o)},{filterConfig:F(i,u,d,c,s,l,f,g,h),actionsConfig:{actions:p()}},!i&&{pagination:T(s,d,c)},(c.length>0||h&&h.length>0)&&{activeFiltersConfig:x(c,h,s,u,d)}))};G.propTypes={isSelectable:f.a.bool,checkedRows:f.a.array,setCheckedItems:f.a.func,isLoading:f.a.bool,data:f.a.array,titleSingular:f.a.string,filterValue:f.a.oneOfType([f.a.array,f.a.string]),setFilterValue:f.a.func,textFilters:f.a.arrayOf(f.a.shape({value:f.a.oneOfType([f.a.string,f.a.number]),key:f.a.string})),pagination:f.a.shape({limit:f.a.number,offset:f.a.number,count:f.a.number}),filterItems:S.ConditionalFilter.propTypes.items,filterPlaceholder:f.a.string,isCollapsible:f.a.bool,fetchData:f.a.func,toolbarButtons:f.a.func},G.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:D.b,setCheckedItems:function(){},setFilterValue:function(){},fetchData:function(){},toolbarButtons:function(){return[]},filterItems:[],textFilters:[]};var P=G,N=n(60),q=n.n(N),U=n(231),I=n(233),A=n(129),B=n(232),M=n(174),V=function(e){var t=e.title,n=e.icon,a=e.description,i=e.actions,o=q()(e,["title","icon","description","actions"]);return m.a.createElement(U.a,r()({variant:U.b.full},o),m.a.createElement(I.a,{icon:n||M.b}),m.a.createElement(A.a,{headingLevel:"h5",size:"lg"},t),m.a.createElement(B.a,null,a.map((function(e,t){return m.a.createElement(m.a.Fragment,{key:t},e," ",m.a.createElement("br",null))}))),i)};V.propTypes={icon:f.a.func,title:f.a.node,description:f.a.node,actions:f.a.arrayOf(f.a.node),className:f.a.string};var z=V;n(435);n.d(t,"a",(function(){return H}));var H=function(e){var t=e.isCompact,n=e.createRows,a=e.borders,i=e.columns,l=e.toolbarButtons,u=e.data,p=e.actionResolver,f=e.areActionsDisabled,C=e.routes,w=e.titlePlural,L=e.titleSingular,S=e.pagination,D=e.filterValue,_=e.isLoading,F=e.setFilterValue,x=e.checkedRows,G=e.isSelectable,N=e.fetchData,q=e.setCheckedItems,U=e.isCollapsible,I=e.emptyProps,A=e.filterPlaceholder,B=e.rowWrapper,M=e.textFilters,V=e.sortBy,H=Object(d.useState)({}),K=s()(H,2),W=K[0],J=K[1],X=Object(d.useState)({index:void 0,direction:void 0}),Y=s()(X,2),Q=Y[0],Z=Y[1];Object(d.useEffect)((function(){Z(c()({},Q,V))}),[V]);var $=n(u,W,x),ee=function(e,t,n,a){var r=a.uuid;return J((function(e){return c()({},e,o()({},r,n))}))};return m.a.createElement(d.Fragment,null,C(),!_&&0===$.length&&0===D.length&&M.every((function(e){return!e.value}))?m.a.createElement(z,r()({title:"Configure ".concat(w),icon:j.b,description:["To configure user access to applicastions","create at least one ".concat(L)],actions:l()[0]},I)):m.a.createElement(d.Fragment,null,m.a.createElement(P,{isSelectable:G,checkedRows:x,setCheckedItems:q,isLoading:_,data:u,titleSingular:L,filterValue:D,setFilterValue:F,pagination:S,fetchData:N,toolbarButtons:l,filterPlaceholder:A,textFilters:M}),_?m.a.createElement(O.d,null):m.a.createElement(g.b,r()({canSelectAll:!1,"aria-label":"".concat(w," table"),variant:t?g.d.compact:null,borders:a},U&&{onCollapse:ee},G&&$.length>0&&{onSelect:function(e,t,n,a){var r=a.uuid,i=s()(a.cells,1)[0];return q(Object(k.f)([{uuid:r,name:i}],t))}},{rows:$.length>0?$:[{fullWidth:!0,cells:[{title:m.a.createElement(z,{title:"No matching ".concat(w," found"),description:["This filter criteria matches no ".concat(w,"."),"Try changing your filter settings."],actions:[m.a.createElement(E.a,{key:"clear-filters"},m.a.createElement(y.a,{variant:"link",onClick:function(){F(c()({},S,{offset:0,name:""})),N(c()({},S,{offset:0,name:""}))}},"Clear all filters"))]}),props:{colSpan:i.length+Boolean(ee)}}]}],cells:i},$.length>0&&{actionResolver:p},{areActionsDisabled:f,rowWrapper:B,sortBy:Q,onSort:function(e,t,n){Z({index:t,direction:n}),N(c()({},S,{offset:0,name:"",orderBy:"".concat("desc"===n?"-":"").concat(i[t-G].key)}))}}),m.a.createElement(h.a,null),m.a.createElement(b.a,null)),!S.noBottom&&m.a.createElement(v.TableToolbar,null,!_&&m.a.createElement(R.a,r()({},T(S,N,D),{variant:"bottom",dropDirection:"up"})))))};H.propTypes=c()({},P.propTypes,{rowWrapper:f.a.any,isCompact:f.a.bool,borders:f.a.bool,createRows:f.a.func.isRequired,columns:f.a.array.isRequired,titlePlural:f.a.string,routes:f.a.func,actionResolver:f.a.func,areActionsDisabled:f.a.func}),H.defaultProps=c()({},P.defaultProps,{isCompact:!1,borders:!0,routes:function(){return null}})},68:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a={limit:50,offset:0,itemCount:1,count:1,numberOfItems:50},r={limit:5,offset:0,itemCount:1,numberOfItems:5}}});
//# sourceMappingURL=../sourcemaps/App.js.map