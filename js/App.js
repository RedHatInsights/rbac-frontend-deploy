!function(e){function t(t){for(var a,o,c=t[0],u=t[1],l=t[2],d=0,p=[];d<c.length;d++)o=c[d],r[o]&&p.push(r[o][0]),r[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var u=n[c];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/beta/apps/rbac/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;i.push([410,1]),n()}({104:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),o=n.n(i),c=n(78),u=n(186),l=n(181),s=function(e){var t=e.history.push,n=e.location.pathname,a=e.tabItems,i=a.find(function(e){var t=e.name;return n.includes(t)});return r.a.createElement(u.a,{className:"pf-u-mt-sm",activeKey:i?i.eventKey:0,onSelect:function(e,n){return t(a[n].name)}},a.map(function(e){return r.a.createElement(l.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};s.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}),history:o.a.shape({push:o.a.func.isRequired}),tabItems:o.a.array.isRequired},t.a=Object(c.k)(s)},105:function(e,t,n){"use strict";var a=n(108),r=n.n(a),i=n(119),o="".concat("/api","/rbac/v1");n.d(t,"b",function(){return s}),n.d(t,"a",function(){return d}),n.d(t,"c",function(){return p});var c=new i.PrincipalApi(void 0,o,r.a),u=new i.GroupApi(void 0,o,r.a),l=new i.RoleApi(void 0,o,r.a);new i.PolicyApi(void 0,o,r.a);function s(){return c}function d(){return u}function p(){return l}},11:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"f",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"s",function(){return o}),n.d(t,"n",function(){return c}),n.d(t,"m",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return d}),n.d(t,"p",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return f}),n.d(t,"r",function(){return g}),n.d(t,"o",function(){return b}),n.d(t,"b",function(){return h}),n.d(t,"q",function(){return E}),n.d(t,"d",function(){return v}),n.d(t,"k",function(){return y});var a="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",c="REMOVE_GROUP",u="FETCH_USERS",l="ADD_ROLE",s="FETCH_ROLE",d="FETCH_ROLES",p="REMOVE_ROLE",m="FETCH_GROUP_POLICIES",f="FETCH_POLICY",g="RESET_SELECTED_GROUP",b="REMOVE_MEMBERS_FROM_GROUP",h="ADD_MEMBERS_TO_GROUP",E="REMOVE_ROLES_FROM_GROUP",v="ADD_ROLES_TO_GROUP",y="FETCH_ROLES_FOR_GROUP"},110:function(e,t,n){},36:function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return g}),n.d(t,"e",function(){return b});var a=n(21),r=n.n(a),i=n(18),o=n.n(i),c=n(6),u=n.n(c),l=n(9),s=n.n(l),d=n(268),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},m=function(e){return Object.entries(e).reduce(function(e,t){var n=s()(t,2),a=n[0],r=n[1];return u()({},e,r&&o()({},a,r))},{})},f=n.n(d)()(function(e){return e()}),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0!==e.length&&e.every(function(e){var n=e.uuid;return t.find(function(e){return e.uuid===n})})||!(0===e.length||!e.some(function(e){var n=e.uuid;return t.find(function(e){return e.uuid===n})}))&&null},b=function(e,t){return function(n){return t?[].concat(r()(n),r()(e)).filter(function(e,t,n){return n.findIndex(function(t){var n=t.uuid;return e.uuid===n})===t}):n.filter(function(t){return!e.find(function(e){return e.uuid===t.uuid})})}}},362:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n.n(a),i=n(6),o=n.n(i),c=n(9),u=n.n(c),l=n(2),s=n.n(l),d=n(16),p=n(35),m=n(1),f=n.n(m),g=n(78),b=n(25),h=n(121),E=n(138),v=n(228),y=n(229),R=n(15),O=n.n(R),k=n(37),j=n.n(k),w=n(251),T=n(30),q=n(11),L=n(105),S=Object(L.a)();function F(e){return C.apply(this,arguments)}function C(){return(C=j()(O.a.mark(function e(t){var n,a,r,i;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.offset,r=t.name,i=t.orderBy,e.next=3,S.listGroups(n,a,r,i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function x(e){return D.apply(this,arguments)}function D(){return(D=j()(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return N.apply(this,arguments)}function N(){return(N=j()(O.a.mark(function e(t){var n,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.updateGroup(t.uuid,t);case 2:if(n=t.principals?t.principals.map(function(e){return e.username}):[],a=t.user_list.filter(function(e){return!n.includes(e.username)}),r=n.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(a.length>0)){e.next=8;break}return e.next=8,S.addPrincipalToGroup(t.uuid,{principals:a});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,S.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(e){return P.apply(this,arguments)}function P(){return(P=j()(O.a.mark(function e(t){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.createGroup(t);case 2:if(n=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",S.addPrincipalToGroup(n.uuid,{principals:t.user_list}));case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return I.apply(this,arguments)}function I(){return(I=j()(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e,t){return B.apply(this,arguments)}function B(){return(B=j()(O.a.mark(function e(t,n){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(e,t){return V.apply(this,arguments)}function V(){return(V=j()(O.a.mark(function e(t,n){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e){return z.apply(this,arguments)}function z(){return(z=j()(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.listRolesForGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e,t){return J.apply(this,arguments)}function J(){return(J=j()(O.a.mark(function e(t,n){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(e,t){return Y.apply(this,arguments)}function Y(){return(Y=j()(O.a.mark(function e(t,n){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:q.f,payload:F(e)}},X=function(e){return{type:q.e,payload:x(e)}},Z=function(e){return{type:q.a,payload:_(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},$=function(e){return{type:q.s,payload:G(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},ee=function(e){return{type:q.n,payload:U(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},te=function(e,t){return{type:q.b,payload:A(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",description:"The members were not added successfully."}}}}},ne=function(e,t){return{type:q.o,payload:M(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members to group",description:"The members were not removed successfully."}}}}},ae=function(e,t){return{type:q.d,payload:W(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",description:"The roles were not added successfully."}}}}},re=n(43),ie=Object(L.b)();var oe=function(){return{type:q.m,payload:ie.listPrincipals()}},ce=n(116),ue=n(217),le=n(218),se=n(222),de=n(223),pe=function(e){var t=e.values?e.values:{name:"",description:""},n=t.name,a=t.description,r=e.selectedUsers?e.selectedUsers:[],i=e.selectedRoles?e.selectedRoles:[];return s.a.createElement(l.Fragment,null,s.a.createElement(v.a,{gutter:"md"},s.a.createElement(y.a,null,s.a.createElement(ce.a,{size:"xl"}," Review ")),s.a.createElement(y.a,null,s.a.createElement(v.a,{gutter:"md"},s.a.createElement(y.a,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{className:"data-table-detail heading",component:le.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),s.a.createElement(y.a,null,s.a.createElement(se.a,{gutter:"md"},s.a.createElement(de.a,{span:2},s.a.createElement(le.a,{className:"data-table-detail heading",component:le.b.h5},"Group name")),s.a.createElement(de.a,{span:10},s.a.createElement(le.a,{className:"data-table-detail content",component:le.b.p},n))),s.a.createElement(se.a,{gutter:"md"},s.a.createElement(de.a,{span:2},s.a.createElement(le.a,{className:"data-table-detail heading",component:le.b.h5},"Group description")),s.a.createElement(de.a,{span:10},s.a.createElement(le.a,{className:"data-table-detail content",component:le.b.p},a))),s.a.createElement(se.a,{gutter:"md"},s.a.createElement(de.a,{span:2},s.a.createElement(le.a,{className:"data-table-detail heading",component:le.b.h5},"Member(s)")),s.a.createElement(de.a,{span:10},s.a.createElement(le.a,{className:"groups-table-detail content",component:le.b.h5},"".concat(r.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))),s.a.createElement(se.a,{gutter:"md"},s.a.createElement(de.a,{span:2},s.a.createElement(le.a,{className:"data-table-detail heading",component:le.b.h5},"Role(s)")),s.a.createElement(de.a,{span:10},s.a.createElement(le.a,{className:"groups-table-detail content",component:le.b.h5},"".concat(i.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};pe.propTypes={name:f.a.string,description:f.a.string,groups:f.a.array};var me=pe,fe=n(180),ge=n(143),be=n(206),he=n(208),Ee=function(e,t,n){return s.a.createElement(l.Fragment,null,s.a.createElement(v.a,{gutter:"md"},s.a.createElement(y.a,null,s.a.createElement(ce.a,{size:"xl"}," Enter group details ")),s.a.createElement(y.a,null,s.a.createElement(fe.a,null,s.a.createElement(ge.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},s.a.createElement(be.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){n(a.currentTarget.value.trim().length>0),t({name:a.currentTarget.value})}})),s.a.createElement(ge.a,{label:"Group description",fieldId:"group-description"},s.a.createElement(he.b,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,n){return t({description:n.currentTarget.value})}}))))))};Ee.propTypes={name:f.a.string,description:f.a.string};var ve=Ee,ye=n(205),Re=n(21),Oe=n.n(Re),ke=n(36),je=n(46),we=n(63),Te=[{title:"User name",orderBy:"name"},{title:"Email"},{title:"First name"},{title:"Last name"}],qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce(function(e,t){var a=t.username,r=t.email,i=t.first_name,o=t.last_name;return[].concat(Oe()(e),[{uuid:a,cells:[a,r,i,o],selected:Boolean(n&&n.find(function(e){return e.uuid===a}))}])},[]):[]},Le=function(e){var t=e.users,n=e.fetchUsers,a=e.isLoading,r=e.pagination,i=e.selectedUsers,o=e.setSelectedUsers,c=Object(l.useState)(""),d=u()(c,2),p=d[0],m=d[1];Object(l.useEffect)(function(){n({})},[]);return s.a.createElement(we.a,{columns:Te,isSelectable:!0,isCompact:!0,borders:!1,createRows:qe,data:t,filterValue:p,fetchData:function(e){return n(Object(ke.d)(e))},setFilterValue:function(e){var t=e.name;return m(t)},isLoading:a,pagination:r,request:n,checkedRows:i,setCheckedItems:function(e){o(function(t){return e(t).map(function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}})})},titlePlural:"users",titleSingular:"user"})};Le.propTypes={history:f.a.shape({goBack:f.a.func.isRequired,push:f.a.func.isRequired}),users:f.a.array,isLoading:f.a.bool,searchFilter:f.a.string,fetchUsers:f.a.func.isRequired,setSelectedUsers:f.a.func.isRequired,selectedUsers:f.a.array,pagination:f.a.shape({limit:f.a.number.isRequired,offset:f.a.number.isRequired,count:f.a.number})},Le.defaultProps={users:[],pagination:je.a};var Se=Object(d.connect)(function(e){var t=e.userReducer,n=t.users,a=t.isUserDataLoading;return{users:n.data,pagination:n.meta,isLoading:a}},function(e){return{fetchUsers:function(t){e(oe(Object(ke.d)(t)))},addNotification:function(){return e(T.addNotification.apply(void 0,arguments))}}})(Le),Fe=(n(110),function(e){var t=e.selectedUsers,n=e.setSelectedUsers,a=e.title,r=e.description;return s.a.createElement(l.Fragment,null,s.a.createElement(fe.a,null,s.a.createElement(v.a,{gutter:"md"},a&&s.a.createElement(y.a,null,s.a.createElement(ce.a,{size:"xl"},a)),s.a.createElement(y.a,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h6},r||"Select users from your organization to add to this group."))),s.a.createElement(y.a,null,s.a.createElement(ge.a,{fieldId:"select-user"},s.a.createElement(ye.a,null,s.a.createElement(Se,{selectedUsers:t,setSelectedUsers:n})))))))});Fe.propTypes={selectedUsers:f.a.array,setSelectedUsers:f.a.func,title:f.a.string,description:f.a.string};var Ce=Fe,xe=[{title:"Role name",orderBy:"name"},{title:"Description"}],De=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce(function(e,t){var a=t.uuid,r=t.name,i=t.description;return[].concat(Oe()(e),[{uuid:a,cells:[r,i],selected:Boolean(n&&n.find(function(e){return e.uuid===a}))}])},[]):[]},Ge=function(e){var t=e.roles,n=e.fetchRoles,a=e.isLoading,r=e.pagination,i=e.selectedRoles,o=e.setSelectedRoles,c=Object(l.useState)(""),d=u()(c,2),p=d[0],m=d[1];Object(l.useEffect)(function(){n({})},[]);return s.a.createElement(we.a,{columns:xe,isSelectable:!0,isCompact:!0,borders:!1,createRows:De,data:t,filterValue:p,fetchData:function(e){return n(Object(ke.d)(e))},setFilterValue:function(e){var t=e.name;return m(t)},isLoading:a,pagination:r,request:n,checkedRows:i,setCheckedItems:function(e){o(function(t){return e(t).map(function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}})})},titlePlural:"roles",titleSingular:"role"})};Ge.propTypes={history:f.a.shape({goBack:f.a.func.isRequired,push:f.a.func.isRequired}),roles:f.a.array,isLoading:f.a.bool,searchFilter:f.a.string,fetchRoles:f.a.func.isRequired,setSelectedRoles:f.a.func.isRequired,selectedRoles:f.a.array,pagination:f.a.shape({limit:f.a.number.isRequired,offset:f.a.number.isRequired,count:f.a.number})},Ge.defaultProps={roles:[],pagination:je.a};var Ne=Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles,a=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:a}},function(e){return{fetchRoles:function(t){e(Object(re.d)(Object(ke.d)(t)))},addNotification:function(){return e(T.addNotification.apply(void 0,arguments))}}})(Ge),_e=function(e){var t=e.selectedRoles,n=e.setSelectedRoles,a=e.title,r=e.description;return s.a.createElement(l.Fragment,null,s.a.createElement(fe.a,null,s.a.createElement(v.a,{gutter:"md"},a&&s.a.createElement(y.a,null,s.a.createElement(ce.a,{size:"xl"},a)),s.a.createElement(y.a,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h6},r||"Select at least one role to add to this group"))),s.a.createElement(y.a,null,s.a.createElement(ge.a,{label:"Select roles",fieldId:"select-role"},s.a.createElement(ye.a,null,s.a.createElement(Ne,{selectedRoles:t,setSelectedRoles:n})))))))};_e.propTypes={selectedRoles:f.a.array,setSelectedRoles:f.a.func,title:f.a.string,description:f.a.string};var Pe=_e,Ue=function(e){var t=e.history.push,n=e.addNotification,a=e.addGroup,r=e.postMethod,i=e.closeUrl,c=Object(l.useState)([]),d=u()(c,2),p=d[0],m=d[1],f=Object(l.useState)([]),g=u()(f,2),b=g[0],h=g[1],E=Object(l.useState)({}),v=u()(E,2),y=v[0],R=v[1],k=Object(l.useState)(!1),T=u()(k,2),q=T[0],L=T[1],S=[{name:"General information",component:new ve(y,function(e){R(o()({},y,e))},L),enableNext:q},{name:"Add members",component:new Ce({formData:y,selectedUsers:p,setSelectedUsers:m})},{name:"Assign roles",component:new Pe({formData:y,selectedRoles:b,setSelectedRoles:h})},{name:"Review",component:new me({values:y,selectedUsers:p,selectedRoles:b}),nextButtonText:"Confirm",enableNext:q}],F=function(){var e=j()(O.a.mark(function e(){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o()({},y,{user_list:p?p.map(function(e){return{username:e.label}}):void 0}),e.next=3,a(n);case 3:r(),t(i);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return s.a.createElement(w.a,{isLarge:!0,title:"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:"Adding group",dismissable:!0,description:"Adding group was cancelled by the user."}),t("/groups")},onSave:F,steps:S})};Ue.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups",postMethod:function(){}},Ue.propTypes={history:f.a.shape({goBack:f.a.func.isRequired}).isRequired,addGroup:f.a.func.isRequired,addNotification:f.a.func.isRequired,fetchGroup:f.a.func.isRequired,inputValue:f.a.string,selectedUsers:f.a.array,match:f.a.object,postMethod:f.a.func,closeUrl:f.a.string};var Ie=Object(g.k)(Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles.meta,a=t.filterValue;return{pagination:n,isLoading:t.isLoading,searchFilter:a}},function(e){return Object(p.a)({addNotification:T.addNotification,addGroup:Z,fetchGroup:X,fetchRoles:re.c,fetchUsers:oe},e)})(Ue)),Me=n(147),Be=n(18),Ae=n.n(Be),Ve=n(67),Ke=n.n(Ve),ze=n(146),He=n.n(ze),Je=n(195),We=n(207),Ye=n(215),Qe=function(e){var t=e.input,n=e.options,a=e.isReadOnly,i=e.isDisabled,o=(e.FieldProvider,e.isRequired),c=Ke()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return s.a.createElement(We.a,r()({},t,c,{isDisabled:i||a}),function(e,t,n){if(t&&n)return e;var a=Oe()(e);return a.find(function(e){return void 0===e.value})?Oe()(a):[{label:n?"Please choose":"None"}].concat(Oe()(a))}(n,t.value,o).map(function(e){return s.a.createElement(Ye.a,r()({key:e.value||e.label},e,{label:e.label.toString()}))}))};Qe.propTypes={input:f.a.object.isRequired,options:f.a.arrayOf(f.a.shape({value:f.a.any,label:f.a.string.isRequired})).isRequired,isReadOnly:f.a.bool,isDisabled:f.a.bool,isRequired:f.a.bool,FieldProvider:f.a.any};var Xe=function(e){e.componentType;var t=e.label,n=e.isRequired,a=e.helperText,i=e.meta,o=e.description,c=e.hideLabel,u=Ke()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),l=i.error,d=i.touched&&l;return s.a.createElement(ge.a,{isRequired:n,label:!c&&t,fieldId:u.id,isValid:!d,helperText:a,helperTextInvalid:i.error},o&&s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.small},o)),s.a.createElement(Qe,r()({label:t,isValid:!d,isRequired:n},u)))};Xe.propTypes={componentType:f.a.string,label:f.a.string,isRequired:f.a.bool,helperText:f.a.string,meta:f.a.object,description:f.a.string,hideLabel:f.a.bool};var Ze=Xe,$e={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},et=function(e){var t=e.componentMapper,n=e.formContainer,a=Ke()(e,["componentMapper","formContainer"]);return s.a.createElement("div",{className:$e[n].buttonClassName},s.a.createElement(He.a,r()({formFieldsMapper:o()({},Je.formFieldsMapper,Ae()({componentMapper:t},ze.componentTypes.SELECT,Ze)),layoutMapper:Je.layoutMapper},$e[n],a)))};et.propTypes={componentMapper:f.a.object,formContainer:f.a.oneOf(["default","modal"])},et.defaultProps={componentMapper:{},formContainer:"default"};var tt=et,nt=n(216),at={DropdownIndicator:null},rt=function(e){var t=e.history.push,n=e.match.params.id,a=e.addNotification,r=e.updateGroup,i=e.postMethod,c=e.closeUrl,d=Object(l.useState)({}),p=u()(d,2),m=p[0],f=p[1],g=Object(l.useState)(""),b=u()(g,2),h=b[0],E=b[1],v=Object(l.useState)([]),y=u()(v,2),R=y[0],O=y[1],k=Object(l.useState)(0),j=u()(k,2),w=j[0],T=j[1],q=function(e){var t=w;return T(w+1),{label:e,value:"".concat(e,"_").concat(t)}},L=function(e){f(e),e&&O(e.principals.map(function(e){return q(e.username)}))};Object(l.useEffect)(function(){X(n).payload.then(function(e){return L(e)}).catch(function(){return L(void 0)})},[]);var S=function(){a({variant:"warning",dismissable:!0,title:m?"Editing group":"Adding group",description:m?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},F={type:"object",properties:{name:{title:m?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return s.a.createElement(nt.a,{isLarge:!0,title:m?"Edit group":"Add group",isOpen:!0,onClose:S},s.a.createElement(se.a,{gutter:"md",style:{minWidth:"800px"}},s.a.createElement(de.a,{sm:6},s.a.createElement(tt,{schema:F,schemaType:"mozilla",onSubmit:function(e){var n=o()({},e,{user_list:R?R.map(function(e){return{username:e.label}}):[]});i?r(n).then(function(){return i()}).then(t(c)):r(n).then(function(){return t(c)})},onCancel:S,formContainer:"modal",initialValues:o()({},m)})),s.a.createElement(de.a,{sm:6},s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h6},"Select Members for this group.")),s.a.createElement(Me.a,{components:at,inputValue:h,defaultValue:R,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){O(e)},onInputChange:function(e){E(e)},onKeyDown:function(e){if(h)switch(e.key){case"Enter":case"Tab":R?R.find(function(e){return e.label===h})||O([].concat(Oe()(R),[q(h)])):O([q(h)]),E(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:R}))))};rt.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],closeUrl:"/groups"},rt.propTypes={history:f.a.shape({goBack:f.a.func.isRequired}).isRequired,addNotification:f.a.func.isRequired,fetchGroup:f.a.func.isRequired,selectedGroup:f.a.object,inputValue:f.a.string,users:f.a.array,selectedUsers:f.a.array,match:f.a.object,updateGroup:f.a.func.isRequired,postMethod:f.a.func,closeUrl:f.a.string};var it=Object(g.k)(Object(d.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(p.a)({addNotification:T.addNotification,updateGroup:$,fetchGroup:X},e)})(rt)),ot=n(41),ct=function(e){var t=e.history,n=t.goBack,a=t.push,r=e.match.params.id,i=e.removeGroup,o=e.group,c=e.isLoading,u=e.fetchGroup,d=e.postMethod,p=e.closeUrl;Object(l.useEffect)(function(){u(r)},[]);var m=function(){return n()};return s.a.createElement(nt.a,{isOpen:!0,isSmall:!0,title:"",onClose:m,actions:[s.a.createElement(E.a,{key:"cancel",variant:"secondary",type:"button",onClick:m},"Cancel"),s.a.createElement(E.a,{key:"submit",isDisabled:c,variant:"primary",type:"button",onClick:function(){return d?i(r).then(function(){return d()}).then(a(p)):i(r).then(function(){return a(p)})}},"Confirm")]},s.a.createElement(se.a,{gutter:"sm"},s.a.createElement(de.a,{span:5},s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h1},"Removing Group:"))),s.a.createElement(de.a,{span:6},s.a.createElement(ue.a,null,!c&&s.a.createElement(le.a,{component:le.b.h1},o.name)),c&&s.a.createElement(ot.c,null))))};ct.defaultProps={group:{},isLoading:!0,closeUrl:"/groups"},ct.propTypes={match:f.a.shape({params:f.a.shape({id:f.a.string}).isRequired}).isRequired,history:f.a.shape({goBack:f.a.func.isRequired,push:f.a.func.isRequired}).isRequired,removeGroup:f.a.func.isRequired,fetchGroup:f.a.func.isRequired,postMethod:f.a.func,isLoading:f.a.bool,group:f.a.object,closeUrl:f.a.string};var ut=Object(g.k)(Object(d.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isLoading:t.isRecordLoading}},function(e){return Object(p.a)({fetchGroup:X,removeGroup:ee},e)})(ct)),lt=n(38),st=function(e){var t=e.members,n=e.fetchGroup,a=e.uuid,r=e.loaded;return Object(l.useEffect)(function(){n(a)},[]),s.a.createElement(l.Fragment,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{className:"groups-table-detail heading",component:le.b.small},"Members"),r?s.a.createElement(le.a,{className:"groups-table-detail content",component:le.b.h5},0===t.length?"No members":t.map(function(e){var t=e.first_name,n=e.last_name;return"".concat(t," ").concat(n)})):s.a.createElement("div",null,s.a.createElement(lt.Skeleton,{size:lt.SkeletonSize.sm}))))};st.propTypes={description:f.a.string,uuid:f.a.string,members:f.a.arrayOf(f.a.shape({first_name:f.a.string,last_name:f.a.string})),loaded:f.a.bool,fetchGroup:f.a.func},st.defaultProps={members:[],loaded:!1,fetchGroup:function(){}};var dt=Object(d.connect)(function(e,t){var n=e.groupReducer.groups,a=t.uuid,r=n.data.find(function(e){return e.uuid===a})||{};return{members:r.principals,description:r.description,loaded:r.loaded}},function(e){return{fetchGroup:function(t){return e(X(t))}}})(st),pt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce(function(e,a,r){var i=a.uuid,o=a.name,c=a.description,u=a.principalCount,d=a.modified;return[].concat(Oe()(e),[{uuid:i,isOpen:Boolean(t[i]),cells:[s.a.createElement(l.Fragment,{key:i},s.a.createElement(b.Link,{to:"/groups/detail/".concat(i)},s.a.createElement(E.a,{variant:"link"}," ",o," "))),c,u,s.a.createElement(l.Fragment,{key:"".concat(i,"-modified")},s.a.createElement(lt.DateFormat,{date:d,type:"relative"}))],selected:Boolean(n&&n.find(function(e){return e.uuid===i}))},{parent:2*r,fullWidth:!0,cells:[{title:t[i]?s.a.createElement(dt,{uuid:i}):s.a.createElement(l.Fragment,null)}]}])},[])},mt=n(104),ft=n(77),gt=function(e){var t=e.username,n=e.email,a=e.first_name,r=e.last_name;return s.a.createElement(l.Fragment,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{className:"principals-table-detail heading",component:le.b.small},"Username"),s.a.createElement(le.a,{className:"principals-table-detail content",component:le.b.h5},t),s.a.createElement(le.a,{className:"principals-table-detail heading",component:le.b.small},"Email"),s.a.createElement(le.a,{className:"principals-table-detail content",component:le.b.h5},n),s.a.createElement(le.a,{className:"principals-table-detail heading",component:le.b.small},"Name"),s.a.createElement(le.a,{className:"principals-table-detail content",component:le.b.h5},"".concat(a," ").concat(r))))};gt.propTypes={username:f.a.string,email:f.a.string,first_name:f.a.string,last_name:f.a.string};var bt=gt,ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce(function(e,a,r){var i=a.username,o=a.email,c=a.first_name,u=a.last_name;return[].concat(Oe()(e),[{uuid:i,username:i,isOpen:Boolean(t[i]),cells:[i,o,c,u],selected:n.find(function(e){return e.uuid===i})},{parent:2*r,fullWidth:!0,cells:[{title:s.a.createElement(bt,{username:i,email:o,first_name:c,last_name:u})}]}])},[])},Et=n(214),vt=n(226),yt=n(227),Rt={DropdownIndicator:null},Ot=function(e){var t=e.history.push,n=e.match.params.uuid,a=e.addNotification,r=e.fetchData,i=e.closeUrl,o=e.addMembersToGroup,c=Object(l.useState)(""),d=u()(c,2),p=d[0],m=d[1],f=Object(l.useState)([]),g=u()(f,2),b=g[0],h=g[1],R=Object(l.useState)(0),O=u()(R,2),k=O[0],j=O[1],w=function(e){var t=k;return j(k+1),{label:e,value:"".concat(e,"_").concat(t)}},T=function(){a({variant:"warning",title:"Adding members to group",dismissable:!0,description:"Adding members to group was cancelled by the user."}),t(i)};return s.a.createElement(nt.a,{title:"Add group members",width:"40%",isOpen:!0,onClose:T},s.a.createElement(v.a,{gutter:"md"},s.a.createElement(y.a,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h6},"Select Members for this group.")),s.a.createElement(Me.a,{components:Rt,inputValue:p,defaultValue:b,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){h(e)},onInputChange:function(e){m(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":b?b.find(function(e){return e.label===p})||h([].concat(Oe()(b),[w(p)])):h([w(p)]),m(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:b})),s.a.createElement(y.a,null,s.a.createElement(Et.a,null,s.a.createElement(vt.a,{gutter:"md"},s.a.createElement(yt.a,null,s.a.createElement(E.a,{"aria-label":"Save",variant:"primary",type:"submit",onClick:function(){var e=b.map(function(e){return{username:e.label}});return o(n,e).then(function(){r(),t(i)})}},"Save")),s.a.createElement(yt.a,null,s.a.createElement(E.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:T},"Cancel")))))))};Ot.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},Ot.propTypes={history:f.a.shape({goBack:f.a.func.isRequired}).isRequired,addGroup:f.a.func.isRequired,addNotification:f.a.func.isRequired,fetchData:f.a.func.isRequired,fetchGroup:f.a.func.isRequired,inputValue:f.a.string,users:f.a.array,selectedUsers:f.a.array,match:f.a.object,closeUrl:f.a.string,addMembersToGroup:f.a.func.isRequired};var kt=Object(g.k)(Object(d.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(p.a)({addNotification:T.addNotification,addGroup:Z,addMembersToGroup:te,fetchGroup:X},e)})(Ot)),jt=[{title:"Name",cellFormatters:[h.b]},"Email","First name","Last name"],wt=function(e){var t=e.match.params.uuid,n=e.fetchGroup,a=e.removeMembersFromGroup,i=e.pagination,o=e.principals,c=e.isLoading,d=Object(l.useState)(""),p=u()(d,2),m=p[0],f=p[1],h=Object(l.useState)([]),v=u()(h,2),y=v[0],R=v[1],O=function(){n(t)},k=function(e){return a(t,e).then(function(){R([]),O()})};return s.a.createElement(lt.Section,{type:"content",id:"tab-principals"},s.a.createElement(we.a,{data:o,isSelectable:!0,createRows:ht,columns:jt,request:n,routes:function(){return s.a.createElement(l.Fragment,null,s.a.createElement(g.d,{path:"/groups/detail/:uuid/members/add_members",render:function(e){return s.a.createElement(kt,r()({fetchData:O,closeUrl:"/groups/detail/".concat(t,"/principals")},e))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,n){k([n.username])}}]},titlePlural:"principals",titleSingular:"principal",pagination:i,filterValue:m,fetchData:function(){return n(t)},setFilterValue:function(e){var t=e.name;return f(t)},checkedRows:y,isLoading:c,setCheckedItems:function(e){R(function(t){return e(t)})},toolbarButtons:function(){return[s.a.createElement(b.Link,{to:"/groups/detail/".concat(t,"/members/add_members"),key:"remove-from-group"},s.a.createElement(E.a,{variant:"primary","aria-label":"Add member"},"Add member")),{label:"Remove selected",props:{isDisabled:!y||!y.length>0,variant:"danger",onClick:function(){return k(y)}}}]}}))};wt.propTypes={principals:f.a.array,isLoading:f.a.bool,fetchGroup:f.a.func.isRequired,removeMembersFromGroup:f.a.func.isRequired,uuid:f.a.string,match:f.a.shape({params:f.a.object.isRequired}).isRequired,pagination:f.a.shape({limit:f.a.number.isRequired,offset:f.a.number.isRequired,count:f.a.number})},wt.defaultProps={principals:[],pagination:je.b};var Tt=Object(d.connect)(function(e){var t=e.groupReducer.selectedGroup;return{principals:(t.principals||[]).map(function(e){return o()({},e,{uuid:e.username})}),pagination:o()({},je.b,{count:t.principals&&t.principals.length}),isLoading:!t.loaded}},function(e){return Object(p.a)({fetchGroup:X,addMembersToGroup:te,removeMembersFromGroup:ne},e)})(wt),qt=function(e){var t=e.history.push,n=e.match.params.uuid,a=e.selectedRoles,r=e.setSelectedRoles,i=e.title,o=e.description,c=e.closeUrl,u=e.addRolesToGroup,d=e.fetchRolesForGroup,p=function(){Object(T.addNotification)({variant:"warning",title:"Adding members to group",dismissable:!0,description:"Adding members to group was cancelled by the user."}),t(c)};return s.a.createElement(nt.a,{title:"Add group roles",width:"40%",isOpen:!0,onClose:p},s.a.createElement(l.Fragment,null,s.a.createElement(fe.a,null,s.a.createElement(v.a,{gutter:"md"},i&&s.a.createElement(y.a,null,s.a.createElement(ce.a,{size:"xl"},i)),s.a.createElement(y.a,null,s.a.createElement(ue.a,null,s.a.createElement(le.a,{component:le.b.h6},o||"Select at least one role to add to this group"))),s.a.createElement(y.a,null,s.a.createElement(ye.a,null,s.a.createElement(Ne,{selectedRoles:a,setSelectedRoles:r}))),s.a.createElement(y.a,null,s.a.createElement(Et.a,null,s.a.createElement(vt.a,{gutter:"md"},s.a.createElement(yt.a,null,s.a.createElement(E.a,{"aria-label":"Save",variant:"primary",type:"submit",onClick:function(){return u(n,a).then(function(){d(n),t(c)})}},"Save")),s.a.createElement(yt.a,null,s.a.createElement(E.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:p},"Cancel")))))))))};qt.propTypes={history:f.a.shape({goBack:f.a.func.isRequired}).isRequired,match:f.a.shape({params:f.a.object.isRequired}).isRequired,selectedRoles:f.a.array,setSelectedRoles:f.a.func,addRolesToGroup:f.a.func,fetchRolesForGroup:f.a.func,closeUrl:f.a.string,title:f.a.string,description:f.a.string};var Lt=qt,St=[{title:"Role name",orderBy:"name"},{title:"Description"},{title:"Last modified"}],Ft=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce(function(e,t){var a=t.uuid,r=t.name,i=t.description,o=t.modified;return[].concat(Oe()(e),[{uuid:a,cells:[r,i,s.a.createElement(l.Fragment,{key:"".concat(a,"-modified")},s.a.createElement(lt.DateFormat,{date:o,type:"relative"}))],selected:Boolean(n&&n.find(function(e){return e.uuid===a}))}])},[]):[]},Ct=function(e){var t=e.roles,n=e.fetchRoles,a=e.removeRoles,i=e.isLoading,c=e.pagination,d=e.match.params.uuid,p=Object(l.useState)(""),m=u()(p,2),f=m[0],h=m[1],v=Object(l.useState)([]),y=u()(v,2),R=y[0],O=y[1],k=Object(l.useState)([]),j=u()(k,2),w=j[0],T=j[1];Object(l.useEffect)(function(){n(o()({},c,{name:f}))},[]);return s.a.createElement(lt.Section,{type:"content",id:"tab-roles"},s.a.createElement(we.a,{columns:St,isSelectable:!0,createRows:Ft,data:t,filterValue:f,fetchData:function(e){return n(Object(ke.d)(e))},setFilterValue:function(e){var t=e.name;return h(t)},isLoading:i,pagination:c,request:n,checkedRows:R,setCheckedItems:function(e){O(function(t){return e(t).map(function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}})})},titlePlural:"roles",titleSingular:"role",toolbarButtons:function(){return[s.a.createElement(b.Link,{to:"/groups/detail/".concat(d,"/roles/add_roles"),key:"add-to-group"},s.a.createElement(E.a,{variant:"primary","aria-label":"Add a role"},"Add a role")),{label:"Remove from group",props:{isDisabled:!R||!R.length>0,variant:"danger",onClick:function(){return a(R)}}}]},actionResolver:function(){return[{title:"Remove from group",onClick:function(e,t,n){a(d,[n.uuid])}}]},routes:function(){return s.a.createElement(l.Fragment,null,s.a.createElement(g.d,{path:"/groups/detail/:uuid/roles/add_roles",render:function(e){return s.a.createElement(Lt,r()({fetchData:n,selectedRoles:w,setSelectedRoles:T,closeUrl:"/groups/detail/".concat(d,"/roles"),addRolesToGroup:ae},e))}}))}}))};Ct.propTypes={history:f.a.shape({goBack:f.a.func.isRequired,push:f.a.func.isRequired}),roles:f.a.array,isLoading:f.a.bool,searchFilter:f.a.string,fetchRoles:f.a.func.isRequired,setSelectedRoles:f.a.func.isRequired,selectedRoles:f.a.array,addRoles:f.a.func,removeRoles:f.a.func,pagination:f.a.shape({limit:f.a.number.isRequired,offset:f.a.number.isRequired,count:f.a.number}),match:f.a.shape({params:f.a.object.isRequired}).isRequired},Ct.defaultProps={roles:[],pagination:je.a,selectedRoles:[]};var xt=Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles,a=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:a}},function(e){return{fetchRoles:function(t){e(Object(re.c)(Object(ke.d)(t)))},addRoles:function(t){return e(ae(Object(ke.d)(t)))},removeRoles:function(t,n){return e(function(e,t){return{type:q.q,payload:H(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles to group",description:"The roles were not removed successfully."}}}}}(t,n))},fetchRolesForGroup:function(t){return e(function(e){return{type:q.k,payload:K(e)}}(t))},addNotification:function(){return e(T.addNotification.apply(void 0,arguments))}}})(Ct),Dt=function(e){var t=e.match.params.uuid,n=e.group,a=e.fetchGroup,r=e.isFetching,i=[{eventKey:0,title:"Members",name:"/groups/detail/".concat(t,"/members")},{eventKey:1,title:"Roles",name:"/groups/detail/".concat(t,"/roles")}];return Object(l.useEffect)(function(){a(t)},[]),s.a.createElement(l.Fragment,null,s.a.createElement(ft.a,{breadcrumbs:[{title:"User Access Management",to:"/groups"},{title:n.name,isActive:!0}]},s.a.createElement(ft.b,{title:!r&&n?n.name:void 0,description:!r&&n?n.description:void 0}),s.a.createElement(mt.a,{tabItems:i})),s.a.createElement(g.g,null,s.a.createElement(g.d,{path:"/groups/detail/:uuid/roles",component:xt}),s.a.createElement(g.d,{path:"/groups/detail/:uuid/members",component:Tt}),s.a.createElement(g.d,{render:function(){return s.a.createElement(g.c,{to:"/groups/detail/".concat(t,"/members")})}})),!n&&s.a.createElement(ot.d,null))};Dt.propTypes={location:f.a.shape({pathname:f.a.string.isRequired}),history:f.a.shape({push:f.a.func.isRequired}),match:f.a.object,group:f.a.shape({uuid:f.a.string,name:f.a.string,description:f.a.string}),isFetching:f.a.bool,fetchGroup:f.a.func},Dt.defaultProps={isFetching:!1};var Gt=Object(d.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isFetching:t.isLoading}},function(e){return Object(p.a)({fetchGroup:X},e)})(Dt),Nt=[{title:"Name",cellFormatters:[h.b]},"Description","Members","Last modified"],_t=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],Pt=function(e){var t=e.fetchGroups,n=e.isLoading,a=e.pagination,i=e.history.push,c=e.groups,d=Object(l.useState)(""),p=u()(d,2),m=p[0],f=p[1],h=Object(l.useState)([]),R=u()(h,2),O=R[0],k=R[1];Object(l.useEffect)(function(){t(o()({},a,{name:m}))},[]);var j=function(e){t(e)},w=function(e){k(function(t){return e(t).map(function(e){return{uuid:e.uuid,label:e.name}})})},T=function(){return s.a.createElement(l.Fragment,null,s.a.createElement(g.d,{exact:!0,path:"/groups/add-group",render:function(e){return s.a.createElement(Ie,r()({},e,{postMethod:j}))}}),s.a.createElement(g.d,{exact:!0,path:"/groups/edit/:id",render:function(e){return s.a.createElement(it,r()({},e,{postMethod:j}))}}),s.a.createElement(g.d,{exact:!0,path:"/groups/remove/:id",render:function(e){return s.a.createElement(ut,r()({},e,{postMethod:j}))}}))},q=function(e,t){return t.rowIndex%2==1?null:[{title:"Edit group",onClick:function(e,t,n){i("/groups/edit/".concat(n.uuid))}},{title:"Delete group",onClick:function(e,t,n){return i("/groups/remove/".concat(n.uuid))}}]},L=function(){return[s.a.createElement(b.Link,{to:"/groups/add-group",key:"add-group"},s.a.createElement(E.a,{variant:"primary","aria-label":"Create group"},"Create a group")),{label:"Edit group",props:{isDisabled:!(1===O.length)},onClick:function(){return i("/groups/edit/".concat(O[0].uuid))}},{label:"Delete Group(s)",props:{isDisabled:!O.length>0}}]};return s.a.createElement(g.g,null,s.a.createElement(g.d,{path:"/groups/detail/:uuid",render:function(e){return s.a.createElement(Gt,e)}}),s.a.createElement(g.d,{path:"/groups",render:function(){return s.a.createElement(v.a,null,s.a.createElement(y.a,null,s.a.createElement(ft.a,{paddingBottm:!1},s.a.createElement(ft.b,{title:"User access management"}),s.a.createElement(mt.a,{tabItems:_t}))),s.a.createElement(y.a,null,s.a.createElement(lt.Section,{type:"content",id:"tab-groups"},s.a.createElement(we.a,{data:c,createRows:pt,columns:Nt,isSelectable:!0,checkedRows:O,setCheckedItems:w,request:t,routes:T,actionResolver:q,titlePlural:"groups",titleSingular:"group",pagination:a,filterValue:m,fetchData:function(e){return t(e)},setFilterValue:function(e){var t=e.name;return f(t)},toolbarButtons:L,isLoading:n}))))}}))};Pt.propTypes={history:f.a.shape({goBack:f.a.func.isRequired,push:f.a.func.isRequired}),groups:f.a.array,platforms:f.a.array,isLoading:f.a.bool,searchFilter:f.a.string,fetchGroups:f.a.func.isRequired,pagination:f.a.shape({limit:f.a.number.isRequired,offset:f.a.number.isRequired,count:f.a.number.isRequired})},Pt.defaultProps={groups:[],pagination:je.b};t.default=Object(d.connect)(function(e){var t=e.groupReducer,n=t.groups,a=t.filterValue,r=t.isLoading;return{groups:n.data,pagination:n.meta,isLoading:r,searchFilter:a}},function(e){return Object(p.a)({fetchGroups:Q},e)})(Pt)},409:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n.n(a),i=n(6),o=n.n(i),c=n(9),u=n.n(c),l=n(2),s=n.n(l),d=n(16),p=n(78),m=n(25),f=n(138),g=n(228),b=n(229),h=n(1),E=n.n(h),v=n(104),y=n(21),R=n.n(y),O=n(38),k=function(e){return e.reduce(function(e,t){var n=t.uuid,a=t.name,r=t.description,i=t.system,o=t.policyCount,c=t.modified;return[].concat(R()(e),[{uuid:n,system:i,cells:[a,r,o,s.a.createElement(l.Fragment,{key:"".concat(n,"-modified")},s.a.createElement(O.DateFormat,{date:c,type:"relative"}))]}])},[])},j=n(46),w=n(36),T=n(43),q=n(77),L=n(63),S=n(15),F=n.n(S),C=n(37),x=n.n(C),D=n(35),G=n(251),N=n(30),_=n(116),P=n(217),U=n(218),I=n(219),M=n(220),B=n(148),A=n(415),V=n(414),K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.resourceDefinitions,r=(void 0===a?[]:a).map(function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:n?s.a.createElement(f.a,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}});return s.a.createElement(B.a,{"aria-label":"Resource definitions",cells:[{title:"Key"},{title:"Operation"},{title:"value"},""],rows:r,variant:B.c.compact},s.a.createElement(A.a,null),s.a.createElement(V.a,null))};K.propTypes={resourceDefinitions:E.a.arrayOf(E.a.shape({key:E.a.number.isRequired,operation:E.a.number.isRequired,value:E.a.number.isRequired}))};var z=K,H=function(e){var t=e.application,n=void 0===t?"":t,a=e.description,r=void 0===a?"":a,i=e.name,o=void 0===i?"":i,c=e.permission,u=void 0===c?"":c,l=e.resourceType,d=void 0===l?"":l;return s.a.createElement(g.a,{gutter:"md"},s.a.createElement(b.a,null,s.a.createElement(_.a,{size:"xl"},"Confirm details")),s.a.createElement(b.a,null,s.a.createElement(g.a,{gutter:"md"},s.a.createElement(b.a,null,s.a.createElement(P.a,null,s.a.createElement(U.a,{component:U.b.h5},"Confirm the details for your source, or click Back to revise"))),s.a.createElement(b.a,null,s.a.createElement(P.a,null,s.a.createElement(I.a,{component:I.b.dl},s.a.createElement(M.a,{component:M.b.dt},"Name"),s.a.createElement(M.a,{component:M.b.dd},o),s.a.createElement(M.a,{component:M.b.dt},"Description"),s.a.createElement(M.a,{component:M.b.dd},r),s.a.createElement(M.a,{component:M.b.dt},"Application"),s.a.createElement(M.a,{component:M.b.dd},n),s.a.createElement(M.a,{component:M.b.dt},"Resource type"),s.a.createElement(M.a,{component:M.b.dd},d),s.a.createElement(M.a,{component:M.b.dt},"Operation"),s.a.createElement(M.a,{component:M.b.dd},u),s.a.createElement(M.a,{component:M.b.dt},"Resource definition"),s.a.createElement(M.a,{component:M.b.dd},new z(e))))))))};H.propTypes={application:E.a.string,description:E.a.string,name:E.a.string,permission:E.a.string,resourceType:E.a.string};var J=H,W=n(180),Y=n(143),Q=n(206),X=function(e,t){var n=Object(l.useState)({key:"",operation:"",value:""}),a=u()(n,2),r=a[0],i=a[1],c=e.resourceDefinitions,d=void 0===c?[]:c,p=function(){for(var e=!1,t=0;t<d.length;t++){var n=d[t];if(n.key===r.key&&n.operation===r.operation&&n.value===r.value){e=!0;break}}return e},m=!p()&&r.key.trim().length>0&&r.operation.trim().length>0&&r.value.trim().length>0,h=function(e){i(o()({},r,e))};return s.a.createElement(g.a,{gutter:"md"},s.a.createElement(b.a,null,s.a.createElement(_.a,{size:"xl"},"Resource definitions")),s.a.createElement(b.a,null,s.a.createElement(P.a,null,s.a.createElement(U.a,{component:U.b.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),s.a.createElement(b.a,null,s.a.createElement(W.a,null,s.a.createElement(Y.a,{label:"Key",fieldId:"resource-key"},s.a.createElement(Q.a,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return h({key:t.currentTarget.value})},type:"text",value:r.key})),s.a.createElement(Y.a,{label:"Operation",fieldId:"resource-operation"},s.a.createElement(Q.a,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return h({operation:t.currentTarget.value})},type:"text",value:r.operation})),s.a.createElement(Y.a,{label:"Value",fieldId:"resource-value"},s.a.createElement(Q.a,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return h({value:t.currentTarget.value})},type:"text",value:r.value})))),s.a.createElement(b.a,null,s.a.createElement(f.a,{variant:"primary",isDisabled:!m,onClick:function(){if(!p()){var e=[].concat(R()(d),[r]);t({resourceDefinitions:e})}}},"Add to definitions")),s.a.createElement(b.a,null,new z(e,function(e){for(var n=[],a=0;a<d.length;a++){var r=d[a];r.key===e.key&&r.operation===e.operation&&r.value===e.value||n.push(r)}t({resourceDefinitions:n})},!0)))};X.propTypes={resourceDefinitions:E.a.arrayOf(E.a.shape({key:E.a.number.isRequired,operation:E.a.number.isRequired,value:E.a.number.isRequired}))};var Z=X,$=n(208),ee=function(e,t){var n=e.description,a=void 0===n?"":n,r=e.name,i=void 0===r?"":r;return s.a.createElement(g.a,{gutter:"md"},s.a.createElement(b.a,null,s.a.createElement(_.a,{size:"xl"},"Name and description")),s.a.createElement(b.a,null,s.a.createElement(W.a,null,s.a.createElement(Y.a,{label:"Name",isRequired:!0,fieldId:"name"},s.a.createElement(Q.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,n){return t({name:n.currentTarget.value},n.currentTarget.value.trim().length>0)}})),s.a.createElement(Y.a,{label:"Description",fieldId:"description"},s.a.createElement($.b,{type:"text",id:"description",name:"description",value:a,onChange:function(e,n){return t({description:n.currentTarget.value})}})))))};ee.propTypes={name:E.a.string,description:E.a.string};var te=ee,ne=function(e,t){var n=e.application,a=void 0===n?"":n,r=e.permission,i=void 0===r?"":r,c=e.resourceType,u=void 0===c?"":c,l=function(e){var n=function(e){return o()({application:a,permission:i,resourceType:u},e)}(e),r=n.application.trim().length>0&&n.permission.trim().length>0&&n.resourceType.trim().length>0;t(n,r)};return s.a.createElement(g.a,{gutter:"md"},s.a.createElement(b.a,null,s.a.createElement(_.a,{size:"xl"},"Permission")),s.a.createElement(b.a,null,s.a.createElement(P.a,null,s.a.createElement(U.a,{component:U.b.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),s.a.createElement(b.a,null,s.a.createElement(W.a,null,s.a.createElement(Y.a,{label:"Application",isRequired:!0,fieldId:"application"},s.a.createElement(Q.a,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return l({application:t.currentTarget.value})},type:"text",value:a})),s.a.createElement(Y.a,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},s.a.createElement(Q.a,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return l({resourceType:t.currentTarget.value})},type:"text",value:u})),s.a.createElement(Y.a,{label:"Permission",isRequired:!0,fieldId:"permission"},s.a.createElement(Q.a,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return l({permission:t.currentTarget.value})},type:"text",value:i})))))};ne.propTypes={application:E.a.string,permission:E.a.string,resourceType:E.a.string};var ae=ne,re=function(e){var t=e.addNotification,n=e.createRole,a=e.history.push,r=e.pagination,i=Object(l.useState)({}),c=u()(i,2),d=c[0],p=c[1],m=Object(l.useState)(!1),f=u()(m,2),g=f[0],b=f[1],h=Object(l.useState)(!1),E=u()(h,2),v=E[0],y=E[1],R=Object(l.useState)(1),O=u()(R,2),k=O[0],j=O[1],w=function(e){p(o()({},d,e))},q=[{id:1,name:"Name and Description",canJumpTo:k>=1,component:new te(d,function(e,t){w(e),b(t)}),enableNext:g},{id:2,name:"Permission",canJumpTo:k>=2&&g,component:new ae(d,function(e,t){w(e),y(t)}),enableNext:v},{id:3,name:"Resource definitions",canJumpTo:k>=3&&g&&v,component:new Z(d,w)},{id:4,name:"Review",canJumpTo:k>=4&&g&&v,component:new J(d),nextButtonText:"Confirm"}],L=function(){var e=x()(F.a.mark(function e(){var t,i;return F.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[d.application],description:d.description,name:d.name,access:[{permission:"".concat(d.application,":").concat(d.resourceType,":").concat(d.permission),resourceDefinitions:d.resourceDefinitions.map(function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}})}]},e.next=3,n(t);case 3:return i=e.sent,Object(T.c)(r).then(a("/roles")),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return s.a.createElement(G.a,{isLarge:!0,title:"Add role",isOpen:!0,onClose:function(){t({variant:"warning",title:"Adding role",dismissable:!0,description:"Adding role was cancelled by the user."}),a("/roles")},onNext:function(e){var t=e.id;j(k<t?t:k)},onSave:L,steps:q})};re.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},re.propTypes={history:E.a.shape({goBack:E.a.func.isRequired,push:E.a.func.isRequired}).isRequired,addNotification:E.a.func.isRequired,createRole:E.a.func.isRequired,fetchRoles:E.a.func.isRequired,inputValue:E.a.string,pagination:E.a.shape({limit:E.a.number.isRequired,offset:E.a.number.isRequired,count:E.a.number.isRequired})};var ie=Object(p.k)(Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles,a=t.filterValue,r=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:r,searchFilter:a}},function(e){return Object(D.a)({addNotification:N.addNotification,createRole:T.a,fetchRoles:T.c},e)})(re)),oe=n(216),ce=n(222),ue=n(223),le=n(41),se=function(e){var t=e.history,n=t.goBack,a=t.push,r=e.match.params.id,i=e.removeRole,o=e.role,c=e.isLoading,u=e.fetchRole,d=e.fetchRoles;Object(l.useEffect)(function(){u(r)},[]);var p=function(){return n()};return s.a.createElement(oe.a,{isOpen:!0,isSmall:!0,title:"",onClose:p,actions:[s.a.createElement(f.a,{key:"cancel",variant:"secondary",type:"button",onClick:p},"Cancel"),s.a.createElement(f.a,{key:"submit",isDisabled:c,variant:"primary",type:"button",onClick:function(){return i(r).then(function(){d(),a("/roles")})}},"Confirm")]},s.a.createElement(ce.a,{gutter:"sm"},s.a.createElement(ue.a,{span:5},s.a.createElement(P.a,null,s.a.createElement(U.a,{component:U.b.h1},"Removing Role:"))),s.a.createElement(ue.a,{span:6},s.a.createElement(P.a,null,!c&&s.a.createElement(U.a,{component:U.b.h1},o.name)),c&&s.a.createElement(le.c,null))))};se.defaultProps={role:{},isLoading:!0},se.propTypes={addNotification:E.a.func.isRequired,fetchRole:E.a.func.isRequired,fetchRoles:E.a.func.isRequired,isLoading:E.a.bool,history:E.a.shape({goBack:E.a.func.isRequired,push:E.a.func.isRequired}).isRequired,match:E.a.shape({params:E.a.shape({id:E.a.string}).isRequired}).isRequired,removeRole:E.a.func.isRequired,role:E.a.object};var de=Object(p.k)(Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:n.meta}},function(e){return Object(D.a)({addNotification:N.addNotification,fetchRole:T.b,fetchRoles:T.c,removeRole:T.e},e)})(se)),pe=[{title:"Role",orderBy:"name"},{title:"Description"},{title:"Policies"},{title:"Last Modified",orderBy:"modified"}],me=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],fe=function(e){var t=e.fetchRoles,n=e.roles,a=e.isLoading,r=e.history.push,i=e.pagination,c=e.userIdentity,d=e.userEntitlements,h=Object(l.useState)(""),E=u()(h,2),y=E[0],R=E[1];Object(l.useEffect)(function(){t(o()({},i,{name:y}))},[]);var j=function(){return s.a.createElement(l.Fragment,null,s.a.createElement(p.d,{exact:!0,path:"/roles/add-role",component:ie}),s.a.createElement(p.d,{exact:!0,path:"/roles/remove/:id",component:de}))},T=function(e){var t=e.system,n=insights.chrome.isBeta()&&c.user.is_org_admin;return t||!n?[]:[{title:"Delete",onClick:function(e,t,n){return r("/roles/remove/".concat(n.uuid))},props:{isDisabled:!0},isDisabled:!0}]},S=function(e){return e.policies.title>1},F=function(){return[s.a.createElement(l.Fragment,{key:"add-role"},d&&d.cost_management?s.a.createElement(m.Link,{to:"/roles/add-role"},s.a.createElement(f.a,{variant:"primary","aria-label":"Create role"},"Add role")):s.a.createElement(l.Fragment,null))]};return s.a.createElement(p.g,null,s.a.createElement(p.d,{path:"/roles",render:function(){return s.a.createElement(g.a,null,s.a.createElement(b.a,null,s.a.createElement(q.a,null,s.a.createElement(q.b,{title:"User access management"}),s.a.createElement(v.a,{tabItems:me}))),s.a.createElement(b.a,null,s.a.createElement(O.Section,{type:"content",id:"tab-roles"},s.a.createElement(L.a,{actionResolver:T,areActionsDisabled:S,columns:pe,createRows:k,data:n,filterValue:y,fetchData:function(e){return t(Object(w.d)(e))},setFilterValue:function(e){var t=e.name;return R(t)},isLoading:a,pagination:i,request:t,routes:j,titlePlural:"roles",titleSingular:"role",toolbarButtons:F}))))}}))};fe.propTypes={history:E.a.shape({goBack:E.a.func.isRequired,push:E.a.func.isRequired}),roles:E.a.array,platforms:E.a.array,isLoading:E.a.bool,fetchRoles:E.a.func.isRequired,pagination:E.a.shape({limit:E.a.number.isRequired,offset:E.a.number.isRequired,count:E.a.number.isRequired}),userIdentity:E.a.shape({user:E.a.shape(r()({},E.a.string,E.a.oneOfType([E.a.string,E.a.bool])))}),userEntitlements:E.a.shape(r()({},E.a.string,E.a.bool))},fe.defaultProps={roles:[],pagination:j.b};t.default=Object(d.connect)(function(e){var t=e.roleReducer,n=t.roles,a=t.isLoading;return{roles:n.data,pagination:n.meta,userIdentity:n.identity,userEntitlements:n.entitlements,isLoading:a}},function(e){return{fetchRoles:function(t){e(Object(T.d)(t))}}})(fe)},41:function(e,t,n){"use strict";n.d(t,"d",function(){return v}),n.d(t,"a",function(){return y}),n.d(t,"e",function(){return R}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return k});var a=n(31),r=n.n(a),i=n(21),o=n.n(i),c=n(67),u=n.n(c),l=n(2),s=n.n(l),d=n(1),p=n.n(d),m=n(175),f=n(177),g=n(179),b=n(178),h=n(176),E=(n(180),n(143),n(92)),v=function(e){var t=e.items,n=u()(e,["items"]);return s.a.createElement(l.Fragment,null,s.a.createElement(m.a,{"aria-label":"datalist-placeholder"},o()(Array(t)).map(function(e,t){return s.a.createElement(f.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},s.a.createElement(g.a,{"aria-label":"datalist-item-placeholder-row"},s.a.createElement(b.a,{dataListCells:[s.a.createElement(h.a,{key:"1"},s.a.createElement(E.default,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},n),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))})))};v.propTypes={items:p.a.number},v.defaultProps={items:5};var y=function(e){return s.a.createElement("div",null,s.a.createElement(E.default,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),s.a.createElement(v,null))},R=function(e){return s.a.createElement("div",{style:{width:"200px",height:"21px"}},s.a.createElement(E.default,r()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"})))},O=function(e){return s.a.createElement("div",{style:{width:"200px",height:"18px"}},s.a.createElement(E.default,r()({height:18,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"18"})))},k=function(){return s.a.createElement(E.default,{height:32,width:160,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"160",height:"32"}))}},410:function(e,t,n){"use strict";n.r(t);var a,r,i,o,c=n(2),u=n.n(c),l=n(28),s=n.n(l),d=n(25),p=n(16),m=n(273),f=n(107),g=n.n(f),b=n(30),h=n(258),E=n.n(h),v=n(259),y=n(18),R=n.n(y),O=n(6),k=n.n(O),j=n(11),w=function(e){return k()({},e,{isUserDataLoading:!0})},T=(a={},R()(a,"".concat(j.FETCH_USER,"_PENDING"),w),R()(a,"".concat(j.FETCH_USER,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{selectedUser:n,isUserDataLoading:!1})}),R()(a,"".concat(j.m,"_PENDIND"),w),R()(a,"".concat(j.m,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{users:n,isUserDataLoading:!1})}),a),q=(r={},R()(r,"".concat(j.f,"_PENDING"),function(e){return k()({},e,{isLoading:!0})}),R()(r,"".concat(j.f,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{groups:n,isLoading:!1})}),R()(r,"".concat(j.e,"_PENDING"),function(e){return k()({},e,{isRecordLoading:!0})}),R()(r,"".concat(j.e,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{groups:k()({},e.groups,{data:e.groups.data.map(function(e){return k()({},e,n.uuid===e.uuid&&k()({},n,{loaded:!0}))})}),selectedGroup:k()({},n,{loaded:!0})})}),R()(r,j.r,function(e){return k()({},e,{selectedGroup:void 0})}),r),L=(i={},R()(i,"".concat(j.g,"_PENDING"),function(e){return k()({},e,{isLoading:!0})}),R()(i,"".concat(j.g,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{policies:n,isLoading:!1})}),R()(i,"".concat(j.h,"_PENDING"),function(e){return k()({},e,{isRecordLoading:!0})}),R()(i,"".concat(j.h,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{selectedPolicy:n,isRecordLoading:!1})}),i),S=(o={},R()(o,"".concat(j.i,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{selectedRole:n,isRecordLoading:!1})}),R()(o,"".concat(j.i,"_PENDING"),function(e){return k()({},e,{isRecordLoading:!0})}),R()(o,"".concat(j.j,"_FULFILLED"),function(e,t){var n=t.payload;return k()({},e,{roles:n,isLoading:!1})}),R()(o,"".concat(j.j,"_PENDING"),function(e){return k()({},e,{isLoading:!0})}),o),F=new g.a({},[v.a,Object(m.a)(),Object(b.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),E.a]);F.register({userReducer:Object(f.applyReducerHash)(T,{selectedUser:{},isUserDataLoading:!1,users:[]}),groupReducer:Object(f.applyReducerHash)(q,{groups:{data:[],meta:{count:0,limit:10,offset:0}},selectedGroup:{},isLoading:!1,isRecordLoading:!1}),policyReducer:Object(f.applyReducerHash)(L,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1,isRecordLoading:!1}),roleReducer:Object(f.applyReducerHash)(S,{isLoading:!1,isRecordLoading:!1,roles:{data:[],meta:{count:0,limit:5,offset:0}},selectedRole:{}}),notifications:b.notifications});var C=F.getStore(),x=n(262),D=n.n(x),G=n(263),N=n.n(G),_=n(264),P=n.n(_),U=n(265),I=n.n(U),M=n(183),B=n.n(M),A=n(266),V=n.n(A),K=n(1),z=n.n(K),H=n(78),J=n(67),W=n.n(J),Y=n(194),Q=n.n(Y),X=n(41),Z=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(n(408))})}),$=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(n(409))})}),ee="/groups",te="/roles",ne=function(e){var t=e.rootClass,n=W()(e,["rootClass"]),a=document.getElementById("root");return a.removeAttribute("class"),a.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),a.setAttribute("role","main"),u.a.createElement(H.d,n)};ne.propTypes={rootClass:z.a.string};var ae=function(){return u.a.createElement(c.Suspense,{fallback:u.a.createElement(X.a,null)},u.a.createElement(H.g,null,u.a.createElement(ne,{path:ee,component:Z,rootClass:"groups"}),u.a.createElement(ne,{path:te,component:$,rootClass:"roles"}),u.a.createElement(H.d,{render:function(){return u.a.createElement(H.c,{to:ee})}})))};ae.propTypes={childProps:z.a.object};n(110);var re=n(38),ie=n(271),oe=(n(352),function(e){function t(){var e,n;D()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=P()(this,(e=I()(t)).call.apply(e,[this].concat(r))),R()(B()(n),"state",{chromeNavAvailable:!0,auth:!1}),n}return V()(t,e),N()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?u.a.createElement(ie.a,{locale:"en"},u.a.createElement(u.a.Fragment,null,u.a.createElement(b.NotificationsPortal,null),u.a.createElement(re.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(ae,null)))):u.a.createElement(X.a,null)}}]),t}(c.Component));oe.propTypes={history:z.a.object};var ce=Object(H.k)(Object(p.connect)()(oe)),ue=n(261);s.a.render(u.a.createElement(p.Provider,{store:C},u.a.createElement(d.BrowserRouter,{basename:Object(ue.getBaseName)(location.pathname)},u.a.createElement(ce,null))),document.getElementById("root"))},43:function(e,t,n){"use strict";var a=n(11),r=n(6),i=n.n(r),o=n(15),c=n.n(o),u=n(37),l=n.n(u),s=n(105),d=Object(s.c)();function p(e){return m.apply(this,arguments)}function m(){return(m=l()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=l()(c.a.mark(function e(t){var n,a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,a=t.offset,r=t.name,o=t.orderBy,e.t0=i.a,e.t1={},e.next=5,d.listRoles(n,a,r,o);case 5:return e.t2=e.sent,e.next=8,insights.chrome.auth.getUser();case 8:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=l()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function E(e){return v.apply(this,arguments)}function v(){return(v=l()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}n.d(t,"a",function(){return y}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return O}),n.d(t,"d",function(){return k}),n.d(t,"e",function(){return j});var y=function(e){return{type:a.c,payload:p(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",description:"The role was not added successfuly."}}}}},R=function(e){return{type:a.i,payload:b(e)}},O=function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:a.j,payload:(e=r,t=e.limit,n=e.offset,d.listRoles(t,n))}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:a.j,payload:f(e)}},j=function(e){return{type:a.p,payload:E(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",description:"The role was removed successfully."}}}}}},46:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return r});var a={limit:50,offset:0,itemCount:1,numberOfItems:50},r={limit:5,offset:0,itemCount:1,numberOfItems:5}},63:function(e,t,n){"use strict";var a=n(31),r=n.n(a),i=n(18),o=n.n(i),c=n(6),u=n.n(c),l=n(9),s=n.n(l),d=n(2),p=n.n(d),m=n(1),f=n.n(m),g=n(148),b=n(415),h=n(414),E=n(138),v=n(41),y=n(173),R=n(36),O=n(267),k=n(46),j=function(e){var t=e.isSelectable,n=e.checkedRows,a=e.setCheckedItems,i=e.isLoading,o=e.data,c=e.titleSingular,l=e.filterValue,s=e.setFilterValue,d=e.pagination,m=e.fetchData,f=e.toolbarButtons;return p.a.createElement(O.PrimaryToolbar,r()({},t&&{bulkSelect:{count:n.length,items:[{title:"Select none (0)",onClick:function(){a(function(){return[]})}},u()({},!i&&o&&o.length>0?{title:"Select page (".concat(o.length,")"),onClick:function(){a(Object(R.e)(o,!0))}}:{})],checked:Object(R.a)(o,n),onSelect:function(e){!i&&a(Object(R.e)(o,e))}}},{filterConfig:{items:[{label:c,type:"text",filterValues:{id:"filter-by-string",key:"filter-by-string",placeholder:"Filter by ".concat(c),value:l,onChange:function(e,t){s(u()({},d,{offset:0,name:t})),Object(R.b)(function(){return m(u()({},d,{offset:0,name:t}))})},isDisabled:i}}]},actionsConfig:{actions:f()}},!i&&{pagination:{itemCount:d.count,perPage:d.limit,page:Object(R.c)(d.limit,d.offset),onSetPage:function(e,t){m(u()({},d,{offset:(t-1)*d.limit,name:l}))},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50}],onPerPageSelect:function(e,t){m(u()({},d,{offset:0,limit:t,name:l}))}}},l.length>0&&{activeFiltersConfig:{filters:[{name:l}],onDelete:function(){s(u()({},d,{offset:0,name:""})),m(u()({},d,{offset:0,name:""}))}}}))};j.propTypes={isSelectable:f.a.bool,checkedRows:f.a.array,setCheckedItems:f.a.func,isLoading:f.a.bool,data:f.a.array,titleSingular:f.a.string,filterValue:f.a.array,setFilterValue:f.a.func,pagination:f.a.shape({limit:f.a.number,offset:f.a.number,count:f.a.number}),fetchData:f.a.func,toolbarButtons:f.a.func},j.defaultProps={isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:k.b,setCheckedItems:function(){},setFilterValue:function(){},fetchData:function(){},toolbarButtons:function(){return[]}};var w=j,T=n(67),q=n.n(T),L=n(221),S=n(211),F=n(213),C=n(116),x=n(212),D=n(165),G=function(e){var t=e.title,n=e.icon,a=e.description,r=e.actions,i=q()(e,["title","icon","description","actions"]);return p.a.createElement(L.a,i,p.a.createElement(S.a,{variant:S.b.full},p.a.createElement(F.a,{icon:n||D.b}),p.a.createElement(C.a,{headingLevel:"h5",size:"lg"},t),p.a.createElement(x.a,null,a.map(function(e,t){return p.a.createElement(p.a.Fragment,{key:t},e," ",p.a.createElement("br",null))})),r))};G.propTypes={icon:f.a.node,title:f.a.node,description:f.a.node,actions:f.a.arrayOf(f.a.node),className:f.a.string},G.propTypes={actions:[]};var N=G;n(362);n.d(t,"a",function(){return _});var _=function(e){var t=e.isCompact,n=e.createRows,a=e.borders,i=e.columns,c=e.toolbarButtons,l=e.data,m=e.actionResolver,f=e.areActionsDisabled,O=e.routes,k=e.titlePlural,j=e.titleSingular,T=e.pagination,q=e.filterValue,L=e.isLoading,S=e.setFilterValue,F=e.checkedRows,C=e.isSelectable,x=e.fetchData,D=e.setCheckedItems,G=Object(d.useState)({}),_=s()(G,2),P=_[0],U=_[1],I=n(l,P,F),M=function(e,t,n,a){var r=a.uuid;return U(function(e){return u()({},e,o()({},r,n))})};return p.a.createElement(d.Fragment,null,O(),L||0!==I.length||0!==q.length?p.a.createElement(d.Fragment,null,p.a.createElement(w,{isSelectable:C,checkedRows:F,setCheckedItems:D,isLoading:L,data:l,titleSingular:j,filterValue:q,setFilterValue:S,pagination:T,fetchData:x,toolbarButtons:c}),L?p.a.createElement(v.d,null):p.a.createElement(g.a,r()({canSelectAll:!1,"aria-label":"".concat(k," table"),variant:t?g.c.compact:null,borders:a,onCollapse:M},C&&I.length>0&&{onSelect:function(e,t,n,a){var r=a.uuid,i=s()(a.cells,1)[0];return D(Object(R.e)([{uuid:r,name:i}],t))}},{rows:I.length>0?I:[{fullWidth:!0,cells:[{title:p.a.createElement(N,{title:"No matching ".concat(k," found"),description:["This filter criteria matches no ".concat(k,"."),"Try changing your filter settings."],actions:[p.a.createElement(E.a,{variant:"link",key:"clear-filters",onClick:function(){S(u()({},T,{offset:0,name:""})),x(u()({},T,{offset:0,name:""}))}},"Clear all filters")]}),props:{colSpan:i.length+Boolean(M)}}]}],cells:i},I.length>0&&{actionResolver:m},{areActionsDisabled:f}),p.a.createElement(b.a,null),p.a.createElement(h.a,null))):p.a.createElement(N,{title:"Configure ".concat(k),icon:y.b,description:["To configure user access to applicastions","create at least one ".concat(j)],actions:c()[0]}))};_.propTypes=u()({},w.propTypes,{isCompact:f.a.bool,borders:f.a.bool,createRows:f.a.func.isRequired,request:f.a.func.isRequired,columns:f.a.array.isRequired,titlePlural:f.a.string,routes:f.a.func,actionResolver:f.a.func,areActionsDisabled:f.a.func}),_.defaultProps=u()({},w.defaultProps,{requests:[],isCompact:!1,borders:!0,routes:function(){return null}})},77:function(e,t,n){"use strict";var a=n(2),r=n.n(a),i=n(1),o=n.n(i),c=n(224),u=n(225),l=n(217),s=n(218),d=n(41),p=n(25),m=n(203),f=n(204),g=function(e){return e?r.a.createElement(m.a,null,Object.values(e).map(function(e){return e.title?r.a.createElement(f.a,{key:e.title,isActive:e.isActive},e.to&&r.a.createElement(p.NavLink,{exact:!0,to:e.to},e.title)||e.title):r.a.createElement(d.b,null)})):null};g.propTypes={breadcrumbs:o.a.object};var b=g;n(407);n.d(t,"a",function(){return h}),n.d(t,"b",function(){return E});var h=function(e){var t=e.children,n=e.breadcrumbs,a=e.paddingBottom;return r.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-lg ".concat(a?"pf-u-pb-sm":""," top-toolbar")},n&&r.a.createElement(c.a,{className:"pf-u-mb-md"},r.a.createElement(b,n)),t)};h.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},h.defaultProps={paddingBottom:!1};var E=function(e){var t=e.title,n=e.description,i=e.children;return r.a.createElement(a.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(l.a,{className:"pf-u-mb-sm"},r.a.createElement(s.a,{component:s.b.h1},t||r.a.createElement(d.e,null))),n&&r.a.createElement(l.a,{className:"pf-u-pt-sm pf-u-mb-md"},r.a.createElement(s.a,{component:s.b.p},n))),i))};E.propTypes={title:o.a.string,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}}});
//# sourceMappingURL=../sourcemaps/App.js.map