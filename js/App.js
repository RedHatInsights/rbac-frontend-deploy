!function(e){function t(t){for(var n,c,o=t[0],u=t[1],l=t[2],p=0,d=[];p<o.length;p++)c=o[p],r[c]&&d.push(r[c][0]),r[c]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,o=1;o<a.length;o++){var u=a[o];0!==r[u]&&(n=!1)}n&&(i.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={0:0},i=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/beta/apps/rbac/";var o=window.webpackJsonp=window.webpackJsonp||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var s=u;i.push([553,1]),a()}({117:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),c=a.n(i),o=a(99),u=a(143),l=a(126),s=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],p=function(e){var t=e.history.push,a=e.location.pathname,n=s.find(function(e){var t=e.name;return a.includes(t)});return r.a.createElement(u.b,{className:"pf-u-mt-md",activeKey:n?n.eventKey:1,onSelect:function(e,a){return t(s[a].name)}},s.map(function(e){return r.a.createElement(l.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};p.propTypes={location:c.a.shape({pathname:c.a.string.isRequired}),history:c.a.shape({push:c.a.func.isRequired})},t.a=Object(o.k)(p)},120:function(e,t,a){"use strict";var n=a(408),r=a.n(n),i=a(123),c="".concat("/api","/rbac/v1");a.d(t,"a",function(){return p}),a.d(t,"c",function(){return d}),a.d(t,"b",function(){return m});var o=r.a.create();o.interceptors.response.use(function(e){return e.data||e});new i.AccessApi(void 0,c,o),new i.PrincipalApi(void 0,c,o);var u=new i.GroupApi(void 0,c,o),l=new i.RoleApi(void 0,c,o),s=new i.PolicyApi(void 0,c,o);function p(){return u}function d(){return l}function m(){return s}},132:function(e,t,a){"use strict";var n=a(18),r=a(11),i=a.n(r),c=a(17),o=a.n(c),u=a(37),l=a.n(u),s=a(120),p=Object(s.c)();function d(e){return m.apply(this,arguments)}function m(){return(m=l()(o.a.mark(function e(t){var a,n,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,p.listRoles(a,n);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=l()(o.a.mark(function e(t){var a,n,r,c,u,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,r=t.name,c=t.orderBy,e.next=3,p.listRoles(a,n,r,c);case 3:return u=e.sent,s=u.data,e.abrupt("return",Promise.all(s.map(function(){var e=l()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getRole(t.uuid);case 2:return a=e.sent,e.abrupt("return",i()({},t,{policies:a.policyCount}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return i()({},u,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}a.d(t,"a",function(){return h}),a.d(t,"b",function(){return b});var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.h,payload:d(e)}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.h,payload:f(e)}}},18:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"m",function(){return c}),a.d(t,"j",function(){return o}),a.d(t,"g",function(){return u}),a.d(t,"h",function(){return l}),a.d(t,"e",function(){return s}),a.d(t,"b",function(){return p}),a.d(t,"n",function(){return d}),a.d(t,"k",function(){return m}),a.d(t,"l",function(){return f});var n="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",c="UPDATE_GROUP",o="REMOVE_GROUP",u="FETCH_ROLE",l="FETCH_ROLES",s="FETCH_GROUP_POLICIES",p="ADD_POLICY",d="UPDATE_POLICY",m="REMOVE_POLICY",f="RESET_SELECTED_GROUP"},245:function(e,t,a){},505:function(e,t,a){var n={"./af":248,"./af.js":248,"./ar":249,"./ar-dz":250,"./ar-dz.js":250,"./ar-kw":251,"./ar-kw.js":251,"./ar-ly":252,"./ar-ly.js":252,"./ar-ma":253,"./ar-ma.js":253,"./ar-sa":254,"./ar-sa.js":254,"./ar-tn":255,"./ar-tn.js":255,"./ar.js":249,"./az":256,"./az.js":256,"./be":257,"./be.js":257,"./bg":258,"./bg.js":258,"./bm":259,"./bm.js":259,"./bn":260,"./bn.js":260,"./bo":261,"./bo.js":261,"./br":262,"./br.js":262,"./bs":263,"./bs.js":263,"./ca":264,"./ca.js":264,"./cs":265,"./cs.js":265,"./cv":266,"./cv.js":266,"./cy":267,"./cy.js":267,"./da":268,"./da.js":268,"./de":269,"./de-at":270,"./de-at.js":270,"./de-ch":271,"./de-ch.js":271,"./de.js":269,"./dv":272,"./dv.js":272,"./el":273,"./el.js":273,"./en-SG":274,"./en-SG.js":274,"./en-au":275,"./en-au.js":275,"./en-ca":276,"./en-ca.js":276,"./en-gb":277,"./en-gb.js":277,"./en-ie":278,"./en-ie.js":278,"./en-il":279,"./en-il.js":279,"./en-nz":280,"./en-nz.js":280,"./eo":281,"./eo.js":281,"./es":282,"./es-do":283,"./es-do.js":283,"./es-us":284,"./es-us.js":284,"./es.js":282,"./et":285,"./et.js":285,"./eu":286,"./eu.js":286,"./fa":287,"./fa.js":287,"./fi":288,"./fi.js":288,"./fo":289,"./fo.js":289,"./fr":290,"./fr-ca":291,"./fr-ca.js":291,"./fr-ch":292,"./fr-ch.js":292,"./fr.js":290,"./fy":293,"./fy.js":293,"./ga":294,"./ga.js":294,"./gd":295,"./gd.js":295,"./gl":296,"./gl.js":296,"./gom-latn":297,"./gom-latn.js":297,"./gu":298,"./gu.js":298,"./he":299,"./he.js":299,"./hi":300,"./hi.js":300,"./hr":301,"./hr.js":301,"./hu":302,"./hu.js":302,"./hy-am":303,"./hy-am.js":303,"./id":304,"./id.js":304,"./is":305,"./is.js":305,"./it":306,"./it-ch":307,"./it-ch.js":307,"./it.js":306,"./ja":308,"./ja.js":308,"./jv":309,"./jv.js":309,"./ka":310,"./ka.js":310,"./kk":311,"./kk.js":311,"./km":312,"./km.js":312,"./kn":313,"./kn.js":313,"./ko":314,"./ko.js":314,"./ku":315,"./ku.js":315,"./ky":316,"./ky.js":316,"./lb":317,"./lb.js":317,"./lo":318,"./lo.js":318,"./lt":319,"./lt.js":319,"./lv":320,"./lv.js":320,"./me":321,"./me.js":321,"./mi":322,"./mi.js":322,"./mk":323,"./mk.js":323,"./ml":324,"./ml.js":324,"./mn":325,"./mn.js":325,"./mr":326,"./mr.js":326,"./ms":327,"./ms-my":328,"./ms-my.js":328,"./ms.js":327,"./mt":329,"./mt.js":329,"./my":330,"./my.js":330,"./nb":331,"./nb.js":331,"./ne":332,"./ne.js":332,"./nl":333,"./nl-be":334,"./nl-be.js":334,"./nl.js":333,"./nn":335,"./nn.js":335,"./pa-in":336,"./pa-in.js":336,"./pl":337,"./pl.js":337,"./pt":338,"./pt-br":339,"./pt-br.js":339,"./pt.js":338,"./ro":340,"./ro.js":340,"./ru":341,"./ru.js":341,"./sd":342,"./sd.js":342,"./se":343,"./se.js":343,"./si":344,"./si.js":344,"./sk":345,"./sk.js":345,"./sl":346,"./sl.js":346,"./sq":347,"./sq.js":347,"./sr":348,"./sr-cyrl":349,"./sr-cyrl.js":349,"./sr.js":348,"./ss":350,"./ss.js":350,"./sv":351,"./sv.js":351,"./sw":352,"./sw.js":352,"./ta":353,"./ta.js":353,"./te":354,"./te.js":354,"./tet":355,"./tet.js":355,"./tg":356,"./tg.js":356,"./th":357,"./th.js":357,"./tl-ph":358,"./tl-ph.js":358,"./tlh":359,"./tlh.js":359,"./tr":360,"./tr.js":360,"./tzl":361,"./tzl.js":361,"./tzm":362,"./tzm-latn":363,"./tzm-latn.js":363,"./tzm.js":362,"./ug-cn":364,"./ug-cn.js":364,"./uk":365,"./uk.js":365,"./ur":366,"./ur.js":366,"./uz":367,"./uz-latn":368,"./uz-latn.js":368,"./uz.js":367,"./vi":369,"./vi.js":369,"./x-pseudo":370,"./x-pseudo.js":370,"./yo":371,"./yo.js":371,"./zh-cn":372,"./zh-cn.js":372,"./zh-hk":373,"./zh-hk.js":373,"./zh-tw":374,"./zh-tw.js":374};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=505},55:function(e,t,a){"use strict";a.d(t,"c",function(){return y}),a.d(t,"a",function(){return j}),a.d(t,"d",function(){return R});var n=a(46),r=a.n(n),i=a(45),c=a.n(i),o=a(85),u=a.n(o),l=a(2),s=a.n(l),p=a(1),d=a.n(p),m=a(183),f=a(185),g=a(187),h=a(186),b=a(184),v=a(94),E=a(176),y=function(e){var t=e.items,a=u()(e,["items"]);return s.a.createElement(l.Fragment,null,s.a.createElement(v.Section,{className:"data-table-pane"},s.a.createElement(m.a,{"aria-label":"datalist-placeholder",style:{margin:32}},c()(Array(t)).map(function(e,t){return s.a.createElement(f.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},s.a.createElement(g.a,{"aria-label":"datalist-item-placeholder-row"},s.a.createElement(h.a,{dataListCells:[s.a.createElement(b.a,{key:"1"},s.a.createElement(E.a,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))}))))};y.propTypes={items:d.a.number},y.defaultProps={items:5};var j=function(e){return s.a.createElement("div",null,s.a.createElement(E.a,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),s.a.createElement(y,null))},R=function(e){return s.a.createElement(E.a,r()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"}))}},550:function(e,t,a){},552:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a.n(n),i=a(2),c=a.n(i),o=a(35),u=a(1),l=a.n(u),s=a(99),p=a(38),d=a(134),m=a(239),f=a(238),g=a(157),h=a(17),b=a.n(h),v=a(37),E=a.n(v),y=a(11),j=a.n(y),R=a(75),O=a(391),F=a(67),w=a(18),k=a(120),G=Object(k.a)();function L(e){return P.apply(this,arguments)}function P(){return(P=E()(b.a.mark(function e(t){var a,n,r,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,G.listGroups(a,n);case 3:return r=e.sent,i=r.data,e.abrupt("return",Promise.all(i.map(function(){var e=E()(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getGroup(t.uuid);case 2:return a=e.sent,e.abrupt("return",j()({},t,{members:a.principals}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return j()({},r,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return x.apply(this,arguments)}function x(){return(x=E()(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function T(e){return q.apply(this,arguments)}function q(){return(q=E()(b.a.mark(function e(t){var a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.updateGroup(t.uuid,t);case 2:if(a=t.principals?t.principals.map(function(e){return e.username}):[],n=t.user_list.filter(function(e){return!a.includes(e.username)}),r=a.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(n.length>0)){e.next=8;break}return e.next=8,G.addPrincipalToGroup(t.uuid,{principals:n});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,G.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function C(e){return _.apply(this,arguments)}function _(){return(_=E()(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.createGroup(t);case 2:if(a=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",G.addPrincipalToGroup(a.uuid,{principals:t.user_list}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function S(e){return D.apply(this,arguments)}function D(){return(D=E()(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:w.d,payload:L(e)}},U=function(e){return{type:w.c,payload:N(e)}},M=function(e){return{type:w.a,payload:C(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},V=function(e){return{type:w.m,payload:T(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},z=function(e){return{type:w.j,payload:S(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},A=Object(k.b)();function B(e){return K.apply(this,arguments)}function K(){return(K=E()(b.a.mark(function e(t){var a,n,r,i,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.group_uuid,n=t.limit,r=t.offset,e.next=3,A.listPolicies(n,r,void 0,void 0,a);case 3:return i=e.sent,c=i.data,e.abrupt("return",Promise.all(c.map(function(){var e=E()(b.a.mark(function e(t){var a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getPolicy(t.uuid);case 2:return a=e.sent,e.abrupt("return",j()({},t,{roles:a.roles}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return j()({},i,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function H(e){return Y.apply(this,arguments)}function Y(){return(Y=E()(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.createPolicies(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var W=a(132),J=a(235),Q=a(236),X=a(129),Z=a(229),$=a(230),ee=a(231),te=a(232),ae=function(e){var t=e.values?e.values:{name:"",description:"",policyName:""},a=t.name,n=t.description,r=t.policyName,o=e.selectedUsers?e.selectedUsers:[],u=e.selectedRoles?e.selectedRoles:[];return c.a.createElement(i.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(Q.a,null,c.a.createElement(X.a,{size:"xl"}," Review ")),c.a.createElement(Q.a,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(Q.a,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),c.a.createElement(Q.a,null,c.a.createElement(ee.a,{gutter:"md"},c.a.createElement(te.a,{span:2},c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Group name")),c.a.createElement(te.a,{span:10},c.a.createElement($.a,{className:"data-table-detail content",component:$.b.p},a))),c.a.createElement(ee.a,{gutter:"md"},c.a.createElement(te.a,{span:2},c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Description")),c.a.createElement(te.a,{span:10},c.a.createElement($.a,{className:"data-table-detail content",component:$.b.p},n))),c.a.createElement(ee.a,{gutter:"md"},c.a.createElement(te.a,{span:2},c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Members")),c.a.createElement(te.a,{span:10},c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},"".concat(o.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))),c.a.createElement(ee.a,{gutter:"md"},c.a.createElement(te.a,{span:2},c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Policy name")),c.a.createElement(te.a,{span:10},c.a.createElement($.a,{className:"data-table-detail content",component:$.b.p},r))),c.a.createElement(ee.a,{gutter:"md"},c.a.createElement(te.a,{span:2},c.a.createElement($.a,{className:"data-table-detail heading",component:$.b.h5},"Roles")),c.a.createElement(te.a,{span:10},c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},"".concat(u.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};ae.propTypes={name:l.a.string,description:l.a.string,groups:l.a.array};var ne=ae,re=a(221),ie=a(222),ce=a(213),oe=a(216),ue=function(e,t){return c.a.createElement(i.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(Q.a,null,c.a.createElement(X.a,{size:"xl"}," Enter group information ")),c.a.createElement(Q.a,null,c.a.createElement(re.a,null,c.a.createElement(ie.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},c.a.createElement(ce.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){return t({name:a.currentTarget.value})}})),c.a.createElement(ie.a,{label:"Description",fieldId:"group-description"},c.a.createElement(oe.a,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};ue.propTypes={name:l.a.string,description:l.a.string};var le=ue,se=a(45),pe=a.n(se),de=a(164),me={DropdownIndicator:null},fe=function(e,t,a,n,o,u){var l=Object(i.useState)(""),s=r()(l,2),p=s[0],d=s[1];return c.a.createElement(i.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(Q.a,null,c.a.createElement(X.a,{size:"xl"},"Select members for this group")),c.a.createElement(Q.a,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{component:$.b.h6},"Select Members for this group.")),c.a.createElement(de.a,{components:me,inputValue:p,defaultValue:t,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){a(e)},onInputChange:function(e){d(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":t?t.find(function(e){return e.label===p})||a([].concat(pe()(t),[u(p)])):a([u(p)]),d(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:t}))))};fe.propTypes={name:l.a.string,description:l.a.string};var ge=fe,he=a(407),be=function(e,t,a,n,r){var o=r.map(function(e){return{value:e.uuid,label:e.name,id:e.uuid}});return c.a.createElement(i.Fragment,null,c.a.createElement(re.a,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(Q.a,null,c.a.createElement(X.a,{size:"xl"},"Create policy")),c.a.createElement(Q.a,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{component:$.b.h6},"Policies are the permissions set for this group. Groups can have one or more policies. Policies are created for a group, they cannot be shared. You can only create one policy at this time. It is possible to create more for this group at a later time.",c.a.createElement("br",null),"All fields are optional."))),c.a.createElement(Q.a,null,c.a.createElement(ie.a,{label:"Policy name",fieldId:"policy-name"},c.a.createElement(ce.a,{isRequired:!0,type:"text",id:"policy-name",name:"policy-name","aria-describedby":"policy-name",value:e.policyName,onChange:function(e,a){return t({policyName:a.currentTarget.value})}}))),c.a.createElement(Q.a,null,c.a.createElement(ie.a,{label:"Description",fieldId:"policy-description"},c.a.createElement(oe.a,{type:"text",id:"policy-description",name:"policy-description",value:e.policyDescription,onChange:function(e,a){return t({policyDescription:a.currentTarget.value})}}))),c.a.createElement(Q.a,null,c.a.createElement(ie.a,{label:"Select roles",fieldId:"select-role"},c.a.createElement(he.a,{options:o,isClearable:!0,isMulti:!0,placeholders:"Select Roles",onChange:function(e){n(e)},closeMenuOnSelect:!1}))))))};be.propTypes={formData:l.a.object};var ve=be,Ee=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,o=e.addGroup,u=Object(i.useState)({}),l=r()(u,2),s=l[0],p=l[1],d=Object(i.useState)([]),m=r()(d,2),f=m[0],g=m[1],h=Object(i.useState)([]),v=r()(h,2),y=v[0],R=v[1],F=Object(i.useState)([]),k=r()(F,2),G=k[0],L=k[1],P=Object(i.useState)(0),N=r()(P,2),x=N[0],T=N[1],q=Object(i.useState)({}),C=r()(q,2),_=C[0],S=C[1],D=function(e){S(j()({},_,e))},M=function(e){var t=x;return T(x+1),{label:e,value:"".concat(e,"_").concat(t)}},V=function(e){p(e),e&&e.principals&&g(e.principals.map(function(e){return M(e.username)}))},z=[{name:"General Information",component:new le(_,D)},{name:"Set Users",component:new ge(V,f,g,x,T,M,D)},{name:"Policy Step",component:new ve(_,D,G,L,y)},{name:"Review",component:new ne({values:_,selectedUsers:f,selectedRoles:G}),nextButtonText:"Confirm"}];Object(i.useEffect)(function(){U(a).payload.then(function(e){return V(e)}).catch(function(){return V(void 0)}),Object(W.a)().payload.then(function(e){return R(e)})},[]);var A=function(){var e=E()(b.a.mark(function e(){var a,n,r;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=j()({},_,{user_list:f.map(function(e){return{username:e.label}})}),e.next=3,o(a);case 3:return n=e.sent,r={name:_.policyName,description:_.policyDescription,group:n.value.uuid,roles:G.map(function(e){return e.value})},e.abrupt("return",(i=r,{type:w.b,payload:H(i),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding policy",description:"The policy was added successfully."},rejected:{variant:"danger",title:"Failed adding policy",description:"The policy was not added successfully."}}}}).payload.then(function(){return I()}).then(t("/groups")));case 6:case"end":return e.stop()}var i},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(O.a,{isLarge:!0,title:s?"Edit group":"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:s?"Editing group":"Adding group",description:s?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},onSave:A,steps:z})};Ee.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},Ee.propTypes={history:l.a.shape({goBack:l.a.func.isRequired}).isRequired,addGroup:l.a.func.isRequired,addNotification:l.a.func.isRequired,fetchGroups:l.a.func.isRequired,fetchGroup:l.a.func.isRequired,createPolicies:l.a.func.isRequired,selectedGroup:l.a.object,inputValue:l.a.string,users:l.a.array,selectedUsers:l.a.array,match:l.a.object};var ye=Object(s.k)(Object(o.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(R.a)({addNotification:F.addNotification,addGroup:M,fetchGroup:U,fetchGroups:I,fetchRoles:W.a},e)})(Ee)),je=a(46),Re=a.n(je),Oe=a(32),Fe=a.n(Oe),we=a(85),ke=a.n(we),Ge=a(198),Le=a.n(Ge),Pe=a(199),Ne=a(215),xe=a(223),Te=function(e){var t=e.input,a=e.options,n=e.isReadOnly,r=e.isDisabled,i=(e.FieldProvider,e.isRequired),o=ke()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return c.a.createElement(Ne.a,Re()({},t,o,{isDisabled:r||n}),function(e,t,a){if(t&&a)return e;var n=pe()(e);return n.find(function(e){return void 0===e.value})?pe()(n):[{label:a?"Please choose":"None"}].concat(pe()(n))}(a,t.value,i).map(function(e){return c.a.createElement(xe.a,Re()({key:e.value||e.label},e,{label:e.label.toString()}))}))};Te.propTypes={input:l.a.object.isRequired,options:l.a.arrayOf(l.a.shape({value:l.a.any,label:l.a.string.isRequired})).isRequired,isReadOnly:l.a.bool,isDisabled:l.a.bool,isRequired:l.a.bool,FieldProvider:l.a.any};var qe=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,r=e.meta,i=e.description,o=e.hideLabel,u=ke()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),l=r.error,s=r.touched&&l;return c.a.createElement(ie.a,{isRequired:a,label:!o&&t,fieldId:u.id,isValid:!s,helperText:n,helperTextInvalid:r.error},i&&c.a.createElement(Z.a,null,c.a.createElement($.a,{component:$.b.small},i)),c.a.createElement(Te,Re()({label:t,isValid:!s,isRequired:a},u)))};qe.propTypes={componentType:l.a.string,label:l.a.string,isRequired:l.a.bool,helperText:l.a.string,meta:l.a.object,description:l.a.string,hideLabel:l.a.bool};var Ce=qe,_e={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},Se=function(e){var t=e.componentMapper,a=e.formContainer,n=ke()(e,["componentMapper","formContainer"]);return c.a.createElement("div",{className:_e[a].buttonClassName},c.a.createElement(Le.a,Re()({formFieldsMapper:j()({},Pe.formFieldsMapper,Fe()({componentMapper:t},Ge.componentTypes.SELECT,Ce)),layoutMapper:Pe.layoutMapper},_e[a],n)))};Se.propTypes={componentMapper:l.a.object,formContainer:l.a.oneOf(["default","modal"])},Se.defaultProps={componentMapper:{},formContainer:"default"};var De=Se,Ie=a(224),Ue={DropdownIndicator:null},Me=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,o=e.addGroup,u=e.updateGroup,l=Object(i.useState)({}),s=r()(l,2),p=s[0],d=s[1],m=Object(i.useState)(""),f=r()(m,2),g=f[0],h=f[1],b=Object(i.useState)([]),v=r()(b,2),E=v[0],y=v[1],R=Object(i.useState)(0),O=r()(R,2),F=O[0],w=O[1],k=function(e){var t=F;return w(F+1),{label:e,value:"".concat(e,"_").concat(t)}},G=function(e){d(e),e&&y(e.principals.map(function(e){return k(e.username)}))};Object(i.useEffect)(function(){U(a).payload.then(function(e){return G(e)}).catch(function(){return G(void 0)})},[]);var L=function(){n({variant:"warning",title:p?"Editing group":"Adding group",description:p?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},P={type:"object",properties:{name:{title:p?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return c.a.createElement(Ie.a,{isLarge:!0,title:p?"Edit group":"Add group",isOpen:!0,onClose:L},c.a.createElement(ee.a,{gutter:"md",style:{minWidth:"800px"}},c.a.createElement(te.a,{sm:6},c.a.createElement(De,{schema:P,schemaType:"mozilla",onSubmit:function(e){var n=j()({},e,{user_list:E.map(function(e){return{username:e.label}})});a?u(n).then(function(){return I()}).then(t("/groups")):o(n).then(function(){return I()}).then(t("/groups"))},onCancel:L,formContainer:"modal",initialValues:j()({},p)})),c.a.createElement(te.a,{sm:6},c.a.createElement(Z.a,null,c.a.createElement($.a,{component:$.b.h6},"Select Members for this group.")),c.a.createElement(de.a,{components:Ue,inputValue:g,defaultValue:E,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){y(e)},onInputChange:function(e){h(e)},onKeyDown:function(e){if(g)switch(e.key){case"Enter":case"Tab":E?E.find(function(e){return e.label===g})||y([].concat(pe()(E),[k(g)])):y([k(g)]),h(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:E}))))};Me.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[]},Me.propTypes={history:l.a.shape({goBack:l.a.func.isRequired}).isRequired,addGroup:l.a.func.isRequired,addNotification:l.a.func.isRequired,fetchGroups:l.a.func.isRequired,fetchGroup:l.a.func.isRequired,selectedGroup:l.a.object,inputValue:l.a.string,users:l.a.array,selectedUsers:l.a.array,match:l.a.object,updateGroup:l.a.func.isRequired};var Ve=Object(s.k)(Object(o.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(R.a)({addNotification:F.addNotification,addGroup:M,updateGroup:V,fetchGroup:U,fetchGroups:I},e)})(Me)),ze=a(135),Ae=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.removeGroup,o=e.fetchGroup,u=e.fetchGroups,l=e.groupId,s=e.group;if(Object(i.useEffect)(function(){l&&o(l)},[]),!s)return null;var p=function(){return a()};return c.a.createElement(Ie.a,{isOpen:!0,isSmall:!0,title:"",onClose:p,actions:[c.a.createElement(g.a,{key:"cancel",variant:"secondary",type:"button",onClick:p},"Cancel"),c.a.createElement(g.a,{key:"submit",variant:"primary",type:"button",onClick:function(){return r(l).then(function(){u(),n("/groups")})}},"Confirm")]},c.a.createElement(ze.a,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{component:$.b.h1},"Removing Group:  ",s.name))))};Ae.propTypes={history:l.a.shape({goBack:l.a.func.isRequired,push:l.a.func.isRequired}).isRequired,removeGroup:l.a.func.isRequired,addNotification:l.a.func.isRequired,fetchGroups:l.a.func.isRequired,fetchGroup:l.a.func.isRequired,groupId:l.a.string,group:l.a.object};var Be=Object(s.k)(Object(o.connect)(function(e,t){var a=e.groupReducer,n=a.selectedGroup,r=a.isLoading;return{groupId:t.match.params.id,group:n,isLoading:r}},function(e){return Object(R.a)({addNotification:F.addNotification,fetchGroup:U,fetchGroups:I,removeGroup:z},e)})(Ae)),Ke=a(96),He=function(e){var t=e.description,a=e.members;return c.a.createElement(i.Fragment,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"groups-table-detail heading",component:$.b.small},"Description"),c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},t||"")),c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"groups-table-detail heading",component:$.b.small},"members"),c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},"".concat(a.map(function(e,t){var a=e.first_name,n=e.last_name;return"".concat(0!==t?" ":"").concat(a," ").concat(n)})))))};He.propTypes={description:l.a.string,members:l.a.arrayOf(l.a.shape({first_name:l.a.string,last_name:l.a.string})).isRequired};var Ye=He,We=a(77),Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,o=t.description,u=t.members,l=t.modified;return[].concat(pe()(e),[{uuid:n,isOpen:!1,cells:[c.a.createElement(i.Fragment,{key:n},c.a.createElement(p.Link,{to:"/groups/detail/".concat(n)},c.a.createElement(g.a,{variant:"link"}," ",r," "))),o,u.length,"".concat(Object(We.d)(l))]},{parent:2*a,fullWidth:!0,cells:[{title:c.a.createElement(Ye,{description:o,members:u})}]}])},[])},Qe=a(117),Xe=a(88),Ze=function(){},$e=function(){},et=function(){},tt=function(e){var t=e.description,a=e.roles;return c.a.createElement(i.Fragment,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"groups-table-detail heading",component:$.b.small},"Description"),c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},t)),c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"groups-table-detail heading",component:$.b.small},"roles"),c.a.createElement($.a,{className:"groups-table-detail content",component:$.b.h5},"".concat(a.map(function(e,t){return"".concat(0!==t?", ":""," ").concat(e.description)})))))};tt.propTypes={description:l.a.string,roles:l.a.arrayOf(l.a.shape({name:l.a.string.isRequired,description:l.a.string})).isRequired};var at=tt,nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,o=t.description,u=t.roles,l=t.modified;return[].concat(pe()(e),[{uuid:n,isOpen:!1,cells:[c.a.createElement(i.Fragment,{key:n},c.a.createElement(p.Link,{to:"/policies/".concat(n)},c.a.createElement(g.a,{variant:"link"}," ",r," "))),o,u.length,"".concat(Object(We.d)(l))]},{parent:2*a,fullWidth:!0,cells:[{title:c.a.createElement(at,{description:o,roles:u})}]}])},[])},rt=a(55),it=a(68),ct=[{title:"Name",cellFormatters:[d.b]},"Description","Roles","Last modified"],ot=function(e){var t=e.uuid,a=e.fetchGroupPolicies,n=e.policies,o=e.pagination,u=e.history,l=Object(i.useState)(""),p=r()(l,2),d=p[0],m=p[1];return c.a.createElement(i.Fragment,null,void 0===t?c.a.createElement(rt.c,null):c.a.createElement(Ke.a,{data:n,createRows:nt,columns:ct,fetchData:function(e){a({group_uuid:t}).then(function(t){var a=t.value.data;return e(nt(a,d))})},request:a,routes:function(){return c.a.createElement(i.Fragment,null,c.a.createElement(s.d,{exact:!0,path:"/policies/add_policy/:id",render:function(e){return c.a.createElement(Ze,Re()({},e,{postMethod:a}))}}),c.a.createElement(s.d,{exact:!0,path:"/policies/edit/:id",render:function(e){return c.a.createElement($e,Re()({},e,{postMethod:a}))}}),c.a.createElement(s.d,{exact:!0,path:"/policies/deny/:id",render:function(e){return c.a.createElement(et,Re()({},e,{postMethod:a}))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return u.push("/policies/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return u.push("/policies/remove/".concat(a.uuid))}}]},titlePlural:"policies",titleSingular:"policy",pagination:o,filterValue:d,setFilterValue:m}))};ot.propTypes={history:l.a.shape({push:l.a.func.isRequired}),uuid:l.a.string,policies:l.a.array,platforms:l.a.array,isLoading:l.a.bool,fetchGroupPolicies:l.a.func.isRequired,pagination:l.a.shape({limit:l.a.number.isRequired,offset:l.a.number.isRequired,count:l.a.number.isRequired})},ot.defaultProps={policies:[],pagination:it.a};var ut=Object(o.connect)(function(e){var t=e.policyReducer,a=t.policies,n=t.isLoading;return{policies:a.data,pagination:a.meta,isLoading:n}},function(e){return{fetchGroupPolicies:function(t){return e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:w.e,payload:B(e)}}(t))}}})(ot),lt=function(e){var t=e.username,a=e.email,n=e.first_name,r=e.last_name;return c.a.createElement(i.Fragment,null,c.a.createElement(Z.a,null,c.a.createElement($.a,{className:"principals-table-detail heading",component:$.b.small},"Username"),c.a.createElement($.a,{className:"principals-table-detail content",component:$.b.h5},t),c.a.createElement($.a,{className:"principals-table-detail heading",component:$.b.small},"Email"),c.a.createElement($.a,{className:"principals-table-detail content",component:$.b.h5},a),c.a.createElement($.a,{className:"principals-table-detail heading",component:$.b.small},"Name"),c.a.createElement($.a,{className:"principals-table-detail content",component:$.b.h5},"".concat(n," ").concat(r))))};lt.propTypes={username:l.a.string,email:l.a.string,first_name:l.a.string,last_name:l.a.string};var st=lt,pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.username.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.username,i=t.email,o=t.first_name,u=t.last_name;return[].concat(pe()(e),[{uuid:n,isOpen:!1,cells:[r,i,o,u]},{parent:2*a,fullWidth:!0,cells:[{title:c.a.createElement(st,{name:r,email:i,first_name:o,last_name:u})}]}])},[])},dt=[{title:"Name",cellFormatters:[d.b]},"Email","First name","Last name"],mt=function(e){var t=e.uuid,a=e.fetchGroup,n=e.history,o=e.principals,u=e.pagination,l=Object(i.useState)(""),s=r()(l,2),p=s[0],d=s[1];return c.a.createElement(i.Fragment,null,!t&&c.a.createElement(rt.c,null),t&&c.a.createElement(Ke.a,{data:o,createRows:pt,columns:dt,fetchData:function(e){t&&a(t).then(function(t){e(pt(t.value.principals,p))})},request:a,actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return n.push("/principals/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return n.push("/principals/remove/".concat(a.uuid))}}]},titlePlural:"principals",titleSingular:"principal",pagination:u,filterValue:p,setFilterValue:d}))};mt.propTypes={history:l.a.shape({push:l.a.func.isRequired}),principals:l.a.array,platforms:l.a.array,isLoading:l.a.bool,fetchGroup:l.a.func.isRequired,uuid:l.a.string,pagination:l.a.shape({limit:l.a.number.isRequired,offset:l.a.number.isRequired,count:l.a.number})},mt.defaultProps={principals:[],pagination:it.a};var ft=Object(o.connect)(function(e){var t=e.groupReducer,a=t.selectedGroup,n=t.isLoading;return{principals:a.principals,pagination:j()({},it.a,{count:a.principals.length}),isLoading:n}},function(e){return{fetchGroup:function(t){return e(U(t))}}})(mt),gt={isFetching:!0},ht=function(e,t){var a=t.type,n=t.payload;return{setIsFetching:j()({},e,{isFetching:n})}[a]},bt=function(e){var t=[{eventKey:0,title:"Members",name:"/groups/detail/".concat(e.match.params.uuid,"/members")},{eventKey:1,title:"Policies",name:"/groups/detail/".concat(e.match.params.uuid,"/policies")}],a=Object(i.useReducer)(ht,gt),n=r()(a,2),o=n[0].isFetching,u=n[1];return Object(i.useEffect)(function(){var t;t=e.match.params.uuid,u({type:"setIsFetching",payload:!0}),e.fetchGroup(t).then(function(){return u({type:"setIsFetching",payload:!1})}).catch(function(){return u({type:"setIsFetching",payload:!1})})},[]),c.a.createElement(i.Fragment,null,c.a.createElement(Xe.a,{breadcrumbs:[{title:"User Access Management",to:"/groups"},{title:"Group",isActive:!0}]},c.a.createElement(Xe.b,{title:!e.isFetching&&e.group?e.group.name:void 0,description:!e.isFetching&&e.group?e.group.description:void 0}),c.a.createElement(Qe.a,{tabItems:t})),!o&&e.group&&c.a.createElement(s.g,null,c.a.createElement(s.d,{path:t[0].name,render:function(t){return c.a.createElement(ft,Re()({uuid:e.group.uuid},t))}}),c.a.createElement(s.d,{path:t[1].name,render:function(t){return c.a.createElement(ut,Re()({uuid:e.group.uuid},t))}}),c.a.createElement(s.d,{path:"".concat(e.location.pathname),render:function(t){return c.a.createElement(ft,Re()({uuid:e.group.uuid},t))}})),!e.group&&c.a.createElement(rt.c,null))};bt.propTypes={location:l.a.shape({pathname:l.a.string.isRequired}),history:l.a.shape({push:l.a.func.isRequired}),match:l.a.object,group:l.a.shape({uuid:l.a.string,name:l.a.string,description:l.a.string}),isFetching:l.a.bool,fetchGroup:l.a.func},bt.defaultProps={isFetching:!1};var vt=Object(o.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isFetching:t.isLoading}},function(e){return Object(R.a)({fetchGroup:U},e)})(bt),Et=[{title:"Name",cellFormatters:[d.b]},"Description","Members","Last modified"],yt=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],jt=function(e){var t=e.fetchGroups,a=e.groups,n=e.pagination,o=e.history.push,u=Object(i.useState)(""),l=r()(u,2),d=l[0],h=l[1],b=function(e){t().then(function(t){var a=t.value.data;return e(Je(a,d))})},v=function(){return c.a.createElement(i.Fragment,null,c.a.createElement(s.d,{exact:!0,path:"/groups/add-group",component:ye}),c.a.createElement(s.d,{exact:!0,path:"/groups/edit/:id",component:Ve}),c.a.createElement(s.d,{exact:!0,path:"/groups/remove/:id",component:Be}))},E=function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return o("/groups/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return o("/groups/remove/".concat(a.uuid))}}]},y=function(){return c.a.createElement(m.a,null,c.a.createElement(f.a,null,c.a.createElement(p.Link,{to:"/groups/add-group"},c.a.createElement(g.a,{variant:"primary","aria-label":"Create group"},"Add group"))))};return c.a.createElement(s.g,null,c.a.createElement(s.d,{path:"/groups/detail/:uuid",render:function(e){return c.a.createElement(vt,e)}}),c.a.createElement(s.d,{path:"/groups",render:function(){return c.a.createElement(i.Fragment,null,c.a.createElement(Xe.a,null,c.a.createElement(Xe.b,{title:"User access management"}),c.a.createElement(Qe.a,{tabItems:yt})),c.a.createElement(Ke.a,{data:a,createRows:Je,columns:Et,fetchData:b,request:t,routes:v,actionResolver:E,titlePlural:"groups",titleSingular:"group",pagination:n,filterValue:d,setFilterValue:h,toolbarButtons:y}))}}))};jt.propTypes={history:l.a.shape({goBack:l.a.func.isRequired,push:l.a.func.isRequired}),groups:l.a.array,platforms:l.a.array,isLoading:l.a.bool,searchFilter:l.a.string,fetchGroups:l.a.func.isRequired,pagination:l.a.shape({limit:l.a.number.isRequired,offset:l.a.number.isRequired,count:l.a.number.isRequired})},jt.defaultProps={groups:[],pagination:it.a};t.default=Object(o.connect)(function(e){var t=e.groupReducer,a=t.groups,n=t.filterValue,r=t.isLoading;return{groups:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return{fetchGroups:function(t){return e(I(t))}}})(jt)},553:function(e,t,a){"use strict";a.r(t);var n,r,i,c,o=a(2),u=a.n(o),l=a(23),s=a.n(l),p=a(38),d=a(35),m=a(417),f=a(122),g=a.n(f),h=a(67),b=a(398),v=a.n(b),E=a(399),y=a(32),j=a.n(y),R=a(11),O=a.n(R),F=a(18),w=(n={},j()(n,"".concat(F.FETCH_USER,"_PENDING"),function(e){return O()({},e,{isUserDataLoading:!0})}),j()(n,"".concat(F.FETCH_USER,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedUser:a,isUserDataLoading:!1})}),n),k=function(e){return O()({},e,{isLoading:!0})},G=(r={},j()(r,"".concat(F.d,"_PENDING"),k),j()(r,"".concat(F.d,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{groups:a,isLoading:!1})}),j()(r,"".concat(F.c,"_PENDING"),k),j()(r,"".concat(F.c,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedGroup:a,isLoading:!1})}),j()(r,F.l,function(e){return O()({},e,{selectedGroup:void 0})}),r),L=function(e){return O()({},e,{isLoading:!0})},P=(i={},j()(i,"".concat(F.e,"_PENDING"),L),j()(i,"".concat(F.e,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{policies:a,isLoading:!1})}),j()(i,"".concat(F.FETCH_POLICY,"_PENDING"),L),j()(i,"".concat(F.FETCH_POLICY,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedPolicy:a,isLoading:!1})}),i),N=function(e){return O()({},e,{isLoading:!0})},x=(c={},j()(c,"".concat(F.h,"_PENDING"),N),j()(c,"".concat(F.h,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{roles:a,isLoading:!1})}),j()(c,"".concat(F.g,"_PENDING"),N),j()(c,"".concat(F.g,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedRole:a,isLoading:!1})}),c),T=new g.a({},[E.a,Object(m.a)(),Object(h.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),v.a]);T.register({userReducer:Object(f.applyReducerHash)(w,{selectedUser:{},isUserDataLoading:!1}),groupReducer:Object(f.applyReducerHash)(G,{groups:{data:[],meta:{count:0,limit:10,offset:0}},selectedGroup:{},isLoading:!1}),policyReducer:Object(f.applyReducerHash)(P,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1}),roleReducer:Object(f.applyReducerHash)(x,{roles:{data:[],meta:{count:0,limit:10,offset:0}},role:{},isLoading:!1}),notifications:h.notifications});var q=T.getStore(),C=a(402),_=a.n(C),S=a(403),D=a.n(S),I=a(404),U=a.n(I),M=a(405),V=a.n(M),z=a(190),A=a.n(z),B=a(406),K=a.n(B),H=a(1),Y=a.n(H),W=a(99),J=a(85),Q=a.n(J),X=a(197),Z=a.n(X),$=a(55),ee=Object(o.lazy)(function(){return Promise.resolve().then(function(){return Z()(a(552))})}),te=Object(o.lazy)(function(){return Promise.resolve().then(function(){return Z()(a(554))})}),ae={rbac:"/",groups:"/groups"},ne=function(e){var t=e.rootClass,a=Q()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),u.a.createElement(W.d,a)};ne.propTypes={rootClass:Y.a.string};var re=function(){return u.a.createElement(o.Suspense,{fallback:u.a.createElement($.a,null)},u.a.createElement(W.g,null,u.a.createElement(ne,{path:ae.groups,component:ee,rootClass:"groups"}),u.a.createElement(ne,{path:ae.roles,component:te,rootClass:"roles"}),u.a.createElement(W.d,{render:function(){return u.a.createElement(W.c,{to:ae.groups})}})))};re.propTypes={childProps:Y.a.object};a(245);var ie=a(94),ce=a(414),oe=(a(496),function(e){function t(){var e,a;_()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=U()(this,(e=V()(t)).call.apply(e,[this].concat(r))),j()(A()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return K()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?u.a.createElement(ce.a,{locale:"en"},u.a.createElement(u.a.Fragment,null,u.a.createElement(h.NotificationsPortal,null),u.a.createElement(ie.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(re,null)))):u.a.createElement($.a,null)}}]),t}(o.Component));oe.propTypes={history:Y.a.object};var ue=Object(W.k)(Object(d.connect)()(oe)),le=window.location.pathname.split("/");le.shift();var se="/";"beta"===le[0]&&(se="/".concat(le.shift(),"/")),s.a.render(u.a.createElement(d.Provider,{store:q},u.a.createElement(p.BrowserRouter,{basename:"".concat(se).concat(le[0],"/").concat(le[1],"/").concat(le[2])},u.a.createElement(ue,null))),document.getElementById("root"))},554:function(e,t,a){"use strict";a.r(t);var n=a(28),r=a.n(n),i=a(2),c=a.n(i),o=a(35),u=a(99),l=a(1),s=a.n(l),p=a(117),d=a(45),m=a.n(d),f=a(77),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t){var a=t.uuid,n=t.name,r=t.description,i=t.policyCount,c=t.modified;return[].concat(m()(e),[{uuid:a,cells:[n,r,i,"".concat(Object(f.d)(c))]}])},[])},h=a(68),b=a(132),v=a(88),E=a(96),y=[{title:"Role",orderBy:"name"},{title:"Description"},{title:"Policies"},{title:"Last Modified",orderBy:"modified"}],j=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],R=function(e){var t=e.fetchRoles,a=e.pagination,n=e.roles,o=Object(i.useState)(""),l=r()(o,2),s=l[0],d=l[1],m=function(e){t().then(function(t){var a=t.value.data;return e(g(a,s))})};return c.a.createElement(u.g,null,c.a.createElement(u.d,{path:"/roles",render:function(){return c.a.createElement(i.Fragment,null,c.a.createElement(v.a,null,c.a.createElement(v.b,{title:"User access management"}),c.a.createElement(p.a,{tabItems:j})),c.a.createElement(E.a,{data:n,createRows:g,columns:y,fetchData:m,request:t,titlePlural:"roles",titleSingular:"role",pagination:a,filterValue:s,setFilterValue:d}))}}))};R.propTypes={roles:s.a.array,platforms:s.a.array,isLoading:s.a.bool,searchFilter:s.a.string,fetchRoles:s.a.func.isRequired,pagination:s.a.shape({limit:s.a.number.isRequired,offset:s.a.number.isRequired,count:s.a.number.isRequired})},R.defaultProps={roles:[],pagination:h.a};t.default=Object(o.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return{fetchRoles:function(t){return e(Object(b.b)(t))}}})(R)},68:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={limit:50,offset:0,itemCount:1,numberOfItems:50}},77:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return o}),a.d(t,"d",function(){return u});var n=a(5),r=a.n(n),i=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},o=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},u=function(e){return r()(e).fromNow()}},88:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),c=a.n(i),o=a(233),u=a(234),l=a(235),s=a(236),p=a(229),d=a(230),m=a(55),f=a(38),g=a(210),h=a(211),b=function(e){return r.a.createElement(g.a,{style:{minHeight:18}},e&&Object.values(e).map(function(e){return r.a.createElement(h.a,{key:e.title,isActive:e.isActive},e.to&&r.a.createElement(f.NavLink,{exact:!0,to:e.to},e.title)||e.title)}))};b.propTypes={breadcrumbs:c.a.object};var v=b;a(550);a.d(t,"a",function(){return E}),a.d(t,"b",function(){return y});var E=function(e){var t=e.children,a=e.breadcrumbs,n=e.paddingBottom;return r.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-xl ".concat(n?"pf-u-pb-xl":""," top-toolbar")},r.a.createElement(o.a,{className:"pf-u-mb-md"},r.a.createElement(v,a)),t)};E.propTypes={children:c.a.oneOfType([c.a.arrayOf(c.a.node),c.a.node]).isRequired,breadcrumbs:c.a.array,paddingBottom:c.a.bool},E.defaultProps={paddingBottom:!1};var y=function(e){var t=e.title,a=e.description,i=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(o.a,{className:"pf-u-mb-xl"},r.a.createElement(u.a,null,r.a.createElement(l.a,{gutter:"sm"},r.a.createElement(s.a,null,r.a.createElement(p.a,{className:"top-toolbar-title"},r.a.createElement(d.a,{component:d.b.h2},t||r.a.createElement(m.d,null)))),r.a.createElement(s.a,null,r.a.createElement(p.a,{className:"top-toolbar-title"},a||r.a.createElement(d.a,{component:d.b.h4},a))))),i))};y.propTypes={title:c.a.string,description:c.a.string,children:c.a.oneOfType([c.a.node,c.a.arrayOf(c.a.node)])}},96:function(e,t,a){"use strict";var n=a(11),r=a.n(n),i=a(28),c=a.n(i),o=a(2),u=a.n(o),l=a(1),s=a.n(l),p=a(416),d=a(233),m=a(234),f=a(237),g=a(239),h=a(238),b=a(172),v=a(557),E=a(556),y=a(94),j=a(77),R=a(68),O=a(217),F=a(213),w=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.placeholder;return u.a.createElement(g.a,null,u.a.createElement(h.a,null,u.a.createElement("div",{className:"toolbar-filter-input-group"},u.a.createElement(F.a,{placeholder:n,value:t,type:"text",onChange:a,"aria-label":n}),u.a.createElement(O.a,null))))};w.propTypes={onFilterChange:s.a.func.isRequired,placeholder:s.a.string,searchValue:s.a.string},w.defaultProps={searchValue:""};var k=w,G=a(410),L=a(55);a.d(t,"a",function(){return P});var P=function(e){var t=e.request,a=e.isSelectable,n=e.createRows,i=e.columns,l=e.toolbarButtons,s=e.fetchData,R=e.data,O=e.actionResolver,F=e.routes,w=e.titlePlural,P=e.titleSingular,N=e.pagination,x=e.setCheckedItems,T=e.filterValue,q=e.setFilterValue,C=Object(o.useState)([]),_=c()(C,2),S=_[0],D=_[1],I=Object(o.useState)(!1),U=c()(I,1)[0];Object(o.useEffect)(function(){s(D,T,N),Object(j.c)()},[]),Object(o.useEffect)(function(){D(n(R,T))},[R,T,N.limit,N.offset]);var M=function(e){return t({offset:N.offset,limit:e}).then(function(e){var t=e.value.data;return D(n(t,T))})},V=function(e,a){var r={offset:Object(j.b)(e,N.limit),limit:N.limit};return a?Object(p.a)(t,250)():t(r).then(function(e){var t=e.value.data;return D(n(t,T))})};return U?u.a.createElement(L.DataListLoader,null):u.a.createElement(y.Section,{className:"data-table-pane","page-type":"tab-".concat(w),id:"tab-".concat(w)},F(),u.a.createElement(G.TableToolbar,null,u.a.createElement(d.a,{style:{flex:1}},u.a.createElement(m.a,null,u.a.createElement(f.a,null,u.a.createElement(k,{onFilterChange:function(e){return q(e)},searchValue:T,placeholder:"Find a ".concat(P)}),l())),u.a.createElement(m.a,null,u.a.createElement(f.a,null,u.a.createElement(g.a,null,u.a.createElement(h.a,null,u.a.createElement(y.Pagination,{itemsPerPage:N.limit,numberOfItems:N.count,onPerPageSelect:M,page:Object(j.a)(N.limit,N.offset),onSetPage:V,direction:"down"}))))))),u.a.createElement(b.b,{"aria-label":"".concat(w," table"),onCollapse:function(e,t,a,n){var i=n.uuid;return D(function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,i)})},rows:S,cells:i,onSelect:a&&function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).uuid;return D(-1===a?S.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){var a=e.map(function(e){return e.uuid===t?r()({},e,{selected:!e.selected}):r()({},e)}),n=a.filter(function(e){return e.uuid&&e.selected});return x(n),a}(e,n)})},actionResolver:O,className:"table-fix"},u.a.createElement(v.a,null),u.a.createElement(E.a,null)))};P.propTypes={isSelectable:s.a.bool,createRows:s.a.func.isRequired,request:s.a.func.isRequired,columns:s.a.array.isRequired,toolbarButtons:s.a.func,fetchData:s.a.func.isRequired,data:s.a.array,pagination:s.a.shape({limit:s.a.number,offset:s.a.number,count:s.a.number}),titlePlural:s.a.string,titleSingular:s.a.string,routes:s.a.func,actionResolver:s.a.func,setCheckedItems:s.a.func,filterValue:s.a.string,setFilterValue:s.a.func},P.defaultProps={requests:[],pagination:R.a,toolbarButtons:function(){return null},isSelectable:null,routes:function(){return null}}}});
//# sourceMappingURL=../sourcemaps/App.js.map