!function(e){function t(t){for(var n,o,c=t[0],l=t[1],u=t[2],d=0,p=[];d<c.length;d++)o=c[d],r[o]&&p.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(s&&s(t);p.length;)p.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var l=a[c];0!==r[l]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/beta/apps/rbac/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;i.push([537,1]),a()}({104:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),o=a.n(i),c=a(76),l=a(187),u=a(182),s=function(e){var t=e.history.push,a=e.location.pathname,n=e.tabItems,i=n.find(function(e){var t=e.name;return a.includes(t)});return r.a.createElement(l.a,{className:"pf-u-mt-sm",activeKey:i?i.eventKey:0,onSelect:function(e,a){return t(n[a].name)}},n.map(function(e){return r.a.createElement(u.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};s.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}),history:o.a.shape({push:o.a.func.isRequired}),tabItems:o.a.array.isRequired},t.a=Object(c.k)(s)},109:function(e,t,a){},12:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"q",function(){return o}),a.d(t,"l",function(){return c}),a.d(t,"d",function(){return l}),a.d(t,"i",function(){return u}),a.d(t,"j",function(){return s}),a.d(t,"o",function(){return d}),a.d(t,"g",function(){return p}),a.d(t,"h",function(){return m}),a.d(t,"c",function(){return f}),a.d(t,"r",function(){return h}),a.d(t,"n",function(){return g}),a.d(t,"p",function(){return b}),a.d(t,"m",function(){return y}),a.d(t,"b",function(){return v});var n="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",c="REMOVE_GROUP",l="ADD_ROLE",u="FETCH_ROLE",s="FETCH_ROLES",d="REMOVE_ROLE",p="FETCH_GROUP_POLICIES",m="FETCH_POLICY",f="ADD_POLICY",h="UPDATE_POLICY",g="REMOVE_POLICY",b="RESET_SELECTED_GROUP",y="REMOVE_MEMBERS_FROM_GROUP",v="ADD_MEMBERS_TO_GROUP"},145:function(e,t,a){"use strict";var n=a(150);t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(n.a)(e,t,a)}},34:function(e,t,a){"use strict";a.d(t,"c",function(){return R}),a.d(t,"a",function(){return j}),a.d(t,"e",function(){return O}),a.d(t,"b",function(){return w}),a.d(t,"d",function(){return k});var n=a(36),r=a.n(n),i=a(32),o=a.n(i),c=a(64),l=a.n(c),u=a(2),s=a.n(u),d=a(1),p=a.n(d),m=a(176),f=a(178),h=a(180),g=a(179),b=a(177),y=a(181),v=a(144),E=a(118),R=function(e){var t=e.items,a=l()(e,["items"]);return s.a.createElement(u.Fragment,null,s.a.createElement(m.a,{"aria-label":"datalist-placeholder"},o()(Array(t)).map(function(e,t){return s.a.createElement(f.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},s.a.createElement(h.a,{"aria-label":"datalist-item-placeholder-row"},s.a.createElement(g.a,{dataListCells:[s.a.createElement(b.a,{key:"1"},s.a.createElement(E.a,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))})))};R.propTypes={items:p.a.number},R.defaultProps={items:5};var j=function(e){return s.a.createElement("div",null,s.a.createElement(E.a,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),s.a.createElement(R,null))},O=function(e){return s.a.createElement(E.a,r()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"}))},w=function(){return s.a.createElement(E.a,{height:32,width:160,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"160",height:"32"}))},k=function(){return s.a.createElement(y.a,null,s.a.createElement(v.a,{fieldId:"1"},s.a.createElement(w,null)),s.a.createElement(v.a,{fieldId:"2"},s.a.createElement(w,null)))}},39:function(e,t,a){"use strict";var n=a(12),r=a(7),i=a.n(r),o=a(10),c=a.n(o),l=a(26),u=a.n(l),s=a(87),d=Object(s.d)();function p(e){return m.apply(this,arguments)}function m(){return(m=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=u()(c.a.mark(function e(t){var a,n,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,r=t.name,o=t.orderBy,e.t0=i.a,e.t1={},e.next=5,d.listRoles(a,n,r,o);case 5:return e.t2=e.sent,e.next=8,insights.chrome.auth.getUser();case 8:return e.t3=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function g(e){return b.apply(this,arguments)}function b(){return(b=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}a.d(t,"a",function(){return E}),a.d(t,"b",function(){return R}),a.d(t,"c",function(){return j}),a.d(t,"d",function(){return O}),a.d(t,"e",function(){return w});var E=function(e){return{type:n.d,payload:p(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",description:"The role was not added successfuly."}}}}},R=function(e){return{type:n.i,payload:g(e)}},j=function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.j,payload:(e=r,t=e.limit,a=e.offset,d.listRoles(t,a))}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.j,payload:f(e)}},w=function(e){return{type:n.o,payload:y(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",description:"The role was removed successfully."}}}}}},531:function(e,t,a){},532:function(e,t,a){var n={"./af":250,"./af.js":250,"./ar":251,"./ar-dz":252,"./ar-dz.js":252,"./ar-kw":253,"./ar-kw.js":253,"./ar-ly":254,"./ar-ly.js":254,"./ar-ma":255,"./ar-ma.js":255,"./ar-sa":256,"./ar-sa.js":256,"./ar-tn":257,"./ar-tn.js":257,"./ar.js":251,"./az":258,"./az.js":258,"./be":259,"./be.js":259,"./bg":260,"./bg.js":260,"./bm":261,"./bm.js":261,"./bn":262,"./bn.js":262,"./bo":263,"./bo.js":263,"./br":264,"./br.js":264,"./bs":265,"./bs.js":265,"./ca":266,"./ca.js":266,"./cs":267,"./cs.js":267,"./cv":268,"./cv.js":268,"./cy":269,"./cy.js":269,"./da":270,"./da.js":270,"./de":271,"./de-at":272,"./de-at.js":272,"./de-ch":273,"./de-ch.js":273,"./de.js":271,"./dv":274,"./dv.js":274,"./el":275,"./el.js":275,"./en-SG":276,"./en-SG.js":276,"./en-au":277,"./en-au.js":277,"./en-ca":278,"./en-ca.js":278,"./en-gb":279,"./en-gb.js":279,"./en-ie":280,"./en-ie.js":280,"./en-il":281,"./en-il.js":281,"./en-nz":282,"./en-nz.js":282,"./eo":283,"./eo.js":283,"./es":284,"./es-do":285,"./es-do.js":285,"./es-us":286,"./es-us.js":286,"./es.js":284,"./et":287,"./et.js":287,"./eu":288,"./eu.js":288,"./fa":289,"./fa.js":289,"./fi":290,"./fi.js":290,"./fo":291,"./fo.js":291,"./fr":292,"./fr-ca":293,"./fr-ca.js":293,"./fr-ch":294,"./fr-ch.js":294,"./fr.js":292,"./fy":295,"./fy.js":295,"./ga":296,"./ga.js":296,"./gd":297,"./gd.js":297,"./gl":298,"./gl.js":298,"./gom-latn":299,"./gom-latn.js":299,"./gu":300,"./gu.js":300,"./he":301,"./he.js":301,"./hi":302,"./hi.js":302,"./hr":303,"./hr.js":303,"./hu":304,"./hu.js":304,"./hy-am":305,"./hy-am.js":305,"./id":306,"./id.js":306,"./is":307,"./is.js":307,"./it":308,"./it-ch":309,"./it-ch.js":309,"./it.js":308,"./ja":310,"./ja.js":310,"./jv":311,"./jv.js":311,"./ka":312,"./ka.js":312,"./kk":313,"./kk.js":313,"./km":314,"./km.js":314,"./kn":315,"./kn.js":315,"./ko":316,"./ko.js":316,"./ku":317,"./ku.js":317,"./ky":318,"./ky.js":318,"./lb":319,"./lb.js":319,"./lo":320,"./lo.js":320,"./lt":321,"./lt.js":321,"./lv":322,"./lv.js":322,"./me":323,"./me.js":323,"./mi":324,"./mi.js":324,"./mk":325,"./mk.js":325,"./ml":326,"./ml.js":326,"./mn":327,"./mn.js":327,"./mr":328,"./mr.js":328,"./ms":329,"./ms-my":330,"./ms-my.js":330,"./ms.js":329,"./mt":331,"./mt.js":331,"./my":332,"./my.js":332,"./nb":333,"./nb.js":333,"./ne":334,"./ne.js":334,"./nl":335,"./nl-be":336,"./nl-be.js":336,"./nl.js":335,"./nn":337,"./nn.js":337,"./pa-in":338,"./pa-in.js":338,"./pl":339,"./pl.js":339,"./pt":340,"./pt-br":341,"./pt-br.js":341,"./pt.js":340,"./ro":342,"./ro.js":342,"./ru":343,"./ru.js":343,"./sd":344,"./sd.js":344,"./se":345,"./se.js":345,"./si":346,"./si.js":346,"./sk":347,"./sk.js":347,"./sl":348,"./sl.js":348,"./sq":349,"./sq.js":349,"./sr":350,"./sr-cyrl":351,"./sr-cyrl.js":351,"./sr.js":350,"./ss":352,"./ss.js":352,"./sv":353,"./sv.js":353,"./sw":354,"./sw.js":354,"./ta":355,"./ta.js":355,"./te":356,"./te.js":356,"./tet":357,"./tet.js":357,"./tg":358,"./tg.js":358,"./th":359,"./th.js":359,"./tl-ph":360,"./tl-ph.js":360,"./tlh":361,"./tlh.js":361,"./tr":362,"./tr.js":362,"./tzl":363,"./tzl.js":363,"./tzm":364,"./tzm-latn":365,"./tzm-latn.js":365,"./tzm.js":364,"./ug-cn":366,"./ug-cn.js":366,"./uk":367,"./uk.js":367,"./ur":368,"./ur.js":368,"./uz":369,"./uz-latn":370,"./uz-latn.js":370,"./uz.js":369,"./vi":371,"./vi.js":371,"./x-pseudo":372,"./x-pseudo.js":372,"./yo":373,"./yo.js":373,"./zh-cn":374,"./zh-cn.js":374,"./zh-hk":375,"./zh-hk.js":375,"./zh-tw":376,"./zh-tw.js":376};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=532},534:function(e,t,a){},535:function(e,t,a){"use strict";a.r(t);var n=a(36),r=a.n(n),i=a(6),o=a.n(i),c=a(2),l=a.n(c),u=a(16),s=a(21),d=a(1),p=a.n(d),m=a(76),f=a(22),h=a(122),g=a(231),b=a(230),y=a(139),v=a(227),E=a(228),R=a(10),j=a.n(R),O=a(26),w=a.n(O),k=a(7),q=a.n(k),T=a(379),S=a(29),C=a(12),x=a(87),F=Object(x.b)();function P(e){return N.apply(this,arguments)}function N(){return(N=w()(j.a.mark(function e(t){var a,n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,F.listGroups(a,n);case 3:return r=e.sent,e.abrupt("return",r.data?Promise.all(r.data.map(function(){var e=w()(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getGroup(t.uuid);case 2:return a=e.sent,e.abrupt("return",q()({},t,{members:a.principals}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return q()({},r,{data:e})}):r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return D.apply(this,arguments)}function D(){return(D=w()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return _.apply(this,arguments)}function _(){return(_=w()(j.a.mark(function e(t){var a,n,r;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.updateGroup(t.uuid,t);case 2:if(a=t.principals?t.principals.map(function(e){return e.username}):[],n=t.user_list.filter(function(e){return!a.includes(e.username)}),r=a.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(n.length>0)){e.next=8;break}return e.next=8,F.addPrincipalToGroup(t.uuid,{principals:n});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,F.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return U.apply(this,arguments)}function U(){return(U=w()(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.createGroup(t);case 2:if(a=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",F.addPrincipalToGroup(a.uuid,{principals:t.user_list}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=w()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t){return B.apply(this,arguments)}function B(){return(B=w()(j.a.mark(function e(t,a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.deletePrincipalFromGroup(t,a.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e,t){return K.apply(this,arguments)}function K(){return(K=w()(j.a.mark(function e(t,a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.addPrincipalToGroup(t,{principals:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:C.f,payload:P(e)}},J=function(e){return{type:C.e,payload:L(e)}},Y=function(e){return{type:C.a,payload:G(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},W=function(e){return{type:C.q,payload:I(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},Q=function(e){return{type:C.l,payload:M(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},X=function(e,t){return{type:C.b,payload:z(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",description:"The members were not added successfully."}}}}},Z=function(e,t){return{type:C.m,payload:V(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members to group",description:"The members were not removed successfully."}}}}},$=a(93),ee=Object(x.c)(),te=Object(x.a)();function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=w()(j.a.mark(function e(t){var a,n,r,i,o;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.group_uuid,n=t.limit,r=t.offset,e.next=3,ee.listPolicies(n,r,void 0,void 0,a);case 3:return i=e.sent,o=i.data,e.next=7,Promise.all(o.map(function(){var e=w()(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getPolicy(t.uuid);case 2:return a=e.sent,e.abrupt("return",q()({},t,{roles:a.roles}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return q()({},i,{data:e})});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=w()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.getPolicy(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function oe(e){return ce.apply(this,arguments)}function ce(){return(ce=w()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.createPolicies(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(e,t){return ue.apply(this,arguments)}function ue(){return(ue=w()(j.a.mark(function e(t,a){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.updatePolicy(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e){return de.apply(this,arguments)}function de(){return(de=w()(j.a.mark(function e(t){return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.deletePolicy(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:C.g,payload:ae(e)}},me=function(e){return{type:C.h,payload:re(e)}},fe=function(e){return{type:C.c,payload:oe(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding policy",description:"The policy was added successfully."},rejected:{variant:"danger",title:"Failed adding policy",description:"The policy was not added successfully."}}}}},he=function(e){return{type:C.n,payload:se(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing policy",description:"The policy was removed successfully."}}}}},ge=function(e,t){return{type:C.r,payload:le(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating policy",description:"The policy was updated successfully."},rejected:{variant:"danger",title:"Failed updating policy",description:"The policy was not updated successfully."}}}}},be=a(39),ye=a(115),ve=a(216),Ee=a(217),Re=a(221),je=a(222),Oe=function(e){var t=e.values?e.values:{name:"",description:"",policy:{name:""}},a=t.name,n=t.description,r=t.policy,i=e.selectedUsers?e.selectedUsers:[],o=e.selectedRoles?e.selectedRoles:[];return l.a.createElement(c.Fragment,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"}," Review ")),l.a.createElement(E.a,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),l.a.createElement(E.a,null,l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Group name")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"data-table-detail content",component:Ee.b.p},a))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Description")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"data-table-detail content",component:Ee.b.p},n))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Members")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},"".concat(i.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Policy name")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"data-table-detail content",component:Ee.b.p},r?r.name:""))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Roles")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},"".concat(o.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};Oe.propTypes={name:p.a.string,description:p.a.string,groups:p.a.array};var we=Oe,ke=a(181),qe=a(144),Te=a(208),Se=a(210),Ce=function(e,t,a){return l.a.createElement(c.Fragment,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"}," Enter group information ")),l.a.createElement(E.a,null,l.a.createElement(ke.a,null,l.a.createElement(qe.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},l.a.createElement(Te.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,n){a(n.currentTarget.value.trim().length>0),t({name:n.currentTarget.value})}})),l.a.createElement(qe.a,{label:"Description",fieldId:"group-description"},l.a.createElement(Se.b,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};Ce.propTypes={name:p.a.string,description:p.a.string};var xe=Ce,Fe=a(32),Pe=a.n(Fe),Ne=a(105),Le={DropdownIndicator:null},De=function(e,t,a,n,r,i){var u=Object(c.useState)(""),s=o()(u,2),d=s[0],p=s[1];return l.a.createElement(c.Fragment,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"},"Select members for this group")),l.a.createElement(E.a,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h6},"Select Members for this group.")),l.a.createElement(Ne.a,{components:Le,inputValue:d,defaultValue:t,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){a(e)},onInputChange:function(e){p(e)},onKeyDown:function(e){if(d)switch(e.key){case"Enter":case"Tab":t?t.find(function(e){return e.label===d})||a([].concat(Pe()(t),[i(d)])):a([i(d)]),p(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:t}))))};De.propTypes={name:p.a.string,description:p.a.string};var Ie=De,_e=a(145),Ge=function(e){var t=e.title;return"edit"===e.editType?l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.small}," All fields are required ")):l.a.createElement(c.Fragment,null,l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"},t)),l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h6},"Policies are the permissions set for this group. Groups can have one or more policies. Policies are created for a group, they cannot be shared. You can only create one policy at this time. It is possible to create more for this group at a later time.",l.a.createElement("br",null),"All fields are optional.")))};Ge.propTypes={title:p.a.string,editType:p.a.string};var Ue=function(e){var t=e.title,a=e.editType,n=e.formData,r=e.onHandleChange,i=e.setIsPolicyInfoValid,u=Object(c.useState)(void 0),s=o()(u,2),d=s[0],p=s[1],m=n.policy?n.policy:{name:"",description:""},f=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return te.get("".concat($.a,"/policies/?name=").concat(e))}(e).then(function(t){return t.data.find(function(t){return e===t.name})?"Name has already been taken":void 0})},h=function(e){p(e),i(!e)};return l.a.createElement(c.Fragment,null,l.a.createElement(ke.a,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(Ge,{title:t,editType:a})),l.a.createElement(E.a,null,l.a.createElement(qe.a,{label:"Name",fieldId:"policy-name",isValid:!d,helperTextInvalid:d},l.a.createElement(Te.a,{type:"text",id:"policy-name",name:"policy-name","aria-describedby":"policy-name",value:m.name,onBlur:function(){var e,t;e=m,t=h,Object(_e.a)(f(e.name).then(function(e){return t(e)}))},onChange:function(e,t){p(void 0),r({policy:q()({},m,{name:t.currentTarget.value})})}}))),l.a.createElement(E.a,null,l.a.createElement(qe.a,{label:"Description",fieldId:"policy-description"},l.a.createElement(Se.b,{type:"text",id:"policy-description",name:"policy-description",value:m.description,onChange:function(e,t){return r({policy:q()({},m,{description:t.currentTarget.value})})}}))))))};Ue.propTypes={formData:p.a.object,editType:p.a.string,title:p.a.string,onHandleChange:p.a.func.required,setIsPolicyInfoValid:p.a.func.required},Ue.defaultProps={title:"Create policy",editType:"add"};var Me=Ue,Ae=a(207),Ve=a(54),Be=a(68),ze=[{title:"Role name",orderBy:"name"},{title:"Description"}],Ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return e?e.filter(function(e){return!a||e.name.includes(a)}).reduce(function(e,a){var n=a.uuid,r=a.name,i=a.description;return[].concat(Pe()(e),[{uuid:n,cells:[r,i],selected:t&&t.indexOf(n)>-1}])},[]):[]},He=function(e){var t=e.fetchRoles,a=e.isLoading,n=e.pagination,r=e.selectedRoles,i=e.setSelectedRoles,u=Object(c.useState)(""),s=o()(u,2),d=s[0],p=s[1],m=Object(c.useState)([]),f=o()(m,2),h=f[0],g=f[1];return l.a.createElement(Be.a,{columns:ze,isSelectable:!0,isCompact:!0,borders:!1,createRows:Ke,data:h,fetchData:function(){t(n).then(function(e){var t=e.value.data;return g(t)})},filterValue:d,setFilterValue:p,isLoading:a,pagination:n,request:t,checkedRows:r?r.map(function(e){return e.value}):[],setCheckedItems:function(e){i(e.map(function(e){return{value:e.uuid,label:e.cells[0]}}))},titlePlural:"roles",titleSingular:"role"})};He.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}),isLoading:p.a.bool,searchFilter:p.a.string,fetchRoles:p.a.func.isRequired,setSelectedRoles:p.a.func.isRequired,selectedRoles:p.a.array,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number})},He.defaultProps={roles:[],pagination:Ve.a};var Je=Object(u.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:n}},function(e){return Object(s.a)({fetchRoles:be.c,addNotification:S.addNotification},e)})(He),Ye=(a(109),function(e){var t=e.selectedRoles,a=e.setSelectedRoles,n=e.title,r=e.description;return l.a.createElement(c.Fragment,null,l.a.createElement(ke.a,null,l.a.createElement(v.a,{gutter:"md"},n&&l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"},n)),l.a.createElement(E.a,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h6},r||"Select at least one role to add to policy"))),l.a.createElement(E.a,null,l.a.createElement(qe.a,{label:"Select roles",fieldId:"select-role"},l.a.createElement(Ae.a,null,l.a.createElement(Je,{selectedRoles:t,setSelectedRoles:a})))))))});Ye.propTypes={selectedRoles:p.a.array,setSelectedRoles:p.a.func,roles:p.a.array,title:p.a.string,description:p.a.string};var We=Ye,Qe=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,r=e.addGroup,i=e.postMethod,u=e.closeUrl,s=Object(c.useState)([]),d=o()(s,2),p=d[0],m=d[1],f=Object(c.useState)([]),h=o()(f,2),g=h[0],b=h[1],y=Object(c.useState)([]),v=o()(y,2),E=v[0],R=v[1],O=Object(c.useState)(0),k=o()(O,2),S=k[0],C=k[1],x=Object(c.useState)({}),F=o()(x,2),P=F[0],N=F[1],L=Object(c.useState)(!1),D=o()(L,2),I=D[0],_=D[1],G=Object(c.useState)(!0),U=o()(G,2),M=U[0],A=U[1],V=function(e){N(q()({},P,e))},B=function(e){var t=S;return C(S+1),{label:e,value:"".concat(e,"_").concat(t)}},z=function(e){e&&e.principals&&m(e.principals.map(function(e){return B(e.username)}))},K=[{name:"General Information",component:new xe(P,V,_),enableNext:I},{name:"Set Users",component:new Ie(z,p,m,S,C,B,V)},{name:"Create policy",steps:[{name:"Name and description",component:new Me({title:"Create policy (optional)",formData:P,onHandleChange:V,setIsPolicyInfoValid:A}),enableNext:M},{name:"Add roles",component:new We({formData:P,selectedRoles:E,setSelectedRoles:R,roles:g})}]},{name:"Review",component:new we({values:P,selectedUsers:p,selectedRoles:E}),nextButtonText:"Confirm",enableNext:I&&M}];Object(c.useEffect)(function(){J(a).payload.then(function(e){return z(e)}).catch(function(){return z(void 0)}),Object(be.c)().payload.then(function(e){return b(e)})},[]);var H=function(){var e=w()(j.a.mark(function e(){var a,o,c;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=q()({},P,{user_list:p?p.map(function(e){return{username:e.label}}):void 0}),e.next=3,r(a);case 3:if(o=e.sent,!(P.policy&&E&&E.length>0)){e.next=9;break}return c={name:P.policy.name,description:P.policy.description,group:o.value.uuid,roles:E.map(function(e){return e.value})},e.abrupt("return",i?fe(c).payload.then(function(){return i()}).catch(function(){return n({variant:"danger",title:"Add group",dismissable:!0,description:"Error creating policy"})}).then(function(){return t(u)}):fe(c).payload.catch(function(){return n({variant:"danger",title:"Add group",dismissable:!0,description:"Error creating policy"})}).then(function(){return t(u)}));case 9:i&&i(),t(u);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(T.a,{isLarge:!0,title:"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:"Adding group",dismissable:!0,description:"Adding group was cancelled by the user."}),t("/groups")},onSave:H,steps:K})};Qe.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups"},Qe.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,postMethod:p.a.func,closeUrl:p.a.string};var Xe=Object(m.k)(Object(u.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(s.a)({addNotification:S.addNotification,addGroup:Y,fetchGroup:J,fetchRoles:be.c},e)})(Qe)),Ze=a(25),$e=a.n(Ze),et=a(64),tt=a.n(et),at=a(148),nt=a.n(at),rt=a(197),it=a(209),ot=a(214),ct=function(e){var t=e.input,a=e.options,n=e.isReadOnly,i=e.isDisabled,o=(e.FieldProvider,e.isRequired),c=tt()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return l.a.createElement(it.a,r()({},t,c,{isDisabled:i||n}),function(e,t,a){if(t&&a)return e;var n=Pe()(e);return n.find(function(e){return void 0===e.value})?Pe()(n):[{label:a?"Please choose":"None"}].concat(Pe()(n))}(a,t.value,o).map(function(e){return l.a.createElement(ot.a,r()({key:e.value||e.label},e,{label:e.label.toString()}))}))};ct.propTypes={input:p.a.object.isRequired,options:p.a.arrayOf(p.a.shape({value:p.a.any,label:p.a.string.isRequired})).isRequired,isReadOnly:p.a.bool,isDisabled:p.a.bool,isRequired:p.a.bool,FieldProvider:p.a.any};var lt=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,i=e.meta,o=e.description,c=e.hideLabel,u=tt()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),s=i.error,d=i.touched&&s;return l.a.createElement(qe.a,{isRequired:a,label:!c&&t,fieldId:u.id,isValid:!d,helperText:n,helperTextInvalid:i.error},o&&l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.small},o)),l.a.createElement(ct,r()({label:t,isValid:!d,isRequired:a},u)))};lt.propTypes={componentType:p.a.string,label:p.a.string,isRequired:p.a.bool,helperText:p.a.string,meta:p.a.object,description:p.a.string,hideLabel:p.a.bool};var ut=lt,st={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},dt=function(e){var t=e.componentMapper,a=e.formContainer,n=tt()(e,["componentMapper","formContainer"]);return l.a.createElement("div",{className:st[a].buttonClassName},l.a.createElement(nt.a,r()({formFieldsMapper:q()({},rt.formFieldsMapper,$e()({componentMapper:t},at.componentTypes.SELECT,ut)),layoutMapper:rt.layoutMapper},st[a],n)))};dt.propTypes={componentMapper:p.a.object,formContainer:p.a.oneOf(["default","modal"])},dt.defaultProps={componentMapper:{},formContainer:"default"};var pt=dt,mt=a(215),ft={DropdownIndicator:null},ht=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,r=e.updateGroup,i=e.postMethod,u=e.closeUrl,s=Object(c.useState)({}),d=o()(s,2),p=d[0],m=d[1],f=Object(c.useState)(""),h=o()(f,2),g=h[0],b=h[1],y=Object(c.useState)([]),v=o()(y,2),E=v[0],R=v[1],j=Object(c.useState)(0),O=o()(j,2),w=O[0],k=O[1],T=function(e){var t=w;return k(w+1),{label:e,value:"".concat(e,"_").concat(t)}},S=function(e){m(e),e&&R(e.principals.map(function(e){return T(e.username)}))};Object(c.useEffect)(function(){J(a).payload.then(function(e){return S(e)}).catch(function(){return S(void 0)})},[]);var C=function(){n({variant:"warning",dismissable:!0,title:p?"Editing group":"Adding group",description:p?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},x={type:"object",properties:{name:{title:p?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return l.a.createElement(mt.a,{isLarge:!0,title:p?"Edit group":"Add group",isOpen:!0,onClose:C},l.a.createElement(Re.a,{gutter:"md",style:{minWidth:"800px"}},l.a.createElement(je.a,{sm:6},l.a.createElement(pt,{schema:x,schemaType:"mozilla",onSubmit:function(e){var a=q()({},e,{user_list:E?E.map(function(e){return{username:e.label}}):[]});i?r(a).then(function(){return i()}).then(t(u)):r(a).then(function(){return t(u)})},onCancel:C,formContainer:"modal",initialValues:q()({},p)})),l.a.createElement(je.a,{sm:6},l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h6},"Select Members for this group.")),l.a.createElement(Ne.a,{components:ft,inputValue:g,defaultValue:E,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){R(e)},onInputChange:function(e){b(e)},onKeyDown:function(e){if(g)switch(e.key){case"Enter":case"Tab":E?E.find(function(e){return e.label===g})||R([].concat(Pe()(E),[T(g)])):R([T(g)]),b(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:E}))))};ht.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],closeUrl:"/groups"},ht.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addNotification:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,selectedGroup:p.a.object,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,updateGroup:p.a.func.isRequired,postMethod:p.a.func,closeUrl:p.a.string};var gt=Object(m.k)(Object(u.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(s.a)({addNotification:S.addNotification,updateGroup:W,fetchGroup:J},e)})(ht)),bt=a(34),yt=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.match.params.id,i=e.removeGroup,o=e.group,u=e.isLoading,s=e.fetchGroup,d=e.postMethod,p=e.closeUrl;Object(c.useEffect)(function(){s(r)},[]);var m=function(){return a()};return l.a.createElement(mt.a,{isOpen:!0,isSmall:!0,title:"",onClose:m,actions:[l.a.createElement(y.a,{key:"cancel",variant:"secondary",type:"button",onClick:m},"Cancel"),l.a.createElement(y.a,{key:"submit",isDisabled:u,variant:"primary",type:"button",onClick:function(){return d?i(r).then(function(){return d()}).then(n(p)):i(r).then(function(){return n(p)})}},"Confirm")]},l.a.createElement(Re.a,{gutter:"sm"},l.a.createElement(je.a,{span:5},l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h1},"Removing Group:"))),l.a.createElement(je.a,{span:6},l.a.createElement(ve.a,null,!u&&l.a.createElement(Ee.a,{component:Ee.b.h1},o.name)),u&&l.a.createElement(bt.b,null))))};yt.defaultProps={group:{},isLoading:!0,closeUrl:"/groups"},yt.propTypes={match:p.a.shape({params:p.a.shape({id:p.a.string}).isRequired}).isRequired,history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}).isRequired,removeGroup:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,postMethod:p.a.func,isLoading:p.a.bool,group:p.a.object,closeUrl:p.a.string};var vt=Object(m.k)(Object(u.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isLoading:t.isRecordLoading}},function(e){return Object(s.a)({fetchGroup:J,removeGroup:Q},e)})(yt)),Et=function(e){var t=e.description,a=e.members;return l.a.createElement(c.Fragment,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"groups-table-detail heading",component:Ee.b.small},"Description"),l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},t||"")),l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"groups-table-detail heading",component:Ee.b.small},"members"),l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},"".concat(a.map(function(e,t){var a=e.first_name,n=e.last_name;return"".concat(0!==t?" ":"").concat(a," ").concat(n)})))))};Et.propTypes={description:p.a.string,members:p.a.arrayOf(p.a.shape({first_name:p.a.string,last_name:p.a.string})).isRequired};var Rt=Et,jt=a(71),Ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.members,u=t.modified;return[].concat(Pe()(e),[{uuid:n,isOpen:!1,cells:[l.a.createElement(c.Fragment,{key:n},l.a.createElement(f.Link,{to:"/groups/detail/".concat(n)},l.a.createElement(y.a,{variant:"link"}," ",r," "))),i,o.length,"".concat(Object(jt.d)(u))]},{parent:2*a,fullWidth:!0,cells:[{title:l.a.createElement(Rt,{description:i,members:o})}]}])},[])},wt=a(104),kt=a(77),qt=function(e){var t=e.description,a=e.roles;return l.a.createElement(c.Fragment,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"groups-table-detail heading",component:Ee.b.small},"Description"),l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},t)),l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"groups-table-detail heading",component:Ee.b.small},"roles"),l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},"".concat(a.map(function(e,t){return"".concat(0!==t?", ":""," ").concat(e.description)})))))};qt.propTypes={description:p.a.string,roles:p.a.arrayOf(p.a.shape({name:p.a.string.isRequired,description:p.a.string})).isRequired};var Tt=qt,St=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.roles,c=t.modified;return[].concat(Pe()(e),[{uuid:n,isOpen:!1,cells:[r,i,o.length,"".concat(Object(jt.d)(c))]},{parent:2*a,fullWidth:!0,cells:[{title:l.a.createElement(Tt,{description:i,roles:o})}]}])},[])},Ct=function(e){var t=(e.values?e.values:{policy:{name:"",description:""}}).policy,a=e.selectedRoles?e.selectedRoles:[];return l.a.createElement(c.Fragment,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ye.a,{size:"xl"}," Review ")),l.a.createElement(E.a,null,l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),l.a.createElement(E.a,null,l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Name")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"data-table-detail content",component:Ee.b.p},t?t.name:""))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Description")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"data-table-detail content",component:Ee.b.p},t?t.description:""))),l.a.createElement(Re.a,{gutter:"md"},l.a.createElement(je.a,{span:2},l.a.createElement(Ee.a,{className:"data-table-detail heading",component:Ee.b.h5},"Roles")),l.a.createElement(je.a,{span:10},l.a.createElement(Ee.a,{className:"groups-table-detail content",component:Ee.b.h5},"".concat(a.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};Ct.propTypes={name:p.a.string,description:p.a.string,groups:p.a.array};var xt=Ct,Ft=function(e){var t=e.history.push,a=e.match.params.uuid,n=e.addNotification,r=e.createPolicy,i=e.postMethod,u=e.closeUrl,s=Object(c.useState)([]),d=o()(s,2),p=d[0],m=d[1],f=Object(c.useState)([]),h=o()(f,2),g=h[0],b=h[1],y=Object(c.useState)({}),v=o()(y,2),E=v[0],R=v[1],O=Object(c.useState)(!0),k=o()(O,2),S=k[0],C=k[1],x=[{name:"Name and description",component:new Me({title:"Create policy",formData:E,onHandleChange:function(e){R(q()({},E,e))},setIsPolicyInfoValid:C}),enableNext:S},{name:"Add roles",component:new We({formValue:E,selectedRoles:g,setSelectedRoles:b,roles:p,title:"Add roles to policy"})},{name:"Review",component:new xt({values:E,selectedRoles:g}),enableNext:S,nextButtonText:"Confirm"}];Object(c.useEffect)(function(){Object(be.c)().payload.then(function(e){return m(e)})},[]);var F=function(){var e=w()(j.a.mark(function e(){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E.policy&&g&&g.length>0)){e.next=3;break}return n={name:E.policy.name,description:E.policy.description,group:a,roles:g.map(function(e){return e.value})},e.abrupt("return",r(n).then(function(){return i()}).then(t(u)));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return l.a.createElement(T.a,{title:"Add policy",isOpen:!0,onClose:function(){n({variant:"warning",title:"Add policy",dismissable:!0,description:"Adding policy was cancelled by the user."}),t(u)},onSave:F,steps:x})};Ft.defaultProps={roles:[],selectedRoles:[]},Ft.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addNotification:p.a.func.isRequired,createPolicy:p.a.func.isRequired,postMethod:p.a.func,match:p.a.object,closeUrl:p.a.string};var Pt=Object(m.k)(Object(u.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:n}},function(e){return Object(s.a)({addNotification:S.addNotification,createPolicy:fe,fetchRoles:be.c},e)})(Ft)),Nt=a(213),Lt=a(225),Dt=a(226),It=function(e){var t=e.history.push,a=e.match.params,n=a.uuid,r=a.id,i=e.addNotification,u=e.fetchPolicy,s=e.updatePolicy,d=e.postMethod,p=e.closeUrl,m=e.isFetching,f=Object(c.useState)(void 0),h=o()(f,2),g=h[0],b=h[1];Object(c.useEffect)(function(){u(r).then(function(e){return b(e.value)})},[]);var R=function(){if(g){var e={name:g.name,description:g.description,group:g.group.uuid,roles:g.roles.map(function(e){return e.uuid})};return d?s(g.uuid,e).then(function(){return d()}).then(function(){return t(p)}):s(g.uuid,e).then(function(){return t(p)})}d&&d(),t(p||"/groups/detail/".concat(n,"/policies"))},j=function(){i({variant:"warning",title:"Edit policy's information",dismissable:!0,description:"Edit policy's information was cancelled by the user."}),t(p)};return l.a.createElement(mt.a,{title:"Edit policy information",width:"40%",isOpen:!0,onClose:j,onSave:R},l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(qe.a,null,(m||!g)&&l.a.createElement(bt.b,null),!m&&g&&l.a.createElement(Me,{editType:"edit",formData:{policy:g},onHandleChange:function(e){b(e.policy)}}))),l.a.createElement(E.a,null,l.a.createElement(Nt.a,null,l.a.createElement(Lt.a,{gutter:"md"},l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Save",variant:"primary",type:"submit",isDisabled:m,onClick:R},"Save")),l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:j},"Cancel")))))))};It.defaultProps={isFetching:!1},It.propTypes={history:p.a.shape({push:p.a.func.isRequired}).isRequired,match:p.a.object,addNotification:p.a.func.isRequired,fetchPolicy:p.a.func.isRequired,postMethod:p.a.func.isRequired,updatePolicy:p.a.func.isRequired,id:p.a.string,editType:p.a.string,closeUrl:p.a.string,isFetching:p.a.bool};var _t=Object(m.k)(Object(u.connect)(function(e){return{isFetching:e.policyReducer.isRecordLoading}},function(e){return Object(s.a)({addNotification:S.addNotification,updatePolicy:ge,fetchPolicy:me},e)})(It)),Gt=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,r=e.fetchPolicy,i=e.updatePolicy,u=e.postMethod,s=e.isFetching,d=e.closeUrl,p=Object(c.useState)([]),m=o()(p,2),f=m[0],h=m[1],g=Object(c.useState)({}),b=o()(g,2),R=b[0],j=b[1],O=Object(c.useState)([]),w=o()(O,2),k=w[0],q=w[1],T=function(){Object(be.c)().payload.then(function(e){return h(e)}),r(a).then(function(e){var t;t=e.value,j(t),t&&t.roles&&q(t.roles.map(function(e){return{value:e.uuid,label:e.name,id:e.uuid}}))})};Object(c.useEffect)(function(){T()},[]);var S=function(){if(R){var e={name:R.name,group:R.group.uuid,roles:k.map(function(e){return e.value})};return u?i(R.uuid,e).then(function(){return u()}).then(function(){return t(d)}):i(R.uuid,e).then(function(){return t(d)})}t(d)},C=function(){n({variant:"warning",title:"Edit policy's roles",dismissable:!0,description:"Edit policy's roles was cancelled by the user."}),t(d)};return l.a.createElement(mt.a,{title:"Edit policy roles",width:"60%",isOpen:!0,onClose:C,onSave:S},l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(qe.a,null,s&&l.a.createElement(bt.d,null),!s&&l.a.createElement(We,{formValue:R,selectedRoles:k,setSelectedRoles:q,roles:f,description:"At least one role must be selected for the ".concat(R.name," policy.")}))),l.a.createElement(E.a,null,l.a.createElement(Nt.a,null,l.a.createElement(Lt.a,{gutter:"md"},l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Save",variant:"primary",type:"submit",isDisabled:s,onClick:S},"Save")),l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:C},"Cancel")))))))};Gt.defaultProps={selectedRoles:[],inputValue:"",closeUrl:"/policies",isFetching:!1},Gt.propTypes={history:p.a.shape({push:p.a.func.isRequired}),match:p.a.object,addNotification:p.a.func.isRequired,fetchPolicy:p.a.func.isRequired,postMethod:p.a.func.isRequired,updatePolicy:p.a.func.isRequired,id:p.a.string,editType:p.a.string,roles:p.a.arrayOf(p.a.shape({value:p.a.oneOfType([p.a.number,p.a.string]).isRequired,label:p.a.string.isRequired})).isRequired,closeUrl:p.a.string,isFetching:p.a.bool};var Ut=Object(m.k)(Object(u.connect)(function(e){return{isFetching:e.policyReducer.isRecordLoading}},function(e){return Object(s.a)({addNotification:S.addNotification,updatePolicy:ge,fetchPolicy:me},e)})(Gt)),Mt=a(211),At=a(20),Vt=a(212),Bt=a(201),zt=function(e){var t=e.itemAction,a=e.anyItemsSelected,n=e.itemsSelected,r=Object(c.useState)(!1),i=o()(r,2),u=i[0],s=i[1];return l.a.createElement(Mt.a,{onSelect:function(){return s(!1)},position:At.d.right,toggle:l.a.createElement(Vt.a,{id:"remove-members-dropdown-toggle",onToggle:function(e){return s(e)}}),isOpen:u,isPlain:!0,dropdownItems:[l.a.createElement(Bt.a,{id:"action-item",isDisabled:!a,onClick:function(){return t(n)},"aria-label":"Remove products from portfolio",key:"remove-products"},l.a.createElement("span",{style:{cursor:"pointer"},className:"pf-c-dropdown__menu-item ".concat(a?"danger-color":"disabled-color")},"Remove Policies"))]})};zt.propTypes={itemAction:p.a.func.isRequired,anyItemsSelected:p.a.bool.isRequired,itemsSelected:p.a.array.isRequired};var Kt=a(53),Ht=[{title:"Policy name",cellFormatters:[h.b]},"Policy Description","Roles","Last modified"],Jt=function(e){var t=e.match.params.uuid,a=e.history,n=e.fetchGroupPolicies,i=e.addNotification,u=e.pagination,s=Object(c.useState)(""),d=o()(s,2),p=d[0],h=d[1],v=Object(c.useState)([]),E=o()(v,2),R=E[0],j=E[1],O=Object(c.useState)([]),w=o()(O,2),k=w[0],q=w[1],T=function(){t&&n({group_uuid:t}).then(function(e){var t=e.value.data;return q(t)})},S=function(e){var t=e.map(function(e){return he(e)});return Promise.all(t).then(function(){i({variant:"success",title:"Remove policy",dismissable:!0,description:"Policies were removed successfully"}),T()})};return l.a.createElement(c.Fragment,null,!t&&l.a.createElement(bt.c,null),t&&l.a.createElement(Kt.Section,{type:"content",id:"tab-policies"},l.a.createElement(Be.a,{data:k,isSelectable:!0,createRows:St,columns:Ht,fetchData:T,request:n,routes:function(){return l.a.createElement(c.Fragment,null,l.a.createElement(m.d,{path:"/groups/detail/:uuid/policies/add_policy",render:function(e){return l.a.createElement(Pt,r()({fetchData:T,closeUrl:"/groups/detail/".concat(t,"/policies"),postMethod:T},e))}}),l.a.createElement(m.d,{exact:!0,path:"/groups/detail/:uuid/policies/edit-info/:id",render:function(e){return l.a.createElement(_t,r()({},e,{postMethod:T,closeUrl:"/groups/detail/".concat(t,"/policies")}))}}),l.a.createElement(m.d,{exact:!0,path:"/groups/detail/:uuid/policies/edit-roles/:id",render:function(e){return l.a.createElement(Ut,r()({},e,{postMethod:T,closeUrl:"/groups/detail/".concat(t,"/policies")}))}}))},actionResolver:function(e,n){return n.rowIndex%2==1?null:[{title:"Edit information",onClick:function(e,n,r){return a.push("/groups/detail/".concat(t,"/policies/edit-info/").concat(r.uuid))}},{title:"Edit roles",onClick:function(e,n,r){return a.push("/groups/detail/".concat(t,"/policies/edit-roles/").concat(r.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){S([a.uuid])}}]},titlePlural:"policies",titleSingular:"policy",pagination:u,filterValue:p,setFilterValue:h,setCheckedItems:function(e){return j(e.map(function(e){return e.uuid}))},toolbarButtons:function(){return l.a.createElement(g.a,null,l.a.createElement(b.a,null,l.a.createElement(f.Link,{to:"/groups/detail/".concat(t,"/policies/add_policy")},l.a.createElement(y.a,{variant:"primary","aria-label":"Add policy"},"Add policy"))),l.a.createElement(b.a,null,l.a.createElement(zt,{itemAction:S,anyItemsSelected:R.length>0,groupId:t,itemsSelected:R})))}})))};Jt.propTypes={history:p.a.shape({push:p.a.func.isRequired}),location:p.a.shape({pathname:p.a.string}),policies:p.a.array,isLoading:p.a.bool,fetchGroupPolicies:p.a.func.isRequired,removePolicy:p.a.func.isRequired,addNotification:p.a.func.isRequired,uuid:p.a.string,match:p.a.shape({params:p.a.object.isRequired}).isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number})},Jt.defaultProps={policies:[],pagination:Ve.b};var Yt=Object(u.connect)(function(e){var t=e.policyReducer,a=t.policies,n=t.isLoading;return{policies:a.data,pagination:a.meta,isLoading:n}},function(e){return Object(s.a)({fetchGroupPolicies:pe,addNotification:S.addNotification,removePolicy:he},e)})(Jt),Wt=function(e){var t=e.username,a=e.email,n=e.first_name,r=e.last_name;return l.a.createElement(c.Fragment,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{className:"principals-table-detail heading",component:Ee.b.small},"Username"),l.a.createElement(Ee.a,{className:"principals-table-detail content",component:Ee.b.h5},t),l.a.createElement(Ee.a,{className:"principals-table-detail heading",component:Ee.b.small},"Email"),l.a.createElement(Ee.a,{className:"principals-table-detail content",component:Ee.b.h5},a),l.a.createElement(Ee.a,{className:"principals-table-detail heading",component:Ee.b.small},"Name"),l.a.createElement(Ee.a,{className:"principals-table-detail content",component:Ee.b.h5},"".concat(n," ").concat(r))))};Wt.propTypes={username:p.a.string,email:p.a.string,first_name:p.a.string,last_name:p.a.string};var Qt=Wt,Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.username.includes(t)}).reduce(function(e,t,a){var n=t.username,r=t.email,i=t.first_name,o=t.last_name;return[].concat(Pe()(e),[{uuid:n,username:n,isOpen:!1,cells:[n,r,i,o]},{parent:2*a,fullWidth:!0,cells:[{title:l.a.createElement(Qt,{username:n,email:r,first_name:i,last_name:o})}]}])},[])},Zt={DropdownIndicator:null},$t=function(e){var t=e.history.push,a=e.match.params.uuid,n=e.addNotification,r=e.fetchData,i=e.closeUrl,u=e.addMembersToGroup,s=Object(c.useState)(""),d=o()(s,2),p=d[0],m=d[1],f=Object(c.useState)([]),h=o()(f,2),g=h[0],b=h[1],R=Object(c.useState)(0),j=o()(R,2),O=j[0],w=j[1],k=function(e){var t=O;return w(O+1),{label:e,value:"".concat(e,"_").concat(t)}},q=function(){n({variant:"warning",title:"Adding members to group",dismissable:!0,description:"Adding members to group was cancelled by the user."}),t(i)};return l.a.createElement(mt.a,{title:"Add group members",width:"40%",isOpen:!0,onClose:q},l.a.createElement(v.a,{gutter:"md"},l.a.createElement(E.a,null,l.a.createElement(ve.a,null,l.a.createElement(Ee.a,{component:Ee.b.h6},"Select Members for this group.")),l.a.createElement(Ne.a,{components:Zt,inputValue:p,defaultValue:g,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){b(e)},onInputChange:function(e){m(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":g?g.find(function(e){return e.label===p})||b([].concat(Pe()(g),[k(p)])):b([k(p)]),m(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:g})),l.a.createElement(E.a,null,l.a.createElement(Nt.a,null,l.a.createElement(Lt.a,{gutter:"md"},l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Save",variant:"primary",type:"submit",onClick:function(){var e=g.map(function(e){return{username:e.label}});return u(a,e).then(function(){r(),t(i)})}},"Save")),l.a.createElement(Dt.a,null,l.a.createElement(y.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:q},"Cancel")))))))};$t.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},$t.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchData:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,closeUrl:p.a.string,addMembersToGroup:p.a.func.isRequired};var ea=Object(m.k)(Object(u.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(s.a)({addNotification:S.addNotification,addGroup:Y,addMembersToGroup:X,fetchGroup:J},e)})($t)),ta=function(e){var t=e.itemAction,a=e.anyItemsSelected,n=e.itemsSelected,r=Object(c.useState)(!1),i=o()(r,2),u=i[0],s=i[1];return l.a.createElement(Mt.a,{onSelect:function(){return s(!1)},position:At.d.right,toggle:l.a.createElement(Vt.a,{id:"remove-members-dropdown-toggle",onToggle:function(e){return s(e)}}),isOpen:u,isPlain:!0,dropdownItems:[l.a.createElement(Bt.a,{id:"action-item",isDisabled:!a,onClick:function(){return t(n)},"aria-label":"Remove products from portfolio",key:"remove-products"},l.a.createElement("span",{style:{cursor:"pointer"},className:"pf-c-dropdown__menu-item ".concat(a?"danger-color":"disabled-color")},"Remove members"))]})};ta.propTypes={itemAction:p.a.func.isRequired,anyItemsSelected:p.a.bool.isRequired,itemsSelected:p.a.array.isRequired};var aa=[{title:"Name",cellFormatters:[h.b]},"Email","First name","Last name"],na=function(e){var t=e.match.params.uuid,a=e.fetchGroup,n=e.removeMembersFromGroup,i=e.pagination,u=Object(c.useState)(""),s=o()(u,2),d=s[0],p=s[1],h=Object(c.useState)([]),v=o()(h,2),E=v[0],R=v[1],j=Object(c.useState)([]),O=o()(j,2),w=O[0],k=O[1],q=function(){t&&a(t).then(function(e){k(e.value.principals)})},T=function(e){return R(e.map(function(e){return e.username}))},S=function(e){return n(t,e).then(function(){T([]),q()})};return l.a.createElement(c.Fragment,null,!t&&l.a.createElement(bt.c,null),t&&l.a.createElement(Kt.Section,{type:"content",id:"tab-principals"},l.a.createElement(Be.a,{data:w,isSelectable:!0,createRows:Xt,columns:aa,fetchData:q,request:a,routes:function(){return l.a.createElement(c.Fragment,null,l.a.createElement(m.d,{path:"/groups/detail/:uuid/members/add_members",render:function(e){return l.a.createElement(ea,r()({fetchData:q,closeUrl:"/groups/detail/".concat(t,"/principals")},e))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){S([a.username])}}]},titlePlural:"principals",titleSingular:"principal",pagination:i,filterValue:d,setFilterValue:p,setCheckedItems:T,toolbarButtons:function(){return l.a.createElement(g.a,null,l.a.createElement(b.a,null,l.a.createElement(f.Link,{to:"/groups/detail/".concat(t,"/members/add_members")},l.a.createElement(y.a,{variant:"primary","aria-label":"Add member"},"Add member"))),l.a.createElement(b.a,null,l.a.createElement(ta,{itemAction:S,anyItemsSelected:E.length>0,groupId:t,itemsSelected:E})))}})))};na.propTypes={principals:p.a.array,isLoading:p.a.bool,fetchGroup:p.a.func.isRequired,removeMembersFromGroup:p.a.func.isRequired,uuid:p.a.string,match:p.a.shape({params:p.a.object.isRequired}).isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number})},na.defaultProps={principals:[],pagination:Ve.b};var ra=Object(u.connect)(function(e){var t=e.groupReducer,a=t.selectedGroup,n=t.isLoading;return{principals:a.principals,pagination:q()({},Ve.b,{count:a.principals.length}),isLoading:n}},function(e){return Object(s.a)({fetchGroup:J,addMembersToGroup:X,removeMembersFromGroup:Z},e)})(na),ia={isFetching:!0},oa=function(e,t){var a=t.type,n=t.payload;return{setIsFetching:q()({},e,{isFetching:n})}[a]},ca=function(e){var t=[{eventKey:0,title:"Members",name:"/groups/detail/".concat(e.match.params.uuid,"/members")},{eventKey:1,title:"Policies",name:"/groups/detail/".concat(e.match.params.uuid,"/policies")}],a=Object(c.useReducer)(oa,ia),n=o()(a,2),r=n[0].isFetching,i=n[1];return Object(c.useEffect)(function(){var t;t=e.match.params.uuid,i({type:"setIsFetching",payload:!0}),e.fetchGroup(t).then(function(){return i({type:"setIsFetching",payload:!1})}).catch(function(){return i({type:"setIsFetching",payload:!1})})},[]),l.a.createElement(c.Fragment,null,l.a.createElement(kt.a,{breadcrumbs:[{title:"User Access Management",to:"/groups"},{title:"Group",isActive:!0}]},l.a.createElement(kt.b,{title:!e.isFetching&&e.group?e.group.name:void 0,description:!e.isFetching&&e.group?e.group.description:void 0}),l.a.createElement(wt.a,{tabItems:t})),!r&&l.a.createElement(m.g,null,l.a.createElement(m.d,{path:"/groups/detail/:uuid/policies",component:Yt}),l.a.createElement(m.d,{path:"/groups/detail/:uuid/members",component:ra}),l.a.createElement(m.d,{render:function(){return l.a.createElement(m.c,{to:"/groups/detail/".concat(e.match.params.uuid,"/members")})}})),!e.group&&l.a.createElement(bt.c,null))};ca.propTypes={location:p.a.shape({pathname:p.a.string.isRequired}),history:p.a.shape({push:p.a.func.isRequired}),match:p.a.object,group:p.a.shape({uuid:p.a.string,name:p.a.string,description:p.a.string}),isFetching:p.a.bool,fetchGroup:p.a.func},ca.defaultProps={isFetching:!1};var la=Object(u.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isFetching:t.isLoading}},function(e){return Object(s.a)({fetchGroup:J},e)})(ca),ua=[{title:"Name",cellFormatters:[h.b]},"Description","Members","Last modified"],sa=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],da=function(e){var t=e.fetchGroups,a=e.isLoading,n=e.pagination,i=e.history.push,u=Object(c.useState)(""),s=o()(u,2),d=s[0],p=s[1],h=Object(c.useState)([]),R=o()(h,2),j=R[0],O=R[1],w=function(){t(n).then(function(e){var t=e.value.data;return O(t)})},k=function(){return l.a.createElement(c.Fragment,null,l.a.createElement(m.d,{exact:!0,path:"/groups/add-group",render:function(e){return l.a.createElement(Xe,r()({},e,{postMethod:w}))}}),l.a.createElement(m.d,{exact:!0,path:"/groups/edit/:id",render:function(e){return l.a.createElement(gt,r()({},e,{postMethod:w}))}}),l.a.createElement(m.d,{exact:!0,path:"/groups/remove/:id",render:function(e){return l.a.createElement(vt,r()({},e,{postMethod:w}))}}))},q=function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){i("/groups/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return i("/groups/remove/".concat(a.uuid))}}]},T=function(){return l.a.createElement(g.a,null,l.a.createElement(b.a,null,l.a.createElement(f.Link,{to:"/groups/add-group"},l.a.createElement(y.a,{variant:"primary","aria-label":"Create group"},"Add group"))))};return l.a.createElement(m.g,null,l.a.createElement(m.d,{path:"/groups/detail/:uuid",render:function(e){return l.a.createElement(la,e)}}),l.a.createElement(m.d,{path:"/groups",render:function(){return l.a.createElement(v.a,null,l.a.createElement(E.a,null,l.a.createElement(kt.a,{paddingBottm:!1},l.a.createElement(kt.b,{title:"User access management"}),l.a.createElement(wt.a,{tabItems:sa}))),l.a.createElement(E.a,null,l.a.createElement(Kt.Section,{type:"content",id:"tab-groups"},l.a.createElement(Be.a,{data:j,createRows:Ot,columns:ua,fetchData:w,request:t,routes:k,actionResolver:q,titlePlural:"groups",titleSingular:"group",pagination:n,filterValue:d,setFilterValue:p,toolbarButtons:T,isLoading:a}))))}}))};da.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}),groups:p.a.array,platforms:p.a.array,isLoading:p.a.bool,searchFilter:p.a.string,fetchGroups:p.a.func.isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number.isRequired})},da.defaultProps={groups:[],pagination:Ve.b};t.default=Object(u.connect)(function(e){var t=e.groupReducer,a=t.groups,n=t.filterValue,r=t.isLoading;return{groups:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(s.a)({fetchGroups:H},e)})(da)},536:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a.n(n),i=a(36),o=a.n(i),c=a(7),l=a.n(c),u=a(6),s=a.n(u),d=a(2),p=a.n(d),m=a(16),f=a(76),h=a(22),g=a(231),b=a(230),y=a(139),v=a(227),E=a(228),R=a(1),j=a.n(R),O=a(104),w=a(32),k=a.n(w),q=a(71),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t){var a=t.uuid,n=t.name,r=t.description,i=t.system,o=t.policyCount,c=t.modified;return[].concat(k()(e),[{uuid:a,system:i,cells:[n,r,o,"".concat(Object(q.d)(c))]}])},[])},S=a(54),C=a(39),x=a(77),F=a(68),P=a(10),N=a.n(P),L=a(26),D=a.n(L),I=a(21),_=a(379),G=a(29),U=a(115),M=a(216),A=a(217),V=a(218),B=a(219),z=a(149),K=a(540),H=a(539),J=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.resourceDefinitions,r=(void 0===n?[]:n).map(function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:a?p.a.createElement(y.a,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}});return p.a.createElement(z.a,{"aria-label":"Resource definitions",cells:[{title:"Key"},{title:"Operation"},{title:"value"},""],rows:r,variant:z.c.compact},p.a.createElement(K.a,null),p.a.createElement(H.a,null))};J.propTypes={resourceDefinitions:j.a.arrayOf(j.a.shape({key:j.a.number.isRequired,operation:j.a.number.isRequired,value:j.a.number.isRequired}))};var Y=J,W=function(e){var t=e.application,a=void 0===t?"":t,n=e.description,r=void 0===n?"":n,i=e.name,o=void 0===i?"":i,c=e.permission,l=void 0===c?"":c,u=e.resourceType,s=void 0===u?"":u;return p.a.createElement(v.a,{gutter:"md"},p.a.createElement(E.a,null,p.a.createElement(U.a,{size:"xl"},"Confirm details")),p.a.createElement(E.a,null,p.a.createElement(v.a,{gutter:"md"},p.a.createElement(E.a,null,p.a.createElement(M.a,null,p.a.createElement(A.a,{component:A.b.h5},"Confirm the details for your source, or click Back to revise"))),p.a.createElement(E.a,null,p.a.createElement(M.a,null,p.a.createElement(V.a,{component:V.b.dl},p.a.createElement(B.a,{component:B.b.dt},"Name"),p.a.createElement(B.a,{component:B.b.dd},o),p.a.createElement(B.a,{component:B.b.dt},"Description"),p.a.createElement(B.a,{component:B.b.dd},r),p.a.createElement(B.a,{component:B.b.dt},"Application"),p.a.createElement(B.a,{component:B.b.dd},a),p.a.createElement(B.a,{component:B.b.dt},"Resource type"),p.a.createElement(B.a,{component:B.b.dd},s),p.a.createElement(B.a,{component:B.b.dt},"Operation"),p.a.createElement(B.a,{component:B.b.dd},l),p.a.createElement(B.a,{component:B.b.dt},"Resource definition"),p.a.createElement(B.a,{component:B.b.dd},new Y(e))))))))};W.propTypes={application:j.a.string,description:j.a.string,name:j.a.string,permission:j.a.string,resourceType:j.a.string};var Q=W,X=a(181),Z=a(144),$=a(208),ee=function(e,t){var a=Object(d.useState)({key:"",operation:"",value:""}),n=s()(a,2),r=n[0],i=n[1],o=e.resourceDefinitions,c=void 0===o?[]:o,u=function(){for(var e=!1,t=0;t<c.length;t++){var a=c[t];if(a.key===r.key&&a.operation===r.operation&&a.value===r.value){e=!0;break}}return e},m=!u()&&r.key.trim().length>0&&r.operation.trim().length>0&&r.value.trim().length>0,f=function(e){i(l()({},r,e))};return p.a.createElement(v.a,{gutter:"md"},p.a.createElement(E.a,null,p.a.createElement(U.a,{size:"xl"},"Resource definitions")),p.a.createElement(E.a,null,p.a.createElement(M.a,null,p.a.createElement(A.a,{component:A.b.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),p.a.createElement(E.a,null,p.a.createElement(X.a,null,p.a.createElement(Z.a,{label:"Key",fieldId:"resource-key"},p.a.createElement($.a,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return f({key:t.currentTarget.value})},type:"text",value:r.key})),p.a.createElement(Z.a,{label:"Operation",fieldId:"resource-operation"},p.a.createElement($.a,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return f({operation:t.currentTarget.value})},type:"text",value:r.operation})),p.a.createElement(Z.a,{label:"Value",fieldId:"resource-value"},p.a.createElement($.a,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return f({value:t.currentTarget.value})},type:"text",value:r.value})))),p.a.createElement(E.a,null,p.a.createElement(y.a,{variant:"primary",isDisabled:!m,onClick:function(){if(!u()){var e=[].concat(k()(c),[r]);t({resourceDefinitions:e})}}},"Add to definitions")),p.a.createElement(E.a,null,new Y(e,function(e){for(var a=[],n=0;n<c.length;n++){var r=c[n];r.key===e.key&&r.operation===e.operation&&r.value===e.value||a.push(r)}t({resourceDefinitions:a})},!0)))};ee.propTypes={resourceDefinitions:j.a.arrayOf(j.a.shape({key:j.a.number.isRequired,operation:j.a.number.isRequired,value:j.a.number.isRequired}))};var te=ee,ae=a(210),ne=function(e,t){var a=e.description,n=void 0===a?"":a,r=e.name,i=void 0===r?"":r;return p.a.createElement(v.a,{gutter:"md"},p.a.createElement(E.a,null,p.a.createElement(U.a,{size:"xl"},"Name and description")),p.a.createElement(E.a,null,p.a.createElement(X.a,null,p.a.createElement(Z.a,{label:"Name",isRequired:!0,fieldId:"name"},p.a.createElement($.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,a){return t({name:a.currentTarget.value},a.currentTarget.value.trim().length>0)}})),p.a.createElement(Z.a,{label:"Description",fieldId:"description"},p.a.createElement(ae.b,{type:"text",id:"description",name:"description",value:n,onChange:function(e,a){return t({description:a.currentTarget.value})}})))))};ne.propTypes={name:j.a.string,description:j.a.string};var re=ne,ie=function(e,t){var a=e.application,n=void 0===a?"":a,r=e.permission,i=void 0===r?"":r,o=e.resourceType,c=void 0===o?"":o,u=function(e){var a=function(e){return l()({application:n,permission:i,resourceType:c},e)}(e),r=a.application.trim().length>0&&a.permission.trim().length>0&&a.resourceType.trim().length>0;t(a,r)};return p.a.createElement(v.a,{gutter:"md"},p.a.createElement(E.a,null,p.a.createElement(U.a,{size:"xl"},"Permission")),p.a.createElement(E.a,null,p.a.createElement(M.a,null,p.a.createElement(A.a,{component:A.b.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),p.a.createElement(E.a,null,p.a.createElement(X.a,null,p.a.createElement(Z.a,{label:"Application",isRequired:!0,fieldId:"application"},p.a.createElement($.a,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return u({application:t.currentTarget.value})},type:"text",value:n})),p.a.createElement(Z.a,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},p.a.createElement($.a,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return u({resourceType:t.currentTarget.value})},type:"text",value:c})),p.a.createElement(Z.a,{label:"Permission",isRequired:!0,fieldId:"permission"},p.a.createElement($.a,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return u({permission:t.currentTarget.value})},type:"text",value:i})))))};ie.propTypes={application:j.a.string,permission:j.a.string,resourceType:j.a.string};var oe=ie,ce=function(e){var t=e.addNotification,a=e.createRole,n=e.history.push,r=e.pagination,i=Object(d.useState)({}),o=s()(i,2),c=o[0],u=o[1],m=Object(d.useState)(!1),f=s()(m,2),h=f[0],g=f[1],b=Object(d.useState)(!1),y=s()(b,2),v=y[0],E=y[1],R=Object(d.useState)(1),j=s()(R,2),O=j[0],w=j[1],k=function(e){u(l()({},c,e))},q=[{id:1,name:"Name and Description",canJumpTo:O>=1,component:new re(c,function(e,t){k(e),g(t)}),enableNext:h},{id:2,name:"Permission",canJumpTo:O>=2&&h,component:new oe(c,function(e,t){k(e),E(t)}),enableNext:v},{id:3,name:"Resource definitions",canJumpTo:O>=3&&h&&v,component:new te(c,k)},{id:4,name:"Review",canJumpTo:O>=4&&h&&v,component:new Q(c),nextButtonText:"Confirm"}],T=function(){var e=D()(N.a.mark(function e(){var t,i;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[c.application],description:c.description,name:c.name,access:[{permission:"".concat(c.application,":").concat(c.resourceType,":").concat(c.permission),resourceDefinitions:c.resourceDefinitions.map(function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}})}]},e.next=3,a(t);case 3:return i=e.sent,Object(C.c)(r).then(n("/roles")),e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return p.a.createElement(_.a,{isLarge:!0,title:"Add role",isOpen:!0,onClose:function(){t({variant:"warning",title:"Adding role",dismissable:!0,description:"Adding role was cancelled by the user."}),n("/roles")},onNext:function(e){var t=e.id;w(O<t?t:O)},onSave:T,steps:q})};ce.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},ce.propTypes={history:j.a.shape({goBack:j.a.func.isRequired,push:j.a.func.isRequired}).isRequired,addNotification:j.a.func.isRequired,createRole:j.a.func.isRequired,fetchRoles:j.a.func.isRequired,inputValue:j.a.string,pagination:j.a.shape({limit:j.a.number.isRequired,offset:j.a.number.isRequired,count:j.a.number.isRequired})};var le=Object(f.k)(Object(m.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(I.a)({addNotification:G.addNotification,createRole:C.a,fetchRoles:C.c},e)})(ce)),ue=a(215),se=a(221),de=a(222),pe=a(34),me=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.match.params.id,i=e.removeRole,o=e.role,c=e.isLoading,l=e.fetchRole,u=e.fetchRoles;Object(d.useEffect)(function(){l(r)},[]);var s=function(){return a()};return p.a.createElement(ue.a,{isOpen:!0,isSmall:!0,title:"",onClose:s,actions:[p.a.createElement(y.a,{key:"cancel",variant:"secondary",type:"button",onClick:s},"Cancel"),p.a.createElement(y.a,{key:"submit",isDisabled:c,variant:"primary",type:"button",onClick:function(){return i(r).then(function(){u(),n("/roles")})}},"Confirm")]},p.a.createElement(se.a,{gutter:"sm"},p.a.createElement(de.a,{span:5},p.a.createElement(M.a,null,p.a.createElement(A.a,{component:A.b.h1},"Removing Role:"))),p.a.createElement(de.a,{span:6},p.a.createElement(M.a,null,!c&&p.a.createElement(A.a,{component:A.b.h1},o.name)),c&&p.a.createElement(pe.b,null))))};me.defaultProps={role:{},isLoading:!0},me.propTypes={addNotification:j.a.func.isRequired,fetchRole:j.a.func.isRequired,fetchRoles:j.a.func.isRequired,isLoading:j.a.bool,history:j.a.shape({goBack:j.a.func.isRequired,push:j.a.func.isRequired}).isRequired,match:j.a.shape({params:j.a.shape({id:j.a.string}).isRequired}).isRequired,removeRole:j.a.func.isRequired,role:j.a.object};var fe=Object(f.k)(Object(m.connect)(function(e){var t=e.roleReducer,a=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:a.meta}},function(e){return Object(I.a)({addNotification:G.addNotification,fetchRole:C.b,fetchRoles:C.c,removeRole:C.e},e)})(me)),he=a(53),ge=a(145),be=a(64),ye=a.n(be),ve=function(e){var t=e.asyncFunction,a=e.callback,n=e.fallback,r=function(e,t,a){return p.a.lazy(function(){return e().then(function(e){return{default:function(){return t(e,a)}}})})}(t,a,ye()(e,["asyncFunction","callback","fallback"]));return p.a.createElement(d.Suspense,{fallback:n||p.a.createElement(d.Fragment,null)},p.a.createElement(r,null))};ve.propTypes={asyncFunction:j.a.func,callback:j.a.func,fallback:j.a.node};var Ee=ve,Re=Object(ge.a)(function(e){return e()},1e3),je=[{title:"Role",orderBy:"name"},{title:"Description"},{title:"Policies"},{title:"Last Modified",orderBy:"modified"}],Oe=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],we=function(e){var t=e.fetchRoles,a=e.roles,n=e.isLoading,r=e.history.push,i=e.pagination,c=e.userIdentity,u=Object(d.useState)(""),m=s()(u,2),R=m[0],j=m[1];Object(d.useEffect)(function(){t(l()({},i,{name:R}))},[]);var w=function(){return p.a.createElement(d.Fragment,null,p.a.createElement(f.d,{exact:!0,path:"/roles/add-role",component:le}),p.a.createElement(f.d,{exact:!0,path:"/roles/remove/:id",component:fe}))},k=function(e){var t=e.system,a=insights.chrome.isBeta()&&c.user.is_org_admin;return t||!a?[]:[{title:"Delete",onClick:function(e,t,a){return r("/roles/remove/".concat(a.uuid))},props:{isDisabled:!0},isDisabled:!0}]},q=function(e){return e.policies.title>1},S=function(){return p.a.createElement(g.a,null,p.a.createElement(b.a,null,p.a.createElement(Ee,{fallback:p.a.createElement(he.Skeleton,null),asyncFunction:insights.chrome.auth.getUser,callback:function(e,t){return e.entitlements.cost_management?p.a.createElement(h.Link,o()({to:"/roles/add-role"},t),p.a.createElement(y.a,{variant:"primary","aria-label":"Create role"},"Add role")):p.a.createElement(d.Fragment,null)}})))};return p.a.createElement(f.g,null,p.a.createElement(f.d,{path:"/roles",render:function(){return p.a.createElement(v.a,null,p.a.createElement(E.a,null,p.a.createElement(x.a,null,p.a.createElement(x.b,{title:"User access management"}),p.a.createElement(O.a,{tabItems:Oe}))),p.a.createElement(E.a,null,p.a.createElement(he.Section,{type:"content",id:"tab-roles"},p.a.createElement(F.a,{actionResolver:k,areActionsDisabled:q,columns:je,createRows:T,data:a,filterValue:R,setFilterValue:function(e){j(e),Re(function(){return t(l()({},i,{name:e}))})},isLoading:n,pagination:i,request:t,routes:w,titlePlural:"roles",titleSingular:"role",toolbarButtons:S}))))}}))};we.propTypes={history:j.a.shape({goBack:j.a.func.isRequired,push:j.a.func.isRequired}),roles:j.a.array,platforms:j.a.array,isLoading:j.a.bool,fetchRoles:j.a.func.isRequired,pagination:j.a.shape({limit:j.a.number.isRequired,offset:j.a.number.isRequired,count:j.a.number.isRequired}),userIdentity:j.a.shape({user:j.a.shape(r()({},j.a.string,j.a.oneOfType([j.a.string,j.a.bool])))})},we.defaultProps={roles:[],pagination:S.b};t.default=Object(m.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.isLoading;return{roles:a.data,pagination:a.meta,userIdentity:a.identity,isLoading:n}},function(e){return{fetchRoles:function(t){var a=Object.entries(t).reduce(function(e,t){var a=s()(t,2),n=a[0],i=a[1];return l()({},e,i&&r()({},n,i))},{});e(Object(C.d)(a))}}})(we)},537:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c=a(2),l=a.n(c),u=a(31),s=a.n(u),d=a(22),p=a(16),m=a(399),f=a(106),h=a.n(f),g=a(29),b=a(386),y=a.n(b),v=a(387),E=a(25),R=a.n(E),j=a(7),O=a.n(j),w=a(12),k=(n={},R()(n,"".concat(w.FETCH_USER,"_PENDING"),function(e){return O()({},e,{isUserDataLoading:!0})}),R()(n,"".concat(w.FETCH_USER,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedUser:a,isUserDataLoading:!1})}),n),q=(r={},R()(r,"".concat(w.f,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),R()(r,"".concat(w.f,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{groups:a,isLoading:!1})}),R()(r,"".concat(w.e,"_PENDING"),function(e){return O()({},e,{isRecordLoading:!0})}),R()(r,"".concat(w.e,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedGroup:a,isRecordLoading:!1})}),R()(r,w.p,function(e){return O()({},e,{selectedGroup:void 0})}),r),T=(i={},R()(i,"".concat(w.g,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),R()(i,"".concat(w.g,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{policies:a,isLoading:!1})}),R()(i,"".concat(w.h,"_PENDING"),function(e){return O()({},e,{isRecordLoading:!0})}),R()(i,"".concat(w.h,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedPolicy:a,isRecordLoading:!1})}),i),S=(o={},R()(o,"".concat(w.i,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedRole:a,isRecordLoading:!1})}),R()(o,"".concat(w.i,"_PENDING"),function(e){return O()({},e,{isRecordLoading:!0})}),R()(o,"".concat(w.j,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{roles:a,isLoading:!1})}),R()(o,"".concat(w.j,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),o),C=new h.a({},[v.a,Object(m.a)(),Object(g.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),y.a]);C.register({userReducer:Object(f.applyReducerHash)(k,{selectedUser:{},isUserDataLoading:!1}),groupReducer:Object(f.applyReducerHash)(q,{groups:{data:[],meta:{count:0,limit:10,offset:0}},selectedGroup:{},isLoading:!1,isRecordLoading:!1}),policyReducer:Object(f.applyReducerHash)(T,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1,isRecordLoading:!1}),roleReducer:Object(f.applyReducerHash)(S,{isLoading:!1,isRecordLoading:!1,roles:{data:[],meta:{count:0,limit:5,offset:0}},selectedRole:{}}),notifications:g.notifications});var x=C.getStore(),F=a(389),P=a.n(F),N=a(390),L=a.n(N),D=a(391),I=a.n(D),_=a(392),G=a.n(_),U=a(184),M=a.n(U),A=a(393),V=a.n(A),B=a(1),z=a.n(B),K=a(76),H=a(64),J=a.n(H),Y=a(196),W=a.n(Y),Q=a(34),X=Object(c.lazy)(function(){return Promise.resolve().then(function(){return W()(a(535))})}),Z=Object(c.lazy)(function(){return Promise.resolve().then(function(){return W()(a(536))})}),$="/groups",ee="/roles",te=function(e){var t=e.rootClass,a=J()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),l.a.createElement(K.d,a)};te.propTypes={rootClass:z.a.string};var ae=function(){return l.a.createElement(c.Suspense,{fallback:l.a.createElement(Q.a,null)},l.a.createElement(K.g,null,l.a.createElement(te,{path:$,component:X,rootClass:"groups"}),l.a.createElement(te,{path:ee,component:Z,rootClass:"roles"}),l.a.createElement(K.d,{render:function(){return l.a.createElement(K.c,{to:$})}})))};ae.propTypes={childProps:z.a.object};a(109);var ne=a(53),re=a(397),ie=(a(478),function(e){function t(){var e,a;P()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=I()(this,(e=G()(t)).call.apply(e,[this].concat(r))),R()(M()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return V()(t,e),L()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?l.a.createElement(re.a,{locale:"en"},l.a.createElement(l.a.Fragment,null,l.a.createElement(g.NotificationsPortal,null),l.a.createElement(ne.Main,{style:{marginLeft:0,padding:0}},l.a.createElement(ae,null)))):l.a.createElement(Q.a,null)}}]),t}(c.Component));ie.propTypes={history:z.a.object};var oe=Object(K.k)(Object(p.connect)()(ie)),ce=window.location.pathname.split("/");ce.shift();var le="/";"beta"===ce[0]&&(le="/".concat(ce.shift(),"/")),s.a.render(l.a.createElement(p.Provider,{store:x},l.a.createElement(d.BrowserRouter,{basename:"".concat(le).concat(ce[0],"/").concat(ce[1],"/").concat(ce[2])},l.a.createElement(oe,null))),document.getElementById("root"))},54:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"a",function(){return r});var n={limit:50,offset:0,itemCount:1,numberOfItems:50},r={limit:5,offset:0,itemCount:1,numberOfItems:5}},68:function(e,t,a){"use strict";var n=a(7),r=a.n(n),i=a(6),o=a.n(i),c=a(2),l=a.n(c),u=a(1),s=a.n(u),d=a(150),p=a(223),m=a(224),f=a(229),h=a(231),g=a(230),b=a(149),y=a(540),v=a(539),E=a(53),R=a(71),j=a(54),O=a(166),w=a(208),k=function(e){var t=e.isCompact,a=e.searchValue,n=e.onFilterChange,r=e.placeholder;return l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement("div",{className:"toolbar-filter-input-group".concat(t?"-c":"")},l.a.createElement(w.a,{placeholder:r,value:a,type:"text",onChange:n,"aria-label":r}),l.a.createElement(O.b,null))))};k.propTypes={onFilterChange:s.a.func.isRequired,placeholder:s.a.string,searchValue:s.a.string,isCompact:s.a.bool},k.defaultProps={searchValue:"",isCompact:!1};var q=k,T=a(395),S=a(34);a(531);a.d(t,"a",function(){return C});var C=function(e){var t=e.request,a=e.isSelectable,n=e.isCompact,i=e.createRows,u=e.borders,s=e.columns,j=e.toolbarButtons,O=e.fetchData,w=e.data,k=e.actionResolver,C=e.areActionsDisabled,x=e.routes,F=e.titlePlural,P=e.titleSingular,N=e.pagination,L=e.checkedRows,D=e.setCheckedItems,I=e.filterValue,_=e.isLoading,G=e.setFilterValue,U=Object(c.useState)([]),M=o()(U,2),A=M[0],V=M[1];Object(c.useEffect)(function(){O(V,I,N)},[I,N.limit,N.offset]),Object(c.useEffect)(function(){V(i(w,L,I)),a&&D(A.filter(function(e){return e.uuid&&e.selected}))},[w]),Object(c.useEffect)(function(){Object(R.c)()},[]);var B=function(e){return t({offset:N.offset,limit:e}).then(function(e){var t=e.value.data;return V(i(t,L,I))})},z=function(e,a){var n={offset:Object(R.b)(e,N.limit),limit:N.limit};return a?Object(d.a)(t,250)():t(n).then(function(e){var t=e.value.data;return V(i(t,L,I))})};return _?l.a.createElement(S.c,null):l.a.createElement(c.Fragment,null,x(),l.a.createElement(T.TableToolbar,{className:"rbac-table__toolbar"},l.a.createElement(p.a,{style:{flex:1}},l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(q,{isCompact:n,onFilterChange:function(e){return G(e)},searchValue:I,placeholder:"Find a ".concat(P)}),j())),l.a.createElement(m.a,null,l.a.createElement(f.a,null,l.a.createElement(h.a,null,l.a.createElement(g.a,null,l.a.createElement(E.Pagination,{itemsPerPage:N.limit,numberOfItems:N.count,onPerPageSelect:B,page:Object(R.a)(N.limit,N.offset),onSetPage:z,direction:"down"}))))))),l.a.createElement(b.a,{"aria-label":"".concat(F," table"),variant:n?b.c.compact:null,borders:u,onCollapse:function(e,t,a,n){var i=n.uuid;return V(function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,i)})},rows:A,cells:s,onSelect:a&&function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).uuid;return V(-1===a?A.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){var a=e.map(function(e){return e.uuid===t?r()({},e,{selected:!e.selected}):r()({},e)}),n=a.filter(function(e){return e.uuid&&e.selected});return D(n),a}(e,n)})},actionResolver:k,areActionsDisabled:C},l.a.createElement(y.a,null),l.a.createElement(v.a,null)))};C.propTypes={isSelectable:s.a.bool,isCompact:s.a.bool,borders:s.a.bool,createRows:s.a.func.isRequired,request:s.a.func.isRequired,columns:s.a.array.isRequired,toolbarButtons:s.a.func,fetchData:s.a.func.isRequired,data:s.a.array,pagination:s.a.shape({limit:s.a.number,offset:s.a.number,count:s.a.number}),titlePlural:s.a.string,titleSingular:s.a.string,routes:s.a.func,actionResolver:s.a.func,areActionsDisabled:s.a.func,setCheckedItems:s.a.func,filterValue:s.a.string,checkedRows:s.a.array,setFilterValue:s.a.func,isLoading:s.a.bool},C.defaultProps={requests:[],isLoading:!1,pagination:j.b,toolbarButtons:function(){return null},isSelectable:!1,isCompact:!1,borders:!0,routes:function(){return null},fetchData:function(){}}},71:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return l});var n=a(4),r=a.n(n),i=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},c=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},l=function(e){return r()(e).fromNow()}},77:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),o=a.n(i),c=a(223),l=a(224),u=a(216),s=a(217),d=a(34),p=a(22),m=a(205),f=a(206),h=function(e){return e?r.a.createElement(m.a,null,Object.values(e).map(function(e){return r.a.createElement(f.a,{key:e.title,isActive:e.isActive},e.to&&r.a.createElement(p.NavLink,{exact:!0,to:e.to},e.title)||e.title)})):null};h.propTypes={breadcrumbs:o.a.object};var g=h;a(534);a.d(t,"a",function(){return b}),a.d(t,"b",function(){return y});var b=function(e){var t=e.children,a=e.breadcrumbs,n=e.paddingBottom;return r.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-lg ".concat(n?"pf-u-pb-sm":""," top-toolbar")},a&&r.a.createElement(c.a,{className:"pf-u-mb-md"},r.a.createElement(g,a)),t)};b.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},b.defaultProps={paddingBottom:!1};var y=function(e){var t=e.title,a=e.description,i=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(l.a,null,r.a.createElement(u.a,{className:"pf-u-mb-sm"},r.a.createElement(s.a,{component:s.b.h1},t||r.a.createElement(d.e,null))),a&&r.a.createElement(u.a,{className:"pf-u-pt-sm pf-u-mb-md"},r.a.createElement(s.a,{component:s.b.p},a))),i))};y.propTypes={title:o.a.string,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}},87:function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"d",function(){return d}),a.d(t,"c",function(){return p}),a.d(t,"a",function(){return m});var n=a(107),r=a.n(n),i=a(119),o=a(93),c=(new i.PrincipalApi(void 0,o.a,r.a),new i.GroupApi(void 0,o.a,r.a)),l=new i.RoleApi(void 0,o.a,r.a),u=new i.PolicyApi(void 0,o.a,r.a);function s(){return c}function d(){return l}function p(){return u}function m(){return r.a}},93:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="".concat("/api","/rbac/v1")}});
//# sourceMappingURL=../sourcemaps/App.js.map