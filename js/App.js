!function(e){function t(t){for(var n,o,u=t[0],c=t[1],l=t[2],p=0,d=[];p<u.length;p++)o=u[p],r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,u=1;u<a.length;u++){var c=a[u];0!==r[c]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/beta/apps/rbac/";var u=window.webpackJsonp=window.webpackJsonp||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var s=c;i.push([390,1]),a()}({332:function(e,t,a){},38:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"f",function(){return o}),a.d(t,"e",function(){return u});var n="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",u="REMOVE_GROUP"},388:function(e,t,a){"use strict";a.r(t);var n=a(135),r=a.n(n),i=a(136),o=a.n(i),u=a(137),c=a.n(u),l=a(138),s=a.n(l),p=a(67),d=a.n(p),m=a(139),f=a.n(m),g=a(25),h=a.n(g),b=a(2),E=a.n(b),v=a(1),y=a.n(v),R=a(32),G=a(168),O=a(13),w=a(162),T=a(130),j=a(159),q=a(160),C=a(158),x=a(103),F=a(161),P=a(165),k=a(87),S=a(82),N=a(133),_=a(134),L=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=c()(this,(e=s()(t)).call.apply(e,[this].concat(i))),h()(d()(a),"state",{isKebabOpen:!1}),h()(d()(a),"onKebabToggle",function(e){a.setState({isKebabOpen:e})}),h()(d()(a),"onKebabSelect",function(){a.setState({isKebabOpen:!a.state.isKebabOpen})}),h()(d()(a),"buildGroupActionKebab",function(e){return E.a.createElement(G.a,{position:O.d.right,onSelect:a.onKebabSelect,toggle:E.a.createElement(w.a,{onToggle:a.onKebabToggle}),isOpen:a.state.isKebabOpen,dropdownItems:[E.a.createElement(T.a,{"aria-label":"Edit Group",key:"edit-group"},E.a.createElement(R.Link,{to:"/groups/edit/".concat(e.uuid)},"Edit")),E.a.createElement(T.a,{component:"link","aria-label":"Remove Group",key:"remove-group"},E.a.createElement(R.Link,{to:"/groups/remove/".concat(e.uuid)},"Delete"))],isPlain:!0})}),h()(d()(a),"fetchUserListForGroup",function(e){return e.members?e.members.map(function(e){return" ".concat(e.username)}).join(", "):""}),a}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.props.item;return E.a.createElement(j.a,{key:"group-".concat(t.uuid),"aria-labelledby":"check-group-".concat(t.uuid),isExpanded:this.props.isExpanded("group-".concat(t.uuid))},E.a.createElement(q.a,{onClick:function(){return e.props.toggleExpand("group-".concat(t.uuid))},isExpanded:this.props.isExpanded("group-".concat(t.uuid)),id:"group-".concat(t.uuid),"aria-labelledby":"group-".concat(t.uuid," group-").concat(t.uuid),"aria-label":"Toggle details for"}),E.a.createElement(C.a,{"aria-labelledby":"check-group-".concat(t.uuid),name:"check-group-".concat(t.uuid)}),E.a.createElement(x.a,null,E.a.createElement("span",{id:t.uuid},t.name," ")),E.a.createElement(x.a,null,this.fetchUserListForGroup(t)),E.a.createElement(x.a,{class:"pf-c-data-list__action","aria-labelledby":"group-".concat(t.uuid," check-group-action").concat(t.uuid),id:"group-".concat(t.uuid),"aria-label":"Actions"},this.buildGroupActionKebab(t)),E.a.createElement(F.a,{"aria-label":"Group Content Details",isHidden:!this.props.isExpanded("group-".concat(t.uuid))},E.a.createElement(P.a,{gutter:"md"},E.a.createElement(k.a,null,E.a.createElement(S.a,{size:"md"},"Description")),E.a.createElement(k.a,null,E.a.createElement(N.a,{component:_.b.h6},t.description)),E.a.createElement(k.a,null),E.a.createElement(k.a,null,E.a.createElement(S.a,{size:"md"},"Members")),E.a.createElement(k.a,null,E.a.createElement(N.a,{component:_.b.h6},this.fetchUserListForGroup(t))))))}}]),t}(b.Component);L.propTypes={isLoading:y.a.bool,item:y.a.object,isExpanded:y.a.func.isRequired,toggleExpand:y.a.func.isRequired,noItems:y.a.string},t.default=L},389:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a.n(n),i=a(34),o=a.n(i),u=a(2),c=a.n(u),l=a(36),s=a(1),p=a.n(s),d=a(81),m=a(253),f=a(106),g=a(146),h=a(394),b=a(393),E=a(73),v=a(234),y=a(50),R=a(38),G=a(43),O=a.n(G),w=a(88),T=a.n(w),j=a(246),q=a.n(j),C=a(151),x="".concat("/api","/rbac/v1"),F=q.a.create();F.interceptors.response.use(function(e){return e.data||e});new C.AccessApi(void 0,x,F),new C.PrincipalApi(void 0,x,F);var P=new C.GroupApi(void 0,x,F);function k(e){return S.apply(this,arguments)}function S(){return(S=T()(O.a.mark(function e(t){var a,n,i,o;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,P.listGroups(a,n);case 3:return i=e.sent,o=i.data,e.abrupt("return",Promise.all(o.map(function(){var e=T()(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getGroup(t.uuid);case 2:return a=e.sent,e.abrupt("return",r()({},t,{members:a.principals}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return r()({},i,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(e){return _.apply(this,arguments)}function _(){return(_=T()(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(e){return D.apply(this,arguments)}function D(){return(D=T()(O.a.mark(function e(t){var a,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.updateGroup(t.uuid,t);case 2:if(a=t.principals?t.principals.map(function(e){return e.username}):[],n=t.user_list.filter(function(e){return!a.includes(e.username)}),r=a.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(n.length>0)){e.next=8;break}return e.next=8,P.addPrincipalToGroup(t.uuid,{principals:n});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,P.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return U.apply(this,arguments)}function U(){return(U=T()(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.createGroup(t);case 2:if(a=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",P.addPrincipalToGroup(a.uuid,{principals:t.user_list}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e){return M.apply(this,arguments)}function M(){return(M=T()(O.a.mark(function e(t){return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:R.c,payload:k(e)}},K=function(e){return{type:R.b,payload:N(e)}},B=function(e){return{type:R.a,payload:I(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},z=function(e){return{type:R.f,payload:L(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},H=function(e){return{type:R.e,payload:V(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},J=a(165),W=a(87),Q=a(82),X=a(133),Y=a(134),Z=a(207),$=a(208),ee=function(e){var t=e.values?e.values:{name:"",description:""},a=t.name,n=t.description,r=e.selectedUsers?e.selectedUsers:[];return c.a.createElement(u.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(W.a,null,c.a.createElement(Q.a,{size:"xl"}," Review ")),c.a.createElement(W.a,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(W.a,null,c.a.createElement(X.a,null,c.a.createElement(Y.a,{className:"data-table-detail heading",component:Y.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),c.a.createElement(W.a,null,c.a.createElement(Z.a,{gutter:"md"},c.a.createElement($.a,{span:2},c.a.createElement(Y.a,{className:"data-table-detail heading",component:Y.b.h5},"Group name")),c.a.createElement($.a,{span:10},c.a.createElement(Y.a,{className:"data-table-detail content",component:Y.b.p},a))),c.a.createElement(Z.a,{gutter:"md"},c.a.createElement($.a,{span:2},c.a.createElement(Y.a,{className:"data-table-detail heading",component:Y.b.h5},"Description")),c.a.createElement($.a,{span:10},c.a.createElement(Y.a,{className:"data-table-detail content",component:Y.b.p},n))),c.a.createElement(Z.a,{gutter:"md"},c.a.createElement($.a,{span:2},c.a.createElement(Y.a,{className:"data-table-detail heading",component:Y.b.h5},"Members")),c.a.createElement($.a,{span:10},c.a.createElement(Y.a,{className:"groups-table-detail content",component:Y.b.h5},"".concat(r.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};ee.propTypes={name:p.a.string,description:p.a.string,groups:p.a.array};var te=ee,ae=a(199),ne=a(200),re=a(193),ie=a(196),oe=function(e,t){return c.a.createElement(u.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(W.a,null,c.a.createElement(Q.a,{size:"xl"}," Add group ")),c.a.createElement(W.a,null,c.a.createElement(ae.a,null,c.a.createElement(ne.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},c.a.createElement(re.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){return t({name:a.currentTarget.value})}})),c.a.createElement(ne.a,{label:"Description",fieldId:"group-description"},c.a.createElement(ie.a,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};oe.propTypes={name:p.a.string,description:p.a.string};var ue=oe,ce=a(47),le=a.n(ce),se=a(145),pe={DropdownIndicator:null},de=function(e,t,a,n,r,i){var l=Object(u.useState)(""),s=o()(l,2),p=s[0],d=s[1];return c.a.createElement(u.Fragment,null,c.a.createElement(J.a,{gutter:"md"},c.a.createElement(W.a,null,c.a.createElement(Q.a,{size:"xl"},"Select members for this group")),c.a.createElement(W.a,null,c.a.createElement(X.a,null,c.a.createElement(Y.a,{component:Y.b.h6},"Select Members for this group.")),c.a.createElement(se.a,{components:pe,inputValue:p,defaultValue:t,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){a(e)},onInputChange:function(e){d(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":t?t.find(function(e){return e.label===p})||a([].concat(le()(t),[i(p)])):a([i(p)]),d(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:t}))))};de.propTypes={name:p.a.string,description:p.a.string};var me=de,fe=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,i=e.addGroup,l=e.updateGroup,s=Object(u.useState)({}),p=o()(s,2),d=p[0],m=p[1],f=Object(u.useState)([]),g=o()(f,2),h=g[0],b=g[1],E=Object(u.useState)(0),y=o()(E,2),R=y[0],G=y[1],O=Object(u.useState)({}),w=o()(O,2),T=w[0],j=w[1],q=function(e){j(r()({},T,e))},C=function(e){var t=R;return G(R+1),{label:e,value:"".concat(e,"_").concat(t)}},x=function(e){m(e),e&&b(e.principals.map(function(e){return C(e.username)}))},F=[{name:"General Information",component:new ue(T,q)},{name:"Set Users",component:new me(x,h,b,R,G,C,q)},{name:"Review",component:new te({values:T,selectedUsers:h}),nextButtonText:"Confirm"}];Object(u.useEffect)(function(){K(a).payload.then(function(e){return x(e)}).catch(function(){return x(void 0)})},[]);return c.a.createElement(v.a,{isLarge:!0,title:d?"Edit group":"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:d?"Editing group":"Adding group",description:d?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},onSave:function(){var e=r()({},T,{user_list:h.map(function(e){return{username:e.label}})});a?l(e).then(function(){return A()}).then(t("/groups")):i(e).then(function(){return A()}).then(t("/groups"))},steps:F})};fe.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[]},fe.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,selectedGroup:p.a.object,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,updateGroup:p.a.func.isRequired};var ge=Object(d.k)(Object(l.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(E.a)({addNotification:y.addNotification,addGroup:B,updateGroup:z,fetchGroup:K,fetchGroups:A},e)})(fe)),he=a(53),be=a.n(he),Ee=a(25),ve=a.n(Ee),ye=a(51),Re=a.n(ye),Ge=a(178),Oe=a.n(Ge),we=a(179),Te=a(195),je=a(201),qe=function(e){var t=e.input,a=e.options,n=e.isReadOnly,r=e.isDisabled,i=(e.FieldProvider,e.isRequired),o=Re()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return c.a.createElement(Te.a,be()({},t,o,{isDisabled:r||n}),function(e,t,a){if(t&&a)return e;var n=le()(e);return n.find(function(e){return void 0===e.value})?le()(n):[{label:a?"Please choose":"None"}].concat(le()(n))}(a,t.value,i).map(function(e){return c.a.createElement(je.a,be()({key:e.value||e.label},e,{label:e.label.toString()}))}))};qe.propTypes={input:p.a.object.isRequired,options:p.a.arrayOf(p.a.shape({value:p.a.any,label:p.a.string.isRequired})).isRequired,isReadOnly:p.a.bool,isDisabled:p.a.bool,isRequired:p.a.bool,FieldProvider:p.a.any};var Ce=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,r=e.meta,i=e.description,o=e.hideLabel,u=Re()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),l=r.error,s=r.touched&&l;return c.a.createElement(ne.a,{isRequired:a,label:!o&&t,fieldId:u.id,isValid:!s,helperText:n,helperTextInvalid:r.error},i&&c.a.createElement(X.a,null,c.a.createElement(Y.a,{component:Y.b.small},i)),c.a.createElement(qe,be()({label:t,isValid:!s,isRequired:a},u)))};Ce.propTypes={componentType:p.a.string,label:p.a.string,isRequired:p.a.bool,helperText:p.a.string,meta:p.a.object,description:p.a.string,hideLabel:p.a.bool};var xe=Ce,Fe={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},Pe=function(e){var t=e.componentMapper,a=e.formContainer,n=Re()(e,["componentMapper","formContainer"]);return c.a.createElement("div",{className:Fe[a].buttonClassName},c.a.createElement(Oe.a,be()({formFieldsMapper:r()({},we.formFieldsMapper,ve()({componentMapper:t},Ge.componentTypes.SELECT,xe)),layoutMapper:we.layoutMapper},Fe[a],n)))};Pe.propTypes={componentMapper:p.a.object,formContainer:p.a.oneOf(["default","modal"])},Pe.defaultProps={componentMapper:{},formContainer:"default"};var ke=Pe,Se=a(202),Ne={DropdownIndicator:null},_e=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,i=e.addGroup,l=e.updateGroup,s=Object(u.useState)({}),p=o()(s,2),d=p[0],m=p[1],f=Object(u.useState)(""),g=o()(f,2),h=g[0],b=g[1],E=Object(u.useState)([]),v=o()(E,2),y=v[0],R=v[1],G=Object(u.useState)(0),O=o()(G,2),w=O[0],T=O[1],j=function(e){var t=w;return T(w+1),{label:e,value:"".concat(e,"_").concat(t)}},q=function(e){m(e),e&&R(e.principals.map(function(e){return j(e.username)}))};Object(u.useEffect)(function(){K(a).payload.then(function(e){return q(e)}).catch(function(){return q(void 0)})},[]);var C=function(){n({variant:"warning",title:d?"Editing group":"Adding group",description:d?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},x={type:"object",properties:{name:{title:d?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return c.a.createElement(Se.a,{isLarge:!0,title:d?"Edit group":"Add group",isOpen:!0,onClose:C},c.a.createElement(Z.a,{gutter:"md",style:{minWidth:"800px"}},c.a.createElement($.a,{sm:6},c.a.createElement(ke,{schema:x,schemaType:"mozilla",onSubmit:function(e){var n=r()({},e,{user_list:y.map(function(e){return{username:e.label}})});a?l(n).then(function(){return A()}).then(t("/groups")):i(n).then(function(){return A()}).then(t("/groups"))},onCancel:C,formContainer:"modal",initialValues:r()({},d)})),c.a.createElement($.a,{sm:6},c.a.createElement(X.a,null,c.a.createElement(Y.a,{component:Y.b.h6},"Select Members for this group.")),c.a.createElement(se.a,{components:Ne,inputValue:h,defaultValue:y,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){R(e)},onInputChange:function(e){b(e)},onKeyDown:function(e){if(h)switch(e.key){case"Enter":case"Tab":y?y.find(function(e){return e.label===h})||R([].concat(le()(y),[j(h)])):R([j(h)]),b(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:y}))))};_e.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[]},_e.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,selectedGroup:p.a.object,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,updateGroup:p.a.func.isRequired};var Le=Object(d.k)(Object(l.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(E.a)({addNotification:y.addNotification,addGroup:B,updateGroup:z,fetchGroup:K,fetchGroups:A},e)})(_e)),De=a(32),Ie=a(247),Ue=a(248),Ve=a(209),Me=a(210),Ae=a(211),Ke=a(213),Be=a(212),ze=a(96),He=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},Je=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},We=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.placeholder;return c.a.createElement(Ke.a,null,c.a.createElement(Be.a,null,c.a.createElement("div",{className:"pf-c-input-group"},c.a.createElement(re.a,{placeholder:n,value:t,type:"text",onChange:a,"aria-label":"Find product button"}),c.a.createElement(ze.a,{variant:"tertiary",id:"searchProductButton",onClick:function(){return a(t)}},c.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))))};We.propTypes={onFilterChange:p.a.func.isRequired,placeholder:p.a.string,searchValue:p.a.string},We.defaultProps={searchValue:""};var Qe=We,Xe=function(e){var t=e.onFilterChange,a=e.filterValue,n=Re()(e,["onFilterChange","filterValue"]);return c.a.createElement(Qe,be()({},n,{searchValue:a,onFilterChange:t,placeholder:"Find a Group"}))};Xe.propTypes={onFilterChange:p.a.func.isRequired,filterValue:p.a.string};var Ye=Xe,Ze=function(e){var t=e.setFilterValue,a=e.filterValue,n=e.pagination,r=e.handleOnPerPageSelect,i=e.handleSetPage;return c.a.createElement(Ue.TableToolbar,null,c.a.createElement(Ve.a,{style:{flex:1}},c.a.createElement(Me.a,null,c.a.createElement(Ae.a,null,c.a.createElement(Ke.a,null,c.a.createElement(Be.a,null,c.a.createElement(Ye,{onFilterChange:function(e){return t(e)},filterValue:a}))),c.a.createElement(Ke.a,null,c.a.createElement(Be.a,null),c.a.createElement(Be.a,null,c.a.createElement(De.Link,{to:"/groups/add-group"},c.a.createElement(ze.a,{variant:"primary","aria-label":"Create Group"},"Create Group")))))),c.a.createElement(Me.a,null,c.a.createElement(Ie.Pagination,{itemsPerPage:n.limit,numberOfItems:n.count,onPerPageSelect:r,page:He(n.limit,n.offset),onSetPage:i,direction:"down"}))))};Ze.propTypes={setFilterValue:p.a.func.isRequired,filterValue:p.a.string.isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,count:p.a.number.isRequired}).isRequired,handleOnPerPageSelect:p.a.func.isRequired,handleSetPage:p.a.func.isRequired};var $e=Ze,et=a(107),tt=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.removeGroup,i=e.fetchGroup,o=e.fetchGroups,l=e.groupId,s=e.group;if(Object(u.useEffect)(function(){l&&i(l)},[]),!s)return null;var p=function(){return a()};return c.a.createElement(Se.a,{isOpen:!0,isSmall:!0,title:"",onClose:p,actions:[c.a.createElement(ze.a,{key:"cancel",variant:"secondary",type:"button",onClick:p},"Cancel"),c.a.createElement(ze.a,{key:"submit",variant:"primary",type:"button",onClick:function(){return r(l).then(function(){o(),n("/groups")})}},"Confirm")]},c.a.createElement(et.a,null,c.a.createElement(X.a,null,c.a.createElement(Y.a,{component:Y.b.h1},"Removing Group:  ",s.name))))};tt.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}).isRequired,removeGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,groupId:p.a.string,group:p.a.object};var at=Object(d.k)(Object(l.connect)(function(e,t){var a=e.groupReducer,n=a.selectedGroup,r=a.isLoading;return{groupId:t.match.params.id,group:n,isLoading:r}},function(e){return Object(E.a)({addNotification:y.addNotification,fetchGroup:K,fetchGroups:A,removeGroup:H},e)})(tt)),nt=function(e){var t=e.description,a=e.members;return c.a.createElement(u.Fragment,null,c.a.createElement(X.a,null,c.a.createElement(Y.a,{className:"groups-table-detail heading",component:Y.b.small},"Description"),c.a.createElement(Y.a,{className:"groups-table-detail content",component:Y.b.h5},t)),c.a.createElement(X.a,null,c.a.createElement(Y.a,{className:"groups-table-detail heading",component:Y.b.small},"members"),c.a.createElement(Y.a,{className:"groups-table-detail content",component:Y.b.h5},"".concat(a.map(function(e,t){var a=e.first_name,n=e.last_name;return"".concat(0!==t?" ":"").concat(a," ").concat(n)})))))};nt.propTypes={description:p.a.string.isRequired,members:p.a.arrayOf(p.a.shape({first_name:p.a.string.isRequired,last_name:p.a.string.isRequired})).isRequired};var rt=nt,it=function(e){return e.reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.members;return[].concat(le()(e),[{uuid:n,isOpen:!1,cells:[r,i,o.length]},{parent:2*a,cells:[{title:c.a.createElement(rt,{description:i,members:o})}]}])},[])},ot=[{title:"Name",cellFormatters:[f.b]},"Description","Members"],ut=function(e){var t=e.fetchGroups,a=e.pagination,n=e.history.push,i=Object(u.useState)(""),l=o()(i,2),s=l[0],p=l[1],f=Object(u.useState)([]),E=o()(f,2),v=E[0],y=E[1];Object(u.useEffect)(function(){t().then(function(e){var t=e.value.data;return y(it(t))}),document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},[]);return c.a.createElement(u.Fragment,null,c.a.createElement(d.d,{exact:!0,path:"/groups/add-group",component:ge}),c.a.createElement(d.d,{exact:!0,path:"/groups/edit/:id",component:Le}),c.a.createElement(d.d,{exact:!0,path:"/groups/remove/:id",component:at}),c.a.createElement($e,{filterValue:s,setFilterValue:p,pagination:a,handleOnPerPageSelect:function(e){return t({offset:a.offset,limit:e}).then(function(e){var t=e.value.data;return y(it(t))})},handleSetPage:function(e,n){var r={offset:Je(e,a.limit),limit:a.limit},i=function(){return t(r)};return n?Object(m.a)(i,250)():i().then(function(e){var t=e.value.data;return y(it(t))})}}),c.a.createElement(g.b,{"aria-label":"Groups table",onCollapse:function(e,t,a,n){var i=n.uuid;return y(function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,i)})},rows:v,cells:ot,onSelect:function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).uuid;return y(-1===a?v.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{selected:!e.selected}):r()({},e)})}(e,n)})},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return n("/groups/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return n("/groups/remove/".concat(a.uuid))}}]}},c.a.createElement(h.a,null),c.a.createElement(b.a,null)))};ut.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}),groups:p.a.array,platforms:p.a.array,isLoading:p.a.bool,searchFilter:p.a.string,fetchGroups:p.a.func.isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number.isRequired})},ut.defaultProps={groups:[],pagination:{}};t.default=Object(l.connect)(function(e){var t=e.groupReducer,a=t.groups,n=t.filterValue,r=t.isLoading;return{groups:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return{fetchGroups:function(t){return e(A(t))}}})(ut)},390:function(e,t,a){"use strict";a.r(t);var n,r,i=a(2),o=a.n(i),u=a(15),c=a.n(u),l=a(32),s=a(36),p=a(254),d=a(148),m=a.n(d),f=a(50),g=a(241),h=a.n(g),b=a(242),E=a(25),v=a.n(E),y=a(22),R=a.n(y),G=a(38),O=(n={},v()(n,"".concat(G.FETCH_USER,"_PENDING"),function(e){return R()({},e,{isUserDataLoading:!0})}),v()(n,"".concat(G.FETCH_USER,"_FULFILLED"),function(e,t){var a=t.payload;return R()({},e,{selectedUser:a,isUserDataLoading:!1})}),n),w=function(e){return R()({},e,{isLoading:!0})},T=(r={},v()(r,"".concat(G.c,"_PENDING"),w),v()(r,"".concat(G.c,"_FULFILLED"),function(e,t){var a=t.payload;return R()({},e,{groups:a,isLoading:!1})}),v()(r,"".concat(G.b,"_PENDING"),w),v()(r,"".concat(G.b,"_FULFILLED"),function(e,t){var a=t.payload;return R()({},e,{selectedGroup:a,isLoading:!1})}),r),j=new m.a({},[b.a,Object(p.a)(),Object(f.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),h.a]);j.register({userReducer:Object(d.applyReducerHash)(O,{selectedUser:{},isUserDataLoading:!1}),groupReducer:Object(d.applyReducerHash)(T,{groups:{data:[],meta:{count:0,limit:10,offset:0}},group:{},isLoading:!1}),notifications:f.notifications});var q=j.getStore(),C=a(135),x=a.n(C),F=a(136),P=a.n(F),k=a(137),S=a.n(k),N=a(138),_=a.n(N),L=a(67),D=a.n(L),I=a(139),U=a.n(I),V=a(1),M=a.n(V),A=a(81),K=a(51),B=a.n(K),z=a(177),H=a.n(z),J=a(53),W=a.n(J),Q=a(47),X=a.n(Q),Y=a(176),Z=a(207),$=a(208),ee=a(190),te=a(191),ae=function(e){var t=e.items,a=B()(e,["items"]);return o.a.createElement(Z.a,{gutter:"md"},o.a.createElement($.a,{sm:12,style:{padding:24}},o.a.createElement(Z.a,{gutter:"md"},X()(Array(t)).map(function(e,t){return o.a.createElement($.a,{sm:12,md:6,lg:3,key:t},o.a.createElement(ee.a,null,o.a.createElement(te.a,null,o.a.createElement(Y.a,W()({height:160,width:300,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},a),o.a.createElement("rect",{x:"2",y:"99",rx:"3",ry:"3",width:"300",height:"6.4"})))))}))))};ae.propTypes={items:M.a.number},ae.defaultProps={items:1};var ne=function(e){return o.a.createElement("div",null,o.a.createElement(Y.a,W()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),o.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),o.a.createElement(ae,null))},re=Object(i.lazy)(function(){return Promise.resolve().then(function(){return H()(a(389))})}),ie=Object(i.lazy)(function(){return Promise.resolve().then(function(){return H()(a(388))})}),oe="/groups",ue="/group/:id",ce=function(e){var t=e.rootClass,a=B()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),o.a.createElement(A.d,a)};ce.propTypes={rootClass:M.a.string};var le=function(){return o.a.createElement(i.Suspense,{fallback:o.a.createElement(ne,null)},o.a.createElement(A.g,null,o.a.createElement(ce,{path:oe,component:re,rootClass:"groups"}),o.a.createElement(ce,{path:ue,component:ie,rootClass:"group"}),o.a.createElement(A.d,{render:function(){return o.a.createElement(A.c,{to:oe})}})))};le.propTypes={childProps:M.a.object};a(332);var se=a(153),pe=a(115),de=[{eventKey:0,title:"Groups",name:"/groups"}],me=function(e){var t=e.history.push,a=e.location.pathname,n=de.find(function(e){var t=e.name;return a.includes(t)});return o.a.createElement(se.b,{className:"pf-u-mt-md",activeKey:n?n.eventKey:0,onSelect:function(e,a){return t(de[a].name)}},de.map(function(e){return o.a.createElement(pe.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};me.propTypes={location:M.a.shape({pathname:M.a.string.isRequired}),history:M.a.shape({push:M.a.func.isRequired})};var fe=Object(A.k)(me),ge=a(175),he=a(82),be=(a(333),function(e){function t(){var e,a;x()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=S()(this,(e=_()(t)).call.apply(e,[this].concat(r))),v()(D()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return U()(t,e),P()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.NotificationsPortal,null),o.a.createElement(ge.PageHeader,{style:{paddingBottom:0}},o.a.createElement(he.a,{size:"3xl"},"Role Based Access Control"),o.a.createElement(fe,null)),o.a.createElement(ge.Main,null,o.a.createElement(le,{childProps:this.props}))):o.a.createElement(ne,null)}}]),t}(i.Component));be.propTypes={history:M.a.object};var Ee=Object(A.k)(Object(s.connect)()(be)),ve=window.location.pathname.split("/");ve.shift();var ye="/";"beta"===ve[0]&&(ye="/".concat(ve.shift(),"/")),c.a.render(o.a.createElement(s.Provider,{store:q},o.a.createElement(l.BrowserRouter,{basename:"".concat(ye).concat(ve[0],"/").concat(ve[1],"/").concat(ve[2])},o.a.createElement(Ee,null))),document.getElementById("root"))}});
//# sourceMappingURL=../sourcemaps/App.js.map