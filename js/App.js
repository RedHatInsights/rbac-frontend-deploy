!function(e){function t(t){for(var n,o,c=t[0],u=t[1],l=t[2],p=0,d=[];p<c.length;p++)o=c[p],r[o]&&d.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var u=a[c];0!==r[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/beta/apps/rbac/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;i.push([559,1]),a()}({100:function(e,t,a){"use strict";var n=a(10),r=a.n(n),i=a(11),o=a.n(i),c=a(2),u=a.n(c),l=a(1),s=a.n(l),p=a(177),d=a(232),m=a(233),f=a(238),g=a(240),h=a(239),b=a(176),v=a(567),y=a(566),E=a(99),j=a(81),R=a(77),O=a(242),w=a(217),k=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.placeholder;return u.a.createElement(g.a,null,u.a.createElement(h.a,null,u.a.createElement("div",{className:"toolbar-filter-input-group"},u.a.createElement(w.a,{placeholder:n,value:t,type:"text",onChange:a,"aria-label":n}),u.a.createElement(O.a,null))))};k.propTypes={onFilterChange:s.a.func.isRequired,placeholder:s.a.string,searchValue:s.a.string},k.defaultProps={searchValue:""};var q=k,T=a(407),x=a(50);a.d(t,"a",function(){return N});var N=function(e){var t=e.request,a=e.isSelectable,n=e.createRows,i=e.columns,l=e.toolbarButtons,s=e.fetchData,R=e.data,O=e.actionResolver,w=e.areActionsDisabled,k=e.routes,N=e.titlePlural,C=e.titleSingular,S=e.pagination,L=e.setCheckedItems,F=e.filterValue,P=e.isLoading,D=e.setFilterValue,G=Object(c.useState)([]),_=o()(G,2),I=_[0],U=_[1];Object(c.useEffect)(function(){s(U,F,S)},[F,S.limit,S.offset]),Object(c.useEffect)(function(){U(n(R,F))},[R]),Object(c.useEffect)(function(){Object(j.c)()},[]);var M=function(e){return t({offset:S.offset,limit:e}).then(function(e){var t=e.value.data;return U(n(t,F))})},A=function(e,a){var r={offset:Object(j.b)(e,S.limit),limit:S.limit};return a?Object(p.a)(t,250)():t(r).then(function(e){var t=e.value.data;return U(n(t,F))})};return P?u.a.createElement(x.c,null):u.a.createElement(E.Section,{type:"content",id:"tab-".concat(N)},k(),u.a.createElement(T.TableToolbar,null,u.a.createElement(d.a,{style:{flex:1}},u.a.createElement(m.a,null,u.a.createElement(f.a,null,u.a.createElement(q,{onFilterChange:function(e){return D(e)},searchValue:F,placeholder:"Find a ".concat(C)}),l())),u.a.createElement(m.a,null,u.a.createElement(f.a,null,u.a.createElement(g.a,null,u.a.createElement(h.a,null,u.a.createElement(E.Pagination,{itemsPerPage:S.limit,numberOfItems:S.count,onPerPageSelect:M,page:Object(j.a)(S.limit,S.offset),onSetPage:A,direction:"down"}))))))),u.a.createElement(b.a,{"aria-label":"".concat(N," table"),onCollapse:function(e,t,a,n){var i=n.uuid;return U(function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,i)})},rows:I,cells:i,onSelect:a&&function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).uuid;return U(-1===a?I.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){var a=e.map(function(e){return e.uuid===t?r()({},e,{selected:!e.selected}):r()({},e)}),n=a.filter(function(e){return e.uuid&&e.selected});return L(n),a}(e,n)})},actionResolver:O,areActionsDisabled:w},u.a.createElement(v.a,null),u.a.createElement(y.a,null)))};N.propTypes={isSelectable:s.a.bool,createRows:s.a.func.isRequired,request:s.a.func.isRequired,columns:s.a.array.isRequired,toolbarButtons:s.a.func,fetchData:s.a.func.isRequired,data:s.a.array,pagination:s.a.shape({limit:s.a.number,offset:s.a.number,count:s.a.number}),titlePlural:s.a.string,titleSingular:s.a.string,routes:s.a.func,actionResolver:s.a.func,areActionsDisabled:s.a.func,setCheckedItems:s.a.func,filterValue:s.a.string,setFilterValue:s.a.func,isLoading:s.a.bool},N.defaultProps={requests:[],isLoading:!1,pagination:R.a,toolbarButtons:function(){return null},isSelectable:null,routes:function(){return null}}},102:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return f}),a.d(t,"d",function(){return g}),a.d(t,"e",function(){return b}),a.d(t,"c",function(){return y}),a.d(t,"f",function(){return j});var n=a(10),r=a.n(n),i=a(9),o=a.n(i),c=a(26),u=a.n(c),l=a(105),s=a(111),p=Object(l.d)();function d(e){return m.apply(this,arguments)}function m(){return(m=u()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var f=function(e){return Object(l.a)().get("".concat(s.a,"/roles/").concat(e.length>0?"?name=".concat(e):"")).then(function(e){return e.data.map(function(e){var t=e.uuid;return{label:e.name,value:t}})})};function g(e){return h.apply(this,arguments)}function h(){return(h=u()(o.a.mark(function e(t){var a,n,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,p.listRoles(a,n);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return(v=u()(o.a.mark(function e(t){var a,n,i,c,l,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,i=t.name,c=t.orderBy,e.next=3,p.listRoles(a,n,i,c);case 3:return l=e.sent,s=l.data,e.abrupt("return",Promise.all(s.map(function(){var e=u()(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getRole(t.uuid);case 2:return a=e.sent,e.abrupt("return",r()({},t,{policies:a.policyCount}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return r()({},l,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function y(e){return E.apply(this,arguments)}function E(){return(E=u()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(e){return R.apply(this,arguments)}function R(){return(R=u()(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}},105:function(e,t,a){"use strict";a.d(t,"b",function(){return g}),a.d(t,"d",function(){return h}),a.d(t,"c",function(){return b}),a.d(t,"a",function(){return v});var n=a(9),r=a.n(n),i=a(26),o=a.n(i),c=a(405),u=a.n(c),l=a(140),s=a(111),p=u.a.create();p.interceptors.request.use(function(){var e=o()(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.insights.chrome.auth.getUser();case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),p.interceptors.response.use(function(e){return e.data||e});new l.PrincipalApi(void 0,s.a,p);var d=new l.GroupApi(void 0,s.a,p),m=new l.RoleApi(void 0,s.a,p),f=new l.PolicyApi(void 0,s.a,p);function g(){return d}function h(){return m}function b(){return f}function v(){return p}},111:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n="".concat("/api","/rbac/v1")},125:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),o=a.n(i),c=a(94),u=a(194),l=a(135),s=function(e){var t=e.history.push,a=e.location.pathname,n=e.tabItems,i=n.find(function(e){var t=e.name;return a.includes(t)});return r.a.createElement(u.a,{className:"pf-u-mt-sm",activeKey:i?i.eventKey:0,onSelect:function(e,a){return t(n[a].name)}},n.map(function(e){return r.a.createElement(l.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};s.propTypes={location:o.a.shape({pathname:o.a.string.isRequired}),history:o.a.shape({push:o.a.func.isRequired}),tabItems:o.a.array.isRequired},t.a=Object(c.k)(s)},16:function(e,t,a){"use strict";a.d(t,"e",function(){return n}),a.d(t,"f",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"q",function(){return o}),a.d(t,"l",function(){return c}),a.d(t,"d",function(){return u}),a.d(t,"i",function(){return l}),a.d(t,"j",function(){return s}),a.d(t,"o",function(){return p}),a.d(t,"g",function(){return d}),a.d(t,"h",function(){return m}),a.d(t,"c",function(){return f}),a.d(t,"r",function(){return g}),a.d(t,"n",function(){return h}),a.d(t,"p",function(){return b}),a.d(t,"m",function(){return v}),a.d(t,"b",function(){return y});var n="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",c="REMOVE_GROUP",u="ADD_ROLE",l="FETCH_ROLE",s="FETCH_ROLES",p="REMOVE_ROLE",d="FETCH_GROUP_POLICIES",m="FETCH_POLICY",f="ADD_POLICY",g="UPDATE_POLICY",h="REMOVE_POLICY",b="RESET_SELECTED_GROUP",v="REMOVE_MEMBERS_FROM_GROUP",y="ADD_MEMBERS_TO_GROUP"},243:function(e,t,a){},50:function(e,t,a){"use strict";a.d(t,"c",function(){return E}),a.d(t,"a",function(){return j}),a.d(t,"d",function(){return R}),a.d(t,"b",function(){return O});var n=a(51),r=a.n(n),i=a(39),o=a.n(i),c=a(91),u=a.n(c),l=a(2),s=a.n(l),p=a(1),d=a.n(p),m=a(188),f=a(190),g=a(192),h=a(191),b=a(189),v=a(99),y=a(139),E=function(e){var t=e.items,a=u()(e,["items"]);return s.a.createElement(l.Fragment,null,s.a.createElement(v.Section,{type:"content"},s.a.createElement(m.a,{"aria-label":"datalist-placeholder"},o()(Array(t)).map(function(e,t){return s.a.createElement(f.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},s.a.createElement(g.a,{"aria-label":"datalist-item-placeholder-row"},s.a.createElement(h.a,{dataListCells:[s.a.createElement(b.a,{key:"1"},s.a.createElement(y.a,r()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))}))))};E.propTypes={items:d.a.number},E.defaultProps={items:5};var j=function(e){return s.a.createElement("div",null,s.a.createElement(y.a,r()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),s.a.createElement(E,null))},R=function(e){return s.a.createElement(y.a,r()({height:21,width:200,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},e),s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"200",height:"21"}))},O=function(){return s.a.createElement(y.a,{height:32,width:160,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},s.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"160",height:"32"}))}},550:function(e,t,a){},551:function(e,t,a){var n={"./af":258,"./af.js":258,"./ar":259,"./ar-dz":260,"./ar-dz.js":260,"./ar-kw":261,"./ar-kw.js":261,"./ar-ly":262,"./ar-ly.js":262,"./ar-ma":263,"./ar-ma.js":263,"./ar-sa":264,"./ar-sa.js":264,"./ar-tn":265,"./ar-tn.js":265,"./ar.js":259,"./az":266,"./az.js":266,"./be":267,"./be.js":267,"./bg":268,"./bg.js":268,"./bm":269,"./bm.js":269,"./bn":270,"./bn.js":270,"./bo":271,"./bo.js":271,"./br":272,"./br.js":272,"./bs":273,"./bs.js":273,"./ca":274,"./ca.js":274,"./cs":275,"./cs.js":275,"./cv":276,"./cv.js":276,"./cy":277,"./cy.js":277,"./da":278,"./da.js":278,"./de":279,"./de-at":280,"./de-at.js":280,"./de-ch":281,"./de-ch.js":281,"./de.js":279,"./dv":282,"./dv.js":282,"./el":283,"./el.js":283,"./en-SG":284,"./en-SG.js":284,"./en-au":285,"./en-au.js":285,"./en-ca":286,"./en-ca.js":286,"./en-gb":287,"./en-gb.js":287,"./en-ie":288,"./en-ie.js":288,"./en-il":289,"./en-il.js":289,"./en-nz":290,"./en-nz.js":290,"./eo":291,"./eo.js":291,"./es":292,"./es-do":293,"./es-do.js":293,"./es-us":294,"./es-us.js":294,"./es.js":292,"./et":295,"./et.js":295,"./eu":296,"./eu.js":296,"./fa":297,"./fa.js":297,"./fi":298,"./fi.js":298,"./fo":299,"./fo.js":299,"./fr":300,"./fr-ca":301,"./fr-ca.js":301,"./fr-ch":302,"./fr-ch.js":302,"./fr.js":300,"./fy":303,"./fy.js":303,"./ga":304,"./ga.js":304,"./gd":305,"./gd.js":305,"./gl":306,"./gl.js":306,"./gom-latn":307,"./gom-latn.js":307,"./gu":308,"./gu.js":308,"./he":309,"./he.js":309,"./hi":310,"./hi.js":310,"./hr":311,"./hr.js":311,"./hu":312,"./hu.js":312,"./hy-am":313,"./hy-am.js":313,"./id":314,"./id.js":314,"./is":315,"./is.js":315,"./it":316,"./it-ch":317,"./it-ch.js":317,"./it.js":316,"./ja":318,"./ja.js":318,"./jv":319,"./jv.js":319,"./ka":320,"./ka.js":320,"./kk":321,"./kk.js":321,"./km":322,"./km.js":322,"./kn":323,"./kn.js":323,"./ko":324,"./ko.js":324,"./ku":325,"./ku.js":325,"./ky":326,"./ky.js":326,"./lb":327,"./lb.js":327,"./lo":328,"./lo.js":328,"./lt":329,"./lt.js":329,"./lv":330,"./lv.js":330,"./me":331,"./me.js":331,"./mi":332,"./mi.js":332,"./mk":333,"./mk.js":333,"./ml":334,"./ml.js":334,"./mn":335,"./mn.js":335,"./mr":336,"./mr.js":336,"./ms":337,"./ms-my":338,"./ms-my.js":338,"./ms.js":337,"./mt":339,"./mt.js":339,"./my":340,"./my.js":340,"./nb":341,"./nb.js":341,"./ne":342,"./ne.js":342,"./nl":343,"./nl-be":344,"./nl-be.js":344,"./nl.js":343,"./nn":345,"./nn.js":345,"./pa-in":346,"./pa-in.js":346,"./pl":347,"./pl.js":347,"./pt":348,"./pt-br":349,"./pt-br.js":349,"./pt.js":348,"./ro":350,"./ro.js":350,"./ru":351,"./ru.js":351,"./sd":352,"./sd.js":352,"./se":353,"./se.js":353,"./si":354,"./si.js":354,"./sk":355,"./sk.js":355,"./sl":356,"./sl.js":356,"./sq":357,"./sq.js":357,"./sr":358,"./sr-cyrl":359,"./sr-cyrl.js":359,"./sr.js":358,"./ss":360,"./ss.js":360,"./sv":361,"./sv.js":361,"./sw":362,"./sw.js":362,"./ta":363,"./ta.js":363,"./te":364,"./te.js":364,"./tet":365,"./tet.js":365,"./tg":366,"./tg.js":366,"./th":367,"./th.js":367,"./tl-ph":368,"./tl-ph.js":368,"./tlh":369,"./tlh.js":369,"./tr":370,"./tr.js":370,"./tzl":371,"./tzl.js":371,"./tzm":372,"./tzm-latn":373,"./tzm-latn.js":373,"./tzm.js":372,"./ug-cn":374,"./ug-cn.js":374,"./uk":375,"./uk.js":375,"./ur":376,"./ur.js":376,"./uz":377,"./uz-latn":378,"./uz-latn.js":378,"./uz.js":377,"./vi":379,"./vi.js":379,"./x-pseudo":380,"./x-pseudo.js":380,"./yo":381,"./yo.js":381,"./zh-cn":382,"./zh-cn.js":382,"./zh-hk":383,"./zh-hk.js":383,"./zh-tw":384,"./zh-tw.js":384};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=551},557:function(e,t,a){"use strict";a.r(t);var n=a(51),r=a.n(n),i=a(11),o=a.n(i),c=a(2),u=a.n(c),l=a(27),s=a(36),p=a(1),d=a.n(p),m=a(94),f=a(33),g=a(145),h=a(240),b=a(239),v=a(165),y=a(236),E=a(237),j=a(9),R=a.n(j),O=a(26),w=a.n(O),k=a(10),q=a.n(k),T=a(388),x=a(49),N=a(16),C=a(105),S=Object(C.b)();function L(e){return F.apply(this,arguments)}function F(){return(F=w()(R.a.mark(function e(t){var a,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,S.listGroups(a,n);case 3:return r=e.sent,e.abrupt("return",r.data?Promise.all(r.data.map(function(){var e=w()(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getGroup(t.uuid);case 2:return a=e.sent,e.abrupt("return",q()({},t,{members:a.principals}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return q()({},r,{data:e})}):r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function P(e){return D.apply(this,arguments)}function D(){return(D=w()(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function G(e){return _.apply(this,arguments)}function _(){return(_=w()(R.a.mark(function e(t){var a,n,r;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.updateGroup(t.uuid,t);case 2:if(a=t.principals?t.principals.map(function(e){return e.username}):[],n=t.user_list.filter(function(e){return!a.includes(e.username)}),r=a.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(n.length>0)){e.next=8;break}return e.next=8,S.addPrincipalToGroup(t.uuid,{principals:n});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,S.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function I(e){return U.apply(this,arguments)}function U(){return(U=w()(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.createGroup(t);case 2:if(a=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",S.addPrincipalToGroup(a.uuid,{principals:t.user_list}));case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return A.apply(this,arguments)}function A(){return(A=w()(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(e,t){return B.apply(this,arguments)}function B(){return(B=w()(R.a.mark(function e(t,a){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.deletePrincipalFromGroup(t,a.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(e,t){return K.apply(this,arguments)}function K(){return(K=w()(R.a.mark(function e(t,a){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.addPrincipalToGroup(t,{principals:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:N.f,payload:L(e)}},J=function(e){return{type:N.e,payload:P(e)}},W=function(e){return{type:N.a,payload:I(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},Y=function(e){return{type:N.q,payload:G(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},Q=function(e){return{type:N.l,payload:M(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},X=function(e,t){return{type:N.b,payload:z(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",description:"The members were not added successfully."}}}}},Z=function(e,t){return{type:N.m,payload:V(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members to group",description:"The members were not removed successfully."}}}}},$=Object(C.c)();function ee(e){return te.apply(this,arguments)}function te(){return(te=w()(R.a.mark(function e(t){var a,n,r,i,o;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.group_uuid,n=t.limit,r=t.offset,e.next=3,$.listPolicies(n,r,void 0,void 0,a);case 3:return i=e.sent,o=i.data,e.next=7,Promise.all(o.map(function(){var e=w()(R.a.mark(function e(t){var a;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.getPolicy(t.uuid);case 2:return a=e.sent,e.abrupt("return",q()({},t,{roles:a.roles}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return q()({},i,{data:e})});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=w()(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.createPolicies(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function re(e){return ie.apply(this,arguments)}function ie(){return(ie=w()(R.a.mark(function e(t){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.deletePolicy(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:N.g,payload:ee(e)}},ce=function(e){return{type:N.c,payload:ae(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding policy",description:"The policy was added successfully."},rejected:{variant:"danger",title:"Failed adding policy",description:"The policy was not added successfully."}}}}},ue=function(e){return{type:N.n,payload:re(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing policy",description:"The policy was removed successfully."}}}}},le=a(57),se=a(137),pe=a(226),de=a(227),me=a(230),fe=a(231),ge=function(e){var t=e.values?e.values:{name:"",description:"",policyName:""},a=t.name,n=t.description,r=t.policyName,i=e.selectedUsers?e.selectedUsers:[],o=e.selectedRoles?e.selectedRoles:[];return u.a.createElement(c.Fragment,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"}," Review ")),u.a.createElement(E.a,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),u.a.createElement(E.a,null,u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Group name")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"data-table-detail content",component:de.b.p},a))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Description")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"data-table-detail content",component:de.b.p},n))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Members")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},"".concat(i.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Policy name")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"data-table-detail content",component:de.b.p},r))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Roles")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},"".concat(o.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};ge.propTypes={name:d.a.string,description:d.a.string,groups:d.a.array};var he=ge,be=a(222),ve=a(223),ye=a(217),Ee=a(219),je=function(e,t){return u.a.createElement(c.Fragment,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"}," Enter group information ")),u.a.createElement(E.a,null,u.a.createElement(be.a,null,u.a.createElement(ve.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},u.a.createElement(ye.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){return t({name:a.currentTarget.value})}})),u.a.createElement(ve.a,{label:"Description",fieldId:"group-description"},u.a.createElement(Ee.a,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};je.propTypes={name:d.a.string,description:d.a.string};var Re=je,Oe=a(39),we=a.n(Oe),ke=a(124),qe={DropdownIndicator:null},Te=function(e,t,a,n,r,i){var l=Object(c.useState)(""),s=o()(l,2),p=s[0],d=s[1];return u.a.createElement(c.Fragment,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"},"Select members for this group")),u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h6},"Select Members for this group.")),u.a.createElement(ke.a,{components:qe,inputValue:p,defaultValue:t,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){a(e)},onInputChange:function(e){d(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":t?t.find(function(e){return e.label===p})||a([].concat(we()(t),[i(p)])):a([i(p)]),d(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:t}))))};Te.propTypes={name:d.a.string,description:d.a.string};var xe=Te,Ne=function(e,t,a){return u.a.createElement(c.Fragment,null,u.a.createElement(be.a,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"},e)),u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h6},"Policies are the permissions set for this group. Groups can have one or more policies. Policies are created for a group, they cannot be shared. You can only create one policy at this time. It is possible to create more for this group at a later time.",u.a.createElement("br",null),"All fields are optional."))),u.a.createElement(E.a,null,u.a.createElement(ve.a,{label:"Name",fieldId:"policy-name"},u.a.createElement(ye.a,{isRequired:!0,type:"text",id:"policy-name",name:"policy-name","aria-describedby":"policy-name",value:t.policyName,onChange:function(e,t){return a({policyName:t.currentTarget.value})}}))),u.a.createElement(E.a,null,u.a.createElement(ve.a,{label:"Description",fieldId:"policy-description"},u.a.createElement(Ee.a,{type:"text",id:"policy-description",name:"policy-description",value:t.policyDescription,onChange:function(e,t){return a({policyDescription:t.currentTarget.value})}}))))))};Ne.propTypes={formData:d.a.object,title:d.a.string},Ne.defaultProps={title:"Create policy"};var Ce=Ne,Se=a(404),Le=a(177),Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return Object(Le.a)(e,t,a)},Pe=a(102),De=function(e,t,a,n){var r=Object(c.useState)([]),i=o()(r,2),l=i[0],s=i[1],p=n.map(function(e){return{value:e.uuid,label:e.name,id:e.uuid}});return u.a.createElement(c.Fragment,null,u.a.createElement(be.a,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"},"Add roles to policy")),u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h6},"Select at least one role to add to policy."))),u.a.createElement(E.a,null,u.a.createElement(ve.a,{label:"Select roles",fieldId:"select-role"},u.a.createElement(Se.a,{options:p,isClearable:!0,isMulti:!0,placeholders:"Select Roles",onChange:function(e){a(e)},closeMenuOnSelect:!1,inpuValue:l,loadOptions:Fe(function(e){return Object(Pe.b)(e)}),defaultOptions:p,onInputChange:function(e){var t=e.replace(/\W/g,"");s(t)}}))))))};De.propTypes={formData:d.a.object};var Ge=De,_e=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,r=e.addGroup,i=e.postMethod,l=e.closeUrl,s=Object(c.useState)([]),p=o()(s,2),d=p[0],m=p[1],f=Object(c.useState)([]),g=o()(f,2),h=g[0],b=g[1],v=Object(c.useState)([]),y=o()(v,2),E=y[0],j=y[1],O=Object(c.useState)(0),k=o()(O,2),x=k[0],N=k[1],C=Object(c.useState)({}),S=o()(C,2),L=S[0],F=S[1],P=function(e){F(q()({},L,e))},D=function(e){var t=x;return N(x+1),{label:e,value:"".concat(e,"_").concat(t)}},G=function(e){e&&e.principals&&m(e.principals.map(function(e){return D(e.username)}))},_=[{name:"General Information",component:new Re(L,P)},{name:"Set Users",component:new xe(G,d,m,x,N,D,P)},{name:"Create policy",steps:[{name:"Name and description",component:new Ce("Create policy (optional)",L,P)},{name:"Add roles",component:new Ge(L,E,j,h)}]},{name:"Review",component:new he({values:L,selectedUsers:d,selectedRoles:E}),nextButtonText:"Confirm"}];Object(c.useEffect)(function(){J(a).payload.then(function(e){return G(e)}).catch(function(){return G(void 0)}),Object(le.c)().payload.then(function(e){return b(e)})},[]);var I=function(){var e=w()(R.a.mark(function e(){var a,n,o;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=q()({},L,{user_list:d?d.map(function(e){return{username:e.label}}):void 0}),e.next=3,r(a);case 3:if(n=e.sent,!(E&&E.length>0)){e.next=9;break}return o={name:L.policyName,description:L.policyDescription,group:n.value.uuid,roles:E.map(function(e){return e.value})},e.abrupt("return",i?ce(o).payload.then(function(){return i()}).then(function(){return t(l)}):ce(o).payload.then(function(){return t(l)}));case 9:i&&i(),t(l);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(T.a,{isLarge:!0,title:"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:"Adding group",description:"Adding group was cancelled by the user."}),t("/groups")},onSave:I,steps:_})};_e.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups"},_e.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addGroup:d.a.func.isRequired,addNotification:d.a.func.isRequired,fetchGroup:d.a.func.isRequired,inputValue:d.a.string,users:d.a.array,selectedUsers:d.a.array,match:d.a.object,postMethod:d.a.func,closeUrl:d.a.string};var Ie=Object(m.k)(Object(l.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(s.a)({addNotification:x.addNotification,addGroup:W,fetchGroup:J,fetchRoles:le.c},e)})(_e)),Ue=a(37),Me=a.n(Ue),Ae=a(91),Ve=a.n(Ae),Be=a(205),ze=a.n(Be),Ke=a(206),He=a(218),Je=a(224),We=function(e){var t=e.input,a=e.options,n=e.isReadOnly,i=e.isDisabled,o=(e.FieldProvider,e.isRequired),c=Ve()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return u.a.createElement(He.a,r()({},t,c,{isDisabled:i||n}),function(e,t,a){if(t&&a)return e;var n=we()(e);return n.find(function(e){return void 0===e.value})?we()(n):[{label:a?"Please choose":"None"}].concat(we()(n))}(a,t.value,o).map(function(e){return u.a.createElement(Je.a,r()({key:e.value||e.label},e,{label:e.label.toString()}))}))};We.propTypes={input:d.a.object.isRequired,options:d.a.arrayOf(d.a.shape({value:d.a.any,label:d.a.string.isRequired})).isRequired,isReadOnly:d.a.bool,isDisabled:d.a.bool,isRequired:d.a.bool,FieldProvider:d.a.any};var Ye=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,i=e.meta,o=e.description,c=e.hideLabel,l=Ve()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),s=i.error,p=i.touched&&s;return u.a.createElement(ve.a,{isRequired:a,label:!c&&t,fieldId:l.id,isValid:!p,helperText:n,helperTextInvalid:i.error},o&&u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.small},o)),u.a.createElement(We,r()({label:t,isValid:!p,isRequired:a},l)))};Ye.propTypes={componentType:d.a.string,label:d.a.string,isRequired:d.a.bool,helperText:d.a.string,meta:d.a.object,description:d.a.string,hideLabel:d.a.bool};var Qe=Ye,Xe={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},Ze=function(e){var t=e.componentMapper,a=e.formContainer,n=Ve()(e,["componentMapper","formContainer"]);return u.a.createElement("div",{className:Xe[a].buttonClassName},u.a.createElement(ze.a,r()({formFieldsMapper:q()({},Ke.formFieldsMapper,Me()({componentMapper:t},Be.componentTypes.SELECT,Qe)),layoutMapper:Ke.layoutMapper},Xe[a],n)))};Ze.propTypes={componentMapper:d.a.object,formContainer:d.a.oneOf(["default","modal"])},Ze.defaultProps={componentMapper:{},formContainer:"default"};var $e=Ze,et=a(225),tt={DropdownIndicator:null},at=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,r=e.updateGroup,i=e.postMethod,l=e.closeUrl,s=Object(c.useState)({}),p=o()(s,2),d=p[0],m=p[1],f=Object(c.useState)(""),g=o()(f,2),h=g[0],b=g[1],v=Object(c.useState)([]),y=o()(v,2),E=y[0],j=y[1],R=Object(c.useState)(0),O=o()(R,2),w=O[0],k=O[1],T=function(e){var t=w;return k(w+1),{label:e,value:"".concat(e,"_").concat(t)}},x=function(e){m(e),e&&j(e.principals.map(function(e){return T(e.username)}))};Object(c.useEffect)(function(){J(a).payload.then(function(e){return x(e)}).catch(function(){return x(void 0)})},[]);var N=function(){n({variant:"warning",title:d?"Editing group":"Adding group",description:d?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},C={type:"object",properties:{name:{title:d?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return u.a.createElement(et.a,{isLarge:!0,title:d?"Edit group":"Add group",isOpen:!0,onClose:N},u.a.createElement(me.a,{gutter:"md",style:{minWidth:"800px"}},u.a.createElement(fe.a,{sm:6},u.a.createElement($e,{schema:C,schemaType:"mozilla",onSubmit:function(e){var a=q()({},e,{user_list:E?E.map(function(e){return{username:e.label}}):[]});i?r(a).then(function(){return i()}).then(t(l)):r(a).then(function(){return t(l)})},onCancel:N,formContainer:"modal",initialValues:q()({},d)})),u.a.createElement(fe.a,{sm:6},u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h6},"Select Members for this group.")),u.a.createElement(ke.a,{components:tt,inputValue:h,defaultValue:E,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){j(e)},onInputChange:function(e){b(e)},onKeyDown:function(e){if(h)switch(e.key){case"Enter":case"Tab":E?E.find(function(e){return e.label===h})||j([].concat(we()(E),[T(h)])):j([T(h)]),b(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:E}))))};at.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],closeUrl:"/groups"},at.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addNotification:d.a.func.isRequired,fetchGroup:d.a.func.isRequired,selectedGroup:d.a.object,inputValue:d.a.string,users:d.a.array,selectedUsers:d.a.array,match:d.a.object,updateGroup:d.a.func.isRequired,postMethod:d.a.func,closeUrl:d.a.string};var nt=Object(m.k)(Object(l.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(s.a)({addNotification:x.addNotification,updateGroup:Y,fetchGroup:J},e)})(at)),rt=a(50),it=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.match.params.id,i=e.removeGroup,o=e.group,l=e.isLoading,s=e.fetchGroup,p=e.postMethod,d=e.closeUrl;Object(c.useEffect)(function(){s(r)},[]);var m=function(){return a()};return u.a.createElement(et.a,{isOpen:!0,isSmall:!0,title:"",onClose:m,actions:[u.a.createElement(v.a,{key:"cancel",variant:"secondary",type:"button",onClick:m},"Cancel"),u.a.createElement(v.a,{key:"submit",isDisabled:l,variant:"primary",type:"button",onClick:function(){return p?i(r).then(function(){return p()}).then(n(d)):i(r).then(function(){return n(d)})}},"Confirm")]},u.a.createElement(me.a,{gutter:"sm"},u.a.createElement(fe.a,{span:5},u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h1},"Removing Group:"))),u.a.createElement(fe.a,{span:6},u.a.createElement(pe.a,null,!l&&u.a.createElement(de.a,{component:de.b.h1},o.name)),l&&u.a.createElement(rt.b,null))))};it.defaultProps={group:{},isLoading:!0,closeUrl:"/groups"},it.propTypes={match:d.a.shape({params:d.a.shape({id:d.a.string}).isRequired}).isRequired,history:d.a.shape({goBack:d.a.func.isRequired,push:d.a.func.isRequired}).isRequired,removeGroup:d.a.func.isRequired,fetchGroup:d.a.func.isRequired,addNotification:d.a.func.isRequired,postMethod:d.a.func,isLoading:d.a.bool,group:d.a.object,closeUrl:d.a.string};var ot=Object(m.k)(Object(l.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isLoading:t.isRecordLoading}},function(e){return Object(s.a)({addNotification:x.addNotification,fetchGroup:J,removeGroup:Q},e)})(it)),ct=a(100),ut=function(e){var t=e.description,a=e.members;return u.a.createElement(c.Fragment,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"groups-table-detail heading",component:de.b.small},"Description"),u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},t||"")),u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"groups-table-detail heading",component:de.b.small},"members"),u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},"".concat(a.map(function(e,t){var a=e.first_name,n=e.last_name;return"".concat(0!==t?" ":"").concat(a," ").concat(n)})))))};ut.propTypes={description:d.a.string,members:d.a.arrayOf(d.a.shape({first_name:d.a.string,last_name:d.a.string})).isRequired};var lt=ut,st=a(81),pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.members,l=t.modified;return[].concat(we()(e),[{uuid:n,isOpen:!1,cells:[u.a.createElement(c.Fragment,{key:n},u.a.createElement(f.Link,{to:"/groups/detail/".concat(n)},u.a.createElement(v.a,{variant:"link"}," ",r," "))),i,o.length,"".concat(Object(st.d)(l))]},{parent:2*a,fullWidth:!0,cells:[{title:u.a.createElement(lt,{description:i,members:o})}]}])},[])},dt=a(125),mt=a(93),ft=function(e){var t=e.description,a=e.roles;return u.a.createElement(c.Fragment,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"groups-table-detail heading",component:de.b.small},"Description"),u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},t)),u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"groups-table-detail heading",component:de.b.small},"roles"),u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},"".concat(a.map(function(e,t){return"".concat(0!==t?", ":""," ").concat(e.description)})))))};ft.propTypes={description:d.a.string,roles:d.a.arrayOf(d.a.shape({name:d.a.string.isRequired,description:d.a.string})).isRequired};var gt=ft,ht=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.roles,c=t.modified;return[].concat(we()(e),[{uuid:n,isOpen:!1,cells:[r,i,o.length,"".concat(Object(st.d)(c))]},{parent:2*a,fullWidth:!0,cells:[{title:u.a.createElement(gt,{description:i,roles:o})}]}])},[])},bt=a(77),vt=function(e){var t=e.values?e.values:{policyName:"",policyDescription:""},a=t.policyName,n=t.policyDescription,r=e.selectedRoles?e.selectedRoles:[];return u.a.createElement(c.Fragment,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(se.a,{size:"xl"}," Review ")),u.a.createElement(E.a,null,u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),u.a.createElement(E.a,null,u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Name")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"data-table-detail content",component:de.b.p},a))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Description")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"data-table-detail content",component:de.b.p},n))),u.a.createElement(me.a,{gutter:"md"},u.a.createElement(fe.a,{span:2},u.a.createElement(de.a,{className:"data-table-detail heading",component:de.b.h5},"Roles")),u.a.createElement(fe.a,{span:10},u.a.createElement(de.a,{className:"groups-table-detail content",component:de.b.h5},"".concat(r.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};vt.propTypes={name:d.a.string,description:d.a.string,groups:d.a.array};var yt=vt,Et=function(e){var t=e.history.push,a=e.match.params.uuid,n=e.addNotification,r=e.createPolicy,i=e.postMethod,l=e.closeUrl,s=Object(c.useState)([]),p=o()(s,2),d=p[0],m=p[1],f=Object(c.useState)([]),g=o()(f,2),h=g[0],b=g[1],v=Object(c.useState)({}),y=o()(v,2),E=y[0],j=y[1],O=[{name:"Name and description",component:new Ce("Create policy",E,function(e){j(q()({},E,e))})},{name:"Add roles",component:new Ge(E,h,b,d)},{name:"Review",component:new yt({values:E,selectedRoles:h}),nextButtonText:"Confirm"}];Object(c.useEffect)(function(){Object(le.c)().payload.then(function(e){return m(e)})},[]);var k=function(){var e=w()(R.a.mark(function e(){var n;return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(h&&h.length>0)){e.next=3;break}return n={name:E.policyName,description:E.policyDescription,group:a,roles:h.map(function(e){return e.value})},e.abrupt("return",r(n).then(function(){return i()}).then(t(l)));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(T.a,{title:"Add policy",isOpen:!0,onClose:function(){n({variant:"warning",title:"Add policy",description:"Adding policy was cancelled by the user."}),t(l)},onSave:k,steps:O})};Et.defaultProps={roles:[],selectedRoles:[]},Et.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addNotification:d.a.func.isRequired,createPolicy:d.a.func.isRequired,postMethod:d.a.func,match:d.a.object,closeUrl:d.a.string};var jt=Object(m.k)(Object(l.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:n}},function(e){return Object(s.a)({addNotification:x.addNotification,createPolicy:ce,fetchRoles:le.c},e)})(Et)),Rt=a(220),Ot=a(25),wt=a(389),kt=a(212),qt=function(e){var t=e.itemAction,a=e.anyItemsSelected,n=e.itemsSelected,r=Object(c.useState)(!1),i=o()(r,2),l=i[0],s=i[1];return u.a.createElement(Rt.a,{onSelect:function(){return s(!1)},position:Ot.d.right,toggle:u.a.createElement(wt.a,{id:"remove-members-dropdown-toggle",onToggle:function(e){return s(e)}}),isOpen:l,isPlain:!0,dropdownItems:[u.a.createElement(kt.a,{id:"action-item",isDisabled:!a,onClick:function(){return t(n)},"aria-label":"Remove products from portfolio",key:"remove-products"},u.a.createElement("span",{style:{cursor:"pointer"},className:"pf-c-dropdown__menu-item ".concat(a?"danger-color":"disabled-color")},"Remove Policies"))]})};qt.propTypes={itemAction:d.a.func.isRequired,anyItemsSelected:d.a.bool.isRequired,itemsSelected:d.a.array.isRequired};var Tt=[{title:"Policy name",cellFormatters:[g.b]},"Policy Description","Roles","Last modified"],xt=function(e){var t=e.match.params.uuid,a=e.fetchGroupPolicies,n=e.pagination,i=Object(c.useState)(""),l=o()(i,2),s=l[0],p=l[1],d=Object(c.useState)([]),g=o()(d,2),y=g[0],E=g[1],j=Object(c.useState)([]),R=o()(j,2),O=R[0],w=R[1],k=function(){t&&a({group_uuid:t}).then(function(e){var t=e.value.data;return w(t)})},q=function(e){return E(e.map(function(e){return e.username}))},T=function(e){var t=e.map(function(e){return ue(e)});return Promise.all(t).then(function(){q([]),k()})};return u.a.createElement(c.Fragment,null,!t&&u.a.createElement(rt.c,null),t&&u.a.createElement(ct.a,{data:O,isSelectable:!0,createRows:ht,columns:Tt,fetchData:k,request:a,routes:function(){return u.a.createElement(c.Fragment,null,u.a.createElement(m.d,{path:"/groups/detail/:uuid/policies/add_policy",render:function(e){return u.a.createElement(jt,r()({fetchData:k,closeUrl:"/groups/detail/".concat(t,"/policies"),postMethod:k},e))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){T([a.uuid])}}]},titlePlural:"policies",titleSingular:"policy",pagination:n,filterValue:s,setFilterValue:p,setCheckedItems:q,toolbarButtons:function(){return u.a.createElement(h.a,null,u.a.createElement(b.a,null,u.a.createElement(f.Link,{to:"/groups/detail/".concat(t,"/policies/add_policy")},u.a.createElement(v.a,{variant:"primary","aria-label":"Add policy"},"Add policy"))),u.a.createElement(b.a,null,u.a.createElement(qt,{itemAction:T,anyItemsSelected:y.length>0,groupId:t,itemsSelected:y})))}}))};xt.propTypes={history:d.a.shape({push:d.a.func.isRequired}),location:d.a.shape({pathname:d.a.string}),policies:d.a.array,isLoading:d.a.bool,fetchGroupPolicies:d.a.func.isRequired,removePolicy:d.a.func.isRequired,uuid:d.a.string,match:d.a.shape({params:d.a.object.isRequired}).isRequired,pagination:d.a.shape({limit:d.a.number.isRequired,offset:d.a.number.isRequired,count:d.a.number})},xt.defaultProps={policies:[],pagination:bt.a};var Nt=Object(l.connect)(function(e){var t=e.policyReducer,a=t.policies,n=t.isLoading;return{policies:a.data,pagination:a.meta,isLoading:n}},function(e){return Object(s.a)({fetchGroupPolicies:oe,removePolicy:ue},e)})(xt),Ct=function(e){var t=e.username,a=e.email,n=e.first_name,r=e.last_name;return u.a.createElement(c.Fragment,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{className:"principals-table-detail heading",component:de.b.small},"Username"),u.a.createElement(de.a,{className:"principals-table-detail content",component:de.b.h5},t),u.a.createElement(de.a,{className:"principals-table-detail heading",component:de.b.small},"Email"),u.a.createElement(de.a,{className:"principals-table-detail content",component:de.b.h5},a),u.a.createElement(de.a,{className:"principals-table-detail heading",component:de.b.small},"Name"),u.a.createElement(de.a,{className:"principals-table-detail content",component:de.b.h5},"".concat(n," ").concat(r))))};Ct.propTypes={username:d.a.string,email:d.a.string,first_name:d.a.string,last_name:d.a.string};var St=Ct,Lt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.username.includes(t)}).reduce(function(e,t,a){var n=t.username,r=t.email,i=t.first_name,o=t.last_name;return[].concat(we()(e),[{uuid:n,username:n,isOpen:!1,cells:[n,r,i,o]},{parent:2*a,fullWidth:!0,cells:[{title:u.a.createElement(St,{username:n,email:r,first_name:i,last_name:o})}]}])},[])},Ft=a(221),Pt=a(234),Dt=a(235),Gt={DropdownIndicator:null},_t=function(e){var t=e.history.push,a=e.match.params.uuid,n=e.addNotification,r=e.fetchData,i=e.closeUrl,l=e.addMembersToGroup,s=Object(c.useState)(""),p=o()(s,2),d=p[0],m=p[1],f=Object(c.useState)([]),g=o()(f,2),h=g[0],b=g[1],j=Object(c.useState)(0),R=o()(j,2),O=R[0],w=R[1],k=function(e){var t=O;return w(O+1),{label:e,value:"".concat(e,"_").concat(t)}},q=function(){n({variant:"warning",title:"Adding members to group",description:"Adding members to group was cancelled by the user."}),t(i)};return u.a.createElement(et.a,{title:"Add group members",width:"40%",isOpen:!0,onClose:q},u.a.createElement(y.a,{gutter:"md"},u.a.createElement(E.a,null,u.a.createElement(pe.a,null,u.a.createElement(de.a,{component:de.b.h6},"Select Members for this group.")),u.a.createElement(ke.a,{components:Gt,inputValue:d,defaultValue:h,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){b(e)},onInputChange:function(e){m(e)},onKeyDown:function(e){if(d)switch(e.key){case"Enter":case"Tab":h?h.find(function(e){return e.label===d})||b([].concat(we()(h),[k(d)])):b([k(d)]),m(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:h})),u.a.createElement(E.a,null,u.a.createElement(Ft.a,null,u.a.createElement(Pt.a,{gutter:"md"},u.a.createElement(Dt.a,null,u.a.createElement(v.a,{"aria-label":"Save",variant:"primary",type:"submit",onClick:function(){var e=h.map(function(e){return{username:e.label}});return l(a,e).then(function(){r(),t(i)})}},"Save")),u.a.createElement(Dt.a,null,u.a.createElement(v.a,{"aria-label":"Cancel",variant:"secondary",type:"button",onClick:q},"Cancel")))))))};_t.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},_t.propTypes={history:d.a.shape({goBack:d.a.func.isRequired}).isRequired,addGroup:d.a.func.isRequired,addNotification:d.a.func.isRequired,fetchData:d.a.func.isRequired,fetchGroup:d.a.func.isRequired,inputValue:d.a.string,users:d.a.array,selectedUsers:d.a.array,match:d.a.object,closeUrl:d.a.string,addMembersToGroup:d.a.func.isRequired};var It=Object(m.k)(Object(l.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(s.a)({addNotification:x.addNotification,addGroup:W,addMembersToGroup:X,fetchGroup:J},e)})(_t)),Ut=function(e){var t=e.itemAction,a=e.anyItemsSelected,n=e.itemsSelected,r=Object(c.useState)(!1),i=o()(r,2),l=i[0],s=i[1];return u.a.createElement(Rt.a,{onSelect:function(){return s(!1)},position:Ot.d.right,toggle:u.a.createElement(wt.a,{id:"remove-members-dropdown-toggle",onToggle:function(e){return s(e)}}),isOpen:l,isPlain:!0,dropdownItems:[u.a.createElement(kt.a,{id:"action-item",isDisabled:!a,onClick:function(){return t(n)},"aria-label":"Remove products from portfolio",key:"remove-products"},u.a.createElement("span",{style:{cursor:"pointer"},className:"pf-c-dropdown__menu-item ".concat(a?"danger-color":"disabled-color")},"Remove members"))]})};Ut.propTypes={itemAction:d.a.func.isRequired,anyItemsSelected:d.a.bool.isRequired,itemsSelected:d.a.array.isRequired};var Mt=[{title:"Name",cellFormatters:[g.b]},"Email","First name","Last name"],At=function(e){var t=e.match.params.uuid,a=e.fetchGroup,n=e.removeMembersFromGroup,i=e.pagination,l=Object(c.useState)(""),s=o()(l,2),p=s[0],d=s[1],g=Object(c.useState)([]),y=o()(g,2),E=y[0],j=y[1],R=Object(c.useState)([]),O=o()(R,2),w=O[0],k=O[1],q=function(){t&&a(t).then(function(e){k(e.value.principals)})},T=function(e){return j(e.map(function(e){return e.username}))},x=function(e){return n(t,e).then(function(){T([]),q()})};return u.a.createElement(c.Fragment,null,!t&&u.a.createElement(rt.c,null),t&&u.a.createElement(ct.a,{data:w,isSelectable:!0,createRows:Lt,columns:Mt,fetchData:q,request:a,routes:function(){return u.a.createElement(c.Fragment,null,u.a.createElement(m.d,{path:"/groups/detail/:uuid/members/add_members",render:function(e){return u.a.createElement(It,r()({fetchData:q,closeUrl:"/groups/detail/".concat(t,"/principals")},e))}}))},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){x([a.username])}}]},titlePlural:"principals",titleSingular:"principal",pagination:i,filterValue:p,setFilterValue:d,setCheckedItems:T,toolbarButtons:function(){return u.a.createElement(h.a,null,u.a.createElement(b.a,null,u.a.createElement(f.Link,{to:"/groups/detail/".concat(t,"/members/add_members")},u.a.createElement(v.a,{variant:"primary","aria-label":"Add member"},"Add member"))),u.a.createElement(b.a,null,u.a.createElement(Ut,{itemAction:x,anyItemsSelected:E.length>0,groupId:t,itemsSelected:E})))}}))};At.propTypes={principals:d.a.array,isLoading:d.a.bool,fetchGroup:d.a.func.isRequired,removeMembersFromGroup:d.a.func.isRequired,uuid:d.a.string,match:d.a.shape({params:d.a.object.isRequired}).isRequired,pagination:d.a.shape({limit:d.a.number.isRequired,offset:d.a.number.isRequired,count:d.a.number})},At.defaultProps={principals:[],pagination:bt.a};var Vt=Object(l.connect)(function(e){var t=e.groupReducer,a=t.selectedGroup,n=t.isLoading;return{principals:a.principals,pagination:q()({},bt.a,{count:a.principals.length}),isLoading:n}},function(e){return Object(s.a)({fetchGroup:J,addMembersToGroup:X,removeMembersFromGroup:Z},e)})(At),Bt={isFetching:!0},zt=function(e,t){var a=t.type,n=t.payload;return{setIsFetching:q()({},e,{isFetching:n})}[a]},Kt=function(e){var t=[{eventKey:0,title:"Members",name:"/groups/detail/".concat(e.match.params.uuid,"/members")},{eventKey:1,title:"Policies",name:"/groups/detail/".concat(e.match.params.uuid,"/policies")}],a=Object(c.useReducer)(zt,Bt),n=o()(a,2),r=n[0].isFetching,i=n[1];return Object(c.useEffect)(function(){var t;t=e.match.params.uuid,i({type:"setIsFetching",payload:!0}),e.fetchGroup(t).then(function(){return i({type:"setIsFetching",payload:!1})}).catch(function(){return i({type:"setIsFetching",payload:!1})})},[]),u.a.createElement(c.Fragment,null,u.a.createElement(mt.a,{breadcrumbs:[{title:"User Access Management",to:"/groups"},{title:"Group",isActive:!0}]},u.a.createElement(mt.b,{title:!e.isFetching&&e.group?e.group.name:void 0,description:!e.isFetching&&e.group?e.group.description:void 0}),u.a.createElement(dt.a,{tabItems:t})),!r&&u.a.createElement(m.g,null,u.a.createElement(m.d,{path:"/groups/detail/:uuid/policies",component:Nt}),u.a.createElement(m.d,{path:"/groups/detail/:uuid/members",component:Vt}),u.a.createElement(m.d,{render:function(){return u.a.createElement(m.c,{to:"/groups/detail/".concat(e.match.params.uuid,"/members")})}})),!e.group&&u.a.createElement(rt.c,null))};Kt.propTypes={location:d.a.shape({pathname:d.a.string.isRequired}),history:d.a.shape({push:d.a.func.isRequired}),match:d.a.object,group:d.a.shape({uuid:d.a.string,name:d.a.string,description:d.a.string}),isFetching:d.a.bool,fetchGroup:d.a.func},Kt.defaultProps={isFetching:!1};var Ht=Object(l.connect)(function(e){var t=e.groupReducer;return{group:t.selectedGroup,isFetching:t.isLoading}},function(e){return Object(s.a)({fetchGroup:J},e)})(Kt),Jt=[{title:"Name",cellFormatters:[g.b]},"Description","Members","Last modified"],Wt=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],Yt=function(e){var t=e.fetchGroups,a=e.isLoading,n=e.pagination,i=e.history.push,l=Object(c.useState)(""),s=o()(l,2),p=s[0],d=s[1],g=Object(c.useState)([]),j=o()(g,2),R=j[0],O=j[1],w=function(){t(n).then(function(e){var t=e.value.data;return O(t)})},k=function(){return u.a.createElement(c.Fragment,null,u.a.createElement(m.d,{exact:!0,path:"/groups/add-group",render:function(e){return u.a.createElement(Ie,r()({},e,{postMethod:w}))}}),u.a.createElement(m.d,{exact:!0,path:"/groups/edit/:id",render:function(e){return u.a.createElement(nt,r()({},e,{postMethod:w}))}}),u.a.createElement(m.d,{exact:!0,path:"/groups/remove/:id",render:function(e){return u.a.createElement(ot,r()({},e,{postMethod:w}))}}))},q=function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){i("/groups/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return i("/groups/remove/".concat(a.uuid))}}]},T=function(){return u.a.createElement(h.a,null,u.a.createElement(b.a,null,u.a.createElement(f.Link,{to:"/groups/add-group"},u.a.createElement(v.a,{variant:"primary","aria-label":"Create group"},"Add group"))))};return u.a.createElement(m.g,null,u.a.createElement(m.d,{path:"/groups/detail/:uuid",render:function(e){return u.a.createElement(Ht,e)}}),u.a.createElement(m.d,{path:"/groups",render:function(){return u.a.createElement(y.a,null,u.a.createElement(E.a,null,u.a.createElement(mt.a,{paddingBottm:!1},u.a.createElement(mt.b,{title:"User access management"}),u.a.createElement(dt.a,{tabItems:Wt}))),u.a.createElement(E.a,null,u.a.createElement(ct.a,{data:R,createRows:pt,columns:Jt,fetchData:w,request:t,routes:k,actionResolver:q,titlePlural:"groups",titleSingular:"group",pagination:n,filterValue:p,setFilterValue:d,toolbarButtons:T,isLoading:a})))}}))};Yt.propTypes={history:d.a.shape({goBack:d.a.func.isRequired,push:d.a.func.isRequired}),groups:d.a.array,platforms:d.a.array,isLoading:d.a.bool,searchFilter:d.a.string,fetchGroups:d.a.func.isRequired,pagination:d.a.shape({limit:d.a.number.isRequired,offset:d.a.number.isRequired,count:d.a.number.isRequired})},Yt.defaultProps={groups:[],pagination:bt.a};t.default=Object(l.connect)(function(e){var t=e.groupReducer,a=t.groups,n=t.filterValue,r=t.isLoading;return{groups:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(s.a)({fetchGroups:H},e)})(Yt)},558:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a.n(n),i=a(2),o=a.n(i),c=a(27),u=a(94),l=a(33),s=a(240),p=a(239),d=a(165),m=a(236),f=a(237),g=a(1),h=a.n(g),b=a(125),v=a(39),y=a.n(v),E=a(81),j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return e.filter(function(e){return!t||e.name.includes(t)}).reduce(function(e,t){var a=t.uuid,n=t.name,r=t.description,i=t.policyCount,o=t.modified;return[].concat(y()(e),[{uuid:a,cells:[n,r,i,"".concat(Object(E.d)(o))]}])},[])},R=a(77),O=a(57),w=a(93),k=a(100),q=a(9),T=a.n(q),x=a(26),N=a.n(x),C=a(10),S=a.n(C),L=a(36),F=a(388),P=a(49),D=a(137),G=a(226),_=a(227),I=a(228),U=a(229),M=a(176),A=a(567),V=a(566),B=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.resourceDefinitions,r=(void 0===n?[]:n).map(function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:a?o.a.createElement(d.a,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}});return o.a.createElement(M.a,{"aria-label":"Resource definitions",cells:[{title:"Key"},{title:"Operation"},{title:"value"},""],rows:r,variant:M.c.compact},o.a.createElement(A.a,null),o.a.createElement(V.a,null))};B.propTypes={resourceDefinitions:h.a.arrayOf(h.a.shape({key:h.a.number.isRequired,operation:h.a.number.isRequired,value:h.a.number.isRequired}))};var z=B,K=function(e){var t=e.application,a=void 0===t?"":t,n=e.description,r=void 0===n?"":n,i=e.name,c=void 0===i?"":i,u=e.permission,l=void 0===u?"":u,s=e.resourceType,p=void 0===s?"":s;return o.a.createElement(m.a,{gutter:"md"},o.a.createElement(f.a,null,o.a.createElement(D.a,{size:"xl"},"Confirm details")),o.a.createElement(f.a,null,o.a.createElement(m.a,{gutter:"md"},o.a.createElement(f.a,null,o.a.createElement(G.a,null,o.a.createElement(_.a,{component:_.b.h5},"Confirm the details for your source, or click Back to revise"))),o.a.createElement(f.a,null,o.a.createElement(G.a,null,o.a.createElement(I.a,{component:I.b.dl},o.a.createElement(U.a,{component:U.b.dt},"Name"),o.a.createElement(U.a,{component:U.b.dd},c),o.a.createElement(U.a,{component:U.b.dt},"Description"),o.a.createElement(U.a,{component:U.b.dd},r),o.a.createElement(U.a,{component:U.b.dt},"Application"),o.a.createElement(U.a,{component:U.b.dd},a),o.a.createElement(U.a,{component:U.b.dt},"Resource type"),o.a.createElement(U.a,{component:U.b.dd},p),o.a.createElement(U.a,{component:U.b.dt},"Operation"),o.a.createElement(U.a,{component:U.b.dd},l),o.a.createElement(U.a,{component:U.b.dt},"Resource definition"),o.a.createElement(U.a,{component:U.b.dd},new z(e))))))))};K.propTypes={application:h.a.string,description:h.a.string,name:h.a.string,permission:h.a.string,resourceType:h.a.string};var H=K,J=a(222),W=a(223),Y=a(217),Q=function(e,t){var a=Object(i.useState)({key:"",operation:"",value:""}),n=r()(a,2),c=n[0],u=n[1],l=e.resourceDefinitions,s=void 0===l?[]:l,p=function(){for(var e=!1,t=0;t<s.length;t++){var a=s[t];if(a.key===c.key&&a.operation===c.operation&&a.value===c.value){e=!0;break}}return e},g=!p()&&c.key.trim().length>0&&c.operation.trim().length>0&&c.value.trim().length>0,h=function(e){u(S()({},c,e))};return o.a.createElement(m.a,{gutter:"md"},o.a.createElement(f.a,null,o.a.createElement(D.a,{size:"xl"},"Resource definitions")),o.a.createElement(f.a,null,o.a.createElement(G.a,null,o.a.createElement(_.a,{component:_.b.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),o.a.createElement(f.a,null,o.a.createElement(J.a,null,o.a.createElement(W.a,{label:"Key",fieldId:"resource-key"},o.a.createElement(Y.a,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return h({key:t.currentTarget.value})},type:"text",value:c.key})),o.a.createElement(W.a,{label:"Operation",fieldId:"resource-operation"},o.a.createElement(Y.a,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return h({operation:t.currentTarget.value})},type:"text",value:c.operation})),o.a.createElement(W.a,{label:"Value",fieldId:"resource-value"},o.a.createElement(Y.a,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return h({value:t.currentTarget.value})},type:"text",value:c.value})))),o.a.createElement(f.a,null,o.a.createElement(d.a,{variant:"primary",isDisabled:!g,onClick:function(){if(!p()){var e=[].concat(y()(s),[c]);t({resourceDefinitions:e})}}},"Add to definitions")),o.a.createElement(f.a,null,new z(e,function(e){for(var a=[],n=0;n<s.length;n++){var r=s[n];r.key===e.key&&r.operation===e.operation&&r.value===e.value||a.push(r)}t({resourceDefinitions:a})},!0)))};Q.propTypes={resourceDefinitions:h.a.arrayOf(h.a.shape({key:h.a.number.isRequired,operation:h.a.number.isRequired,value:h.a.number.isRequired}))};var X=Q,Z=a(219),$=function(e,t){var a=e.description,n=void 0===a?"":a,r=e.name,i=void 0===r?"":r;return o.a.createElement(m.a,{gutter:"md"},o.a.createElement(f.a,null,o.a.createElement(D.a,{size:"xl"},"Name and description")),o.a.createElement(f.a,null,o.a.createElement(J.a,null,o.a.createElement(W.a,{label:"Name",isRequired:!0,fieldId:"name"},o.a.createElement(Y.a,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,a){return t({name:a.currentTarget.value},a.currentTarget.value.trim().length>0)}})),o.a.createElement(W.a,{label:"Description",fieldId:"description"},o.a.createElement(Z.a,{type:"text",id:"description",name:"description",value:n,onChange:function(e,a){return t({description:a.currentTarget.value})}})))))};$.propTypes={name:h.a.string,description:h.a.string};var ee=$,te=function(e,t){var a=e.application,n=void 0===a?"":a,r=e.permission,i=void 0===r?"":r,c=e.resourceType,u=void 0===c?"":c,l=function(e){var a=function(e){return S()({application:n,permission:i,resourceType:u},e)}(e),r=a.application.trim().length>0&&a.permission.trim().length>0&&a.resourceType.trim().length>0;t(a,r)};return o.a.createElement(m.a,{gutter:"md"},o.a.createElement(f.a,null,o.a.createElement(D.a,{size:"xl"},"Permission")),o.a.createElement(f.a,null,o.a.createElement(G.a,null,o.a.createElement(_.a,{component:_.b.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),o.a.createElement(f.a,null,o.a.createElement(J.a,null,o.a.createElement(W.a,{label:"Application",isRequired:!0,fieldId:"application"},o.a.createElement(Y.a,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return l({application:t.currentTarget.value})},type:"text",value:n})),o.a.createElement(W.a,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},o.a.createElement(Y.a,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return l({resourceType:t.currentTarget.value})},type:"text",value:u})),o.a.createElement(W.a,{label:"Permission",isRequired:!0,fieldId:"permission"},o.a.createElement(Y.a,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return l({permission:t.currentTarget.value})},type:"text",value:i})))))};te.propTypes={application:h.a.string,permission:h.a.string,resourceType:h.a.string};var ae=te,ne=function(e){var t=e.addNotification,a=e.createRole,n=e.history.push,c=e.pagination,u=Object(i.useState)({}),l=r()(u,2),s=l[0],p=l[1],d=Object(i.useState)(!1),m=r()(d,2),f=m[0],g=m[1],h=Object(i.useState)(!1),b=r()(h,2),v=b[0],y=b[1],E=Object(i.useState)(1),j=r()(E,2),R=j[0],w=j[1],k=function(e){p(S()({},s,e))},q=[{id:1,name:"Name and Description",canJumpTo:R>=1,component:new ee(s,function(e,t){k(e),g(t)}),enableNext:f},{id:2,name:"Permission",canJumpTo:R>=2&&f,component:new ae(s,function(e,t){k(e),y(t)}),enableNext:v},{id:3,name:"Resource definitions",canJumpTo:R>=3&&f&&v,component:new X(s,k)},{id:4,name:"Review",canJumpTo:R>=4&&f&&v,component:new H(s),nextButtonText:"Confirm"}],x=function(){var e=N()(T.a.mark(function e(){var t,r;return T.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[s.application],description:s.description,name:s.name,access:[{permission:"".concat(s.application,":").concat(s.resourceType,":").concat(s.permission),resourceDefinitions:s.resourceDefinitions.map(function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}})}]},e.next=3,a(t);case 3:return r=e.sent,Object(O.c)(c).then(n("/roles")),e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return o.a.createElement(F.a,{isLarge:!0,title:"Add role",isOpen:!0,onClose:function(){t({variant:"warning",title:"Adding role",description:"Adding role was cancelled by the user."}),n("/roles")},onNext:function(e){var t=e.id;w(R<t?t:R)},onSave:x,steps:q})};ne.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},ne.propTypes={history:h.a.shape({goBack:h.a.func.isRequired,push:h.a.func.isRequired}).isRequired,addNotification:h.a.func.isRequired,createRole:h.a.func.isRequired,fetchRoles:h.a.func.isRequired,inputValue:h.a.string,pagination:h.a.shape({limit:h.a.number.isRequired,offset:h.a.number.isRequired,count:h.a.number.isRequired})};var re=Object(u.k)(Object(c.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(L.a)({addNotification:P.addNotification,createRole:O.a,fetchRoles:O.c},e)})(ne)),ie=a(225),oe=a(230),ce=a(231),ue=a(50),le=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.match.params.id,c=e.removeRole,u=e.role,l=e.isLoading,s=e.fetchRole,p=e.fetchRoles;Object(i.useEffect)(function(){s(r)},[]);var m=function(){return a()};return o.a.createElement(ie.a,{isOpen:!0,isSmall:!0,title:"",onClose:m,actions:[o.a.createElement(d.a,{key:"cancel",variant:"secondary",type:"button",onClick:m},"Cancel"),o.a.createElement(d.a,{key:"submit",isDisabled:l,variant:"primary",type:"button",onClick:function(){return c(r).then(function(){p(),n("/roles")})}},"Confirm")]},o.a.createElement(oe.a,{gutter:"sm"},o.a.createElement(ce.a,{span:5},o.a.createElement(G.a,null,o.a.createElement(_.a,{component:_.b.h1},"Removing Role:"))),o.a.createElement(ce.a,{span:6},o.a.createElement(G.a,null,!l&&o.a.createElement(_.a,{component:_.b.h1},u.name)),l&&o.a.createElement(ue.b,null))))};le.defaultProps={role:{},isLoading:!0},le.propTypes={addNotification:h.a.func.isRequired,fetchRole:h.a.func.isRequired,fetchRoles:h.a.func.isRequired,isLoading:h.a.bool,history:h.a.shape({goBack:h.a.func.isRequired,push:h.a.func.isRequired}).isRequired,match:h.a.shape({params:h.a.shape({id:h.a.string}).isRequired}).isRequired,removeRole:h.a.func.isRequired,role:h.a.object};var se=Object(u.k)(Object(c.connect)(function(e){var t=e.roleReducer,a=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:a.meta}},function(e){return Object(L.a)({addNotification:P.addNotification,fetchRole:O.b,fetchRoles:O.c,removeRole:O.e},e)})(le)),pe=[{title:"Role",orderBy:"name"},{title:"Description"},{title:"Policies"},{title:"Last Modified",orderBy:"modified"}],de=[{eventKey:0,title:"Groups",name:"/groups"},{eventKey:1,title:"Roles",name:"/roles"}],me=function(e){var t=e.fetchRoles,a=e.isLoading,n=e.history.push,c=e.pagination,g=Object(i.useState)(""),h=r()(g,2),v=h[0],y=h[1],E=Object(i.useState)([]),R=r()(E,2),O=R[0],q=R[1],T=function(){t(c).then(function(e){var t=e.value.data;return q(t)})},x=function(){return o.a.createElement(i.Fragment,null,o.a.createElement(u.d,{exact:!0,path:"/roles/add-role",component:re}),o.a.createElement(u.d,{exact:!0,path:"/roles/remove/:id",component:se}))},N=function(){return[{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return n("/roles/remove/".concat(a.uuid))}}]},C=function(e){return e.policies.title>1},S=function(){return o.a.createElement(s.a,null,o.a.createElement(p.a,null,o.a.createElement(l.Link,{to:"/roles/add-role"},o.a.createElement(d.a,{variant:"primary","aria-label":"Create role"},"Add role"))))};return o.a.createElement(u.g,null,o.a.createElement(u.d,{path:"/roles",render:function(){return o.a.createElement(m.a,null,o.a.createElement(f.a,null,o.a.createElement(w.a,null,o.a.createElement(w.b,{title:"User access management"}),o.a.createElement(b.a,{tabItems:de}))),o.a.createElement(f.a,null,o.a.createElement(k.a,{actionResolver:N,areActionsDisabled:C,columns:pe,createRows:j,data:O,fetchData:T,filterValue:v,setFilterValue:y,isLoading:a,pagination:c,request:t,routes:x,titlePlural:"roles",titleSingular:"role",toolbarButtons:S})))}}))};me.propTypes={history:h.a.shape({goBack:h.a.func.isRequired,push:h.a.func.isRequired}),roles:h.a.array,platforms:h.a.array,isLoading:h.a.bool,searchFilter:h.a.string,fetchRoles:h.a.func.isRequired,pagination:h.a.shape({limit:h.a.number.isRequired,offset:h.a.number.isRequired,count:h.a.number.isRequired})},me.defaultProps={roles:[],pagination:R.a};t.default=Object(c.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return{fetchRoles:function(t){return e(Object(O.d)(t))}}})(me)},559:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c=a(2),u=a.n(c),l=a(24),s=a.n(l),p=a(33),d=a(27),m=a(411),f=a(130),g=a.n(f),h=a(49),b=a(396),v=a.n(b),y=a(397),E=a(37),j=a.n(E),R=a(10),O=a.n(R),w=a(16),k=(n={},j()(n,"".concat(w.FETCH_USER,"_PENDING"),function(e){return O()({},e,{isUserDataLoading:!0})}),j()(n,"".concat(w.FETCH_USER,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedUser:a,isUserDataLoading:!1})}),n),q=(r={},j()(r,"".concat(w.f,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),j()(r,"".concat(w.f,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{groups:a,isLoading:!1})}),j()(r,"".concat(w.e,"_PENDING"),function(e){return O()({},e,{isRecordLoading:!0})}),j()(r,"".concat(w.e,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedGroup:a,isRecordLoading:!1})}),j()(r,w.p,function(e){return O()({},e,{selectedGroup:void 0})}),r),T=function(e){return O()({},e,{isLoading:!0})},x=(i={},j()(i,"".concat(w.g,"_PENDING"),T),j()(i,"".concat(w.g,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{policies:a,isLoading:!1})}),j()(i,"".concat(w.h,"_PENDING"),T),j()(i,"".concat(w.h,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedPolicy:a,isLoading:!1})}),i),N=(o={},j()(o,"".concat(w.i,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{selectedRole:a,isRecordLoading:!1})}),j()(o,"".concat(w.i,"_PENDING"),function(e){return O()({},e,{isRecordLoading:!0})}),j()(o,"".concat(w.j,"_FULFILLED"),function(e,t){var a=t.payload;return O()({},e,{roles:a,isLoading:!1})}),j()(o,"".concat(w.j,"_PENDING"),function(e){return O()({},e,{isLoading:!0})}),o),C=new g.a({},[y.a,Object(m.a)(),Object(h.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),v.a]);C.register({userReducer:Object(f.applyReducerHash)(k,{selectedUser:{},isUserDataLoading:!1}),groupReducer:Object(f.applyReducerHash)(q,{groups:{data:[],meta:{count:0,limit:10,offset:0}},selectedGroup:{},isLoading:!1,isRecordLoading:!1}),policyReducer:Object(f.applyReducerHash)(x,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1}),roleReducer:Object(f.applyReducerHash)(N,{isLoading:!1,isRecordLoading:!1,roles:{data:[],meta:{count:0,limit:10,offset:0}},selectedRole:{}}),notifications:h.notifications});var S=C.getStore(),L=a(399),F=a.n(L),P=a(400),D=a.n(P),G=a(401),_=a.n(G),I=a(402),U=a.n(I),M=a(196),A=a.n(M),V=a(403),B=a.n(V),z=a(1),K=a.n(z),H=a(94),J=a(91),W=a.n(J),Y=a(204),Q=a.n(Y),X=a(50),Z=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(a(557))})}),$=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Q()(a(558))})}),ee="/groups",te="/roles",ae=function(e){var t=e.rootClass,a=W()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),u.a.createElement(H.d,a)};ae.propTypes={rootClass:K.a.string};var ne=function(){return u.a.createElement(c.Suspense,{fallback:u.a.createElement(X.a,null)},u.a.createElement(H.g,null,u.a.createElement(ae,{path:ee,component:Z,rootClass:"groups"}),u.a.createElement(ae,{path:te,component:$,rootClass:"roles"}),u.a.createElement(H.d,{render:function(){return u.a.createElement(H.c,{to:ee})}})))};ne.propTypes={childProps:K.a.object};a(243);var re=a(99),ie=a(409),oe=(a(496),function(e){function t(){var e,a;F()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=_()(this,(e=U()(t)).call.apply(e,[this].concat(r))),j()(A()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return B()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?u.a.createElement(ie.a,{locale:"en"},u.a.createElement(u.a.Fragment,null,u.a.createElement(h.NotificationsPortal,null),u.a.createElement(re.Main,{style:{marginLeft:0,padding:0}},u.a.createElement(ne,null)))):u.a.createElement(X.a,null)}}]),t}(c.Component));oe.propTypes={history:K.a.object};var ce=Object(H.k)(Object(d.connect)()(oe)),ue=window.location.pathname.split("/");ue.shift();var le="/";"beta"===ue[0]&&(le="/".concat(ue.shift(),"/")),s.a.render(u.a.createElement(d.Provider,{store:S},u.a.createElement(p.BrowserRouter,{basename:"".concat(le).concat(ue[0],"/").concat(ue[1],"/").concat(ue[2])},u.a.createElement(ce,null))),document.getElementById("root"))},57:function(e,t,a){"use strict";a.d(t,"a",function(){return i}),a.d(t,"b",function(){return o}),a.d(t,"c",function(){return c}),a.d(t,"d",function(){return u}),a.d(t,"e",function(){return l});var n=a(16),r=a(102),i=function(e){return{type:n.d,payload:r.a(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",description:"The role was not added successfuly."}}}}},o=function(e){return{type:n.i,payload:r.c(e)}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.j,payload:r.d(e)}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:n.j,payload:r.e(e)}},l=function(e){return{type:n.o,payload:r.f(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",description:"The role was removed successfully."}}}}}},77:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={limit:50,offset:0,itemCount:1,numberOfItems:50}},81:function(e,t,a){"use strict";a.d(t,"c",function(){return i}),a.d(t,"a",function(){return o}),a.d(t,"b",function(){return c}),a.d(t,"d",function(){return u});var n=a(5),r=a.n(n),i=function(){return document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},c=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},u=function(e){return r()(e).fromNow()}},93:function(e,t,a){"use strict";var n=a(2),r=a.n(n),i=a(1),o=a.n(i),c=a(232),u=a(233),l=a(226),s=a(227),p=a(50),d=a(33),m=a(215),f=a(216),g=function(e){return e?r.a.createElement(m.a,null,Object.values(e).map(function(e){return r.a.createElement(f.a,{key:e.title,isActive:e.isActive},e.to&&r.a.createElement(d.NavLink,{exact:!0,to:e.to},e.title)||e.title)})):null};g.propTypes={breadcrumbs:o.a.object};var h=g;a(550);a.d(t,"a",function(){return b}),a.d(t,"b",function(){return v});var b=function(e){var t=e.children,a=e.breadcrumbs,n=e.paddingBottom;return r.a.createElement("div",{className:"pf-u-pt-xl pf-u-pr-xl pf-u-pl-lg ".concat(n?"pf-u-pb-sm":""," top-toolbar")},a&&r.a.createElement(c.a,{className:"pf-u-mb-md"},r.a.createElement(h,a)),t)};b.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},b.defaultProps={paddingBottom:!1};var v=function(e){var t=e.title,a=e.description,i=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement(c.a,null,r.a.createElement(u.a,null,r.a.createElement(l.a,{className:"pf-u-mb-sm"},r.a.createElement(s.a,{component:s.b.h1},t||r.a.createElement(p.d,null))),a&&r.a.createElement(l.a,{className:"pf-u-pt-sm pf-u-mb-md"},r.a.createElement(s.a,{component:s.b.p},a))),i))};v.propTypes={title:o.a.string,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}}});
//# sourceMappingURL=../sourcemaps/App.js.map