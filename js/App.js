!function(e){function t(t){for(var n,o,c=t[0],u=t[1],l=t[2],p=0,d=[];p<c.length;p++)o=c[p],r[o]&&d.push(r[o][0]),r[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(s&&s(t);d.length;)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var u=a[c];0!==r[u]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/apps/rbac/";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var s=u;i.push([414,1]),a()}({17:function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"a",function(){return i}),a.d(t,"l",function(){return o}),a.d(t,"j",function(){return c}),a.d(t,"g",function(){return u}),a.d(t,"h",function(){return l}),a.d(t,"b",function(){return s}),a.d(t,"k",function(){return p});var n="FETCH_GROUP",r="FETCH_GROUPS",i="ADD_GROUP",o="UPDATE_GROUP",c="REMOVE_GROUP",u="FETCH_ROLE",l="FETCH_ROLES",s="ADD_POLICY",p="REMOVE_POLICY"},356:function(e,t,a){},412:function(e,t,a){"use strict";a.r(t);var n=a(159),r=a.n(n),i=a(160),o=a.n(i),c=a(161),u=a.n(c),l=a(162),s=a.n(l),p=a(83),d=a.n(p),m=a(163),f=a.n(m),g=a(21),h=a.n(g),b=a(2),E=a.n(b),y=a(1),v=a.n(y),R=a(48),O=a(191),C=a(20),F=a(187),G=a(154),w=a(184),P=a(185),T=a(183),L=a(123),j=a(186),x=a(190),S=a(105),q=a(100),N=a(157),k=a(158),_=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=u()(this,(e=s()(t)).call.apply(e,[this].concat(i))),h()(d()(a),"state",{isKebabOpen:!1}),h()(d()(a),"onKebabToggle",function(e){a.setState({isKebabOpen:e})}),h()(d()(a),"onKebabSelect",function(){a.setState({isKebabOpen:!a.state.isKebabOpen})}),h()(d()(a),"buildGroupActionKebab",function(e){return E.a.createElement(O.a,{position:C.d.right,onSelect:a.onKebabSelect,toggle:E.a.createElement(F.a,{onToggle:a.onKebabToggle}),isOpen:a.state.isKebabOpen,dropdownItems:[E.a.createElement(G.a,{"aria-label":"Edit Group",key:"edit-group"},E.a.createElement(R.Link,{to:"/groups/edit/".concat(e.uuid)},"Edit")),E.a.createElement(G.a,{component:"link","aria-label":"Remove Group",key:"remove-group"},E.a.createElement(R.Link,{to:"/groups/remove/".concat(e.uuid)},"Delete"))],isPlain:!0})}),h()(d()(a),"fetchUserListForGroup",function(e){return e.members?e.members.map(function(e){return" ".concat(e.username)}).join(", "):""}),a}return f()(t,e),o()(t,[{key:"render",value:function(){var e=this,t=this.props.item;return E.a.createElement(w.a,{key:"group-".concat(t.uuid),"aria-labelledby":"check-group-".concat(t.uuid),isExpanded:this.props.isExpanded("group-".concat(t.uuid))},E.a.createElement(P.a,{onClick:function(){return e.props.toggleExpand("group-".concat(t.uuid))},isExpanded:this.props.isExpanded("group-".concat(t.uuid)),id:"group-".concat(t.uuid),"aria-labelledby":"group-".concat(t.uuid," group-").concat(t.uuid),"aria-label":"Toggle details for"}),E.a.createElement(T.a,{"aria-labelledby":"check-group-".concat(t.uuid),name:"check-group-".concat(t.uuid)}),E.a.createElement(L.a,null,E.a.createElement("span",{id:t.uuid},t.name," ")),E.a.createElement(L.a,null,this.fetchUserListForGroup(t)),E.a.createElement(L.a,{class:"pf-c-data-list__action","aria-labelledby":"group-".concat(t.uuid," check-group-action").concat(t.uuid),id:"group-".concat(t.uuid),"aria-label":"Actions"},this.buildGroupActionKebab(t)),E.a.createElement(j.a,{"aria-label":"Group Content Details",isHidden:!this.props.isExpanded("group-".concat(t.uuid))},E.a.createElement(x.a,{gutter:"md"},E.a.createElement(S.a,null,E.a.createElement(q.a,{size:"md"},"Description")),E.a.createElement(S.a,null,E.a.createElement(N.a,{component:k.b.h6},t.description)),E.a.createElement(S.a,null),E.a.createElement(S.a,null,E.a.createElement(q.a,{size:"md"},"Members")),E.a.createElement(S.a,null,E.a.createElement(N.a,{component:k.b.h6},this.fetchUserListForGroup(t))))))}}]),t}(b.Component);_.propTypes={isLoading:v.a.bool,item:v.a.object,isExpanded:v.a.func.isRequired,toggleExpand:v.a.func.isRequired,noItems:v.a.string},t.default=_},413:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),i=a(43),o=a.n(i),c=a(2),u=a.n(c),l=a(51),s=a(1),p=a.n(s),d=a(98),m=a(277),f=a(127),g=a(172),h=a(418),b=a(417),E=a(18),y=a.n(E),v=a(41),R=a.n(v),O=a(90),C=a(257),F=a(64),G=a(17),w=a(270),P=a.n(w),T=a(116),L="".concat("/api","/rbac/v1"),j=P.a.create();j.interceptors.response.use(function(e){return e.data||e});new T.AccessApi(void 0,L,j),new T.PrincipalApi(void 0,L,j);var x=new T.GroupApi(void 0,L,j),S=new T.RoleApi(void 0,L,j),q=new T.PolicyApi(void 0,L,j);var N=x;function k(e){return _.apply(this,arguments)}function _(){return(_=R()(y.a.mark(function e(t){var a,n,i,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,N.listGroups(a,n);case 3:return i=e.sent,o=i.data,e.abrupt("return",Promise.all(o.map(function(){var e=R()(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getGroup(t.uuid);case 2:return a=e.sent,e.abrupt("return",r()({},t,{members:a.principals}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())).then(function(e){return r()({},i,{data:e})}));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){return I.apply(this,arguments)}function I(){return(I=R()(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(e){return A.apply(this,arguments)}function A(){return(A=R()(y.a.mark(function e(t){var a,n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.updateGroup(t.uuid,t);case 2:if(a=t.principals?t.principals.map(function(e){return e.username}):[],n=t.user_list.filter(function(e){return!a.includes(e.username)}),r=a.filter(function(e){return!t.user_list.map(function(e){return e.username}).includes(e)}),!(n.length>0)){e.next=8;break}return e.next=8,N.addPrincipalToGroup(t.uuid,{principals:n});case 8:if(!(r.length>0)){e.next=11;break}return e.next=11,N.deletePrincipalFromGroup(t.uuid,r.join(","));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(e){return V.apply(this,arguments)}function V(){return(V=R()(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.createGroup(t);case 2:if(a=e.sent,!(t.user_list&&t.user_list.length>0)){e.next=5;break}return e.abrupt("return",N.addPrincipalToGroup(a.uuid,{principals:t.user_list}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function K(e){return H.apply(this,arguments)}function H(){return(H=R()(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.deleteGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:G.d,payload:k(e)}},z=function(e){return{type:G.c,payload:D(e)}},Y=function(e){return{type:G.a,payload:M(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",description:"The group was not added successfuly."}}}}},J=function(e){return{type:G.l,payload:U(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",description:"The group was not updated successfuly."}}}}},W=function(e){return{type:G.j,payload:K(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing group",description:"The group was removed successfully."}}}}},Q=q;function X(e){return Z.apply(this,arguments)}function Z(){return(Z=R()(y.a.mark(function e(t){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.createPolicies(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var $=S;function ee(e){return te.apply(this,arguments)}function te(){return(te=R()(y.a.mark(function e(t){var a,n,r,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.limit,n=t.offset,e.next=3,$.listRoles(a,n);case 3:return r=e.sent,i=r.data,e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:G.h,payload:ee(e)}},ne=a(190),re=a(105),ie=a(100),oe=a(157),ce=a(158),ue=a(230),le=a(231),se=function(e){var t=e.values?e.values:{name:"",description:"",policyName:""},a=t.name,n=t.description,r=t.policyName,i=e.selectedUsers?e.selectedUsers:[],o=e.selectedRoles?e.selectedRoles:[];return u.a.createElement(c.Fragment,null,u.a.createElement(ne.a,{gutter:"md"},u.a.createElement(re.a,null,u.a.createElement(ie.a,{size:"xl"}," Review ")),u.a.createElement(re.a,null,u.a.createElement(ne.a,{gutter:"md"},u.a.createElement(re.a,null,u.a.createElement(oe.a,null,u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Review and confirm your inputs. If there is anything incorrect, click Back and revise."))),u.a.createElement(re.a,null,u.a.createElement(ue.a,{gutter:"md"},u.a.createElement(le.a,{span:2},u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Group name")),u.a.createElement(le.a,{span:10},u.a.createElement(ce.a,{className:"data-table-detail content",component:ce.b.p},a))),u.a.createElement(ue.a,{gutter:"md"},u.a.createElement(le.a,{span:2},u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Description")),u.a.createElement(le.a,{span:10},u.a.createElement(ce.a,{className:"data-table-detail content",component:ce.b.p},n))),u.a.createElement(ue.a,{gutter:"md"},u.a.createElement(le.a,{span:2},u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Members")),u.a.createElement(le.a,{span:10},u.a.createElement(ce.a,{className:"groups-table-detail content",component:ce.b.h5},"".concat(i.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))),u.a.createElement(ue.a,{gutter:"md"},u.a.createElement(le.a,{span:2},u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Policy name")),u.a.createElement(le.a,{span:10},u.a.createElement(ce.a,{className:"data-table-detail content",component:ce.b.p},r))),u.a.createElement(ue.a,{gutter:"md"},u.a.createElement(le.a,{span:2},u.a.createElement(ce.a,{className:"data-table-detail heading",component:ce.b.h5},"Roles")),u.a.createElement(le.a,{span:10},u.a.createElement(ce.a,{className:"groups-table-detail content",component:ce.b.h5},"".concat(o.map(function(e,t){return"".concat(0!==t?" ":"").concat(e.label)}))))))))))};se.propTypes={name:p.a.string,description:p.a.string,groups:p.a.array};var pe=se,de=a(222),me=a(223),fe=a(213),ge=a(216),he=function(e,t){return u.a.createElement(c.Fragment,null,u.a.createElement(ne.a,{gutter:"md"},u.a.createElement(re.a,null,u.a.createElement(ie.a,{size:"xl"}," Add group ")),u.a.createElement(re.a,null,u.a.createElement(de.a,null,u.a.createElement(me.a,{label:"Group name",isRequired:!0,fieldId:"group-name"},u.a.createElement(fe.a,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,onChange:function(e,a){return t({name:a.currentTarget.value})}})),u.a.createElement(me.a,{label:"Description",fieldId:"group-description"},u.a.createElement(ge.a,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,a){return t({description:a.currentTarget.value})}}))))))};he.propTypes={name:p.a.string,description:p.a.string};var be=he,Ee=a(60),ye=a.n(Ee),ve=a(164),Re={DropdownIndicator:null},Oe=function(e,t,a,n,r,i){var l=Object(c.useState)(""),s=o()(l,2),p=s[0],d=s[1];return u.a.createElement(c.Fragment,null,u.a.createElement(ne.a,{gutter:"md"},u.a.createElement(re.a,null,u.a.createElement(ie.a,{size:"xl"},"Select members for this group")),u.a.createElement(re.a,null,u.a.createElement(oe.a,null,u.a.createElement(ce.a,{component:ce.b.h6},"Select Members for this group.")),u.a.createElement(ve.a,{components:Re,inputValue:p,defaultValue:t,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){a(e)},onInputChange:function(e){d(e)},onKeyDown:function(e){if(p)switch(e.key){case"Enter":case"Tab":t?t.find(function(e){return e.label===p})||a([].concat(ye()(t),[i(p)])):a([i(p)]),d(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:t}))))};Oe.propTypes={name:p.a.string,description:p.a.string};var Ce=Oe,Fe=a(269),Ge=function(e,t,a,n,r){var i=r.map(function(e){return{value:e.uuid,label:e.name,id:e.uuid}});return u.a.createElement(c.Fragment,null,u.a.createElement(de.a,null,u.a.createElement(ne.a,{gutter:"md"},u.a.createElement(re.a,null,u.a.createElement(ie.a,{size:"xl"},"Create policy")),u.a.createElement(re.a,null,u.a.createElement(oe.a,null,u.a.createElement(ce.a,{component:ce.b.h6},"Policies are the permissions set for this group. Groups can have one or more policies. Policies are created for a group, they cannot be shared. You can only create one policy at this time. It is possible to create more for this group at a later time.",u.a.createElement("br",null),"All fields are optional."))),u.a.createElement(re.a,null,u.a.createElement(me.a,{label:"Policy name",fieldId:"policy-name"},u.a.createElement(fe.a,{isRequired:!0,type:"text",id:"policy-name",name:"policy-name","aria-describedby":"policy-name",value:e.policyName,onChange:function(e,a){return t({policyName:a.currentTarget.value})}}))),u.a.createElement(re.a,null,u.a.createElement(me.a,{label:"Description",fieldId:"policy-description"},u.a.createElement(ge.a,{type:"text",id:"policy-description",name:"policy-description",value:e.policyDescription,onChange:function(e,a){return t({policyDescription:a.currentTarget.value})}}))),u.a.createElement(re.a,null,u.a.createElement(me.a,{label:"Select roles",fieldId:"select-role"},u.a.createElement(Fe.a,{options:i,isClearable:!0,isMulti:!0,placeholders:"Select Roles",onChange:function(e){n(e)},closeMenuOnSelect:!1}))))))};Ge.propTypes={formData:p.a.object};var we=Ge,Pe=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,i=e.addGroup,l=Object(c.useState)({}),s=o()(l,2),p=s[0],d=s[1],m=Object(c.useState)([]),f=o()(m,2),g=f[0],h=f[1],b=Object(c.useState)([]),E=o()(b,2),v=E[0],O=E[1],F=Object(c.useState)([]),w=o()(F,2),P=w[0],T=w[1],L=Object(c.useState)(0),j=o()(L,2),x=j[0],S=j[1],q=Object(c.useState)({}),N=o()(q,2),k=N[0],_=N[1],D=function(e){_(r()({},k,e))},I=function(e){var t=x;return S(x+1),{label:e,value:"".concat(e,"_").concat(t)}},U=function(e){d(e),e&&e.principals&&h(e.principals.map(function(e){return I(e.username)}))},A=[{name:"General Information",component:new be(k,D)},{name:"Set Users",component:new Ce(U,g,h,x,S,I,D)},{name:"Policy Step",component:new we(k,D,P,T,v)},{name:"Review",component:new pe({values:k,selectedUsers:g,selectedRoles:P}),nextButtonText:"Confirm"}];Object(c.useEffect)(function(){z(a).payload.then(function(e){return U(e)}).catch(function(){return U(void 0)}),ae().payload.then(function(e){return O(e)})},[]);var M=function(){var e=R()(y.a.mark(function e(){var a,n,o;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r()({},k,{user_list:g.map(function(e){return{username:e.label}})}),e.next=3,i(a);case 3:n=e.sent,o={name:k.policyName,description:k.policyDescription,group:n.value.uuid,roles:P.map(function(e){return e.value})},(c=o,{type:G.b,payload:X(c),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding policy",description:"The policy was added successfully."},rejected:{variant:"danger",title:"Failed adding policy",description:"The policy was not added successfully."}}}}).payload.then(function(){return B()}).then(t("/groups"));case 6:case"end":return e.stop()}var c},e)}));return function(){return e.apply(this,arguments)}}();return u.a.createElement(C.a,{isLarge:!0,title:p?"Edit group":"Add group",isOpen:!0,onClose:function(){n({variant:"warning",title:p?"Editing group":"Adding group",description:p?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},onSave:M,steps:A})};Pe.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},Pe.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,createPolicies:p.a.func.isRequired,selectedGroup:p.a.object,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object};var Te=Object(d.k)(Object(l.connect)(function(e){var t=e.roleReducer,a=t.roles,n=t.filterValue,r=t.isLoading;return{roles:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return Object(O.a)({addNotification:F.addNotification,addGroup:Y,fetchGroup:z,fetchGroups:B,fetchRoles:ae},e)})(Pe)),Le=a(67),je=a.n(Le),xe=a(21),Se=a.n(xe),qe=a(65),Ne=a.n(qe),ke=a(200),_e=a.n(ke),De=a(201),Ie=a(215),Ue=a(224),Ae=function(e){var t=e.input,a=e.options,n=e.isReadOnly,r=e.isDisabled,i=(e.FieldProvider,e.isRequired),o=Ne()(e,["input","options","isReadOnly","isDisabled","FieldProvider","isRequired"]);return u.a.createElement(Ie.a,je()({},t,o,{isDisabled:r||n}),function(e,t,a){if(t&&a)return e;var n=ye()(e);return n.find(function(e){return void 0===e.value})?ye()(n):[{label:a?"Please choose":"None"}].concat(ye()(n))}(a,t.value,i).map(function(e){return u.a.createElement(Ue.a,je()({key:e.value||e.label},e,{label:e.label.toString()}))}))};Ae.propTypes={input:p.a.object.isRequired,options:p.a.arrayOf(p.a.shape({value:p.a.any,label:p.a.string.isRequired})).isRequired,isReadOnly:p.a.bool,isDisabled:p.a.bool,isRequired:p.a.bool,FieldProvider:p.a.any};var Me=function(e){e.componentType;var t=e.label,a=e.isRequired,n=e.helperText,r=e.meta,i=e.description,o=e.hideLabel,c=Ne()(e,["componentType","label","isRequired","helperText","meta","description","hideLabel"]),l=r.error,s=r.touched&&l;return u.a.createElement(me.a,{isRequired:a,label:!o&&t,fieldId:c.id,isValid:!s,helperText:n,helperTextInvalid:r.error},i&&u.a.createElement(oe.a,null,u.a.createElement(ce.a,{component:ce.b.small},i)),u.a.createElement(Ae,je()({label:t,isValid:!s,isRequired:a},c)))};Me.propTypes={componentType:p.a.string,label:p.a.string,isRequired:p.a.bool,helperText:p.a.string,meta:p.a.object,description:p.a.string,hideLabel:p.a.bool};var Ve=Me,Ke={default:{},modal:{buttonOrder:["cancel","reset","save"],buttonClassName:"modal-form-right-align"}},He=function(e){var t=e.componentMapper,a=e.formContainer,n=Ne()(e,["componentMapper","formContainer"]);return u.a.createElement("div",{className:Ke[a].buttonClassName},u.a.createElement(_e.a,je()({formFieldsMapper:r()({},De.formFieldsMapper,Se()({componentMapper:t},ke.componentTypes.SELECT,Ve)),layoutMapper:De.layoutMapper},Ke[a],n)))};He.propTypes={componentMapper:p.a.object,formContainer:p.a.oneOf(["default","modal"])},He.defaultProps={componentMapper:{},formContainer:"default"};var Be=He,ze=a(225),Ye={DropdownIndicator:null},Je=function(e){var t=e.history.push,a=e.match.params.id,n=e.addNotification,i=e.addGroup,l=e.updateGroup,s=Object(c.useState)({}),p=o()(s,2),d=p[0],m=p[1],f=Object(c.useState)(""),g=o()(f,2),h=g[0],b=g[1],E=Object(c.useState)([]),y=o()(E,2),v=y[0],R=y[1],O=Object(c.useState)(0),C=o()(O,2),F=C[0],G=C[1],w=function(e){var t=F;return G(F+1),{label:e,value:"".concat(e,"_").concat(t)}},P=function(e){m(e),e&&R(e.principals.map(function(e){return w(e.username)}))};Object(c.useEffect)(function(){z(a).payload.then(function(e){return P(e)}).catch(function(){return P(void 0)})},[]);var T=function(){n({variant:"warning",title:d?"Editing group":"Adding group",description:d?"Edit group was cancelled by the user.":"Adding group was cancelled by the user."}),t("/groups")},L={type:"object",properties:{name:{title:d?"Group Name":"New Group Name",type:"string"},description:{title:"Description",type:"string"}},required:["name"]};return u.a.createElement(ze.a,{isLarge:!0,title:d?"Edit group":"Add group",isOpen:!0,onClose:T},u.a.createElement(ue.a,{gutter:"md",style:{minWidth:"800px"}},u.a.createElement(le.a,{sm:6},u.a.createElement(Be,{schema:L,schemaType:"mozilla",onSubmit:function(e){var n=r()({},e,{user_list:v.map(function(e){return{username:e.label}})});a?l(n).then(function(){return B()}).then(t("/groups")):i(n).then(function(){return B()}).then(t("/groups"))},onCancel:T,formContainer:"modal",initialValues:r()({},d)})),u.a.createElement(le.a,{sm:6},u.a.createElement(oe.a,null,u.a.createElement(ce.a,{component:ce.b.h6},"Select Members for this group.")),u.a.createElement(ve.a,{components:Ye,inputValue:h,defaultValue:v,isClearable:!0,isMulti:!0,menuIsOpen:!1,onChange:function(e){R(e)},onInputChange:function(e){b(e)},onKeyDown:function(e){if(h)switch(e.key){case"Enter":case"Tab":v?v.find(function(e){return e.label===h})||R([].concat(ye()(v),[w(h)])):R([w(h)]),b(""),e.preventDefault()}},placeholder:"Type the exact user name and press enter...",value:v}))))};Je.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[]},Je.propTypes={history:p.a.shape({goBack:p.a.func.isRequired}).isRequired,addGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,selectedGroup:p.a.object,inputValue:p.a.string,users:p.a.array,selectedUsers:p.a.array,match:p.a.object,updateGroup:p.a.func.isRequired};var We=Object(d.k)(Object(l.connect)(function(e){return{isLoading:e.groupReducer.isLoading}},function(e){return Object(O.a)({addNotification:F.addNotification,addGroup:Y,updateGroup:J,fetchGroup:z,fetchGroups:B},e)})(Je)),Qe=a(48),Xe=a(271),Ze=a(272),$e=a(232),et=a(233),tt=a(234),at=a(236),nt=a(235),rt=a(113),it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},ot=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)-1)*(arguments.length>1?arguments[1]:void 0)},ct=function(e){var t=e.searchValue,a=e.onFilterChange,n=e.placeholder;return u.a.createElement(at.a,null,u.a.createElement(nt.a,null,u.a.createElement("div",{className:"pf-c-input-group"},u.a.createElement(fe.a,{placeholder:n,value:t,type:"text",onChange:a,"aria-label":"Find product button"}),u.a.createElement(rt.a,{variant:"tertiary",id:"searchProductButton",onClick:function(){return a(t)}},u.a.createElement("i",{className:"fas fa-search","aria-hidden":"true"})))))};ct.propTypes={onFilterChange:p.a.func.isRequired,placeholder:p.a.string,searchValue:p.a.string},ct.defaultProps={searchValue:""};var ut=ct,lt=function(e){var t=e.onFilterChange,a=e.filterValue,n=Ne()(e,["onFilterChange","filterValue"]);return u.a.createElement(ut,je()({},n,{searchValue:a,onFilterChange:t,placeholder:"Find a Group"}))};lt.propTypes={onFilterChange:p.a.func.isRequired,filterValue:p.a.string};var st=lt,pt=function(e){var t=e.onFilterChange,a=e.filterValue,n=e.pagination,r=e.handleOnPerPageSelect,i=e.handleSetPage;return u.a.createElement(Ze.TableToolbar,null,u.a.createElement($e.a,{style:{flex:1}},u.a.createElement(et.a,null,u.a.createElement(tt.a,null,u.a.createElement(at.a,null,u.a.createElement(nt.a,null,u.a.createElement(st,{onFilterChange:function(e){return t(e)},filterValue:a}))),u.a.createElement(at.a,null,u.a.createElement(nt.a,null),u.a.createElement(nt.a,null,u.a.createElement(Qe.Link,{to:"/groups/add-group"},u.a.createElement(rt.a,{variant:"primary","aria-label":"Create Group"},"Create Group")))))),u.a.createElement(et.a,null,u.a.createElement(Xe.Pagination,{itemsPerPage:n.limit,numberOfItems:n.count,onPerPageSelect:r,page:it(n.limit,n.offset),onSetPage:i,direction:"down"}))))};pt.propTypes={onFilterChange:p.a.func.isRequired,filterValue:p.a.string.isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,count:p.a.number.isRequired}).isRequired,handleOnPerPageSelect:p.a.func.isRequired,handleSetPage:p.a.func.isRequired};var dt=pt,mt=a(128),ft=function(e){var t=e.history,a=t.goBack,n=t.push,r=e.removeGroup,i=e.fetchGroup,o=e.fetchGroups,l=e.groupId,s=e.group;if(Object(c.useEffect)(function(){l&&i(l)},[]),!s)return null;var p=function(){return a()};return u.a.createElement(ze.a,{isOpen:!0,isSmall:!0,title:"",onClose:p,actions:[u.a.createElement(rt.a,{key:"cancel",variant:"secondary",type:"button",onClick:p},"Cancel"),u.a.createElement(rt.a,{key:"submit",variant:"primary",type:"button",onClick:function(){return r(l).then(function(){o(),n("/groups")})}},"Confirm")]},u.a.createElement(mt.a,null,u.a.createElement(oe.a,null,u.a.createElement(ce.a,{component:ce.b.h1},"Removing Group:  ",s.name))))};ft.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}).isRequired,removeGroup:p.a.func.isRequired,addNotification:p.a.func.isRequired,fetchGroups:p.a.func.isRequired,fetchGroup:p.a.func.isRequired,groupId:p.a.string,group:p.a.object};var gt=Object(d.k)(Object(l.connect)(function(e,t){var a=e.groupReducer,n=a.selectedGroup,r=a.isLoading;return{groupId:t.match.params.id,group:n,isLoading:r}},function(e){return Object(O.a)({addNotification:F.addNotification,fetchGroup:z,fetchGroups:B,removeGroup:W},e)})(ft)),ht=function(e){var t=e.description,a=e.members;return u.a.createElement(c.Fragment,null,u.a.createElement(oe.a,null,u.a.createElement(ce.a,{className:"groups-table-detail heading",component:ce.b.small},"Description"),u.a.createElement(ce.a,{className:"groups-table-detail content",component:ce.b.h5},t)),u.a.createElement(oe.a,null,u.a.createElement(ce.a,{className:"groups-table-detail heading",component:ce.b.small},"members"),u.a.createElement(ce.a,{className:"groups-table-detail content",component:ce.b.h5},"".concat(a.map(function(e,t){var a=e.first_name,n=e.last_name;return"".concat(0!==t?" ":"").concat(a," ").concat(n)})))))};ht.propTypes={description:p.a.string.isRequired,members:p.a.arrayOf(p.a.shape({first_name:p.a.string.isRequired,last_name:p.a.string.isRequired})).isRequired};var bt=ht,Et=function(e){return e.reduce(function(e,t,a){var n=t.uuid,r=t.name,i=t.description,o=t.members;return[].concat(ye()(e),[{uuid:n,isOpen:!1,cells:[r,i,o.length]},{parent:2*a,cells:[{title:u.a.createElement(bt,{description:i,members:o})}]}])},[])},yt=[{title:"Name",cellFormatters:[f.b]},"Description","Members"],vt=function(e){var t=e.fetchGroups,a=e.pagination,n=e.history.push,i=Object(c.useState)(""),l=o()(i,2),s=l[0],p=l[1],f=Object(c.useState)([]),E=o()(f,2),y=E[0],v=E[1];Object(c.useEffect)(function(){t().then(function(e){var t=e.value.data;return v(Et(t))}),document.getElementById("root").scrollTo({behavior:"smooth",top:0,left:0})},[]);return u.a.createElement(c.Fragment,null,u.a.createElement(d.d,{exact:!0,path:"/groups/add-group",component:Te}),u.a.createElement(d.d,{exact:!0,path:"/groups/edit/:id",component:We}),u.a.createElement(d.d,{exact:!0,path:"/groups/remove/:id",component:gt}),u.a.createElement(dt,{filterValue:s,onFilterChange:function(e){p(e)},pagination:a,handleOnPerPageSelect:function(e){return t({offset:a.offset,limit:e}).then(function(e){var t=e.value.data;return v(Et(t))})},handleSetPage:function(e,n){var r={offset:ot(e,a.limit),limit:a.limit},i=function(){return t(r)};return n?Object(m.a)(i,250)():i().then(function(e){var t=e.value.data;return v(Et(t))})}}),u.a.createElement(g.b,{"aria-label":"Groups table",onCollapse:function(e,t,a,n){var i=n.uuid;return v(function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{isOpen:!e.isOpen}):r()({},e)})}(e,i)})},rows:y,cells:yt,onSelect:function(e,t,a){var n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).uuid;return v(-1===a?y.map(function(e){return r()({},e,{selected:t})}):function(e){return function(e,t){return e.map(function(e){return e.uuid===t?r()({},e,{selected:!e.selected}):r()({},e)})}(e,n)})},actionResolver:function(e,t){return t.rowIndex%2==1?null:[{title:"Edit",onClick:function(e,t,a){return n("/groups/edit/".concat(a.uuid))}},{title:"Delete",style:{color:"var(--pf-global--danger-color--100)"},onClick:function(e,t,a){return n("/groups/remove/".concat(a.uuid))}}]}},u.a.createElement(h.a,null),u.a.createElement(b.a,null)))};vt.propTypes={history:p.a.shape({goBack:p.a.func.isRequired,push:p.a.func.isRequired}),groups:p.a.array,platforms:p.a.array,isLoading:p.a.bool,searchFilter:p.a.string,fetchGroups:p.a.func.isRequired,pagination:p.a.shape({limit:p.a.number.isRequired,offset:p.a.number.isRequired,count:p.a.number.isRequired})},vt.defaultProps={groups:[],pagination:{}};t.default=Object(l.connect)(function(e){var t=e.groupReducer,a=t.groups,n=t.filterValue,r=t.isLoading;return{groups:a.data,pagination:a.meta,isLoading:r,searchFilter:n}},function(e){return{fetchGroups:function(t){return e(B(t))}}})(vt)},414:function(e,t,a){"use strict";a.r(t);var n,r,i,o,c=a(2),u=a.n(c),l=a(23),s=a.n(l),p=a(48),d=a(51),m=a(278),f=a(115),g=a.n(f),h=a(64),b=a(264),E=a.n(b),y=a(265),v=a(21),R=a.n(v),O=a(15),C=a.n(O),F=a(17),G=(n={},R()(n,"".concat(F.FETCH_USER,"_PENDING"),function(e){return C()({},e,{isUserDataLoading:!0})}),R()(n,"".concat(F.FETCH_USER,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{selectedUser:a,isUserDataLoading:!1})}),n),w=function(e){return C()({},e,{isLoading:!0})},P=(r={},R()(r,"".concat(F.d,"_PENDING"),w),R()(r,"".concat(F.d,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{groups:a,isLoading:!1})}),R()(r,"".concat(F.c,"_PENDING"),w),R()(r,"".concat(F.c,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{selectedGroup:a,isLoading:!1})}),r),T=function(e){return C()({},e,{isLoading:!0})},L=(i={},R()(i,"".concat(F.FETCH_POLICIES,"_PENDING"),T),R()(i,"".concat(F.FETCH_POLICIES,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{policies:a,isLoading:!1})}),R()(i,"".concat(F.FETCH_POLICY,"_PENDING"),T),R()(i,"".concat(F.FETCH_POLICY,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{selectedPolicy:a,isLoading:!1})}),i),j=function(e){return C()({},e,{isLoading:!0})},x=(o={},R()(o,"".concat(F.h,"_PENDING"),j),R()(o,"".concat(F.h,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{roles:a,isLoading:!1})}),R()(o,"".concat(F.g,"_PENDING"),j),R()(o,"".concat(F.g,"_FULFILLED"),function(e,t){var a=t.payload;return C()({},e,{selectedRole:a,isLoading:!1})}),o),S=new g.a({},[y.a,Object(m.a)(),Object(h.notificationsMiddleware)({errorTitleKey:["message"],errorDescriptionKey:["errors","stack"]}),E.a]);S.register({userReducer:Object(f.applyReducerHash)(G,{selectedUser:{},isUserDataLoading:!1}),groupReducer:Object(f.applyReducerHash)(P,{groups:{data:[],meta:{count:0,limit:10,offset:0}},group:{},isLoading:!1}),policyReducer:Object(f.applyReducerHash)(L,{policies:{data:[],meta:{count:0,limit:10,offset:0}},policy:{},isLoading:!1}),roleReducer:Object(f.applyReducerHash)(x,{roles:{data:[],meta:{count:0,limit:10,offset:0}},role:{},isLoading:!1}),notifications:h.notifications});var q=S.getStore(),N=a(159),k=a.n(N),_=a(160),D=a.n(_),I=a(161),U=a.n(I),A=a(162),M=a.n(A),V=a(83),K=a.n(V),H=a(163),B=a.n(H),z=a(1),Y=a.n(z),J=a(98),W=a(65),Q=a.n(W),X=a(199),Z=a.n(X),$=a(67),ee=a.n($),te=a(60),ae=a.n(te),ne=a(218),re=a(184),ie=a(220),oe=a(219),ce=a(123),ue=a(124),le=a(198),se=function(e){var t=e.items,a=Q()(e,["items"]);return u.a.createElement(c.Fragment,null,u.a.createElement(ue.Section,{className:"data-table-pane"},u.a.createElement(ne.a,{"aria-labelledby":"datalist-placeholder",style:{margin:32}},ae()(Array(t)).map(function(e,t){return u.a.createElement(re.a,{key:t,"aria-labelledby":"datalist-item-placeholder"},u.a.createElement(ie.a,null,u.a.createElement(oe.a,{dataListCells:[u.a.createElement(ce.a,{key:"1"},u.a.createElement(le.a,ee()({height:12,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#ecebeb"},a),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"300",height:"12"})))]})))}))))};se.propTypes={items:Y.a.number},se.defaultProps={items:5};var pe=function(e){return u.a.createElement("div",null,u.a.createElement(le.a,ee()({height:16,width:300,speed:2,primaryColor:"#FFFFFF",secondaryColor:"#FFFFFF"},e),u.a.createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"420",height:"10"})),u.a.createElement(se,null))},de=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Z()(a(413))})}),me=Object(c.lazy)(function(){return Promise.resolve().then(function(){return Z()(a(412))})}),fe="/groups",ge="/group/:id",he=function(e){var t=e.rootClass,a=Q()(e,["rootClass"]),n=document.getElementById("root");return n.removeAttribute("class"),n.classList.add("page__".concat(t),"pf-l-page__main","pf-c-page__main"),n.setAttribute("role","main"),u.a.createElement(J.d,a)};he.propTypes={rootClass:Y.a.string};var be=function(){return u.a.createElement(c.Suspense,{fallback:u.a.createElement(pe,null)},u.a.createElement(J.g,null,u.a.createElement(he,{path:fe,component:de,rootClass:"groups"}),u.a.createElement(he,{path:ge,component:me,rootClass:"group"}),u.a.createElement(J.d,{render:function(){return u.a.createElement(J.c,{to:fe})}})))};be.propTypes={childProps:Y.a.object};a(356);var Ee=a(178),ye=a(136),ve=[{eventKey:0,title:"Groups",name:"/groups"}],Re=function(e){var t=e.history.push,a=e.location.pathname,n=ve.find(function(e){var t=e.name;return a.includes(t)});return u.a.createElement(Ee.b,{className:"pf-u-mt-md",activeKey:n?n.eventKey:0,onSelect:function(e,a){return t(ve[a].name)}},ve.map(function(e){return u.a.createElement(ye.a,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})}))};Re.propTypes={location:Y.a.shape({pathname:Y.a.string.isRequired}),history:Y.a.shape({push:Y.a.func.isRequired})};var Oe=Object(J.k)(Re),Ce=a(100),Fe=(a(357),function(e){function t(){var e,a;k()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=U()(this,(e=M()(t)).call.apply(e,[this].concat(r))),R()(K()(a),"state",{chromeNavAvailable:!0,auth:!1}),a}return B()(t,e),D()(t,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.auth.getUser().then(function(){return e.setState({auth:!0})}),insights.chrome.identifyApp("rbac")}},{key:"render",value:function(){return this.state.auth?u.a.createElement(u.a.Fragment,null,u.a.createElement(h.NotificationsPortal,null),u.a.createElement(ue.PageHeader,{style:{paddingBottom:0}},u.a.createElement(Ce.a,{size:"3xl"},"Role Based Access Control"),u.a.createElement(Oe,null)),u.a.createElement(ue.Main,null,u.a.createElement(be,{childProps:this.props}))):u.a.createElement(pe,null)}}]),t}(c.Component));Fe.propTypes={history:Y.a.object};var Ge=Object(J.k)(Object(d.connect)()(Fe)),we=window.location.pathname.split("/");we.shift();var Pe="/";"beta"===we[0]&&(Pe="/".concat(we.shift(),"/")),s.a.render(u.a.createElement(d.Provider,{store:q},u.a.createElement(p.BrowserRouter,{basename:"".concat(Pe).concat(we[0],"/").concat(we[1],"/").concat(we[2])},u.a.createElement(Ge,null))),document.getElementById("root"))}});
//# sourceMappingURL=../sourcemaps/App.js.map