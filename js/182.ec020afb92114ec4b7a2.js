(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[182],{10115:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".pf-c-tabs.ins-rbac-page-header__tabs{padding:0 var(--pf-c-page__main-section--PaddingRight) 0 var(--pf-c-page__main-section--PaddingLeft);background:white}\n",""]),e.exports=t},70465:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-m-wizard__hidden{display:none}\n",""]),e.exports=t},49869:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-rbac__default-group-info-icon{color:var(--pf-global--info-color--100)}\n",""]),e.exports=t},53916:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".pf-c-table tbody tr.ins-c-rbac__group-default .pf-c-table__check:first-of-type input{display:none}.pf-c-question-circle-icon{color:var(--pf-global--palette--black-600);margin-left:var(--pf-global--spacer--sm);cursor:pointer}.pf-c-question-circle-icon.icon-active{color:var(--pf-global--palette--blue-400)}.pf-c-popover{min-width:350px}\n",""]),e.exports=t},90102:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-button__add-role-disabled:hover{text-decoration:none}\n",""]),e.exports=t},45182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>zt});var r=n(67154),o=n.n(r),a=n(59713),i=n.n(a),l=n(319),u=n.n(l),c=n(63038),s=n.n(c),d=n(80150),p=n.n(d),m=n(47194),f=n(12460),g=n(47173),h=n(49739),b=n(83826),v=n(87757),E=n.n(v),y=n(48926),R=n.n(y),O=n(70983),_=n(14890),w=n(45697),D=n.n(w),j=n(77583),C=n(71355),k=n(14726),S=n(89531),x=n(77802),P=n(50693),G=n(16475),L=n(68340),N=n(68774),q=n(60485),T=function(e){var t=e.values?e.values:{name:"",description:""},n=t.name,r=t.description,o=e.selectedUsers?e.selectedUsers:[],a=e.selectedRoles?e.selectedRoles:[];return p().createElement(d.Fragment,null,p().createElement(h.K,{hasGutter:!0},p().createElement(b.v,null,p().createElement(h.K,{hasGutter:!0},p().createElement(b.v,null,p().createElement(N.D,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},"Review details"))),p().createElement(b.v,{className:"ins-c-rbac__summary"},p().createElement(P.r,null,p().createElement(G.P,{md:3},p().createElement(L.x,{component:L.q.h4,className:"ins-c-rbac__bold-text"},"Group name")),p().createElement(G.P,{md:9},p().createElement(L.x,{component:L.q.p},n))),p().createElement(P.r,null,p().createElement(G.P,{md:3},p().createElement(L.x,{component:L.q.h4,className:"ins-c-rbac__bold-text"},"Group description")),p().createElement(G.P,{md:9},p().createElement(L.x,{component:L.q.p},r))),p().createElement(P.r,null,p().createElement(G.P,{md:3},p().createElement(L.x,{component:L.q.h4,className:"ins-c-rbac__bold-text"},"Roles")),p().createElement(G.P,{md:9},p().createElement(L.x,{component:L.q.p},a.map((function(e,t){return p().createElement(L.x,{className:"pf-u-mb-0",key:t},e.label)}))))),p().createElement(P.r,null,p().createElement(G.P,{md:3},p().createElement(L.x,{component:L.q.h4,className:"ins-c-rbac__bold-text"},"Members")),p().createElement(G.P,{md:9},p().createElement(L.x,{component:L.q.p},o.map((function(e,t){return p().createElement(L.x,{className:"pf-u-mb-0",key:t},e.label)}))))))))))};T.propTypes={name:D().string,description:D().string,groups:D().array};const A=T;var F=n(83115),M=n(59775),I=n(92607),U=n(45469),B=n(54526),z=n(39379),Z=function(){var e=R()(E().mark((function e(t){var n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,B.bt)({limit:10,offset:0,name:t,nameMatch:"exact"}).catch((function(e){console.error(e)}));case 4:return r=e.sent,e.abrupt("return",(null==r||null===(n=r.data)||void 0===n?void 0:n.length)<=0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=(0,z.Z)(Z),V=function(e,t,n,r,o,a){var i;return p().createElement(d.Fragment,null,p().createElement(h.K,{hasGutter:!0},p().createElement(b.v,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},"Name and description")),p().createElement(b.v,null,p().createElement(F.l,null,p().createElement(M.c,{label:"Group name",isRequired:!0,fieldId:"group-name",helperTextInvalid:(null===(i=e.name)||void 0===i?void 0:i.trim().length)>0&&!o?"This group name already exists. Please input a unique group name.":"Required value",validated:r||void 0===e.name?"success":"error"},p().createElement(I.oi,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,validated:r||void 0===e.name?"default":"error",onChange:function(r,o){var i=o.currentTarget.value;t({name:i}),a(!0),R()(E().mark((function t(){var r;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==e.name,!t.t0){t.next=5;break}return t.next=4,K(i);case 4:t.t0=t.sent;case 5:r=t.t0,n(i.trim().length>0&&r),a(!1);case 8:case"end":return t.stop()}}),t)})))()}})),p().createElement(M.c,{label:"Group description",fieldId:"group-description"},p().createElement(U.Kx,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,n){return t({description:n.currentTarget.value})}}))))))};V.propTypes={name:D().string,description:D().string};const H=V;var W=n(32203),X=n(30159),J=n(94961),Q=(n(33172),function(e){var t=e.selectedUsers,n=e.setSelectedUsers,r=e.title,o=e.description;return p().createElement(d.Fragment,null,p().createElement(F.l,null,p().createElement(h.K,{hasGutter:!0},r&&p().createElement(b.v,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},r)),p().createElement(b.v,null,p().createElement(N.D,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},"Add members"),p().createElement(J.Z,{description:o||"These are all of the users in your Red Hat organization. To manage users, go to your"}))),p().createElement(b.v,null,p().createElement(M.c,{fieldId:"select-user"},p().createElement(W.Z,null,p().createElement(X.i,{selectedUsers:t,setSelectedUsers:n})))))))});Q.propTypes={selectedUsers:D().array,setSelectedUsers:D().func,title:D().string,description:D().string};const $=Q;var Y=n(12830),ee=n(71410),te=n(17721);function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce((function(e,t){var r=t.uuid,o=t.display_name,a=t.name,i=t.description;return[].concat(u()(e),[{uuid:r,cells:[o||a,i],selected:Boolean(n&&n.find((function(e){return e.uuid===r})))}])}),[]):[]},ae=function(e){var t=e.roles,n=e.fetchRoles,r=e.isLoading,o=e.pagination,a=e.selectedRoles,i=e.canSort,l=e.setSelectedRoles,u=(0,d.useState)(""),c=s()(u,2),m=c[0],g=c[1],h=(0,d.useRef)([re({title:"Name",key:"display_name"},i?{transforms:[f.sortable]}:{orderBy:"name"}),{title:"Description"}]).current;return(0,d.useEffect)((function(){n({orderBy:"display_name"})}),[]),p().createElement(te.M,{columns:h,isSelectable:!0,isCompact:!0,borders:!1,createRows:oe,data:t,filterValue:m,fetchData:function(e){return n((0,Y.jl)(e))},setFilterValue:function(e){var t=e.name;return g(t)},isLoading:r,ouiaId:"roles-table",pagination:o,checkedRows:a,setCheckedItems:function(e){l((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role"})};ae.propTypes={history:D().shape({goBack:D().func.isRequired,push:D().func.isRequired}),roles:D().array,isLoading:D().bool,searchFilter:D().string,fetchRoles:D().func.isRequired,setSelectedRoles:D().func.isRequired,selectedRoles:D().array,pagination:D().shape({limit:D().number.isRequired,offset:D().number.isRequired,count:D().number}),canSort:D().bool},ae.defaultProps={roles:[],pagination:ee.eX,canSort:!0};const ie=(0,O.connect)((function(e){var t=e.roleReducer,n=t.roles,r=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:r}}),(function(e){return{fetchRoles:function(t){e((0,S.Kt)((0,Y.jl)(t)))},addNotification:function(){return e(C.addNotification.apply(void 0,arguments))}}}))(ae);var le=(0,O.connect)((function(e){var t=e.groupReducer.selectedGroup,n=t.addRoles.roles;return{roles:n,pagination:t.addRoles.pagination||re(re({},ee.he),{},{count:n&&n.length}),isLoading:!t.addRoles.loaded,groupId:t.uuid}}),(function(e){return{fetchRoles:function(t,n){e((0,k.nr)(t,n))},addNotification:function(){return e(C.addNotification.apply(void 0,arguments))}}}),(function(e,t,n){return re(re(re(re({},n),e),t),{},{canSort:!1,fetchRoles:function(n){return t.fetchRoles(e.groupId,n)}})}))(ae),ue=function(e){var t=e.selectedRoles,n=e.setSelectedRoles,r=e.title,o=e.description;return p().createElement(d.Fragment,null,p().createElement(F.l,null,p().createElement(h.K,{hasGutter:!0},r&&p().createElement(b.v,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},r)),p().createElement(b.v,null,p().createElement(N.D,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},"Add roles"),p().createElement(L.x,null,o||"Select one or more roles to add to this group."))),p().createElement(b.v,null,p().createElement(M.c,{fieldId:"select-role"},p().createElement(W.Z,null,p().createElement(ie,{selectedRoles:t,setSelectedRoles:n})))))))};ue.propTypes={selectedRoles:D().array,setSelectedRoles:D().func,title:D().string,description:D().string};const ce=ue;var se=n(2485),de=n(9947),pe=n(38424),me=n(75106),fe=n(43047),ge=n(3428),he=function(e){var t=e.setHideFooter;return(0,d.useEffect)((function(){return t(!0),function(){t(!1)}})),p().createElement(de.u,{variant:de.I.small},p().createElement(pe.k,{color:ge.ZP.value,icon:fe.ZP}),p().createElement(q.D,{headingLevel:"h4"},"Group name already taken"),p().createElement(me.B,null,"Please return to Step 1: Group information and choose a unique name for your group."),p().createElement(g.zx,{variant:"primary",onClick:function(){return document.getElementsByClassName("pf-c-wizard__nav-link")[0].click()}},"Return to Step 1"))};he.propTypes={setHideFooter:D().func};const be=he;function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(36127);var ye=function(e){var t=e.addNotification,n=e.addGroup,r=e.postMethod,o=e.closeUrl,a=(0,d.useState)([]),i=s()(a,2),l=i[0],u=i[1],c=(0,d.useState)([]),f=s()(c,2),g=f[0],h=f[1],b=(0,d.useState)({}),v=s()(b,2),y=v[0],O=v[1],_=(0,d.useState)(!1),w=s()(_,2),D=w[0],C=w[1],k=(0,d.useState)(!1),S=s()(k,2),x=S[0],P=S[1],G=(0,d.useState)(!1),L=s()(G,2),N=L[0],q=L[1],T=(0,m.useHistory)(),F=[{name:"Name and description",component:new H(y,(function(e){O(Ee(Ee({},y),e))}),C,D,N,q),enableNext:D&&!N},{name:"Add roles",component:new ce({formData:y,selectedRoles:g,setSelectedRoles:h}),canJumpTo:D&&!N},{name:"Add members",component:new $({formData:y,selectedUsers:l,setSelectedUsers:u}),canJumpTo:D&&!N},{name:"Review details",component:D?new A({values:y,selectedUsers:l,selectedRoles:g,setHideFooter:P}):p().createElement(be,{setHideFooter:P}),nextButtonText:"Confirm",enableNext:D&&!N,canJumpTo:D&&!N}],M=function(){var e=R()(E().mark((function e(){var a,i,u;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ee(Ee({},y),{},{user_list:l?l.map((function(e){return{username:e.label}})):void 0,roles_list:g?g.map((function(e){return e.uuid})):void 0}),e.next=3,n(i);case 3:!0===(null==(u=e.sent)||null===(a=u.value)||void 0===a?void 0:a.error)?C(!1):(r(),t({variant:"success",title:"Success adding group",dismissDelay:8e3,dismissable:!1,description:"The group was added successfully."}),T.push(o));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){t({variant:"warning",title:"Adding group",dismissDelay:8e3,dismissable:!1,description:"Adding group was canceled by the user."}),T.push("/groups")},U=(0,d.useState)(!1),B=s()(U,2),z=B[0],Z=B[1];return p().createElement(p().Fragment,null,p().createElement(j.e,{className:z&&"ins-m-wizard__hidden",title:"Create group",description:"To give users access permissions, create a group and add roles and members to it.",isOpen:!0,onClose:function(){Object.values(y).filter(Boolean).length>0||g.length>0||l.length>0?Z(!0):I()},onSave:M,steps:F,footer:x?p().createElement("div",null):void 0}),p().createElement(se.R,{type:"group",isOpen:z,onModalCancel:function(){return Z(!1)},onConfirmCancel:I}))};ye.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups",postMethod:function(){}},ye.propTypes={addGroup:D().func.isRequired,addNotification:D().func.isRequired,fetchGroup:D().func.isRequired,inputValue:D().string,selectedUsers:D().array,match:D().object,postMethod:D().func,closeUrl:D().string};const Re=(0,O.connect)((function(e){var t=e.roleReducer,n=t.roles.meta,r=t.filterValue;return{pagination:n,isLoading:t.isLoading,searchFilter:r}}),(function(e){return(0,_.bindActionCreators)({addNotification:C.addNotification,addGroup:k.Rp,fetchGroup:k.yi,fetchRoles:S.vd,fetchUsers:x.u},e)}))(ye);var Oe=n(87242),_e=n(24154),we=n(73559),De=n(80236),je=n(72389);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.addNotification,n=e.updateGroup,r=e.postMethod,o=e.closeUrl,a=e.isOpen,i=e.group,l=e.onClose,u=(0,d.useState)(void 0),c=s()(u,2),f=c[0],g=c[1],h=(0,m.useHistory)(),b=(0,m.useRouteMatch)("/groups/edit/:id"),v=function(e){g(e)};(0,d.useEffect)((function(){b&&(0,k.yi)(b.params.id).payload.then((function(e){return v(e)})).catch((function(){return v(void 0)}))}),[]),(0,d.useEffect)((function(){g(i)}),[i]);var E=function(){t({variant:"warning",dismissDelay:8e3,dismissable:!1,title:f?"Editing group":"Adding group",description:f?"Edit group was canceled by the user.":"Adding group was canceled by the user."}),l(),h.push(o)},y={fields:[{name:"name",label:"Name",component:Oe.Z.TEXT_FIELD,validate:[{type:_e.Z.REQUIRED}]},{name:"description",label:"Description",component:Oe.Z.TEXTAREA}]};return p().createElement(De.u,{variant:De.v.medium,title:"Edit group's information",isOpen:a,onClose:E},f?p().createElement(je.Z,{schema:y,schemaType:"mozilla",onCancel:E,onSubmit:function(e){var t=ke({},e);r?n(t).then((function(){return r()})).then(h.push(o)):n(t).then((function(){return h.push(o)}))},formContainer:"modal",initialValues:ke({},f)}):p().createElement(we.O,null))};Se.defaultProps={closeUrl:"/groups",onClose:function(){return null},onSubmit:function(){return null}},Se.propTypes={addNotification:D().func.isRequired,fetchGroup:D().func.isRequired,inputValue:D().string,updateGroup:D().func.isRequired,postMethod:D().func,closeUrl:D().string,isOpen:D().bool,group:D().object,onClose:D().func};const xe=(0,O.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return(0,_.bindActionCreators)({addNotification:C.addNotification,updateGroup:k.mD,fetchGroup:k.yi},e)}))(Se);var Pe=n(93149),Ge=n(69957),Le=n(55917),Ne=function(e){var t=e.removeGroups,n=e.group,r=e.isLoading,o=e.fetchGroup,a=e.groupsUuid,i=e.isModalOpen,l=e.postMethod,u=e.closeUrl;(0,d.useEffect)((function(){1===a.length&&o(a[0].uuid)}),[]);var c=(0,m.useHistory)(),f=(0,d.useState)(!1),h=s()(f,2),b=h[0],v=h[1],E=a.length>1,y=function(){return c.goBack()};return p().createElement(De.u,{isOpen:i,variant:De.v.small,title:p().createElement(L.x,null,p().createElement(Ge.ZP,{className:"delete-group-warning-icon"}),"  ",E?"Delete groups?":"Delete group?"),onClose:y,actions:[p().createElement(g.zx,{key:"submit",isDisabled:!b,variant:"danger",type:"button",onClick:function(){var e=a.map((function(e){return e.uuid}));t(e).then((function(){return l(e)})).then(c.push(u))}},E?"Delete groups":"Delete group"),p().createElement(g.zx,{key:"cancel",variant:"link",type:"button",onClick:y},"Cancel")]},p().createElement(N.D,null,E?p().createElement(L.x,null,"Deleting these ",p().createElement("b",null,a.length)," groups removes all roles from the members inside the group."):r?p().createElement(Le.Z0,null):p().createElement(L.x,null,"Deleting the ",p().createElement("b",null,n.name)," group removes all roles from the members inside the group."))," ",p().createElement(Pe.X,{isChecked:b,onChange:function(){return v(!b)},label:"I understand that this action cannot be undone.",id:"delete-group-check"}))};Ne.defaultProps={isModalOpen:!1,group:{},groupsUuid:[],isLoading:!0,closeUrl:"/groups"},Ne.propTypes={isModalOpen:D().bool,removeGroups:D().func.isRequired,fetchGroup:D().func.isRequired,postMethod:D().func,isLoading:D().bool,group:D().object,groupsUuid:D().array,closeUrl:D().string};const qe=(0,O.connect)((function(e){var t=e.groupReducer.selectedGroup;return{group:t,isLoading:!t.loaded}}),(function(e){return(0,_.bindActionCreators)({fetchGroup:k.yi,removeGroups:k.gg},e)}))(Ne);var Te=n(89478),Ae=n(91290),Fe=n(37377),Me=n(94184),Ie=n.n(Me),Ue=function(e){var t=e.uuid,n=(0,d.useState)(!1),r=s()(n,2),o=r[0],a=r[1],i=(0,d.useRef)(null);return p().createElement("span",{ref:i,key:"".concat(t,"-popover"),id:"default-group-popover"},p().createElement(Fe.J,{zIndex:"110",position:"right",isVisible:o,shouldClose:function(){return a(!1)},hideOnOutsideClick:!0,bodyContent:"This group contains the roles that all users in your organization inherit by default.",appendTo:i.current},p().createElement(Ae.ZP,{onClick:function(){return a(!o)},className:Ie()("pf-c-question-circle-icon",{"icon-active":o})})))};Ue.propTypes={uuid:D().string.isRequired};var Be=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.uuid,o=t.name,a=t.roleCount,i=t.principalCount,l=t.modified,c=t.platform_default;return[].concat(u()(e),[{uuid:r,isPlatformDefault:c,cells:[p().createElement(d.Fragment,{key:r},p().createElement("div",{className:"pf-m-inline-flex"},p().createElement(m.Link,{key:"".concat(r,"-link"),to:"/groups/detail/".concat(r)},o),c&&p().createElement(Ue,{uuid:r}))),a,i,p().createElement(d.Fragment,{key:"".concat(r,"-modified")},p().createElement(Te.t,{date:l,type:"relative"}))],selected:Boolean(n&&n.find((function(e){return e.uuid===r})))}])}),[])},ze=n(90832),Ze=n(48099),Ke=(n(11284),function(e){var t=e.history.push,n=e.location.pathname,r=e.tabItems,o=e.isHeader,a=r.find((function(e){var t=e.name;return n.includes(t)}));return p().createElement(ze.m,{className:o?"ins-rbac-page-header__tabs":"",activeKey:a?a.eventKey:0,onSelect:function(e,n){return t(r[n].name)}},r.map((function(e){return p().createElement(Ze.O,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))});Ke.propTypes={location:D().shape({pathname:D().string.isRequired}),history:D().shape({push:D().func.isRequired}),tabItems:D().array.isRequired,isHeader:D().bool};const Ve=(0,m.withRouter)(Ke);var He=n(37671),We=n(69174),Xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.is_active,o=t.username,a=t.email,i=t.first_name,l=t.last_name;return[].concat(u()(e),[{uuid:o,username:o,cells:[{title:p().createElement(We._,{color:r&&"green"},r?"Active":"Inactive"),props:{data:{isActive:r}}},o,a,l,i],selected:n.find((function(e){return e.uuid===o}))}])}),[])},Je=n(62394),Qe=n(52643),$e=function(e){var t=e.history.push,n=e.match.params.uuid,r=e.addNotification,o=e.closeUrl,a=e.addMembersToGroup,i=e.fetchMembersForGroup,l=(0,d.useState)([]),u=s()(l,2),c=u[0],m=u[1],f=function(){r({variant:"warning",title:"Adding member".concat(c.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(c.length>1?"s":""," to group was canceled by the user.")}),t(o)};return p().createElement(De.u,{title:"Add members",variant:De.v.medium,isOpen:!0,actions:[p().createElement(g.zx,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===c.length,variant:"primary",onClick:function(){var e=c.map((function(e){return{username:e.label}}));e.length>0&&(r({variant:"info",title:"Adding member".concat(e.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(e.length>1?"s":""," to group initiated.")}),a(n,e).then((function(){return i(n)}))),t(o)}},"Add to group"),p().createElement(g.zx,{id:"add-groups-cancel",ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:f},"Cancel")],onClose:f},p().createElement(h.K,{hasGutter:!0},p().createElement(b.v,null,p().createElement(N.D,null,p().createElement(J.Z,{description:"These are all of the users in your Red Hat organization. To manage users, go to your"}))),p().createElement(b.v,null,p().createElement(X.i,{selectedUsers:c,setSelectedUsers:m}))))};$e.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},$e.propTypes={history:D().shape({goBack:D().func.isRequired,push:D().func}).isRequired,addGroup:D().func.isRequired,addNotification:D().func.isRequired,fetchData:D().func.isRequired,fetchMembersForGroup:D().func.isRequired,inputValue:D().string,users:D().array,selectedUsers:D().array,match:D().object,closeUrl:D().string,addMembersToGroup:D().func.isRequired};const Ye=(0,m.withRouter)((0,O.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return(0,_.bindActionCreators)({addNotification:C.addNotification,addGroup:k.Rp,addMembersToGroup:k.dy,fetchMembersForGroup:k.nd},e)}))($e));var et=n(31158),tt=n(83341),nt=n(33723),rt=n(60306);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=[{title:"Status",transforms:[f.nowrap]},{title:"Username"},{title:"Email"},{title:"Last name"},{title:"First name"}],lt=function(e){var t=e.groupReducer,n=t.groups,r=t.selectedGroup;return{principals:r.members.data,pagination:r.members.meta,userIdentity:n.identity,groupName:r.name,platform_default:r.platform_default,isLoading:r.members.isLoading}},ut=function(e,t,n){return n?p().createElement("p",null,"These ",p().createElement("b",null," ","".concat(e))," members will lose all the roles associated with the ",p().createElement("b",null,"".concat(t))," group."):p().createElement("p",null,p().createElement("b",null,"".concat(e))," will lose all the roles associated with the ",p().createElement("b",null," ","".concat(t))," group.")};const ct=function(){var e=(0,d.useState)(""),t=s()(e,2),n=t[0],r=t[1],a=(0,d.useState)([]),i=s()(a,2),l=i[0],c=i[1],f=(0,d.useState)(!1),h=s()(f,2),b=h[0],v=h[1],E=(0,d.useState)((function(){return null})),y=s()(E,2),R=y[0],_=y[1],w=(0,d.useState)({}),D=s()(w,2),j=D[0],C=D[1],S=(0,m.useParams)().uuid,x=(0,O.useSelector)(lt,O.shallowEqual),P=x.principals,G=x.pagination,q=x.groupName,T=x.userIdentity,A=x.isLoading,F=x.platform_default,M=(0,O.useDispatch)(),I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;M((0,k.nd)(S,e,t))};(0,d.useEffect)((function(){I()}),[]);var U=function(e){return M((0,k.tz)(S,e)).then((function(){c([]),I(void 0,at(at({},G),{},{offset:0}))}))},B=(0,m.useHistory)();return p().createElement(d.Fragment,null,p().createElement(tt.Z,{text:j.text,title:j.title,confirmButtonLabel:j.confirmButtonLabel,isOpen:b,onClose:function(){return v(!1)},onSubmit:function(){v(!1),R()}}),p().createElement(et.$,{type:"content",id:"tab-principals"},F?p().createElement(W.Z,null,p().createElement(Je.e,null,p().createElement(Qe.b,null,p().createElement(N.D,null,p().createElement(L.x,{component:L.q.h1},"All users in this organization are members of this group."))))):p().createElement(te.M,{data:(P||[]).map((function(e){return at(at({},e),{},{uuid:e.username})})),isSelectable:T&&T.user&&T.user.is_org_admin,createRows:Xe,columns:it,routes:function(){return p().createElement(d.Fragment,null,p().createElement(m.Route,{path:rt._j.dZ,render:function(e){return p().createElement(Ye,o()({fetchData:I,closeUrl:"/groups/detail/".concat(S,"/members")},e))}}))},actionResolver:function(){return T&&T.user&&T.user.is_org_admin?[{title:"Remove",onClick:function(e,t,n){_((function(){return function(){return U([n.username.title])}})),C({title:"Remove member?",text:ut(n.username.title,q,!1),confirmButtonLabel:"Remove member"}),v(!0)}}]:null},filterPlaceholder:"username",titlePlural:"members",titleSingular:"member",ouiaId:"members-table",pagination:G,filterValue:n,fetchData:function(e){var t=e.limit,n=e.offset,r=e.name;return I(r,{limit:t,offset:n})},setFilterValue:function(e){var t=e.name;return r(t)},checkedRows:l,isLoading:A,rowWrapper:nt.Z,setCheckedItems:function(e){c((function(t){return e(t)}))},toolbarButtons:function(){return u()(T&&T.user&&T.user.is_org_admin?[p().createElement(m.Link,{to:"/groups/detail/".concat(S,"/members/add_members"),key:"remove-from-group",className:"pf-m-visible-on-md"},p().createElement(g.zx,{variant:"primary","aria-label":"Add member"},"Add member")),{label:"Add member",props:{className:"pf-m-hidden-on-md"},onClick:function(){B.push("/groups/detail/".concat(S,"/members/add_members"))}},{label:"Remove",props:{isDisabled:!l||!l.length>0,variant:"danger"},onClick:function(){var e=l.length>1,t=e?"Remove members?":"Remove member?";_((function(){return function(){return U(l.map((function(e){return e.uuid})))}})),C({title:t,confirmButtonLabel:t,text:ut(e?l.length:l[0].uuid,q,e)}),v(!0)}}]:[])},emptyProps:{title:"There are no members in this group",description:["Add a user to configure user access.",""]}})))};var st=n(35224),dt=function(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit;return p().createElement(tt.Z,{text:p().createElement(N.D,null,p().createElement(L.x,null,"Once you edit the ",p().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name will change to ",p().createElement("b",null,"Custom default access"),".")),title:"Warning",withCheckbox:!0,isOpen:t,confirmButtonLabel:"Continue",onClose:n,onSubmit:r})};dt.propTypes={onSubmit:D().func,onClose:D().func,isOpen:D().bool};const pt=dt;var mt=function(e){var t=e.history.push,n=e.match.params.uuid,r=e.selectedRoles,o=e.setSelectedRoles,a=e.title,i=e.closeUrl,l=e.addRolesToGroup,u=e.name,c=e.isDefault,m=e.isChanged,f=e.addNotification,v=e.onDefaultGroupChanged,E=e.fetchRolesForGroup,y=(0,d.useState)(!0),R=s()(y,2),O=R[0],_=R[1],w=function(){f({variant:"warning",title:"Adding roles to group",dismissDelay:8e3,dismissable:!1,description:"Adding roles to group was canceled by the user."}),t(i)};return c&&!m&&O?p().createElement(pt,{isOpen:O,onClose:w,onSubmit:function(){return _(!1)}}):p().createElement(De.u,{title:"Add roles to group",variant:De.v.medium,isOpen:!0,onClose:function(){w(),_(!0)},actions:[p().createElement(g.zx,{"aria-label":"Save",ouiaId:"primary-save-button",variant:"primary",key:"confirm",isDisabled:0===r.length,onClick:function(){var e=r.map((function(e){return e.uuid}));return l(n,e,E),c&&!m&&v(!0),t(i)}},"Add to group"),p().createElement(g.zx,{"aria-label":"Cancel",ouiaId:"secondary-cancel-button",variant:"link",key:"cancel",onClick:w},"Cancel")]},p().createElement(h.K,{hasGutter:!0},a&&p().createElement(b.v,null,p().createElement(q.D,{headingLevel:"h4",size:"xl"},a)),p().createElement(b.v,null,p().createElement(N.D,null,p().createElement(L.x,{component:L.q.p},"This role list has been filtered to only show roles that are not currently in ",p().createElement("b",null," ",u),"."))),p().createElement(b.v,null,p().createElement(W.Z,null,p().createElement(le,{selectedRoles:r,setSelectedRoles:o})))))};mt.propTypes={history:D().shape({push:D().any,goBack:D().func.isRequired}).isRequired,match:D().shape({params:D().object.isRequired}).isRequired,selectedRoles:D().array,setSelectedRoles:D().func,addRolesToGroup:D().func,closeUrl:D().string,title:D().string,name:D().string,isDefault:D().bool,isChanged:D().bool,addNotification:D().func,onDefaultGroupChanged:D().func,fetchRolesForGroup:D().func};const ft=mt;var gt=function(e){var t=e.title,n=e.text,r=e.onClose,o=e.onSubmit,a=e.isOpen,i=e.confirmButtonLabel,l=e.isDefault,u=e.isChanged,c=(0,d.useState)(!0),m=s()(c,2),f=m[0],g=m[1];return l&&!u&&f?p().createElement(pt,{isOpen:f&&a,onClose:function(){r()},onSubmit:function(){g(!1)}}):p().createElement(tt.Z,{text:n,title:t,isOpen:a,confirmButtonLabel:i,onClose:function(){r(),g(!0)},onSubmit:function(){o()}})};gt.propTypes={text:D().node,title:D().node,confirmButtonLabel:D().string,onSubmit:D().func,onClose:D().func,isOpen:D().bool,isDefault:D().bool,isChanged:D().bool},gt.defaultProps={isDefault:!1,isChanged:!1};const ht=gt;function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(22886);var Et=[{title:"Name",orderBy:"name"},{title:"Description"},{title:"Last modified"}],yt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t?t.reduce((function(t,n){var o=n.uuid,a=n.display_name,i=n.name,l=n.description,c=n.modified;return[].concat(u()(t),[{uuid:o,title:a||i,cells:[p().createElement(d.Fragment,{key:"".concat(o,"-name")},p().createElement(m.Link,{to:"/groups/detail/".concat(e,"/roles/detail/").concat(o)},a||i)),l,p().createElement(d.Fragment,{key:"".concat(o,"-modified")},p().createElement(Te.t,{date:c,type:"relative"}))],selected:Boolean(r&&r.find((function(e){return e.uuid===o})))}])}),[]):[]},Rt=function(e){var t=e.roles,n=e.fetchRoles,r=e.removeRoles,a=e.addRoles,i=e.fetchRolesForGroup,l=e.isLoading,c=e.pagination,f=e.match.params.uuid,h=e.userIdentity,b=e.name,v=e.isDefault,E=e.isChanged,y=e.onDefaultGroupChanged,R=e.fetchAddRolesForGroup,O=e.disableAddRoles,_=e.addNotification,w=(0,d.useState)(""),D=s()(w,2),j=D[0],C=D[1],k=(0,d.useState)(""),S=s()(k,2),x=S[0],P=S[1],G=(0,d.useState)([]),L=s()(G,2),N=L[0],q=L[1],T=(0,d.useState)([]),A=s()(T,2),F=A[0],M=A[1],I=(0,d.useState)(!1),U=s()(I,2),B=U[0],z=U[1],Z=(0,d.useState)((function(){return null})),K=s()(Z,2),V=K[0],H=K[1],W=(0,d.useState)({}),X=s()(W,2),J=X[0],Q=X[1];(0,d.useEffect)((function(){i(c)(f)}),[]),(0,d.useEffect)((function(){R(f)}),[t]);var $=function(e,t,n){return p().createElement("p",null,"Members in the ",p().createElement("b",null,e)," group will lose the permissions in ",n?"these":"the",p().createElement("b",null," ",t)," role",n?"s":"",".")},Y=(0,m.useHistory)();return p().createElement(p().Fragment,null,p().createElement(ht,{text:J.text,title:J.title,isOpen:B,isChanged:E,isDefault:v,confirmButtonLabel:J.confirmButtonLabel,onClose:function(){return z(!1)},onSubmit:function(){z(!1),V(),q([]),y(v&&!E)}}),p().createElement(et.$,{type:"content",id:"tab-roles"},p().createElement(te.M,{columns:Et,isSelectable:h&&h.user&&h.user.is_org_admin,createRows:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yt.apply(void 0,[f].concat(t))},data:t,filterValue:x,fetchData:function(e){i(e)(f)},setFilterValue:function(e){var t=e.name,n=e.description;void 0!==t&&P(t),void 0!==n&&C(n)},isLoading:l,pagination:c,checkedRows:N,setCheckedItems:function(e){q((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role",toolbarButtons:function(){return u()(h&&h.user&&h.user.is_org_admin?[p().createElement(m.Link,{className:"pf-m-visible-on-md ins-c-button__add-role".concat(O&&"-disabled"),to:"/groups/detail/".concat(f,"/roles/add_roles"),key:"add-to-group"},(e=O,n=p().createElement(g.zx,{variant:"primary","aria-label":"Add role",isAriaDisabled:e},"Add role"),e?p().createElement(st.u,{content:"All available roles have already been added to the group"},n):n)),{label:"Add role",props:{isDisabled:O,className:"pf-m-hidden-on-md"},onClick:function(){Y.push("/groups/detail/".concat(f,"/roles/add_roles"))}},{label:"Remove",props:{isDisabled:!N||!N.length>0,variant:"danger"},onClick:function(){var e=N.length>1;H((function(){return function(){return r(f,N.map((function(e){return e.uuid})),(function(){return i(vt(vt({},c),{},{offset:0}))(f)}))}})),Q({title:e?"Remove roles?":"Remove role?",confirmButtonLabel:N.length>1?"Remove roles":"Remove role",text:$(b,e?N.length:t.find((function(e){return e.uuid===N[0].uuid})).name,e)}),z(!0)}}]:[]);var e,n},actionResolver:function(){return u()(h&&h.user&&h.user.is_org_admin?[{title:"Remove",onClick:function(e,t,n){H((function(){return function(){return r(f,[n.uuid],(function(){return i(vt(vt({},c),{},{offset:0}))(f)}))}})),Q({title:"Remove role?",confirmButtonLabel:"Remove role",text:$(b,n.title,!1)}),z(!0)}}]:[])},routes:function(){return p().createElement(d.Fragment,null,p().createElement(m.Route,{path:rt._j.Pc,render:function(e){return p().createElement(ft,o()({fetchData:n,fetchRolesForGroup:function(){return i(vt(vt({},c),{},{offset:0}))(f)},selectedRoles:F,setSelectedRoles:M,closeUrl:"/groups/detail/".concat(f,"/roles"),addRolesToGroup:a,name:b,isDefault:v,isChanged:E,addNotification:_,onDefaultGroupChanged:y},e))}}))},ouiaId:"roles-table",emptyProps:{title:"There are no roles in this group",description:["Add a role to configure user access.",""]},filters:[{key:"name",value:x},{key:"description",value:j}]})))},Ot=function(e,t){return e.payload.then(t),e};Rt.propTypes={history:D().shape({goBack:D().func.isRequired,push:D().func.isRequired}),roles:D().array,isLoading:D().bool,searchFilter:D().string,fetchRoles:D().func.isRequired,fetchRolesForGroup:D().func.isRequired,fetchAddRolesForGroup:D().func.isRequired,selectedRoles:D().array,addRoles:D().func,name:D().string,removeRoles:D().func,pagination:D().shape({limit:D().number.isRequired,offset:D().number.isRequired,count:D().number}),match:D().shape({params:D().object.isRequired}).isRequired,userIdentity:D().shape({user:D().shape({is_org_admin:D().bool})}),isDefault:D().bool,isChanged:D().bool,onDefaultGroupChanged:D().func,disableAddRoles:D().bool.isRequired,addNotification:D().func},Rt.defaultProps={roles:[],pagination:ee.eX,selectedRoles:[],userIdentity:{}};const _t=(0,O.connect)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.groups,o=n.roles;return{roles:o,pagination:n.pagination||vt(vt({},ee.he),{},{count:o&&o.length}),isLoading:!n.loaded,userIdentity:r.identity,name:n.name,isDefault:n.platform_default,isChanged:!n.system,disableAddRoles:!(n.addRoles.pagination&&n.addRoles.pagination.count>0)}}),(function(e){return{fetchRoles:function(t){e((0,S.vd)((0,Y.jl)(t)))},addRoles:function(t,n,r){return e(Ot((0,k.Wj)(t,n),r))},removeRoles:function(t,n,r){return e(Ot((0,k.W3)(t,n),r))},fetchRolesForGroup:function(t){return function(n,r){return e((0,k.nV)(n,t,r))}},fetchAddRolesForGroup:function(t){return e((0,k.nr)(t,{},{}))},addNotification:function(){return e(C.addNotification.apply(void 0,arguments))},fetchGroup:function(t){return e((0,k.yi)(t))}}}))(Rt);var wt=n(43547),Dt=n(56715),jt=n(79851),Ct=n(34512),kt=n(84457),St=n(56787),xt=n(94024),Pt=n(53688),Gt=(n(54202),function(e){var t=e.match.params.uuid,n=e.group,r=e.fetchGroup,a=e.isFetching,i=e.onDelete,l=[{eventKey:0,title:"Roles",name:"/groups/detail/".concat(t,"/roles")},{eventKey:1,title:"Members",name:"/groups/detail/".concat(t,"/members")}],u=(0,d.useState)(!1),c=s()(u,2),f=c[0],g=c[1],h=(0,d.useState)(!1),b=s()(h,2),v=b[0],E=b[1],y=function(e){r(e)},R=(0,O.useDispatch)(),_=(0,m.useLocation)();(0,d.useEffect)((function(){return y(t),insights.chrome.appObjectId(t),function(){return insights.chrome.appObjectId(void 0)}}),[]);var w,D=[p().createElement(kt.h,{component:p().createElement(m.Link,{to:(_.pathname.includes("members")?rt._j.Rx:rt._j.Xi).replace(":uuid",t)},"Edit"),key:"edit-group"}),p().createElement(kt.h,{component:p().createElement(m.Link,{onClick:i,to:function(){return(_.pathname.includes("members")?rt._j.Se:rt._j.ub).replace(":uuid",t)}},"Delete"),className:"ins-c-group__action",key:"delete-group"})];return p().createElement(d.Fragment,null,p().createElement(He.Q,{breadcrumbs:[{title:"Groups",to:"/groups"},{title:a?void 0:n.name,isActive:!0}]},p().createElement(jt.P,{hasGutter:!0},p().createElement(Ct.J,{isFilled:!0},p().createElement(He.y,{title:!a&&n?p().createElement(d.Fragment,null,n.platform_default&&!n.system?(w=n.name,p().createElement("div",{style:{display:"inline-flex"}},w,p().createElement("div",{className:"pf-u-ml-sm"},p().createElement(Fe.J,{"aria-label":"default-group-icon",bodyContent:p().createElement("div",null,"Now that you have edited the ",p().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name has changed to ",p().createElement("b",null,"Custom default access"),".")},p().createElement(Pt.ZP,{className:"ins-c-rbac__default-group-info-icon"}))))):n.name):void 0,description:!a&&n?n.description:void 0})),p().createElement(Ct.J,null,n.platform_default?null:p().createElement(St.L,{ouiaId:"group-title-actions-dropdown",toggle:p().createElement(xt.a,{onToggle:function(e){return g(e)},id:"group-actions-dropdown"}),isOpen:f,isPlain:!0,position:"right",dropdownItems:D}))),v?p().createElement(wt.b,{variant:"info",isInline:!0,title:"Default access group has changed",action:p().createElement(Dt.g,{onClose:function(){return E(!1)}}),className:"pf-u-mb-lg pf-u-mt-sm"},"Now that you have edited the ",p().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name has changed to ",p().createElement("b",null,"Custom default access"),"."):null),p().createElement(Ve,{isHeader:!0,tabItems:l}),p().createElement(m.Route,{path:[rt._j.ub,rt._j.Se],render:function(e){return p().createElement(qe,o()({},e,{postMethod:function(){R((0,k.bt)())},isModalOpen:!0,groupsUuid:[n]}))}}),p().createElement(m.Route,{path:[rt._j.Xi,rt._j.Rx],render:function(e){return p().createElement(xe,o()({},e,{isOpen:!0,group:n,closeUrl:"group/detail/".concat(t),postMethod:function(){y(t)}}))}}),p().createElement(m.Route,{path:rt._j.mh,render:function(e){return p().createElement(_t,o()({},e,{onDefaultGroupChanged:E}))}}),p().createElement(m.Route,{path:rt._j.C1,component:ct}),p().createElement(m.Route,{render:function(){return p().createElement(m.Redirect,{to:"/groups/detail/".concat(t,"/roles")})}}),!n&&p().createElement(Le.Wi,null))});Gt.propTypes={location:D().shape({pathname:D().string.isRequired}),history:D().shape({push:D().func.isRequired}),match:D().object,group:D().shape({uuid:D().string,name:D().string,description:D().string,platform_default:D().bool,system:D().bool}),isFetching:D().bool,fetchGroup:D().func,onDelete:D().func},Gt.defaultProps={isFetching:!1};const Lt=(0,O.connect)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.isRecordLoading,o=t.isRecordRolesLoading;return{group:n,isFetching:r||o}}),(function(e){return(0,_.bindActionCreators)({fetchGroup:k.yi},e)}))(Gt);var Nt=n(93537),qt=n(6479),Tt=n.n(qt),At=function(e){var t=e.className,n=e.row,r=Tt()(e,["className","row"]);return p().createElement(f.RowWrapper,o()({className:Ie()(t,{"ins-c-rbac__group-default":n.isPlatformDefault}),row:n},r))};At.propTypes={row:D().shape({isPlatformDefault:D().bool}),className:D().string};const Ft=At;n(82414);var Mt=n(6562);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=[{title:"Name",key:"name",transforms:[f.sortable]},{title:"Roles"},{title:"Members"},{title:"Last modified",key:"modified",transforms:[f.sortable]}];const zt=function(){var e=(0,d.useState)(""),t=s()(e,2),n=t[0],r=t[1],a=(0,d.useState)([]),i=s()(a,2),l=i[0],c=i[1],f=(0,d.useState)([]),v=s()(f,2),E=v[0],y=v[1],R=(0,O.useDispatch)(),_=(0,O.useSelector)((function(e){var t,r,o=e.groupReducer,a=o.groups,i=o.isLoading,l=o.systemGroup;return{groups:[].concat(u()((null==l||null===(t=l.name)||void 0===t?void 0:t.match(new RegExp(n,"i")))?[l]:[]),u()((null==a||null===(r=a.data)||void 0===r?void 0:r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform_default;return!t})))||[])),pagination:a.meta,userIdentity:a.identity,isLoading:i,systemGroup:l}}),O.shallowEqual),w=_.groups,D=_.pagination,j=_.userIdentity,C=_.isLoading;(0,d.useEffect)((function(){insights.chrome.appNavClick({id:"groups",secondaryNav:!0}),R((0,k.bt)(Ut(Ut({},D),{},{name:n}))),R((0,k.WD)(n))}),[]);var S=(0,m.useHistory)(),x=function(e){c((function(t){return e(t).filter((function(e){return!e.platform_default})).map((function(e){return{uuid:e.uuid,label:e.name}}))}))},P=function(){return p().createElement(d.Fragment,null,p().createElement(m.Route,{exact:!0,path:rt._j.BC},p().createElement(Re,{postMethod:function(e){R((0,k.bt)(e)),r("")}})),p().createElement(m.Route,{exact:!0,path:rt._j.M5.E},p().createElement(xe,{postMethod:function(e){R((0,k.bt)(e)),r("")},isOpen:!0})),p().createElement(m.Route,{exact:!0,path:rt._j.jz},p().createElement(qe,{postMethod:function(e){R((0,k.bt)()),c(l.filter((function(t){return!e.includes(t.uuid)}))),r("")},isModalOpen:!0,groupsUuid:E})))},G=function(e){return e.isPlatformDefault||!(j&&j.user&&j.user.is_org_admin)?null:[{title:"Edit",onClick:function(e,t,n){S.push("/groups/edit/".concat(n.uuid))}},{title:"Delete",onClick:function(e,t,n){y([n]),S.push(rt._j.jz)}}]},L=function(){return u()(j&&j.user&&j.user.is_org_admin?[p().createElement(m.Link,{to:rt._j.BC,key:"add-group",className:"pf-m-visible-on-md"},p().createElement(g.zx,{ouiaId:"create-group-button",variant:"primary","aria-label":"Create group"},"Create group")),{label:"Create group",props:{className:"pf-m-hidden-on-md"},onClick:function(){S.push(rt._j.BC)}},{label:"Edit",props:{isDisabled:!(1===l.length)},onClick:function(){return S.push("/groups/edit/".concat(l[0].uuid))}},{label:"Delete",props:{isDisabled:!l.length>0},onClick:function(){y(l),S.push(rt._j.jz)}}]:[])};return p().createElement(m.Switch,null,p().createElement(Mt.Z,{pageAction:"role-detail",path:rt._j.T1,render:function(e){return p().createElement(Nt.Z,e)}}),p().createElement(Mt.Z,{pageAction:"group-detail",path:rt._j.fe,render:function(e){return p().createElement(Lt,o()({},e,{onDelete:function(){return r("")}}))}}),p().createElement(Mt.Z,{pageAction:"group-list",path:rt._j.Xx,render:function(){return p().createElement(h.K,null,p().createElement(b.v,null,p().createElement(He.Q,{paddingBottom:!0},p().createElement(He.y,{title:"Groups"}))),p().createElement(b.v,null,p().createElement(et.$,{type:"content",id:"tab-groups"},p().createElement(te.M,{data:w.map((function(e){return e.platform_default?Ut(Ut({},e),{},{principalCount:"All"}):e})),createRows:Be,columns:Bt,isSelectable:j&&j.user&&j.user.is_org_admin,checkedRows:l,setCheckedItems:x,routes:P,actionResolver:G,titlePlural:"groups",titleSingular:"group",ouiaId:"groups-table",pagination:D,filterValue:n,fetchData:function(e){return R((0,k.bt)(e))},setFilterValue:function(e){var t=e.name;return r(t)},toolbarButtons:L,isLoading:C,filterPlaceholder:"name",rowWrapper:Ft}))))}}))}},11284:(e,t,n)=>{var r=n(93379),o=n(10115);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(10115,(function(){"string"==typeof(o=(o=n(10115)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},36127:(e,t,n)=>{var r=n(93379),o=n(70465);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(70465,(function(){"string"==typeof(o=(o=n(70465)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},54202:(e,t,n)=>{var r=n(93379),o=n(49869);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(49869,(function(){"string"==typeof(o=(o=n(49869)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},82414:(e,t,n)=>{var r=n(93379),o=n(53916);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(53916,(function(){"string"==typeof(o=(o=n(53916)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},22886:(e,t,n)=>{var r=n(93379),o=n(90102);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(90102,(function(){"string"==typeof(o=(o=n(90102)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}}}]);
//# sourceMappingURL=182.ec020afb92114ec4b7a2.js.map