"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[9698,459],{35224:(e,t,o)=>{o.d(t,{u:()=>f,D:()=>p});var a=o(65353),r=o(28416),i=o(86478),n=o(38296);const s=e=>{var{className:t,children:o,isLeftAligned:s}=e,l=(0,a.__rest)(e,["className","children","isLeftAligned"]);return r.createElement("div",Object.assign({className:(0,n.css)(i.default.tooltipContent,s&&i.default.modifiers.textAlignLeft,t)},l),o)};s.displayName="TooltipContent";const l=e=>{var{className:t}=e,o=(0,a.__rest)(e,["className"]);return r.createElement("div",Object.assign({className:(0,n.css)(i.default.tooltipArrow,t)},o))};l.displayName="TooltipArrow";var c=o(1774);const d={name:"--pf-v5-c-tooltip--MaxWidth",value:"18.75rem",var:"var(--pf-v5-c-tooltip--MaxWidth)"};var p,u=o(69121);!function(e){e.auto="auto",e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.topStart="top-start",e.topEnd="top-end",e.bottomStart="bottom-start",e.bottomEnd="bottom-end",e.leftStart="left-start",e.leftEnd="left-end",e.rightStart="right-start",e.rightEnd="right-end"}(p||(p={}));let m=1;const f=e=>{var{content:t,position:o="top",trigger:p="mouseenter focus",isVisible:f=!1,isContentLeftAligned:g=!1,enableFlip:v=!0,className:h="",entryDelay:b=300,exitDelay:y=300,appendTo:C=(()=>document.body),zIndex:E=9999,minWidth:A,maxWidth:Z=d.value,distance:k=15,aria:M="describedby",flipBehavior:S=["top","right","bottom","left","top","right","bottom"],id:x="pf-tooltip-"+m++,children:D,animationDuration:w=300,triggerRef:I,"aria-live":N=(I?"polite":"off"),onTooltipHidden:T=(()=>{})}=e,L=(0,a.__rest)(e,["content","position","trigger","isVisible","isContentLeftAligned","enableFlip","className","entryDelay","exitDelay","appendTo","zIndex","minWidth","maxWidth","distance","aria","flipBehavior","id","children","animationDuration","triggerRef","aria-live","onTooltipHidden"]);const B=p.includes("mouseenter"),O=p.includes("focus"),P=p.includes("click"),R="manual"===p,[_,j]=r.useState(!1),F=r.createRef();r.useEffect((()=>{f?W():G()}),[f]);const W=()=>{j(!0)},G=()=>{j(!1)},V={top:i.default.modifiers.top,bottom:i.default.modifiers.bottom,left:i.default.modifiers.left,right:i.default.modifiers.right,"top-start":i.default.modifiers.topLeft,"top-end":i.default.modifiers.topRight,"bottom-start":i.default.modifiers.bottomLeft,"bottom-end":i.default.modifiers.bottomRight,"left-start":i.default.modifiers.leftTop,"left-end":i.default.modifiers.leftBottom,"right-start":i.default.modifiers.rightTop,"right-end":i.default.modifiers.rightBottom},H=Z!==d.value,z=r.createElement("div",Object.assign({"aria-live":N,className:(0,n.css)(i.default.tooltip,h),role:"tooltip",id:x,style:{maxWidth:H?Z:null},ref:F},L),r.createElement(l,null),r.createElement(s,{isLeftAligned:g},t));return r.createElement(u.Popper,{trigger:"none"!==M&&_?"describedby"===M&&D&&D.props&&!D.props["aria-describedby"]?r.cloneElement(D,{"aria-describedby":x}):"labelledby"===M&&D.props&&!D.props["aria-labelledby"]?r.cloneElement(D,{"aria-labelledby":x}):D:D,triggerRef:I,popper:z,popperRef:F,minWidth:void 0!==A?A:"revert",appendTo:C,isVisible:_,positionModifiers:V,distance:k,placement:o,onMouseEnter:B&&W,onMouseLeave:B&&G,onPopperMouseEnter:B&&W,onPopperMouseLeave:B&&G,onFocus:O&&W,onBlur:O&&G,onDocumentClick:P&&((e,t)=>{_?G():e.target===t&&W()}),onDocumentKeyDown:R?null:e=>{R||e.key===c.yu.Escape&&_&&G()},onTriggerEnter:R?null:e=>{e.key===c.yu.Enter&&(_?G():W())},enableFlip:v,zIndex:E,flipBehavior:S,animationDuration:w,entryDelay:b,exitDelay:y,onHidden:T})};f.displayName="Tooltip"},41435:(e,t,o)=>{o.d(t,{Dl:()=>n,dw:()=>r,e4:()=>s,ir:()=>a});var a,r,i=o(28416);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(r||(r={}));const n=i.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),s=i.createContext({keyHandler:null,sendRef:null})},86478:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a}),o(49854);const a={modifiers:{top:"pf-m-top",topLeft:"pf-m-top-left",topRight:"pf-m-top-right",bottom:"pf-m-bottom",bottomLeft:"pf-m-bottom-left",bottomRight:"pf-m-bottom-right",left:"pf-m-left",leftTop:"pf-m-left-top",leftBottom:"pf-m-left-bottom",right:"pf-m-right",rightTop:"pf-m-right-top",rightBottom:"pf-m-right-bottom",textAlignLeft:"pf-m-text-align-left"},themeDark:"pf-v5-theme-dark",tooltip:"pf-v5-c-tooltip",tooltipArrow:"pf-v5-c-tooltip__arrow",tooltipContent:"pf-v5-c-tooltip__content"}},7876:(e,t,o)=>{o.d(t,{Z:()=>s});var a=o(85893),r=o(94184),i=o.n(r),n=function(){return n=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};const s=function(e){var t,o=e.type,r=e.children,s=e.className,l=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o}(e,["type","children","className"]),c=i()(s,((t={})["ins-l-".concat(o)]=void 0!==o,t));return(0,a.jsxs)("section",n({},l,{className:c,children:[" ",r," "]}))}},84414:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(62012),r=o(64756);const i=e=>{const t=(0,a.useNavigate)();return(o,a)=>t((0,r.n)(o,e),a)}},92057:(e,t,o)=>{o.r(t),o.d(t,{default:()=>k});var a=o(28416),r=o.n(a),i=o(86706),n=o(25387),s=o(62012),l=o(5904),c=o(31055),d=o(7876),p=o(62410),u=o(74982),m=o(97246),f=o(77044),g=o(29301),v=o(75614),h=o(86601),b=o(64756),y=o(84414),C=o(2550),E=o(14289);const A=(e=[],t=[])=>e?.reduce(((e,{uuid:o,name:i,clientID:n,owner:s,time_created:l})=>[...e,{uuid:o,title:i,cells:[i,n,s,r().createElement(a.Fragment,{key:`${i}-modified`},r().createElement(p.Z,{date:l,type:(0,g.mh)(l)}))],selected:Boolean(t&&t.find((e=>e.uuid===o)))}]),[]),Z=({groupReducer:{selectedGroup:e,systemGroup:t,groups:o}})=>({serviceAccounts:e.serviceAccounts?.data||[],pagination:{...u.he,...e?.serviceAccounts?.meta||{}},groupsPagination:o.pagination||o.meta,groupsFilters:o.filters,isLoading:e.serviceAccounts.isLoading,isAdminDefault:e.admin_default,systemGroupUuid:t?.uuid,group:e}),k=()=>{const e=(0,n.YB)(),t=(0,i.useDispatch)(),o=(0,y.Z)(),{groupId:p}=(0,s.useParams)(),[u,g]=(0,a.useState)(""),[k,M]=(0,a.useState)(""),[S,x]=(0,a.useState)(""),[D,w]=(0,a.useState)([]),{userAccessAdministrator:I,orgAdmin:N}=(0,a.useContext)(h.Z),T=(0,a.useRef)(N||I),{serviceAccounts:L,pagination:B,isLoading:O,isAdminDefault:P,systemGroupUuid:R}=(0,i.useSelector)(Z),_=(e,o)=>t((0,f.Gr)(e,o)),j=[{title:e.formatMessage(C.Z.description),orderBy:"description"},{title:e.formatMessage(C.Z.clientId),orderBy:"clientID"},{title:e.formatMessage(C.Z.owner),orderBy:"owner"},{title:e.formatMessage(C.Z.timeCreated),orderBy:"timeCreated"}],F=(0,a.useCallback)((()=>{p!==v.Cn?_(p,B):R&&_(R,B)}),[R,p]);return(0,a.useEffect)((()=>{F()}),[R]),(0,a.useEffect)((()=>{T.current=N||I}),[N,I]),r().createElement(r().Fragment,null,r().createElement(d.Z,{type:"content",id:"tab-service-accounts"},r().createElement(l.Alert,{className:"rbac-service-accounts-alert",variant:"info",isInline:!0,isPlain:!0,title:e.formatMessage(C.Z.visitServiceAccountsPage,{link:r().createElement(b.Z,{to:"/service-accounts",linkBasename:"/iam"},e.formatMessage(C.Z.serviceAccountsPage))})}),r().createElement(m.M,{columns:j,isSelectable:!0,rows:A(L,D),data:L,filterValue:u,fetchData:e=>{_(p,e)},emptyFilters:{owner:"",description:"",timeCreated:""},setFilterValue:({name:e,description:t})=>{void 0!==e&&M(e),void 0!==t&&g(t),void 0!==S&&x(t)},isLoading:O,pagination:B,checkedRows:D,setCheckedItems:w,titlePlural:e.formatMessage(C.Z.serviceAccounts).toLowerCase(),titleSingular:e.formatMessage(C.Z.serviceAccount),toolbarButtons:()=>[r().createElement(b.Z,{className:"rbac-m-hide-on-sm",to:E.Z["group-add-service-account"].link.replace(":groupId",p),key:"add-to-group"},r().createElement(c.Button,{ouiaId:"add-service-account-button",variant:"primary",className:"rbac-m-hide-on-sm","aria-label":"Add service account to group"},e.formatMessage(C.Z.addServiceAccount))),{label:e.formatMessage(C.Z.remove),value:"remove",props:{isDisabled:0===D.length,isDanger:!0},onClick:()=>{const e=(0,s.createSearchParams)();D.forEach((({name:t})=>e.append("id",t))),o({pathname:E.Z["group-service-accounts-remove-group"].link.replace(":groupId",p),search:e.toString()})}},{label:e.formatMessage(C.Z.addServiceAccount),props:{className:"rbac-m-hide-on-md"},onClick:()=>o(E.Z["group-add-service-account"].link.replace(":groupId",p))}],actionResolver:({uuid:t})=>[...T.current&&!P?[{title:e.formatMessage(C.Z.remove),onClick:()=>o({pathname:E.Z["group-service-accounts-remove-group"].link.replace(":groupId",p),search:(0,s.createSearchParams)({name:t}).toString()})}]:[]],emptyProps:{title:e.formatMessage(C.Z.noGroupAccounts),description:[e.formatMessage(P?C.Z.contactServiceTeamForAccounts:C.Z.addAccountsToThisGroup),""]},filters:[{key:"description",value:u},{key:"owner",value:k}],tableId:"group-accounts",ouiaId:"group-accounts"})),r().createElement(a.Suspense,null,r().createElement(s.Outlet,{context:{[E.Z["group-service-accounts-remove-group"].path]:{postMethod:e=>{o(E.Z["group-detail-service-accounts"].link.replace(":groupId",p)),e&&e.then(F)}},[E.Z["group-add-service-account"].path]:{postMethod:e=>{o(E.Z["group-detail-service-accounts"].link.replace(":groupId",p)),e&&e.then(F)}}}})))}}}]);
//# sourceMappingURL=../sourcemaps/9698.f44cd7acda013db896df27757d58ff6d.js.map