"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[5278,7664],{7081:(e,t,n)=>{n.d(t,{ZP:()=>i,lb:()=>o,wl:()=>c});var r=n(40400);const o={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},c=(0,r.IU)(o),i=c},62410:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(85893),o=n(92950),c=n.n(o),i=n(25864),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)},u=36e5,s=24*u,l=30*s,d=365*s,p=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},f=[{rightBound:1/0,description:function(e){return p(Math.round(e/d),"year")}},{rightBound:d,description:function(e){return p(Math.round(e/l),"month")}},{rightBound:l,description:function(e){return p(Math.round(e/s),"day")}},{rightBound:s,description:function(e){return p(Math.round(e/u),"hour")}},{rightBound:u,description:function(e){return p(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],g=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},v=function(e){return{exact:function(e){return g(e)+" UTC"},onlyDate:function(e){return g(e).slice(0,-6)},relative:function(e){return f.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),g(e))},invalid:function(){return"Invalid date"}}[e]},m=function(e,t,n){return{exact:function(t){return v(e)(t)},onlyDate:function(t){return v(e)(t)},relative:function(o){return function(e,t,n,o){return void 0===o&&(o=""),(0,r.jsx)(i.Tooltip,a({},n,{content:(0,r.jsxs)("div",{children:[o,e]})},{children:t}))}(v("exact")(o),(0,r.jsx)("span",{children:v(e)(o)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,o=void 0===n?"relative":n,i=e.extraTitle,a=e.tooltipProps,u=t instanceof Date?t:new Date(t),s=null==t||"Invalid Date"===u.toString()?"invalid":o;return(0,r.jsx)(c().Fragment,{children:m(s,a,i)(u)})}},44873:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(85893),o=n(94184),c=n.n(o),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};const a=function(e){var t,n=e.type,o=e.children,a=e.className,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["type","children","className"]),s=c()(a,((t={})["ins-l-".concat(n)]=void 0!==n,t));return(0,r.jsxs)("section",i({},u,{className:s},{children:[" ",o," "]}))}},93736:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(46801),o=n(65126);const c=function(e){var t=(0,r.useNavigate)();return function(n,r){return t((0,o.n)(n,e),r)}}},45998:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(29439),o=n(4942),c=n(93433),i=n(92950),a=n.n(i),u=n(50533),s=n(86896),l=n(46801),d=n(25864),p=n(55140),f=n(44873),g=n(62410),v=n(65916),m=n(30060),h=n(19756),y=n(11107),Z=n(84866),b=n(26794),O=n(65126),w=n(93736),P=n(30893),j=n(4682);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return null==e?void 0:e.reduce((function(e,n){var r=n.uuid,o=n.name,u=n.clientID,s=n.owner,l=n.time_created;return[].concat((0,c.Z)(e),[{uuid:r,title:o,cells:[o,u,s,a().createElement(i.Fragment,{key:"".concat(o,"-modified")},a().createElement(g.Z,{date:l,type:(0,y.mh)(l)}))],selected:Boolean(t&&t.find((function(e){return e.uuid===r})))}])}),[])},A=function(e){var t,n,r=e.groupReducer,o=r.selectedGroup,c=r.systemGroup,i=r.groups;return{serviceAccounts:(null===(t=o.serviceAccounts)||void 0===t?void 0:t.data)||[],pagination:M(M({},v.he),(null==o||null===(n=o.serviceAccounts)||void 0===n?void 0:n.meta)||{}),groupsPagination:i.pagination||i.meta,groupsFilters:i.filters,isLoading:o.serviceAccounts.isLoading,isAdminDefault:o.admin_default,systemGroupUuid:null==c?void 0:c.uuid,group:o}};const S=function(){var e,t=(0,s.Z)(),n=(0,p.Z)(),g=(0,u.useDispatch)(),v=(0,w.Z)(),k=(0,l.useParams)().groupId,S=(0,i.useState)(""),D=(0,r.Z)(S,2),E=D[0],B=D[1],C=(0,i.useState)(""),x=(0,r.Z)(C,2),R=x[0],T=x[1],F=(0,i.useState)(""),N=(0,r.Z)(F,2),G=N[0],U=N[1],L=(0,i.useState)([]),_=(0,r.Z)(L,2),z=_[0],V=_[1],J=(0,i.useContext)(b.Z),q=J.userAccessAdministrator,H=J.orgAdmin,K=(0,i.useRef)(H||q),Q=(0,u.useSelector)(A),W=Q.serviceAccounts,X=Q.pagination,Y=Q.groupsPagination,$=Q.groupsFilters,ee=Q.isLoading,te=Q.group,ne=Q.isAdminDefault,re=Q.systemGroupUuid,oe=function(e,t){return g((0,h.Gr)(e,t))},ce=[{title:t.formatMessage(P.Z.description),orderBy:"description"},{title:t.formatMessage(P.Z.clientId),orderBy:"clientID"},{title:t.formatMessage(P.Z.owner),orderBy:"owner"},{title:t.formatMessage(P.Z.timeCreated),orderBy:"timeCreated"}];return(0,i.useEffect)((function(){k!==Z.Cn?oe(k,X):re&&oe(re,X)}),[re]),(0,i.useEffect)((function(){K.current=H||q}),[H,q]),a().createElement(a().Fragment,null,a().createElement(f.Z,{type:"content",id:"tab-service-accounts"},a().createElement(d.Alert,{className:"rbac-service-accounts-alert",variant:"info",isInline:!0,isPlain:!0,title:t.formatMessage(P.Z.visitServiceAccountsPage,{link:a().createElement(O.Z,{to:"/service-accounts",linkBasename:"/iam"},t.formatMessage(P.Z.serviceAccountsPage))})}),a().createElement(m.M,{columns:ce,isSelectable:!0,rows:I(W,z),data:W,filterValue:E,fetchData:function(e){oe(k,e)},emptyFilters:{owner:"",description:"",timeCreated:""},setFilterValue:function(e){var t=e.name,n=e.description;void 0!==t&&T(t),void 0!==n&&B(n),void 0!==G&&U(n)},isLoading:ee,pagination:X,checkedRows:z,setCheckedItems:V,titlePlural:t.formatMessage(P.Z.serviceAccounts).toLowerCase(),titleSingular:t.formatMessage(P.Z.serviceAccount),toolbarButtons:function(){return[a().createElement(O.Z,{className:"rbac-m-hide-on-sm",to:j.Z["group-add-service-account"].link.replace(":groupId",k),key:"add-to-group"},a().createElement(d.Button,{ouiaId:"add-service-account-button",variant:"primary",className:"rbac-m-hide-on-sm","aria-label":"Add service account"},t.formatMessage(P.Z.addServiceAccount))),{label:t.formatMessage(P.Z.addServiceAccount),props:{className:"rbac-m-hide-on-md"},onClick:function(){return v(j.Z["group-add-service-account"].link.replace(":groupId",k))}}]},actionResolver:function(){return(0,c.Z)(K.current&&!ne?[{title:t.formatMessage(P.Z.remove),onClick:function(){return null}}]:[])},emptyProps:{title:t.formatMessage(P.Z.noGroupAccounts),description:[t.formatMessage(ne?P.Z.contactServiceTeamForAccounts:P.Z.addAccountsToThisGroup),""]},filters:[{key:"description",value:E},{key:"owner",value:R}],tableId:"group-accounts",ouiaId:"group-accounts"})),a().createElement(i.Suspense,null,a().createElement(l.Outlet,{context:(e={},(0,o.Z)(e,j.Z["group-service-accounts-edit-group"].path,{group:te,cancelRoute:j.Z["group-detail-service-accounts"].link.replace(":groupId",k),postMethod:function(){return g((0,h.yi)(k))}}),(0,o.Z)(e,j.Z["group-service-accounts-remove-group"].path,{postMethod:function(){return g((0,h.bt)(M(M({},Y),{},{offset:0,filters:$,usesMetaInURL:!0,chrome:n})))},cancelRoute:j.Z["group-detail-service-accounts"].link.replace(":groupId",k),submitRoute:(0,y.zk)(j.Z.groups.link,M(M({},Y),{},{offset:0}),$),groupsUuid:[te]}),(0,o.Z)(e,j.Z["group-add-service-account"].path,{cancelRoute:j.Z["group-detail-service-accounts"].link.replace(":groupId",k),submitRoute:j.Z["group-detail-service-accounts"].link.replace(":groupId",k)}),e)})))}}}]);
//# sourceMappingURL=../sourcemaps/5278.a28a324fdc89559a957289be95ad64df.js.map