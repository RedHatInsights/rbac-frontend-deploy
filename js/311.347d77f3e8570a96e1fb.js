(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[311],{89168:(e,t,n)=>{"use strict";n.d(t,{bt:()=>p,yi:()=>m,mD:()=>v,Rp:()=>b,gg:()=>g,m:()=>O,C$:()=>Z,nV:()=>P,HA:()=>S,Wj:()=>k,V8:()=>D});var r=n(96156),i=n(28481),o=n(92137),s=n(87757),a=n.n(s);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,n(89400).tP)();function p(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(a().mark((function e(t){var n,r,o,s,c,p,d,m,f,v,y,b,h,g,E,O,w,Z;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,o=t.nameMatch,s=t.scope,c=t.username,p=t.filters,d=void 0===p?{}:p,m=t.uuid,f=t.roleNames,v=t.roleDiscriminator,y=t.orderBy,b=t.options,h=t.inModal,g=void 0===h||h,e.next=3,Promise.all([u.listGroups(n,r,d.name,o,s,c,m,f,v,y,b),insights.chrome.auth.getUser()]);case 3:return E=e.sent,O=(0,i.Z)(E,2),w=O[0],Z=O[1],e.abrupt("return",l(l(l({},w),g?{}:{filters:d,pagination:l(l({},null==w?void 0:w.meta),{},{offset:r,limit:n})}),Z));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=u.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=u.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return u.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return R.apply(this,arguments)}function R(){return(R=(0,o.Z)(a().mark((function e(t,n,r){var i,o,s,c,l,p=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.limit,o=r.offset,s=r.name,c=r.description,l=p.length>3&&void 0!==p[3]?p[3]:{},e.next=4,u.listRolesForGroup(t,n,void 0,s,c,!0,i,o,"display_name",l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return T.apply(this,arguments)}function T(){return(T=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e,t){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(a().mark((function e(t,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)(a().mark((function e(t,n){var r,i=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,u.getPrincipalsFromGroup(t,n,void 0,{query:l({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(92950);const i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},1227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(28481),i=n(92950),o=n.n(i),s=n(45697),a=n.n(s),c=n(69957),l=n(489),u=function(e){var t=e.title,n=e.text,s=e.onClose,a=e.onSubmit,u=e.isOpen,p=e.confirmButtonLabel,d=e.withCheckbox,m=(0,i.useState)(!1),f=(0,r.Z)(m,2),v=f[0],y=f[1];return o().createElement(l.Modal,{className:"rbac",title:o().createElement("div",null,o().createElement(c.ZP,{className:"ins-m-alert ins-c-rbac__delete-icon"})," ",t),isOpen:u,variant:l.ModalVariant.small,onClose:s,actions:[o().createElement(l.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:d&&!v,variant:"danger",onClick:a},p),o().createElement(l.Button,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:s},"Cancel")]},o().createElement(l.Split,{hasGutter:!0},o().createElement(l.SplitItem,{isFilled:!0},o().createElement(l.Stack,{hasGutter:!0},o().createElement(l.TextContent,null,n)))),d?o().createElement(l.Checkbox,{isChecked:v,onChange:function(){return y(!v)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)};u.propTypes={text:a().any,title:a().string,confirmButtonLabel:a().string,onSubmit:a().func,onClose:a().func,isOpen:a().bool,withCheckbox:a().bool},u.defaultProps={withCheckbox:!1};const p=u},29215:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,A:()=>d});var r=n(36580),i=n(92137),o=n(87757),s=n.n(o),a=(0,n(89400).i$)();function c(e){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getResourceTypes(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getResource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){return{type:r.s6,payload:c(e)}},m=function(e){return{type:r.ZX,payload:u(e)}}},64007:(e,t,n)=>{"use strict";n.d(t,{bt:()=>a,WD:()=>c,yi:()=>l,Rp:()=>u,mD:()=>p,gg:()=>d,dy:()=>m,tz:()=>f,nV:()=>v,nd:()=>y,nr:()=>b,Wj:()=>h,W3:()=>g});var r=n(36580),i=n(89168),o=n(11107),s=function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"group uuid validation"===n.source)return{error:o.VG};throw e},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:i.bt(e)}},c=function(e){return{type:r.kL,payload:i.bt({limit:1,filters:{name:(null==e?void 0:e.length)>0?e:"default"},nameMatch:"partial"})}},l=function(e){return{type:r._h,payload:i.yi(e).catch(s)}},u=function(e){return{type:r.Po,payload:i.Rp(e).catch((function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"name"===n.source)return{error:!0};throw{message:n.detail,description:n.source}}))}},p=function(e){return{type:r.t3,payload:i.mD(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},d=function(e){return{type:r.v9,payload:i.gg(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},m=function(e,t){return{type:r.Nr,payload:i.C$(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},f=function(e,t){return{type:r.b9,payload:i.m(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},v=function(e,t,n){return{type:r.XS,payload:i.nV(e,!1,t,n).catch(s)}},y=function(e,t,n){return{type:r.Vh,payload:i.V8(e,t,n).catch(s)}},b=function(e,t,n){return{type:r.as,payload:i.nV(e,!0,t,n).catch(s)}},h=function(e,t){return{type:r.fG,payload:i.Wj(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},g=function(e,t){return{type:r.Yc,payload:i.HA(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},40483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(96156),i=n(81253),o=n(22122),s=n(92950),a=n.n(s),c=n(45697),l=n.n(c),u=n(76429),p=n(67850),d=n(48880),m=n(74219),f=n(57820),v=n(16396),y=n(4853),b=["ModalProps","saveLabel","cancelLabel","alert"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g="modal-form",E=function(e){return a().createElement(y.l,(0,o.Z)({},e,{id:g}))},O=function(e){var t=e.saveLabel,n=e.cancelLabel,r=(0,d.default)().onCancel;return a().createElement(u.Z,null,(function(e){var i=e.pristine,o=e.invalid,s=e.validating,c=e.submitting;return a().createElement("div",{className:"pf-c-form"},a().createElement(f.W,{className:"pf-u-mt-0"},a().createElement(v.Button,{ouiaId:"primary-save-button",variant:"primary",form:g,type:"submit",isDisabled:i||s||c||o},t),a().createElement(v.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:r,id:"cancel-modal"},n)))}))};O.propTypes={saveLabel:l().node,cancelLabel:l().node},O.defaultProps={saveLabel:"Save",cancelLabel:"Cancel"};var w=function(e){var t=e.ModalProps,n=e.saveLabel,r=e.cancelLabel,s=e.alert,c=(0,i.Z)(e,b);return a().createElement(m.Modal,(0,o.Z)({},t,{footer:a().createElement(O,{saveLabel:n,cancelLabel:r})}),null==s?void 0:s(),a().createElement(p.ZP,(0,o.Z)({},c,{showFormControls:!1,FormWrapper:E})))};w.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ModalProps:l().object},O.propTypes);const Z=w},36457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(22122),i=n(96156),o=n(81253),s=n(92950),a=n.n(s),c=n(45697),l=n.n(c),u=n(85061),p=n(489),d=["input","options","isReadOnly","isDisabled","isRequired"],m=["label","isRequired","helperText","meta","description","hideLabel"],f=function(e){var t=e.input,n=e.options,i=e.isReadOnly,s=e.isDisabled,c=e.isRequired,l=(0,o.Z)(e,d);return a().createElement(p.FormSelect,(0,r.Z)({},t,l,{isDisabled:s||i}),function(e,t,n){if(t&&n)return e;var r=(0,u.Z)(e);return r.find((function(e){return void 0===e.value}))?(0,u.Z)(r):[{label:n?"Please choose":"None"}].concat((0,u.Z)(r))}(n,t.value,c).map((function(e){return a().createElement(p.FormSelectOption,(0,r.Z)({key:e.value||e.label},e,{label:e.label.toString()}))})))};f.propTypes={input:l().object.isRequired,options:l().arrayOf(l().shape({value:l().any,label:l().string.isRequired})).isRequired,isReadOnly:l().bool,isDisabled:l().bool,isRequired:l().bool,FieldProvider:l().any};var v=function(e){var t=e.label,n=e.isRequired,i=e.helperText,s=e.meta,c=e.description,l=e.hideLabel,u=(0,o.Z)(e,m),d=s.error,v=s.touched&&d;return a().createElement(p.FormGroup,{isRequired:n,label:!l&&t,fieldId:u.id,isValid:!v,helperText:i,helperTextInvalid:s.error},c&&a().createElement(p.TextContent,null,a().createElement(p.Text,{component:p.TextVariants.small},c)),a().createElement(f,(0,r.Z)({label:t,isValid:!v,isRequired:n},u)))};v.propTypes={componentType:l().string,label:l().string,isRequired:l().bool,helperText:l().string,meta:l().object,description:l().string,hideLabel:l().bool};const y=v;var b=n(41609),h=n.n(b),g=n(48880),E=n(76429),O=function(e){var t=e.dirtyFieldsSinceLastSubmit,n=e.submitSucceeded,r=e.pristine,i=(0,g.default)().onCancel,o=h()(t)||!n&&r;return a().createElement(p.ActionGroup,{className:"pf-u-mt-0"},a().createElement(p.Button,{ouiaId:"primary-submit-button",type:"submit",isDisabled:o,variant:"primary"},"Save"),a().createElement(p.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:function(){return i()}},"Cancel"))};O.propTypes={dirtyFieldsSinceLastSubmit:l().shape((0,i.Z)({},l().string,l().oneOfType([l().string,l().number,l().bool]))),submitSucceeded:l().bool,pristine:l().bool,onCancel:l().func};const w=function(e){return a().createElement(E.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return a().createElement(O,(0,r.Z)({},t,e))}))};var Z=n(67850),j=n(65412),P=n(75747),R=n(46980),S=n(96354),T=["formTemplateProps"],k=function(e){var t,n=e.formTemplateProps,s=(0,o.Z)(e,T);return a().createElement(R.Z,(0,r.Z)({componentMapper:(t={},(0,i.Z)(t,S.Z.TEXT_FIELD,j.Z),(0,i.Z)(t,S.Z.TEXTAREA,P.Z),(0,i.Z)(t,S.Z.SELECT,y),t),FormTemplate:function(e){return a().createElement(Z.ZP,(0,r.Z)({},n,e,{FormButtons:w}))}},s))};k.propTypes={formTemplateProps:l().object};const x=k},73943:(e,t,n)=>{"use strict";n.d(t,{R:()=>l});var r=n(92950),i=n.n(r),o=n(45697),s=n.n(o),a=n(489),c=n(69957),l=function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onConfirmCancel,s=e.customTitle,l=e.customDescription;return i().createElement(a.Modal,{title:i().createElement("span",{className:"ins-c-wizard__cancel-warning-header"},i().createElement(c.ZP,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),s||"Exit ".concat(t," creation?")),variant:a.ModalVariant.small,className:"rbac ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[i().createElement(a.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},"Exit"),i().createElement(a.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},"Stay")]},i().createElement("span",null,l||"All inputs will be discarded."," "))};l.propTypes={type:s().string,customTitle:s().node,customDescription:s().node,isOpen:s().bool,onModalCancel:s().func,onConfirmCancel:s().func}},94852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(96156),i=n(85061),o=n(28481),s=n(92950),a=n.n(s),c=n(45697),l=n.n(c),u=n(489),p=n(48880),d=n(55795),m=n(77782);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t,n,r,c=e.formFields,l=(0,p.default)(),f=(0,s.useState)(l.getState().values["add-permissions-table"]||[]),y=(0,o.Z)(f,2),b=y[0],h=y[1],g=(0,s.useContext)(m.r$).rolePermissions,E=(null===(t=l.getState().values)||void 0===t||null===(n=t["copy-base-role"])||void 0===n||null===(r=n.applications)||void 0===r?void 0:r.filter((function(e){return!(null!=b&&b.find((function(t){return t.uuid.includes(e)})))})))||[],O=c[0][0];return a().createElement("div",{className:"rbac"},b.length>0?a().createElement("div",{className:"ins-c-rbac-seleted-chips"},a().createElement(u.ChipGroup,{categoryName:"Selected permissions"},b.reduce((function(e,t){return[t].concat((0,i.Z)(e))}),[]).map((function(e){var t=e.uuid;return a().createElement(u.Chip,{key:t,color:"blue",isTruncated:!0,onClick:function(){return h(b.filter((function(e){return e.uuid!==t})))}},t)})))):null,a().createElement(u.Title,{headingLevel:"h1",size:"xl",className:"ins-c-rbac-add-permission-title"},"Add permissions"),a().createElement(u.TextContent,null,a().createElement(u.Text,null,"Select permissions to add to your role",0!==E.length&&a().createElement(u.Popover,{headerContent:"Custom roles only support granular permissions",bodyContent:"Wildcard permissions (for example, approval:*:*) aren’t included in this table and can’t be added to your custom role."},a().createElement(u.Button,{variant:"link"},"Why am I not seeing all of my permissions? ",a().createElement(d.ZP,null))))),[[v(v({},O),{},{props:v(v({},O.props),{},{selectedPermissions:b,setSelectedPermissions:h,isInExistingRole:function(e){return null==g?void 0:g.some((function(t){return t.permission===e}))}})})]])};y.propTypes={formFields:l().array};const b=y},94487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>V});var r=n(22122),i=n(96156),o=n(85061),s=n(28481),a=n(81253),c=n(18446),l=n.n(c),u=n(92950),p=n.n(u),d=n(45697),m=n.n(d),f=n(45237),v=n(41693),y=n(48880),b=n(48623),h=n(41800),g=n(36580),E=n(92137),O=n(87757),w=n.n(O),Z=(0,n(89400).Y3)();function j(e,t,n,r,i,o,s,a){return P.apply(this,arguments)}function P(){return(P=(0,E.Z)(w().mark((function e(t,n,r,i,o,s,a,c){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.listPermissions(t,n,r,i,o,s,a,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n,r,i,o,s){return S.apply(this,arguments)}function S(){return(S=(0,E.Z)(w().mark((function e(t,n,r,i,o,s,a){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.listPermissionOptions(t,n,r,i,o,s,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T={application:g.KD,resource_type:g.vf,verb:g.E2},k=n(29215),x=n(28090),D=n(489),C=n(62691),_=["row"],I=function(e){var t=e.row,n=(0,a.Z)(e,_);return t.disableSelection?p().createElement(D.Tooltip,{content:t.disabledContent,exitDelay:1500,entryDelay:1500},p().createElement(C.RowWrapper,(0,r.Z)({className:"ins-c-rbac-disabled-row",row:t},n))):p().createElement(C.RowWrapper,(0,r.Z)({row:t},n))};I.propTypes={props:m().object,row:m().object};var L=["selectedPermissions","setSelectedPermissions","isInExistingRole"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var M=["Application","Resource type","Operation"],N=function(e){var t=e.permissionReducer,n=t.permission,r=t.isLoading,i=t.options,o=i.application,s=i.operation,a=i.resource,c=t.expandSplats,l=t.isLoadingExpandSplats,u=e.roleReducer,p=u.isRecordLoading,d=u.selectedRole,m=e.costReducer.resourceTypes;return{permissions:n.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,n=e.resource_type,r=e.verb,i=e.permission;return{application:t,resource:n,operation:r,uuid:i}})),pagination:n.meta,isLoading:r||p,baseRole:d,applicationOptions:o.data.filter((function(e){return"*"!==e})),resourceOptions:a.data.filter((function(e){return"*"!==e})),operationOptions:s.data.filter((function(e){return"*"!==e})),expandedPermissions:c.data.map((function(e){return e.permission})),isLoadingExpandSplats:l,resourceTypes:m.data}},A=function(e){var t=e.selectedPermissions,n=e.setSelectedPermissions,c=e.isInExistingRole,d=(0,a.Z)(e,L),m=(0,f.useDispatch)(),E=function(e){return m((n=(t=e).limit,r=t.offset,i=t.orderBy,o=t.application,s=t.resourceType,a=t.verb,c=t.permission,u=void 0===(l=t.exclude_globals)||l,p=t.options,{type:g.wI,payload:j(n,r,i,o,s,a,c,u,p)}));var t,n,r,i,o,s,a,c,l,u,p},O=function(e){return m((n=(t=e).field,r=t.limit,i=t.offset,o=t.application,s=t.resourceType,a=t.verb,c=t.options,{type:T[n],payload:R(n,r,i,o,s,a,c)}));var t,n,r,i,o,s,a,c},w=(0,f.useSelector)(N,f.shallowEqual),Z=w.permissions,P=w.isLoading,S=w.pagination,D=w.baseRole,C=w.applicationOptions,_=w.resourceOptions,F=w.operationOptions,A=w.expandedPermissions,V=w.isLoadingExpandSplats,B=w.resourceTypes,q=(0,v.Z)(d).input,z=(0,y.default)(),W=(0,u.useState)({applications:[],resources:[],operations:[]}),H=(0,s.Z)(W,2),X=H[0],K=H[1],$=z.getState().values["role-type"],Y=(0,u.useState)(!1),U=(0,s.Z)(Y,2),J=U[0],Q=U[1],ee=(0,u.useState)(""),te=(0,s.Z)(ee,2),ne=te[0],re=te[1],ie=(0,u.useState)(),oe=(0,s.Z)(ie,2),se=oe[0],ae=oe[1],ce=function(e){return B.find((function(t){var n;return t.value===(null===(n=e.split(":"))||void 0===n?void 0:n[1])}))},le=(0,u.useCallback)((0,b.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"application",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]),ue=(0,u.useCallback)((0,b.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"resource_type",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]),pe=(0,u.useCallback)((0,b.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"verb",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]);(0,u.useEffect)((function(){var e,t=null===(e=z.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid;return"copy"===$&&t&&m((0,x.fp)(t)),m((0,k.A)()),z.change("has-cost-resources",!1),E(S),O({field:"application",limit:50}),O({field:"resource_type",limit:50}),O({field:"verb",limit:50}),function(){return m({type:g.e0,payload:{data:[]}})}}),[]),(0,u.useEffect)((function(){ue(X),pe(X)}),[X.applications]),(0,u.useEffect)((function(){le(X),pe(X)}),[X.resources]),(0,u.useEffect)((function(){le(X),ue(X)}),[X.operations]),(0,u.useEffect)((function(){q.onChange(t)}),[t]),(0,u.useEffect)((function(){var e;if(!(!D||"copy"!==$||z.getState().values["base-permissions-loaded"]||t.length>0||(null===(e=z.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid)!==(null==D?void 0:D.uuid)||V||P)){var r,i,s,a,c,l,u,p,d,f,v,y,b,h=(null==D?void 0:D.access)||[];if(0===A.length&&void 0===V){var E=(0,o.Z)(new Set(h.map((function(e){return e.permission.split(":")[0]}))));m((s=void 0===(i=(r={application:E.join()}).limit)?1e3:i,c=void 0===(a=r.offset)?0:a,l=r.orderBy,u=r.application,p=r.resourceType,d=r.verb,f=r.permission,y=void 0===(v=r.exclude_globals)||v,b=r.options,{type:g.e,payload:j(s,c,l,u,p,d,f,y,b)}))}else{var O=h.map((function(e){return e.permission.replace("*",".*")}));n((function(){return A.filter((function(e){return"cost-management"!==e.split(":")[0]||0!==(ce(e)||{count:0}).count})).filter((function(e){return O.some((function(t){return e.match(t)}))})).map((function(e){return{uuid:e}}))})),z.change("base-permissions-loaded",!0)}}}),[Z,D]);var de=function(e){return e.reduce((function(e,t){return{0:G(G({},null==e?void 0:e[0]),{},(0,i.Z)({},t,!0))}}),{0:{}})},me={applications:(0,o.Z)(C).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}})),resources:(0,o.Z)(_).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}})),operations:(0,o.Z)(F).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}}))},fe={label:p().createElement("div",null," No results found"),isDisabled:!0},ve=me[Object.keys(me)[se||0]].length>10;return p().createElement("div",{className:"ins-c-rbac-permissions-table"},p().createElement(h.M,(0,r.Z)({columns:M,isSelectable:!0,isCompact:!0,borders:!1,createRows:function(e){return e.map((function(e){var n=e.application,r=e.resource,i=e.operation,o=e.uuid;return{uuid:"".concat(n,":").concat(r,":").concat(i),cells:[{title:n},r,i],selected:Boolean(t&&t.find((function(e){return e.uuid===o}))),disableSelection:"cost-management"===n&&0===(ce(o)||{count:0}).count||c(o),disabledContent:c(o)?p().createElement("div",null,"This permission is already added into this role."):p().createElement("div",null,"To add this permission to your role and define specific resources for it, at least one data source must be connected."," ",p().createElement("a",{href:"./settings/sources"},"Configure sources for Cost Management"))}}))},data:Z,filterValue:"",noData:0===(null==Z?void 0:Z.length),noDataDescription:["Adjust your filters and try again. Note: Applications that only have wildcard           permissions (for example, compliance:*:*) aren’t included in this table and can’t be           added to your custom role."],fetchData:function(e){var t=e.limit,n=e.offset,r=e.applications,i=e.resources,o=e.operations;E({limit:t,offset:n,application:(r||X.applications).join(),resourceType:(i||X.resources).join(),verb:(o||X.operations).join()})},setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;K(G(G(G(G({},X),t?{applications:t}:X.applications),n?{resources:n}:X.resources),r?{operations:r}:X.operations))},isLoading:P||V,pagination:G(G({},S),{},{count:S.count}),checkedRows:t,setCheckedItems:function(e){var r=e(t).filter((function(e){var t,n=e.uuid;return"cost-management"!==e.application||(null===(t=ce(n))||void 0===t?void 0:t.count)>0})).map((function(e){return{uuid:e.uuid}}));n(l()(r,t)?[]:r)},titlePlural:"permissions",titleSingular:"permission",showMoreTitle:J?"See less":"See more",onFilter:function(e){return re(e)},onShowMore:ve?function(){Q((function(){return!J}))}:void 0,onChange:function(e,t){re(""),ae(t)},value:se,filters:[{key:"applications",value:X.applications,placeholder:"Filter by application",type:"group",selected:de(X.applications),groups:[{type:me.applications.length>0?"checkbox":"plain",items:me.applications.length>0?(0,o.Z)(me.applications).slice(0,J?void 0:10):[fe]}]},{key:"resources",value:X.resources,placeholder:"Filter by resource type",type:"group",selected:de(X.resources),groups:[{type:me.resources.length>0?"checkbox":"plain",items:me.resources.length>0?(0,o.Z)(me.resources).slice(0,J?void 0:10):[fe]}]},{key:"operations",value:X.operations,placeholder:"Filter by operation",type:"group",selected:de(X.operations),groups:[{type:me.operations.length>0?"checkbox":"plain",items:me.operations.length>0?(0,o.Z)(me.operations).slice(0,J?void 0:10):[fe]}]}],isFilterable:!0,rowWrapper:I,tableId:"add-role-permissions"},d)))};A.propTypes={selectedPermissions:m().array,setSelectedPermissions:m().func,isInExistingRole:m().func};const V=A},64105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(28481),i=n(85061),o=n(96156),s=n(92950),a=n.n(s),c=n(45237),l=n(489),u=n(41693),p=n(48880),d=n(29215);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.costReducer,n=t.resourceTypes,r=t.isLoading,i=t.loadingResources,o=t.resources;return{resourceTypes:n.data,resources:o,isLoading:r,isLoadingResources:i>0}},y=function(e,t){var n=e[t.key];switch(t.type){case"toggle":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{isOpen:!n.isOpen})));case"select":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:n.selected.includes(t.selection)?n.selected.filter((function(e){return e!==t.selection})):[].concat((0,i.Z)(n.selected),[t.selection])})));case"selectAll":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:n.options.map((function(e){return e.value}))})));case"clear":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:[]})));case"setOptions":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{options:t.options,filteredOptions:t.options})));case"setFilter":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{filteredOptions:n.options.filter((function(e){return e.value.includes(t.filtervalue)}))})));default:return e}};const b=function(e){var t=(0,c.useDispatch)(),n=(0,c.useSelector)(v,c.shallowEqual),m=n.resourceTypes,b=n.isLoading,h=n.isLoadingResources,g=n.resources,E=(0,u.Z)(e).input,O=(0,p.default)(),w=O.getState().values["add-permissions-table"].filter((function(e){return e.uuid.split(":")[0].includes("cost-management")})),Z=(0,s.useReducer)(y,w.reduce((function(e,t){return f(f({},e),{},(0,o.Z)({},t.uuid,{selected:[],options:[],filteredOptions:[],isOpen:!1}))}),{})),j=(0,r.Z)(Z,2),P=j[0],R=j[1];return(0,s.useEffect)((function(){(O.getState().values["resource-definitions"]||[]).map((function(e){var t=e.permission;return e.resources.map((function(e){return w.includes(t)&&R({type:"select",selection:e,key:t})}))})),t((0,d.A)(undefined)),O.change("has-cost-resources",!0)}),[]),(0,s.useEffect)((function(){b||(0,i.Z)(new Set(w.map((function(e){var t;return null===(t=m.find((function(t){var n;return t.value===(null===(n=e.uuid.split(":"))||void 0===n?void 0:n[1])})))||void 0===t?void 0:t.path})))).filter((function(e){return e})).map((function(e){return n=e,t((0,d.R)(n));var n}))}),[m]),(0,s.useEffect)((function(){h||w.map((function(e){return R({type:"setOptions",key:e.uuid,options:g[(t=e.uuid,null===(n=m.find((function(e){var n;return e.value===(null===(n=t.split(":"))||void 0===n?void 0:n[1])})))||void 0===n||null===(r=n.path.split("/"))||void 0===r?void 0:r[5])]||[]});var t,n,r}))}),[h]),(0,s.useEffect)((function(){var e=Object.entries(P).map((function(e){var t=(0,r.Z)(e,2);return{permission:t[0],resources:t[1].selected}}));E.onChange(e),O.change("resource-definitions",e)}),[P]),a().createElement(l.Grid,{hasGutter:!0},a().createElement(l.GridItem,{md:4,className:"ins-m-hide-on-sm"},a().createElement(l.Text,{component:l.TextVariants.h4,className:"ins-c-rbac__bold-text"},"Cost management permissions")),a().createElement(l.GridItem,{md:8,className:"ins-m-hide-on-sm"},a().createElement(l.Text,{component:l.TextVariants.h4,className:"ins-c-rbac__bold-text"},"Resource definitions")),w.map((function(e){var t=e.uuid,n=P[t].filteredOptions;return a().createElement(a().Fragment,null,a().createElement(l.GridItem,{md:4,sm:12},a().createElement(l.FormGroup,{label:t,isRequired:!0})),a().createElement(l.GridItem,{md:8,sm:12},a().createElement(l.Select,{className:"ins-c-rbac-cost-resource-select",variant:l.SelectVariant.checkbox,typeAheadAriaLabel:"Select a state",onToggle:function(e){R({type:"setFilter",key:t,filtervalue:""}),function(e,t){R({type:"toggle",key:e,isOpen:t})}(t,e)},onSelect:function(e,r){!function(e,t,n,r){R(n?{type:"selectAll",selection:t,key:r}:{type:"select",selection:t,key:r})}(0,r,r==="Select All (".concat(n.length,")"),t)},onClear:function(){return R({type:"clear",key:t})},selections:P[t].selected,isOpen:P[t].isOpen,onFilter:function(e){return e&&R({type:"setFilter",key:t,filtervalue:e.target.value})},"aria-labelledby":t,placeholderText:"Select resources",hasInlineFilter:!0},[a().createElement(l.SelectOption,{key:0,value:"Select All (".concat(n.length,")")})].concat((0,i.Z)(n.map((function(e,t){return a().createElement(l.SelectOption,{key:t+1,value:e.value})})))))))})))}},77782:(e,t,n)=>{"use strict";n.d(t,{r$:()=>G,ZP:()=>N});var r=n(85061),i=n(92137),o=n(96156),s=n(28481),a=n(22122),c=n(87757),l=n.n(c),u=n(92950),p=n.n(u),d=n(45237),m=n(489),f=n(48880);var v=n(45697),y=n.n(v),b=n(68778),h=n(334),g=n(28090),E=function(e){var t=e.currentRoleID,n=(0,d.useDispatch)();return p().createElement(p().Fragment,null,p().createElement(m.EmptyState,null,p().createElement(m.EmptyStateIcon,{color:"green",icon:b.ZP}),p().createElement(m.Title,{headingLevel:"h4",size:"lg"},"You have successfully added permissions to the role"),p().createElement(m.EmptyStateBody,null),p().createElement(h.Link,{to:"/roles/detail/".concat(t)},p().createElement(m.Button,{onClick:function(){return n((0,g.fp)(t))}},"Exit"))))};const O=E;E.propTypes={currentRoleID:y().string.isRequired};var w=n(73943),Z=n(46980),j=n(67850),P=n(76349),R=n(94487),S=n(64105),T=n(94852);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t,n=e.formFields;return(0,u.useContext)(G).submitting?p().createElement(m.Bullseye,null,p().createElement(m.Spinner,{size:"xl"})):p().createElement("div",{className:"rbac"},[[x({},null==n||null===(t=n[0])||void 0===t?void 0:t[0])]])};D.propTypes={formFields:y().array};const C=D;function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return p().createElement(j.ZP,(0,a.Z)({},e,{showFormControls:!1}))},F={"add-permissions-table":R.Z,"cost-resources":S.Z,review:function(){var e=(0,f.default)().getState().values,t=e["role-name"],n=e["role-description"],r=e["add-permissions-table"],i=e["resource-definitions"],o=e["has-cost-resources"];return p().createElement(m.Stack,{hasGutter:!0},p().createElement(m.StackItem,null,p().createElement(m.TextContent,null,p().createElement(m.Title,{headingLevel:"h1",size:"xl",className:"ins-c-rbac__gutter-sm"},"Review details"))),p().createElement(m.StackItem,{classnem:"ins-c-rbac__summary"},p().createElement(m.Grid,{hasGutter:!0},p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Role name")),p().createElement(m.GridItem,{span:9},p().createElement(m.Text,{component:m.TextVariants.p},t)),p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Role description")),p().createElement(m.GridItem,{span:9},p().createElement(m.Text,{component:m.TextVariants.p},n)),p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Added permissions")),p().createElement(m.GridItem,{span:9},p().createElement(m.TextContent,{component:m.TextVariants.p},r.map((function(e,t){return p().createElement(m.Text,{key:t}," ",e.uuid," ")})))),o&&p().createElement(p().Fragment,null,p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Resource definitions")),p().createElement(m.GridItem,{span:9},p().createElement(m.TextContent,{component:m.TextVariants.p},i.map((function(e){return e.resources.map((function(e,t){return p().createElement(m.Text,{key:t}," ",e," ")}))}))))))))}},G=(0,u.createContext)({success:!1,submitting:!1,error:void 0}),M=function(e){var t=e.role,n=(0,u.useState)(!1),o=(0,s.Z)(n,2),a=o[0],c=o[1],f=(0,u.useState)(""),v=(0,s.Z)(f,2),y=v[0],b=v[1],E=(0,u.useState)({}),j=(0,s.Z)(E,2),R=j[0],S=j[1],k=(0,h.useHistory)(),x=(0,d.useDispatch)(),D=(0,u.useState)({success:!1,submitting:!1,error:void 0,hideForm:!1}),_=(0,s.Z)(D,2),M=_[0],N=_[1],A=(0,u.useRef)(document.createElement("div"));(0,u.useEffect)((function(){S(function(e){return{fields:[{component:"wizard",name:"wizard",isDynamic:!0,inModal:!0,showTitles:!0,crossroads:["role-type"],title:"Add permissions",container:e,fields:[{name:"add-permissions",title:"Add permissions",StepTemplate:T.Z,nextStep:function(e){var t=e.values;return t&&t["add-permissions-table"]&&t["add-permissions-table"].some((function(e){return e.uuid.split(":")[0].includes("cost-management")}))?"cost-resources-definition":"review"},fields:[{component:"add-permissions-table",name:"add-permissions-table"}]},{name:"cost-resources-definition",title:"Define Cost Management resources",nextStep:"review",fields:[{component:"plain-text",name:"text-description",label:p().createElement("p",null,"Specify where you would like to apply each cost permission selected in the previous step, using the dropdown below.")},{component:"cost-resources",name:"cost-resources",validate:[function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((function(e){return e.resources.length>0}))?void 0:"You need to assign at least one resource to each permission."}]}]},{name:"review",title:"Review details",StepTemplate:C,fields:[{component:"review",name:"review"}]}]}]}}(A.current))}),[]),(0,u.useEffect)((function(){b(t.uuid)})),(0,u.useEffect)((function(){A.current.hidden=a}),[a]);var V=function(){k.push("/roles/detail/".concat(t.uuid))},B=function(){var e=(0,i.Z)(l().mark((function e(n){var i,o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n["add-permissions-table"],o=n["cost-resources"],s=I(I({},t),{},{access:[].concat((0,r.Z)(t.access),(0,r.Z)(i.map((function(e){var t=e.uuid;return{permission:t,resourceDefinitions:null!=o&&o.find((function(e){return e.permission===t}))?[{attributeFilter:{key:"cost-management.".concat(t.split(":")[1]),operation:"in",value:null==o?void 0:o.find((function(e){return e.permission===t})).resources}}]:[]}})))),accessCount:t.accessCount+i.length}),N((function(e){return I(I({},e),{},{submitting:!0})})),x((0,g.ul)(y,s)).then((function(){return N((function(e){return I(I({},e),{},{submitting:!1,success:!0,hideForm:!0})}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p().createElement(G.Provider,{value:I(I({},M),{},{setWizardError:function(e){return N((function(t){return I(I({},t),{},{error:e})}))},setWizardSuccess:function(e){return N((function(t){return I(I({},t),{},{success:e})}))},setHideForm:function(e){return N((function(t){return I(I({},t),{},{hideForm:e})}))},rolePermissions:t.access})},p().createElement(w.R,{type:"Permission",isOpen:a,onModalCancel:function(){return c(!1)},onConfirmCancel:V}),M.hideForm?p().createElement(m.Wizard,{title:"Add permissions",isOpen:!0,steps:[{name:"success",component:new O({currentRoleID:y}),isFinishedStep:!0}]}):p().createElement(Z.Z,{container:A,schema:R,subscription:{values:!0},FormTemplate:L,initialValues:{"role-type":"create","role-name":t.display_name,"role-description":t.description},componentMapper:I(I({},P.ZP),F),onSubmit:B,onCancel:function(e){var t;e&&(null===(t=e["add-permissions-table"])||void 0===t?void 0:t.length)>0?c(!0):V()}}))};M.defaultProps={role:{}},M.propTypes={role:y().object};const N=M},88040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r=n(22122),i=n(28481),o=n(92950),s=n.n(o),a=n(45697),c=n.n(a),l=n(96354),u=n(64124),p=n(40483),d=n(36457),m=n(67115),f=n(334),v=n(45237),y=n(76254),b=n(71355),h=n(43115),g=n(57666),E=n(28090),O=function(e,t,n){return e.length<150?(0,h.vd)({name:e}).then((function(r){var i=r.data;if(0!==i.length&&i.some((function(r){return r[t]!==n&&r.display_name===e})))throw"Role with this name already exists."})):Promise.reject("Can have maximum of 150 characters.")},w=function(e){return{fields:[{name:"name",component:l.Z.TEXT_FIELD,label:"Name",isRequired:!0,validate:[{type:"validate-role-name",id:e,idKey:"uuid",validationPromise:O}]},{name:"description",component:l.Z.TEXTAREA,label:"Description",validate:[{type:u.Z.MAX_LENGTH,threshold:150}]}]}},Z=(0,g.Z)((function(e,t,n,r){return e&&0!==e.length?r(e,t,n):Promise.reject("Required")})),j=function(e){var t=e.routeMatch,n=e.cancelRoute,a=e.submitRoute,c=void 0===a?n:a,l=e.afterSubmit,u=(0,m.Z)(),g=(0,f.useRouteMatch)(t).params.id,O=(0,f.useHistory)(),j=O.replace,P=O.push,R=(0,v.useDispatch)(),S={"validate-role-name":function(e){var t=e.idKey,n=e.id,r=e.validationPromise;return function(e){return Z(e,t,n,r)}}},T=(0,v.useSelector)((function(e){return(0,y.z)(e,g)})),k=(0,o.useState)(T),x=(0,i.Z)(k,2),D=x[0],C=x[1],_=function(){R((0,b.wN)({variant:"warning",dismissDelay:8e3,dismissable:!1,title:"Editing role",description:"Edit role was canceled by the user."})),j(n)};return(0,o.useEffect)((function(){!D&&(0,h.fp)(g).then((function(e){u.current&&C(e)}))}),[g]),D?s().createElement(d.Z,{schema:w(g),initialValues:D,onSubmit:function(e){return R((0,E.sZ)(g,{name:e.name,display_name:e.name,description:e.description})).then((function(){l(),P(c)}))},onCancel:_,validatorMapper:S,FormTemplate:function(e){return s().createElement(p.Z,(0,r.Z)({},e,{ModalProps:{onClose:_,isOpen:!0,variant:"small",title:"Edit role information"}}))}}):null};j.propTypes={routeMatch:c().string.isRequired,cancelRoute:c().oneOfType([c().string,c().shape({pathname:c().string.isRequired,search:c().string,hash:c().string})]).isRequired,submitRoute:c().oneOfType([c().string,c().shape({pathname:c().string.isRequired,search:c().string,hash:c().string})]),afterSubmit:c().func.isRequired};const P=j},13063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(28481),i=n(92950),o=n.n(i),s=n(45697),a=n.n(s),c=n(45237),l=n(334),u=n(69957),p=n(489),d=n(83215),m=n(28090),f=n(43115),v=n(67115),y=n(76254),b=function(e){var t=e.routeMatch,n=e.cancelRoute,s=e.submitRoute,a=void 0===s?n:s,b=e.afterSubmit,h=(0,v.Z)(),g=(0,l.useRouteMatch)(t).params.id,E=(0,c.useSelector)((function(e){return(0,y.B)(e,g)})),O=(0,i.useState)(!0),w=(0,r.Z)(O,2),Z=w[0],j=w[1],P=(0,i.useState)(E),R=(0,r.Z)(P,2),S=R[0],T=R[1],k=(0,c.useDispatch)(),x=(0,l.useHistory)(),D=x.push,C=x.replace;(0,i.useEffect)((function(){!S&&(0,f.fp)(g).then((function(e){h.current&&T(e.display_name)})).catch((function(e){var t,n;return k((0,d.wN)({variant:"danger",title:"Could not get role",description:null==e||null===(t=e.errors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.detail}))}))}),[]);var _=function(){return C(n)};return S?o().createElement(p.Modal,{className:"rbac","aria-label":"remove-role",header:o().createElement(p.TextContent,null,o().createElement(p.Split,{hasGutter:!0},o().createElement(p.SplitItem,null,o().createElement(u.ZP,{size:"lg",style:{fill:"#f0ab00"}})),o().createElement(p.SplitItem,null,o().createElement(p.Text,{component:"h1"},"Delete role?")))),isOpen:!0,variant:"small",onClose:_,actions:[o().createElement(p.Button,{isDisabled:Z,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:function(){return k((0,m.l5)(g)).then((function(){return D(a),b()}))}},"Confirm"),o().createElement(p.Button,{key:"cancel",variant:"link",type:"button",onClick:_},"Cancel")]},o().createElement(p.TextContent,null,o().createElement(p.Text,{component:p.TextVariants.p},"The ",o().createElement("strong",null,S)," role will be removed from any group it’s in, and members in the groups will no longer be granted the permissions in the role."),o().createElement(p.Checkbox,{id:"remove-role-checkbox",label:"I understand that this action cannot be undone.",isChecked:!Z,onChange:function(){return j((function(e){return!e}))}}))):null};b.propTypes={routeMatch:a().string.isRequired,cancelRoute:a().oneOfType([a().string,a().shape({pathname:a().string.isRequired,search:a().string,hash:a().string})]).isRequired,submitRoute:a().oneOfType([a().string,a().shape({pathname:a().string.isRequired,search:a().string,hash:a().string})]),afterSubmit:a().func.isRequired};const h=b},76254:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,B:()=>i});var r=function(e,t){var n=e.roleReducer,r=n.roles,i=void 0===r?{data:[]}:r,o=n.selectedRole;return(null==o?void 0:o.uuid)===t?o:i.data.find((function(e){return e.uuid===t}))},i=function(e,t){var n;return null===(n=r(e,t))||void 0===n?void 0:n.display_name}},95311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>re});var r,i=n(85061),o=n(96156),s=n(28481),a=n(92950),c=n.n(a),l=n(45697),u=n.n(l),p=n(334),d=n(45237),m=n(489),f=n(39173),v=n(60306),y=n(28090),b=n(38376),h=n(19571),g=n(41800),E=n(81253),O=n(64107),w=n(61338),Z=n(85564),j=n.n(Z),P=["count"],R=["type"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k={pagination:w.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:function(){return null},deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},x="SET_PAGINATION",D="SELECT_PERMISSIONS",C="SHOW_REMOVE_MODAL",_="SUBMIT_REMOVE_MODAL",I="INITIATE_REMOVE_PERMISSION",L="SET_FILTERS",F="SET_TOGGLED",G="INITIALIZE_ROLE",M=(r={},(0,o.Z)(r,x,(function(e,t){return T(T({},e),{},{pagination:T(T({},e.pagination),t)})})),(0,o.Z)(r,D,(function(e,t){var n=t.selection;return T(T({},e),{},{selectedPermissions:n})})),(0,o.Z)(r,C,(function(e,t){var n=t.showRemoveModal;return T(T({},e),{},{showRemoveModal:n})})),(0,o.Z)(r,_,(function(e){return T(T({},e),{},{selectedPermissions:[],showRemoveModal:!1})})),(0,o.Z)(r,I,(function(e,t){var n=t.confirmDelete,r=t.deleteInfo;return T(T({},e),{},{confirmDelete:n,showRemoveModal:!0,deleteInfo:r})})),(0,o.Z)(r,L,(function(e,t){return T(T({},e),{},{filters:T(T({},e.filters),t)})})),(0,o.Z)(r,F,(function(e){return T(T({},e),{},{isToggled:!e.isToggled})})),(0,o.Z)(r,G,(function(e,t){var n=t.count,r=(0,E.Z)(t,P);return T(T(T({},e),r),{},{pagination:T(T({},e.pagination),{},{count:n})})})),r),N=function(e,t){var n=t.type,r=(0,E.Z)(t,R);return M[n]?M[n](e,r):e},A=n(62691),V=n(77782),B=n(1227);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Resource definitions",transforms:[(0,A.info)({popover:"Resource definitions only apply to Cost Management permissions",ariaLabel:"Resource definitions only apply to Cost Management permissions"})]},{title:"Last commit",transforms:[(0,A.cellWidth)(15)]}],H=function(e,t,n){return n?c().createElement("p",null,"The ",c().createElement("b",null," ","".concat(e))," selected permissions will no longer be granted through the ",c().createElement("b",null,"".concat(t.name))," role."):c().createElement("p",null,"The ",c().createElement("b",null,"".concat(e))," permission will no longer be granted through the ",c().createElement("b",null," ","".concat(t.name))," role.")};const X=function(){var e=(0,d.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),d.shallowEqual),t=e.role,n=e.isRecordLoading,r=(0,p.useHistory)(),l=(0,a.useReducer)(N,k),u=(0,s.Z)(l,2),f=u[0],b=f.pagination,h=f.selectedPermissions,E=f.showRemoveModal,w=f.confirmDelete,Z=f.deleteInfo,P=f.filters,R=f.isToggled,S=f.resources,T=f.operations,M=u[1],A=(0,a.useState)(!0),q=(0,s.Z)(A,2),X=q[0],K=q[1],$=(0,d.useDispatch)();(0,a.useEffect)((function(){var e;if(Object.keys(t).length>0){var n=Object.entries(t.access.reduce((function(e,t){var n=e.resources,r=e.operations,o=t.permission.split(":"),a=(0,s.Z)(o,3),c=a[1],l=a[2];return{resources:n.includes(c)?n:[].concat((0,i.Z)(n),[c]),operations:r.includes(l)?r:[].concat((0,i.Z)(r),[l])}}),{resources:[],operations:[]})).reduce((function(e,t){var n=(0,s.Z)(t,2),r=n[0],i=n[1];return z(z({},e),{},(0,o.Z)({},r,i.map((function(e){return{label:e,value:e}}))))}),{}),r=n.resources,a=n.operations;M({type:G,resources:r,operations:a,count:t.access?t.access.length:0})}K(null==t||null===(e=t.access)||void 0===e?void 0:e.find((function(e){return e.permission.includes("cost-management")})))}),[t]);var Y,U,J=t&&t.access?(t.access||[]).filter((function(e){var t=e.permission.split(":"),n=(0,s.Z)(t,3),r=n[0],i=n[1],o=n[2],a=P.applications,c=P.resources,l=P.operations;return(!(a.length>0)||a.includes(r))&&(!(c.length>0)||c.includes(i))&&(!(l.length>0)||l.includes(o))})).map((function(e){return z(z({uuid:e.permission},e),{},{modified:t.modified})})):[],Q=function(e){var n=e.reduce((function(e,t){return[].concat((0,i.Z)(e),[t.uuid])}),[]);return $((0,y.lq)(t,n)).then((function(){$((0,y.fp)(t.uuid)),M({type:D,selection:[]})}))},ee=function(e){return e.reduce((function(e,t){return{0:z(z({},null==e?void 0:e[0]),{},(0,o.Z)({},t,!0))}}),{0:{}})},te={label:c().createElement("div",null," No results found"),isDisabled:!0},ne=z({access:[],applications:[]},t),re=Object.values({applications:ne.applications,operations:T,resources:S}).find((function(e){return e.length>10}));return c().createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},E&&c().createElement(B.Z,{text:Z.text,title:Z.title,isOpen:E,confirmButtonLabel:Z.confirmButtonLabel,onClose:function(){return M({type:C,showRemoveModal:!1})},onSubmit:function(){w(),M({type:_})}}),c().createElement(g.M,{columns:X?W:W.filter((function(e){return"Resource definitions"!==e.title})),createRows:(Y=X,U=null==t?void 0:t.uuid,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.resourceDefinitions,o=t.permission,l=t.modified,u=o.split(":"),d=(0,s.Z)(u,3),m=d[0],f=d[1],v=d[2];return[].concat((0,i.Z)(e),[{uuid:o,cells:[m,f,v].concat((0,i.Z)(Y?[o.includes("cost-management")&&r.length>0?c().createElement(a.Fragment,{key:"resource-definitions"},c().createElement(p.Link,{to:"/roles/detail/".concat(U,"/permission/").concat(o)},j()(r.map((function(e){return e.attributeFilter.value}))).length)):c().createElement("span",{className:"ins-c-text__disabled"},"N/A")]:[]),[c().createElement(a.Fragment,{key:"".concat(m,"-modified")},c().createElement(O.Z,{date:l,type:"relative"}))]),selected:Boolean(null==n?void 0:n.find((function(e){return e.uuid===o})))}])}),[])}),actionResolver:t.system?void 0:function(){return[{title:"Remove",onClick:function(e,n,r){return M({type:I,confirmDelete:function(){return Q([r])},deleteInfo:{title:"Remove permission?",text:H(r.uuid,t,!1),confirmButtonLabel:"Remove permission"}})}}]},data:J.slice(b.offset,b.offset+b.limit),filterValue:"",ouiaId:"role-permissions-table",fetchData:function(e){var t=e.limit,n=e.offset;return M({type:x,limit:t,offset:n})},isSelectable:!t.system,setCheckedItems:function(e){M({type:D,selection:e(h).map((function(e){return{uuid:e.uuid}}))})},checkedRows:h,onShowMore:re?function(){M({type:F})}:void 0,setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;M(z(z(z({type:L},t?{applications:t}:P.applications),n?{resources:n}:P.resources),r?{operations:r}:P.operations))},toolbarButtons:function(){return[c().createElement(p.Link,{to:"/roles/detail/".concat(t.uuid,"/role-add-permission"),key:"role-add-permission",className:"ins-m-hide-on-sm"},c().createElement(m.Button,{variant:"primary","aria-label":"Add Permission"},"Add permissions")),{label:"Add Permission",props:{className:"pf-m-hidden-on-md"},onClick:function(){r.push("/roles/detail/".concat(t.uuid,"/role-add-permission"))}},{label:"Remove",props:{isDisabled:!h.length>0},onClick:function(){var e=h.length>1;M({type:I,confirmDelete:function(){return Q((0,i.Z)(h))},deleteInfo:{title:e?"Remove permissions?":"Remove permission?",text:H(e?h.length:h[0].uuid,t,h.length>1),confirmButtonLabel:e?"Remove permissions":"Remove permission"}})}}]},isLoading:n,pagination:z(z({},b),{},{count:J.length}),titlePlural:"permissions",titleSingular:"permission",routes:function(){return c().createElement(p.Route,{exact:!0,path:v._j.W3},c().createElement(V.ZP,{isOpen:!0,role:t}))},emptyProps:{title:"There are no permissions in this role",description:["To configure user access to applications,","add at least one permission to this role.",""]},filters:[{key:"applications",value:0===P.applications.length?"":P.applications,placeholder:"Filter by application",type:"group",selected:ee(P.applications),groups:[{type:ne.applications.length>0?"checkbox":"plain",items:ne.applications.length>0?ne.applications.slice(0,R?void 0:10).map((function(e){return{label:e,value:e}})):[te]}]},{key:"resources",value:0===P.resources.length?"":P.resources,placeholder:"Filter by resource type",type:"group",selected:ee(P.resources),groups:[{type:S.length>0?"checkbox":"plain",items:S.length>0?S.slice(0,R?void 0:10):[te]}]},{key:"operations",value:0===P.operations.length?"":P.operations,placeholder:"Filter by operation",type:"group",selected:ee(P.operations),groups:[{type:T.length>0?"checkbox":"plain",items:T.length>0?T.slice(0,R?void 0:10):[te]}]}]}))};var K=n(64007),$=n(13063),Y=n(88040),U=n(67643),J=n(16796),Q=n(11107);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.onDelete,n=(0,p.useHistory)(),r=(0,a.useState)(!1),o=(0,s.Z)(r,2),l=o[0],u=o[1],g=(0,p.useParams)(),E=g.uuid,O=g.groupUuid,Z=(0,d.useSelector)((function(e){var t,n,r,i,o,s,a,c;return te(te({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},O&&{group:e.groupReducer.selectedGroup}),{},{rolesPagination:(null===(t=e.roleReducer)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.pagination)||w.he,rolesFilters:(null===(r=e.roleReducer)||void 0===r||null===(i=r.roles)||void 0===i?void 0:i.filters)||{},groupsPagination:(null===(o=e.groupReducer)||void 0===o||null===(s=o.groups)||void 0===s?void 0:s.pagination)||w.he,groupsFilters:(null===(a=e.groupReducer)||void 0===a||null===(c=a.groups)||void 0===c?void 0:c.filters)||{}})}),d.shallowEqual),j=Z.role,P=Z.group,R=Z.isRecordLoading,S=Z.rolesPagination,T=Z.rolesFilters,k=Z.groupsPagination,x=Z.groupsFilters,D=(0,d.useSelector)((function(e){return e.roleReducer.error!==Q.VG})),C=(0,d.useSelector)((function(e){return e.groupReducer.error!==Q.VG})),_=(0,d.useDispatch)(),I=function(){_((0,y.fp)(E)),O&&_((0,K.yi)(O))};(0,a.useEffect)((function(){return I(),insights.chrome.appObjectId(E),function(){return insights.chrome.appObjectId(void 0)}}),[E,O]);var L=function(){return[O?{title:"Groups",to:(0,Q.zk)(v._j.Xx,k,x)}:{title:"Roles",to:(0,Q.zk)(v._j.uJ,S,T)}].concat((0,i.Z)(O&&C?P?[{title:P&&P.name,to:"/groups/detail/".concat(O,"/roles"),isLoading:P&&P.loaded}]:[void 0]:C||!O?[]:[{title:"Invalid group",isActive:!0}]),(0,i.Z)(C||!O?[{title:R?void 0:D?(null==j?void 0:j.display_name)||(null==j?void 0:j.name):"Invalid role",isActive:!0}]:[]))},F=!R&&j?j.display_name||j.name:void 0,G=!R&&j?j.description:void 0,M=[c().createElement(m.DropdownItem,{component:c().createElement(p.Link,{onClick:function(){return u(!1)},to:v._j.Pu.replace(":id",E)},"Edit"),key:"edit-role"}),c().createElement(m.DropdownItem,{component:c().createElement(p.Link,{onClick:t,to:v._j.GL.replace(":id",E)},"Delete"),className:"ins-c-role__action",key:"delete-role"})];return c().createElement(a.Fragment,null,!C&&O||!D?c().createElement(a.Fragment,null,c().createElement("section",{className:"pf-c-page__main-breadcrumb pf-u-pb-md"},c().createElement(J.Z,L())),c().createElement(U.Z,{title:"".concat(C?"Role":"Group"," not found"),description:["".concat(C?"Role":"Group"," with ID ").concat(C?E:O," does not exist.")],actions:[c().createElement(m.Button,{key:"back-button",className:"pf-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:function(){return n.goBack()}},"Back to previous page")]})):c().createElement(a.Fragment,null,c().createElement(b.Q,{breadcrumbs:L()},c().createElement(m.Level,null,c().createElement(m.LevelItem,null,c().createElement(f.Z,{title:F||c().createElement(h.h2,null),className:"ins-rbac-page-header__title"})),!R&&j&&!j.system&&c().createElement(m.LevelItem,null,c().createElement(m.Dropdown,{ouiaId:"role-title-actions-dropdown",toggle:c().createElement(m.KebabToggle,{onToggle:function(e){return u(e)},id:"role-actions-dropdown"}),isOpen:l,isPlain:!0,position:"right",dropdownItems:M}))),G&&c().createElement(m.TextContent,{className:"ins-rbac-page-header__description"},c().createElement(m.Text,{component:"p"},G))),R||!j?c().createElement(h.Wi,null):c().createElement(X,null),c().createElement(p.Route,{path:v._j.GL},!R&&c().createElement($.Z,{afterSubmit:function(){_((0,y.Kt)(te(te({},S),{},{offset:0,filters:T,inModal:!1})))},cancelRoute:v._j.Fh.replace(":uuid",E),submitRoute:(0,Q.zk)(v._j.uJ,te(te({},S),{},{offset:0}),T),routeMatch:v._j.GL})),c().createElement(p.Route,{path:v._j.Pu},!R&&c().createElement(Y.Z,{afterSubmit:I,cancelRoute:v._j.Fh.replace(":uuid",E),routeMatch:v._j.Pu}))))};ne.propTypes={onDelete:u().func};const re=ne},57666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(99166);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return(0,r.Z)(e,t,n)}}}]);
//# sourceMappingURL=../sourcemaps/311.46817864b6ff64686448.js.map