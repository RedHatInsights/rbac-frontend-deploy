(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[2426,5467],{30120:(e,t,a)=>{"use strict";a.d(t,{a:()=>s});var n=a(65353),r=a(28416),l=a(62165),o=a(75587);const s=e=>{var{id:t="",children:a=null,className:s="",isOpen:c=!1,"aria-label":i="Actions",parentRef:m=null,getMenuRef:u=null,isActive:p=!1,isPlain:d=!1,isDisabled:g=!1,bubbleEvent:f=!1,onToggle:b=(()=>{}),ref:E}=e,v=(0,n.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(o.Z,Object.assign({id:t,className:s,isOpen:c,"aria-label":i,parentRef:m,getMenuRef:u,isActive:p,isPlain:d,isDisabled:g,onToggle:b,bubbleEvent:f},v),r.createElement(l.default,null))};s.displayName="KebabToggle"},62165:(e,t,a)=>{"use strict";a.r(t),a.d(t,{EllipsisVIcon:()=>l,EllipsisVIconConfig:()=>r,default:()=>o});var n=a(40400);const r={name:"EllipsisVIcon",height:512,width:192,svgPath:"M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z",yOffset:0,xOffset:0},l=(0,n.I)(r),o=l},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var n=a(62012),r=a(64756);const l=e=>{const t=(0,n.useNavigate)();return(a,n)=>t((0,r.n)(a,e),n)}},82617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(28416),r=a.n(n),l=a(45697),o=a.n(l),s=a(62012),c=a(75629),i=a(12849);const m=e=>e?r().createElement(c.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?r().createElement(c.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&r().createElement(s.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(i.Vj,{key:t})))):null;m.propTypes={breadcrumbs:o().object};const u=m},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>c});var n=a(28416),r=a.n(n),l=a(95376),o=a(58826),s=a.n(o);const c=({title:e,icon:t,description:a,actions:n,...o})=>r().createElement(l.EmptyState,{variant:l.EmptyStateVariant.sm,...o},r().createElement(l.EmptyStateHeader,{titleText:r().createElement(r().Fragment,null,e),icon:r().createElement(l.EmptyStateIcon,{icon:t||s()}),headingLevel:"h4"}),r().createElement(l.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>r().createElement(r().Fragment,{key:t},e," ",r().createElement("br",null))))),r().createElement(l.EmptyStateFooter,null,n))},13851:(e,t,a)=>{"use strict";a.d(t,{Q:()=>v,y:()=>y});var n=a(28416),r=a.n(n),l=a(45697),o=a.n(l),s=a(64380),c=a(86304),i=a(12849),m=a(82617),u=a(85893),p=a(94184),d=a.n(p);const g=r().createContext("light");var f=function(){return f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)};const b=function(e){var t=e.className,a=e.children,n=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children"]),r=d()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section");return(0,u.jsx)(g.Consumer,{children:function(e){var t,l;void 0===e&&(e="light");var o=d()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((l={})["pf-m-light"]="light"===e,l));return(0,u.jsx)("section",f({},n,{className:"".concat(r," ").concat(o),"widget-type":"InsightsPageHeader",children:a}))}})};var E=a(39173);const v=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(m.Z,{...t})),r().createElement(b,{className:"rbac-page-header"},e));v.propTypes={children:o().oneOfType([o().arrayOf(o().node),o().node]).isRequired,breadcrumbs:o().array,paddingBottom:o().bool},v.defaultProps={paddingBottom:!1};const y=({title:e,renderTitleTag:t,description:a,children:l})=>r().createElement(n.Fragment,null,r().createElement(c.Flex,null,r().createElement(c.FlexItem,{className:"pf-v5-u-mb-sm"},r().createElement(E.Z,{title:e||r().createElement(i.h2,null),className:"rbac-page-header__title"})),r().createElement(c.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(s.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(s.Text,{component:s.TextVariants.p},a):a),l);y.propTypes={title:o().node,renderTitleTag:o().func,description:o().node,children:o().oneOfType([o().node,o().arrayOf(o().node)])}},45030:(e,t,a)=>{"use strict";a.d(t,{R:()=>g});var n=a(28416),r=a.n(n),l=a(45697),o=a.n(l),s=a(94229),c=a(31055),i=a(18444),m=a(70214),u=a.n(m),p=a(25387),d=a(2550);const g=({type:e,isOpen:t,onModalCancel:a,onModalConfirm:n,customTitle:l,customDescription:o,customPrimaryButtonTitle:m,customSecondaryButtonTitle:g})=>{const f=(0,p.YB)();return r().createElement(s.Modal,{"data-testid":"warning-modal",title:r().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},r().createElement(i.Icon,{size:"lg",className:"pf-v5-u-mr-md"},r().createElement(u(),{className:"rbac-c-wizard__cancel-warning-header--icon"})),l||f.formatMessage(d.Z.exitItemCreation,{item:e})),variant:s.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:t,onClose:a,actions:[r().createElement(c.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:n},m??f.formatMessage(d.Z.exit)),r().createElement(c.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:a},g??f.formatMessage(d.Z.stay))]},r().createElement("span",null,o||f.formatMessage(d.Z.discardedInputsWarning)," "))};g.propTypes={type:o().string,customTitle:o().node,customDescription:o().node,customPrimaryButtonTitle:o().string,customSecondaryButtonTitle:o().string,isOpen:o().bool,onModalCancel:o().func,onModalConfirm:o().func}},44474:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>D});var n=a(28416),r=a.n(n),l=a(55140),o=a(62012),s=a(86706),c=a(25387),i=a(1439),m=a.n(i),u=a(5904),p=a(78972),d=a(57043),g=a(31055),f=a(85044),b=a(79332),E=a(30120),v=a(45697),y=a.n(v),h=a(91397);const Z=({tabItems:e,isHeader:t})=>{const{pathname:a}=(0,o.useLocation)(),n=(0,o.useNavigate)(),l=e.find((({name:e})=>a.includes(e)));return r().createElement(h.Tabs,{className:t?"rbac-page-header__tabs":"",activeKey:l?l.eventKey:0,onSelect:(t,a)=>n(e[a].to)},e.map((e=>r().createElement(h.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name}))))};Z.propTypes={tabItems:y().array.isRequired,isHeader:y().bool};const I=Z;var k=a(84414),N=a(13851),T=a(45030),_=a(77044),C=a(12849),O=a(64756),M=a(66180),S=a(82617),x=a(29301),P=a(75614),w=a(2550),B=a(14289),A=a(65220);const D=()=>{const e=(0,c.YB)(),t=(0,s.useDispatch)(),a=(0,k.Z)(),i=(0,o.useLocation)(),v=(0,l.Z)(),{groupId:y}=(0,o.useParams)(),h=y===P.Cn,Z=(e=>{const{isBeta:t,getEnvironment:a}=(0,l.Z)(),n=(0,A.useFlag)("platform.rbac.group-service-accounts");return("prod"!==a()||!1!==t())&&n})(),D=[{eventKey:0,title:"Roles",name:B.Z["group-detail-roles"].link.replace(":groupId",y),to:"roles"},{eventKey:1,title:"Members",name:B.Z["group-detail-members"].link.replace(":groupId",y),to:"members"},...Z?[{eventKey:2,title:"Service accounts",name:B.Z["group-detail-service-accounts"].link.replace(":groupId",y),to:"service-accounts"}]:[]],{pagination:F,filters:j,groupExists:G,systemGroupUuid:R}=(0,s.useSelector)((({groupReducer:{groups:e,error:t,systemGroup:a}})=>({pagination:e.pagination||e.meta,filters:e.filters,groupExists:t!==x.VG,systemGroupUuid:a?.uuid})),s.shallowEqual),{group:H,isGroupLoading:K}=(0,s.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({group:e,isGroupLoading:t})),s.shallowEqual),[z,L]=(0,n.useState)(!1),[V,q]=(0,n.useState)(!1),[W,Q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t((0,_.WD)({chrome:v}));const e=h?R:y;return e&&(t((0,_.yi)(e)),v.appObjectId(e)),()=>v.appObjectId(void 0)}),[y,R]);const U=()=>[{title:e.formatMessage(w.Z.groups),to:(0,x.zk)((0,O.n)(B.Z.groups.link),F,j)},G?{title:K?void 0:H.name,isActive:!0}:{title:e.formatMessage(w.Z.invalidGroup),isActive:!0}],Y=[r().createElement(f.h,{component:r().createElement(O.Z,{onClick:()=>q(!1),to:(i.pathname.includes("members")?B.Z["group-members-edit-group"]:B.Z["group-roles-edit-group"]).link.replace(":groupId",h?P.Cn:y)},e.formatMessage(w.Z.edit)),key:"edit-group"}),r().createElement(f.h,{component:r().createElement(O.Z,{to:(i.pathname.includes("members")?B.Z["group-members-remove-group"]:B.Z["group-roles-remove-group"]).link.replace(":groupId",y)},e.formatMessage(w.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return r().createElement(n.Fragment,null,z&&r().createElement(T.R,{type:"group",isOpen:z,customTitle:r().createElement("div",null,e.formatMessage(w.Z.restoreDefaultAccessQuestion)),customDescription:r().createElement(c._H,{...w.Z.restoreDefaultAccessDescription,values:{b:e=>r().createElement("b",null,e)}}),customPrimaryButtonTitle:e.formatMessage(w.Z.continue),customSecondaryButtonTitle:e.formatMessage(w.Z.cancel),onModalCancel:()=>L(!1),onModalConfirm:()=>{t((0,_.gg)([R])).then((()=>t((0,_.WD)({chrome:v})).then((()=>{Q(!1)})))),L(!1),a(B.Z["group-detail-roles"].link.replace(":groupId",P.Cn))}}),G?r().createElement(n.Fragment,null,r().createElement(N.Q,{breadcrumbs:U()},r().createElement(d.Split,{hasGutter:!0},r().createElement(d.SplitItem,{isFilled:!0},r().createElement(N.y,{title:!K&&H?r().createElement(n.Fragment,null,H.platform_default&&!H.system?(J=H.name,r().createElement("div",{style:{display:"inline-flex"}},J,r().createElement("div",{className:"pf-v5-u-ml-sm"},r().createElement(p.Popover,{"aria-label":"default-group-icon",bodyContent:r().createElement(c._H,{...w.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon"}))))):H.name):void 0,description:!K&&H?.description||void 0})),H.platform_default&&!H.system?r().createElement(d.SplitItem,null,r().createElement("div",{className:"rbac-default-group-reset-btn"},r().createElement(g.Button,{variant:"link",onClick:()=>L(!0)},e.formatMessage(w.Z.restoreToDefault)),r().createElement(p.Popover,{"aria-label":"default-group-icon",position:p.PopoverPosition.bottomEnd,bodyContent:r().createElement(c._H,{...w.Z.restoreDefaultAccessInfo,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon pf-v5-u-mt-sm"})))):null,r().createElement(d.SplitItem,null,H.platform_default||H.admin_default?null:r().createElement(b.L,{ouiaId:"group-title-actions-dropdown",toggle:r().createElement(E.a,{onToggle:(e,t)=>q(t),id:"group-actions-dropdown"}),isOpen:V,isPlain:!0,position:"right",dropdownItems:Y}))),W?r().createElement(u.Alert,{variant:"info",isInline:!0,title:e.formatMessage(w.Z.defaultAccessGroupChanged),action:r().createElement(u.AlertActionCloseButton,{onClose:()=>Q(!1)}),className:"pf-v5-u-mb-lg pf-v5-u-mt-sm"},r().createElement(c._H,{...w.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})):null),r().createElement(I,{isHeader:!0,tabItems:D}),r().createElement(o.Outlet,{context:{[B.Z["group-detail-roles"].path]:{onDefaultGroupChanged:Q},groupId:y,systemGroupUuid:R}}),!H&&r().createElement(C.Wi,null)):r().createElement(n.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(S.Z,{...U()})),r().createElement(M.Z,{title:e.formatMessage(w.Z.groupNotFound),description:[e.formatMessage(w.Z.groupDoesNotExist,{id:y})],actions:[r().createElement(g.Button,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>a(-1)},e.formatMessage(w.Z.backToPreviousPage))]})));var J}},45467:()=>{},30187:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2426.8bfb5926f143eddef08ccf78ff07aff6.js.map