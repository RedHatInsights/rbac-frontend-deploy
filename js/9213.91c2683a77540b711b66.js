"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[9213],{40400:(e,t,n)=>{n.d(t,{IU:()=>c,Jh:()=>r});var r,a=n(70655),o=n(92950);!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(r||(r={}));let l=0;function c({name:e,xOffset:t=0,yOffset:n=0,width:c,height:i,svgPath:s}){var u;return u=class extends o.Component{constructor(){super(...arguments),this.id="icon-title-"+l++}render(){const e=this.props,{size:l,color:u,title:m,noVerticalAlign:d}=e,p=(0,a.__rest)(e,["size","color","title","noVerticalAlign"]),g=Boolean(m),f=(e=>{switch(e){case r.sm:return"1em";case r.md:return"1.5em";case r.lg:return"2em";case r.xl:return"3em";default:return"1em"}})(l),v=-.125*Number.parseFloat(f),b=d?null:{verticalAlign:`${v}em`},E=[t,n,c,i].join(" ");return o.createElement("svg",Object.assign({style:b,fill:u,height:f,width:f,viewBox:E,"aria-labelledby":g?this.id:null,"aria-hidden":!g||null,role:"img"},p),g&&o.createElement("title",{id:this.id},m),o.createElement("path",{d:s}))}},u.displayName=e,u.defaultProps={color:"currentColor",size:r.sm,noVerticalAlign:!1},u}},69957:(e,t,n)=>{n.d(t,{LP:()=>o,RI:()=>a,ZP:()=>l});var r=n(40400);const a={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},o=(0,r.IU)(a),l=o},91290:(e,t,n)=>{n.d(t,{ZP:()=>l,iC:()=>o,sN:()=>a});var r=n(40400);const a={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},o=(0,r.IU)(a),l=o},39173:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(85893),a=n(94184),o=n.n(a),l=n(25864),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const i=function(e){var t=e.className,n=e.title,a=o()(t);return(0,r.jsx)(l.Title,c({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},93736:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(46801),a=n(65126);const o=function(e){var t=(0,r.useNavigate)();return function(n,r){return t((0,a.n)(n,e),r)}}},76137:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),c=n(46801),i=n(25864),s=n(19571),u=function(e){return e?a().createElement(i.Breadcrumb,null,Object.values(e).map((function(e,t){return e.title?a().createElement(i.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a().createElement(c.NavLink,{end:!0,to:e.to},e.title)||e.title):a().createElement(s.Vj,{key:t})}))):null};u.propTypes={breadcrumbs:l().object};const m=u},51999:(e,t,n)=>{n.d(t,{Q:()=>b,y:()=>E});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),c=n(25864),i=n(19571),s=n(76137),u=n(85893),m=n(94184),d=n.n(m);const p=a().createContext("light");var g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)};const f=function(e){var t=e.className,n=e.children,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children"]),a=d()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,u.jsx)(p.Consumer,{children:function(e){var t,o;void 0===e&&(e="light");var l=d()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((o={})["pf-m-light"]="light"===e,o));return(0,u.jsx)("section",g({},r,{className:"".concat(a," ").concat(l),"widget-type":"InsightsPageHeader"},{children:n}))}})};var v=n(39173),b=function(e){var t=e.children,n=e.breadcrumbs;return a().createElement(r.Fragment,null,n&&a().createElement("section",{className:"pf-c-page__main-breadcrumb"},a().createElement(s.Z,n)),a().createElement(f,{className:"rbac-page-header"},t))};b.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},b.defaultProps={paddingBottom:!1};var E=function(e){var t=e.title,n=e.renderTitleTag,o=e.description,l=e.children;return a().createElement(r.Fragment,null,a().createElement(c.Flex,null,a().createElement(c.FlexItem,{className:"pf-u-mb-sm"},a().createElement(v.Z,{title:t||a().createElement(i.h2,null),className:"rbac-page-header__title"})),a().createElement(c.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},n&&n())),o&&a().createElement(c.TextContent,{className:"rbac-page-header__description"},"string"==typeof o?a().createElement(c.Text,{component:c.TextVariants.p},o):o),l)};E.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},73943:(e,t,n)=>{n.d(t,{R:()=>m});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),c=n(25864),i=n(69957),s=n(86896),u=n(30893),m=function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onModalConfirm,l=e.customTitle,m=e.customDescription,d=e.customPrimaryButtonTitle,p=e.customSecondaryButtonTitle,g=(0,s.Z)();return a().createElement(c.Modal,{title:a().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},a().createElement(i.ZP,{size:"md",className:"rbac-c-wizard__cancel-warning-header--icon"}),l||g.formatMessage(u.Z.exitItemCreation,{item:t})),variant:c.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[a().createElement(c.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},null!=d?d:g.formatMessage(u.Z.exit)),a().createElement(c.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},null!=p?p:g.formatMessage(u.Z.stay))]},a().createElement("span",null,m||g.formatMessage(u.Z.discardedInputsWarning)," "))};m.propTypes={type:l().string,customTitle:l().node,customDescription:l().node,customPrimaryButtonTitle:l().string,customSecondaryButtonTitle:l().string,isOpen:l().bool,onModalCancel:l().func,onModalConfirm:l().func}},19213:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var r=n(4942),a=n(87462),o=n(29439),l=n(93433),c=n(92950),i=n.n(c),s=n(55140),u=n(46801),m=n(50533),d=n(86896),p=n(44012),g=n(91290),f=n(25864),v=n(67768),b=n(45697),E=n.n(b),y=function(e){var t=e.tabItems,n=e.isHeader,r=(0,u.useLocation)().pathname,a=(0,u.useNavigate)(),o=t.find((function(e){var t=e.name;return r.includes(t)}));return i().createElement(f.Tabs,{className:n?"rbac-page-header__tabs":"",activeKey:o?o.eventKey:0,onSelect:function(e,n){return a(t[n].to)}},t.map((function(e){return i().createElement(f.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))};y.propTypes={tabItems:E().array.isRequired,isHeader:E().bool};const h=y;var Z=n(93736),I=n(51999),C=n(73943),N=n(19756),O=n(19571),_=n(65126),M=n(74368),T=n(76137),k=n(11107),x=n(84866),w=n(30893),P=n(4682);const S=function(){var e,t=(0,d.Z)(),n=(0,m.useDispatch)(),b=(0,Z.Z)(),E=(0,u.useLocation)(),y=(0,s.Z)(),S=(0,u.useParams)().groupId,A=S===x.Cn,F=(0,v.useFlag)("platform.rbac.group-service-accounts"),B=[{eventKey:0,title:"Roles",name:P.Z["group-detail-roles"].link.replace(":groupId",S),to:"roles"},{eventKey:1,title:"Members",name:P.Z["group-detail-members"].link.replace(":groupId",S),to:"members"}].concat((0,l.Z)(F?[{eventKey:2,title:"Service accounts",name:P.Z["group-detail-service-accounts"].link.replace(":groupId",S),to:"service-accounts"}]:[])),j=(0,m.useSelector)((function(e){var t=e.groupReducer,n=t.groups,r=t.error,a=t.systemGroup;return{pagination:n.pagination||n.meta,filters:n.filters,groupExists:r!==k.VG,systemGroupUuid:null==a?void 0:a.uuid}}),m.shallowEqual),z=j.pagination,D=j.filters,G=j.groupExists,R=j.systemGroupUuid,K=(0,m.useSelector)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.isRecordLoading,a=t.isRecordRolesLoading;return{group:n,isFetching:r||a}}),m.shallowEqual),L=K.group,V=K.isFetching,U=(0,c.useState)(!1),H=(0,o.Z)(U,2),q=H[0],Q=H[1],W=(0,c.useState)(!1),J=(0,o.Z)(W,2),$=J[0],X=J[1],Y=(0,c.useState)(!1),ee=(0,o.Z)(Y,2),te=ee[0],ne=ee[1];(0,c.useEffect)((function(){n((0,N.WD)({chrome:y}));var e=A?R:S;return e&&(n((0,N.yi)(e)),y.appObjectId(e)),function(){return y.appObjectId(void 0)}}),[S,R]);var re,ae=function(){return[{title:t.formatMessage(w.Z.groups),to:(0,k.zk)((0,_.n)(P.Z.groups.link),z,D)},G?{title:V?void 0:L.name,isActive:!0}:{title:t.formatMessage(w.Z.invalidGroup),isActive:!0}]},oe=[i().createElement(f.DropdownItem,{component:i().createElement(_.Z,{onClick:function(){return X(!1)},to:(E.pathname.includes("members")?P.Z["group-members-edit-group"]:P.Z["group-roles-edit-group"]).link.replace(":groupId",A?x.Cn:S)},t.formatMessage(w.Z.edit)),key:"edit-group"}),i().createElement(f.DropdownItem,{component:i().createElement(_.Z,{to:(E.pathname.includes("members")?P.Z["group-members-remove-group"]:P.Z["group-roles-remove-group"]).link.replace(":groupId",S)},t.formatMessage(w.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return i().createElement(c.Fragment,null,q&&i().createElement(C.R,{type:"group",isOpen:q,customTitle:i().createElement("div",null,t.formatMessage(w.Z.restoreDefaultAccessQuestion)),customDescription:i().createElement(p.Z,(0,a.Z)({},w.Z.restoreDefaultAccessDescription,{values:{b:function(e){return i().createElement("b",null,e)}}})),customPrimaryButtonTitle:t.formatMessage(w.Z.continue),customSecondaryButtonTitle:t.formatMessage(w.Z.cancel),onModalCancel:function(){return Q(!1)},onModalConfirm:function(){n((0,N.gg)([R])).then((function(){return n((0,N.WD)({chrome:y})).then((function(){ne(!1)}))})),Q(!1),b(P.Z["group-detail-roles"].link.replace(":groupId",x.Cn))}}),G?i().createElement(c.Fragment,null,i().createElement(I.Q,{breadcrumbs:ae()},i().createElement(f.Split,{hasGutter:!0},i().createElement(f.SplitItem,{isFilled:!0},i().createElement(I.y,{title:!V&&L?i().createElement(c.Fragment,null,L.platform_default&&!L.system?(re=L.name,i().createElement("div",{style:{display:"inline-flex"}},re,i().createElement("div",{className:"pf-u-ml-sm"},i().createElement(f.Popover,{"aria-label":"default-group-icon",bodyContent:i().createElement(p.Z,(0,a.Z)({},w.Z.defaultAccessGroupNameChanged,{values:{b:function(e){return i().createElement("b",null,e)}}}))},i().createElement(g.ZP,{className:"rbac-default-group-info-icon"}))))):L.name):void 0,description:!V&&L?L.description:void 0})),L.platform_default&&!L.system?i().createElement(f.SplitItem,null,i().createElement("div",{className:"rbac-default-group-reset-btn"},i().createElement(f.Button,{variant:"link",onClick:function(){return Q(!0)}},t.formatMessage(w.Z.restoreToDefault)),i().createElement(f.Popover,{"aria-label":"default-group-icon",position:f.PopoverPosition.bottomEnd,bodyContent:i().createElement(p.Z,(0,a.Z)({},w.Z.restoreDefaultAccessInfo,{values:{b:function(e){return i().createElement("b",null,e)}}}))},i().createElement(g.ZP,{className:"rbac-default-group-info-icon pf-u-mt-sm"})))):null,i().createElement(f.SplitItem,null,L.platform_default||L.admin_default?null:i().createElement(f.Dropdown,{ouiaId:"group-title-actions-dropdown",toggle:i().createElement(f.KebabToggle,{onToggle:function(e){return X(e)},id:"group-actions-dropdown"}),isOpen:$,isPlain:!0,position:"right",dropdownItems:oe}))),te?i().createElement(f.Alert,{variant:"info",isInline:!0,title:t.formatMessage(w.Z.defaultAccessGroupChanged),action:i().createElement(f.AlertActionCloseButton,{onClose:function(){return ne(!1)}}),className:"pf-u-mb-lg pf-u-mt-sm"},i().createElement(p.Z,(0,a.Z)({},w.Z.defaultAccessGroupNameChanged,{values:{b:function(e){return i().createElement("b",null,e)}}}))):null),i().createElement(h,{isHeader:!0,tabItems:B}),i().createElement(u.Outlet,{context:(e={},(0,r.Z)(e,P.Z["group-detail-roles"].path,{onDefaultGroupChanged:ne}),(0,r.Z)(e,"groupId",S),(0,r.Z)(e,"systemGroupUuid",R),e)}),!L&&i().createElement(O.Wi,null)):i().createElement(c.Fragment,null,i().createElement("section",{className:"pf-c-page__main-breadcrumb pf-u-pb-md"},i().createElement(T.Z,ae())),i().createElement(M.Z,{title:t.formatMessage(w.Z.groupNotFound),description:[t.formatMessage(w.Z.groupDoesNotExist,{id:S})],actions:[i().createElement(f.Button,{key:"back-button",className:"pf-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:function(){return b(-1)}},t.formatMessage(w.Z.backToPreviousPage))]})))}},44012:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(70655),a=n(92950),o=n(86896),l=n(680);function c(e){var t=(0,o.Z)(),n=t.formatMessage,r=t.textComponent,l=void 0===r?a.Fragment:r,c=e.id,i=e.description,s=e.defaultMessage,u=e.values,m=e.children,d=e.tagName,p=void 0===d?l:d,g=n({id:c,description:i,defaultMessage:s},u,{ignoreTag:e.ignoreTag});return"function"==typeof m?m(Array.isArray(g)?g:[g]):p?a.createElement(p,null,a.Children.toArray(g)):a.createElement(a.Fragment,null,g)}c.displayName="FormattedMessage";var i=a.memo(c,(function(e,t){var n=e.values,a=(0,r.__rest)(e,["values"]),o=t.values,c=(0,r.__rest)(t,["values"]);return(0,l.wU)(o,n)&&(0,l.wU)(a,c)}));i.displayName="MemoizedFormattedMessage";const s=i},74368:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(92950),a=n.n(r),o=n(25864),l=n(84747);const c=({title:e,icon:t,description:n,actions:r,...c})=>a().createElement(o.EmptyState,{variant:o.EmptyStateVariant.small,...c},a().createElement(o.EmptyStateIcon,{icon:t||l.SearchIcon}),a().createElement(o.Title,{headingLevel:"h4",size:"lg"},e),a().createElement(o.EmptyStateBody,{className:"pf-u-mb-md"},n.map(((e,t)=>a().createElement(a().Fragment,{key:t},e," ",a().createElement("br",null))))),r)}}]);
//# sourceMappingURL=../sourcemaps/9213.1c12700383405fa873d5840262c41c62.js.map