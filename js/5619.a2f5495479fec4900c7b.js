/*! For license information please see 5619.a2f5495479fec4900c7b.js.LICENSE.txt */
(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[5619],{7081:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>a,lb:()=>o,wl:()=>i});var n=r(40400);const o={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},i=(0,n.IU)(o),a=i},55795:(e,t,r)=>{"use strict";t.sN={name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0},t.iC=r(35183).IU(t.sN),t.ZP=t.iC},93736:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(46801),o=r(65126);const i=function(e){var t=(0,n.useNavigate)();return function(r,n){return t((0,o.n)(r,e),n)}}},29215:(e,t,r)=>{"use strict";r.d(t,{R:()=>d,A:()=>p});var n=r(36580),o=r(71002),i=r(15861);function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",c=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),a=new Z(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=f(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var p={};function d(){}function h(){}function v(){}var m={};u(m,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(k([])));g&&g!==t&&r.call(g,i)&&(m=g);var w=v.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,c,s){var u=f(e[i],e,a);if("throw"!==u.type){var l=u.arg,p=l.value;return p&&"object"==(0,o.Z)(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,c,s)}),(function(e){n("throw",e,c,s)})):t.resolve(p).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=v,u(w,"constructor",v),u(v,"constructor",h),h.displayName=u(v,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(E.prototype),u(E.prototype,c,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),u(w,s,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},e}var c=(0,r(96692).i$)();function s(e){return u.apply(this,arguments)}function u(){return(u=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getResourceTypes(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.getResource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=function(e){return{type:n.s6,payload:s(e)}},d=function(e){return{type:n.ZX,payload:l(e)}}},73943:(e,t,r)=>{"use strict";r.d(t,{R:()=>f});var n=r(92950),o=r.n(n),i=r(45697),a=r.n(i),c=r(25864),s=r(69957),u=r(86896),l=r(30893),f=function(e){var t=e.type,r=e.isOpen,n=e.onModalCancel,i=e.onModalConfirm,a=e.customTitle,f=e.customDescription,p=e.customPrimaryButtonTitle,d=e.customSecondaryButtonTitle,h=(0,u.Z)();return o().createElement(c.Modal,{title:o().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},o().createElement(s.ZP,{size:"md",className:"rbac-c-wizard__cancel-warning-header--icon"}),a||h.formatMessage(l.Z.exitItemCreation,{item:t})),variant:c.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:r,onClose:n,actions:[o().createElement(c.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:i},null!=p?p:h.formatMessage(l.Z.exit)),o().createElement(c.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:n},null!=d?d:h.formatMessage(l.Z.stay))]},o().createElement("span",null,f||h.formatMessage(l.Z.discardedInputsWarning)," "))};f.propTypes={type:a().string,customTitle:a().node,customDescription:a().node,customPrimaryButtonTitle:a().string,customSecondaryButtonTitle:a().string,isOpen:a().bool,onModalCancel:a().func,onModalConfirm:a().func}},27979:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(4942),o=r(93433),i=r(29439),a=r(92950),c=r.n(a),s=r(45697),u=r.n(s),l=r(25864),f=r(48880),p=r(55795),d=r(86896),h=r(30893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t,r,n,s=e.formFields,u=(0,f.default)(),v=(0,a.useState)(u.getState().values["add-permissions-table"]||[]),y=(0,i.Z)(v,2),g=y[0],w=y[1],b=(0,a.useState)(!1),E=(0,i.Z)(b,2),O=E[0],x=E[1],L=u.getState().values["not-allowed-permissions"],Z=(0,d.Z)(),k=(null===(t=u.getState().values)||void 0===t||null===(r=t["copy-base-role"])||void 0===r||null===(n=r.applications)||void 0===n?void 0:n.filter((function(e){return!(null!=g&&g.find((function(t){return t.uuid.includes(e)})))})))||[],j=s[0][0];return c().createElement("div",{className:"rbac"},g.length>0?c().createElement("div",{className:"rbac-c-selected-chips"},c().createElement(l.ChipGroup,{categoryName:Z.formatMessage(h.Z.selectedPermissions)},g.reduce((function(e,t){return[t].concat((0,o.Z)(e))}),[]).map((function(e){var t=e.uuid;return c().createElement(l.Chip,{key:t,color:"blue",isTruncated:!0,onClick:function(){return w(g.filter((function(e){return e.uuid!==t})))}},t)})))):null,c().createElement(l.Title,{headingLevel:"h1",size:"xl",className:"rbac-c-add-permission-title"},Z.formatMessage(h.Z.addPermissions)),c().createElement(l.TextContent,null,c().createElement(l.Text,null,Z.formatMessage(h.Z.selectPermissionsForRole),0!==k.length&&c().createElement(l.Popover,{headerContent:Z.formatMessage(h.Z.onlyGranularPermissions),bodyContent:Z.formatMessage(h.Z.noWildcardPermissions)},c().createElement(l.Button,{variant:"link"},Z.formatMessage(h.Z.whyNotSeeingAllPermissions)," ",c().createElement(p.ZP,null))))),(null==L?void 0:L.length)>0&&!O?c().createElement(l.Alert,{variant:"default",isInline:!0,title:"".concat(Z.formatMessage(h.Z.followingPermissionsCannotBeAdded)," ").concat(L.join(", ")),actionClose:c().createElement(l.AlertActionCloseButton,{onClose:function(){return x(!0)}})}):null,[[m(m({},j),{},{props:m(m({},j.props),{},{selectedPermissions:g,setSelectedPermissions:w})})]])};y.propTypes={formFields:u().array};const g=y},16544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>X});var n=r(71002),o=r(87462),i=r(93433),a=r(4942),c=r(15861),s=r(29439),u=r(45987),l=r(18446),f=r.n(l),p=r(92950),d=r.n(p),h=r(45697),v=r.n(h),m=r(50533),y=r(55140),g=r(41693),w=r(48880),b=r(48623);function E(e,t){var r,n,o,i,a,c,s,u,l;return void 0===e&&(e=""),void 0===t&&(t=!1),c=this,s=void 0,l=function(){var c,s,u;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(l){switch(l.label){case 0:return c=window.insights,[4,null===(n=null===(r=null==c?void 0:c.chrome)||void 0===r?void 0:r.auth)||void 0===n?void 0:n.getUser()];case 1:return s=l.sent(),u={isOrgAdmin:(null===(i=null===(o=null==s?void 0:s.identity)||void 0===o?void 0:o.user)||void 0===i?void 0:i.is_org_admin)||!1},[4,null===(a=null==c?void 0:c.chrome)||void 0===a?void 0:a.getUserPermissions(e,t)];case 2:return[2,(u.permissions=l.sent()||null,u)]}}))},new((u=void 0)||(u=Promise))((function(e,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof u?o:new u((function(e){e(o)}))).then(r,n)}o((l=l.apply(c,s||[])).next())}))}function O(e){return"object"==typeof e}function x(e,t){return!!e&&e.some((function(e){return t.includes(O(e)?null==e?void 0:e.permission:e)}))}function L(e,t){return!!e&&t.every((function(t){return e.some((function(e){var r,n=(null===(r=O(e)?null==e?void 0:e.permission:e)||void 0===r?void 0:r.split(":"))||[],o=t.split(":");return n.slice(0).reduce((function(e,t,r,n){return!1===e?(n.splice(r),e):"*"===t||t===(null==o?void 0:o[r])}),!0)||n.join(":")===t}))}))}(0,p.createContext)({isLoading:!0,isOrgAdmin:!1,permissions:[]});var Z=function(){return Z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Z.apply(this,arguments)};const k=function(e,t,r,n){var o=this,i=(0,p.useState)({isLoading:!0,hasAccess:!1,isOrgAdmin:!1,permissions:[]}),a=i[0],c=i[1];return(0,p.useEffect)((function(){var i,a,s,u,l=!1;return c((function(e){return Z(Z({},e),{isLoading:!0})})),i=o,a=void 0,u=function(){var o,i,a;return function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(s){switch(s.label){case 0:return[4,E(e,r)];case 1:return o=s.sent(),i=o.isOrgAdmin,a=o.permissions,!l&&c({isLoading:!1,isOrgAdmin:i,permissions:a,hasAccess:n?L(a,t):x(a,t)}),[2]}}))},new((s=void 0)||(s=Promise))((function(e,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function n(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(r,n)}o((u=u.apply(i,a||[])).next())})),function(){l=!0}}),[e,r]),a};var j=r(30060),S=r(36580);function P(){P=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var v={};s(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(Z([])));y&&y!==t&&r.call(y,i)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(i,a,c,s){var u=l(e[i],e,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"==(0,n.Z)(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){f.value=e,c(f)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function Z(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,s(g,"constructor",h),s(h,"constructor",d),d.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=Z,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:Z(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var _=(0,r(96692).Y3)();function T(e,t,r,n,o,i,a,c,s,u,l){return M.apply(this,arguments)}function M(){return(M=(0,c.Z)(P().mark((function e(t,r,n,o,i,a,c,s,u,l,f){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.listPermissions(t,r,n,o,i,a,c,s,u,l,f);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t,r,n,o,i,a,c){return C.apply(this,arguments)}function C(){return(C=(0,c.Z)(P().mark((function e(t,r,n,o,i,a,c,s){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.listPermissionOptions(t,r,n,o,i,a,void 0,c,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G={application:S.KD,resource_type:S.vf,verb:S.E2},F=r(29215),A=r(28090),I=r(25864),D=r(1936),R=["row"],V=function(e){var t=e.row,r=(0,u.Z)(e,R);return t.disableSelection?d().createElement(I.Tooltip,{content:t.disabledContent,exitDelay:1500,entryDelay:1500},d().createElement(D.RowWrapper,(0,o.Z)({className:"rbac-c-disabled-row",row:t},r))):d().createElement(D.RowWrapper,(0,o.Z)({row:t},r))};V.propTypes={props:v().object,row:v().object};var B=r(86896),z=r(30893),q=["selectedPermissions","setSelectedPermissions"];function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(){W=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),a=new L(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=E(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function p(){}function d(){}function h(){}var v={};s(v,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(Z([])));y&&y!==t&&r.call(y,i)&&(v=y);var g=h.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(i,a,c,s){var u=l(e[i],e,a);if("throw"!==u.type){var f=u.arg,p=f.value;return p&&"object"==(0,n.Z)(p)&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){o("next",e,c,s)}),(function(e){o("throw",e,c,s)})):t.resolve(p).then((function(e){f.value=e,c(f)}),(function(e){return o("throw",e,c,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function Z(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,s(g,"constructor",h),s(h,"constructor",d),d.displayName=s(h,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),s(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(g),s(g,c,"Generator"),s(g,i,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=Z,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:Z(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var K=function(e){var t=e.permissionReducer,r=t.permission,n=t.isLoading,o=t.options,i=o.application,a=o.operation,c=o.resource,s=t.expandSplats,u=t.isLoadingExpandSplats,l=e.roleReducer,f=l.isRecordLoading,p=l.selectedRole,d=e.costReducer.resourceTypes;return{permissions:r.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,r=e.resource_type,n=e.verb,o=e.permission,i=e.requires;return{application:t,resource:r,operation:n,uuid:o,requires:i}})),pagination:r.meta,isLoading:n||f,baseRole:p,applicationOptions:i.data.filter((function(e){return"*"!==e})),resourceOptions:c.data.filter((function(e){return"*"!==e})),operationOptions:a.data.filter((function(e){return"*"!==e})),expandedPermissions:s.data.map((function(e){return e.permission})),isLoadingExpandSplats:u,resourceTypes:d.data}},Q=function(e){var t=e.selectedPermissions,r=e.setSelectedPermissions,n=(0,u.Z)(e,q),l=(0,p.useState)(null),h=(0,s.Z)(l,2),v=h[0],E=h[1],O=(0,y.Z)().auth,x=(0,m.useDispatch)(),L=(0,B.Z)(),Z=k("cost-management",["cost-management:*:*"]).hasAccess,P=k("rbac",["rbac:*:*"]).hasAccess,_=[L.formatMessage(z.Z.application),L.formatMessage(z.Z.resourceType),L.formatMessage(z.Z.operation)];(0,p.useEffect)((function(){var e=function(){var e=(0,c.Z)(W().mark((function e(){var t,r;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getUser();case 2:t=e.sent,r=t.identity.user,E(r.is_org_admin);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();O&&e()}),[O]);var M=function(e){return x((r=(t=U(U(U({},e),ue?{exclude_roles:ue}:{}),{},{allowed_only:!0})).limit,n=t.offset,o=t.orderBy,i=t.application,a=t.resourceType,c=t.verb,s=t.permission,l=void 0===(u=t.exclude_globals)||u,f=t.exclude_roles,p=t.allowed_only,d=t.options,{type:S.wI,payload:T(r,n,o,i,a,c,s,l,f,p,d)}));var t,r,n,o,i,a,c,s,u,l,f,p,d},C=function(e){return x((r=(t=U(U({},e),{},{allowedOnly:!0})).field,n=t.limit,o=t.offset,i=t.application,a=t.resourceType,c=t.verb,s=t.allowedOnly,u=t.options,{type:G[r],payload:N(r,n,o,i,a,c,s,u)}));var t,r,n,o,i,a,c,s,u},I=(0,m.useSelector)(K,m.shallowEqual),D=I.permissions,R=I.isLoading,Y=I.pagination,Q=I.baseRole,X=I.applicationOptions,$=I.resourceOptions,H=I.operationOptions,J=I.expandedPermissions,ee=I.isLoadingExpandSplats,te=I.resourceTypes,re=(0,g.Z)(n).input,ne=(0,w.default)(),oe=(0,p.useState)({applications:[],resources:[],operations:[]}),ie=(0,s.Z)(oe,2),ae=ie[0],ce=ie[1],se=ne.getState().values["role-type"],ue=ne.getState().values["role-uuid"],le=(0,p.useState)(!1),fe=(0,s.Z)(le,2),pe=fe[0],de=fe[1],he=(0,p.useState)(""),ve=(0,s.Z)(he,2),me=ve[0],ye=ve[1],ge=(0,p.useState)(),we=(0,s.Z)(ge,2),be=we[0],Ee=we[1],Oe=(0,p.useMemo)((function(){return v||null!=P&&P}),[P,v]),xe=function(e){return te.find((function(t){var r;return t.value===(null===(r=e.split(":"))||void 0===r?void 0:r[1])}))},Le=(0,p.useCallback)((0,b.Z)((function(e){var t=e.applications,r=e.resources,n=e.operations;return C({field:"application",limit:50,application:t.join(),resourceType:r.join(),verb:n.join()})}),2e3),[]),Ze=(0,p.useCallback)((0,b.Z)((function(e){var t=e.applications,r=e.resources,n=e.operations;return C({field:"resource_type",limit:50,application:t.join(),resourceType:r.join(),verb:n.join()})}),2e3),[]),ke=(0,p.useCallback)((0,b.Z)((function(e){var t=e.applications,r=e.resources,n=e.operations;return C({field:"verb",limit:50,application:t.join(),resourceType:r.join(),verb:n.join()})}),2e3),[]);(0,p.useEffect)((function(){var e,t=null===(e=ne.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid;return"copy"===se&&t&&x((0,A.fp)(t)),ne.change("has-cost-resources",!1),M(Y),C({field:"application",limit:50}),C({field:"resource_type",limit:50}),C({field:"verb",limit:50}),function(){return x({type:S.e0,payload:{data:[]}})}}),[]),(0,p.useEffect)((function(){Z&&x((0,F.A)())}),[Z]),(0,p.useEffect)((function(){Ze(ae),ke(ae)}),[ae.applications]),(0,p.useEffect)((function(){Le(ae),ke(ae)}),[ae.resources]),(0,p.useEffect)((function(){Le(ae),Ze(ae)}),[ae.operations]),(0,p.useEffect)((function(){re.onChange(t)}),[t]),(0,p.useEffect)((function(){var e;if(!(!Q||"copy"!==se||ne.getState().values["base-permissions-loaded"]||t.length>0||(null===(e=ne.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid)!==(null==Q?void 0:Q.uuid)||ee||R)){var n,o,a,c,s,u,l,f,p,d,h,v,m,y=[],g=(null==Q?void 0:Q.access.filter((function(e){var t;return!!X.includes(null==e||null===(t=e.permission)||void 0===t?void 0:t.split(":")[0])||(y.push(e),!1)})))||[];if(ne.change("not-allowed-permissions",y.map((function(e){return e.permission}))),0===J.length&&void 0===ee){var w=(0,i.Z)(new Set(g.map((function(e){return e.permission.split(":")[0]}))));x((a=void 0===(o=(n={application:w.join()}).limit)?1e3:o,s=void 0===(c=n.offset)?0:c,u=n.orderBy,l=n.application,f=n.resourceType,p=n.verb,d=n.permission,v=void 0===(h=n.exclude_globals)||h,m=n.options,{type:S.e,payload:T(a,s,u,l,f,p,d,v,m)}))}else{var b=g.map((function(e){return e.permission.replace("*",".*")}));r((function(){return J.filter((function(e){return"cost-management"!==e.split(":")[0]||0!==(xe(e)||{count:0}).count})).filter((function(e){return b.some((function(t){return e.match(t)}))})).map((function(e){return{uuid:e}}))})),ne.change("base-permissions-loaded",!0)}}}),[D,Q]);var je=function(e){return e.reduce((function(e,t){return{"":U(U({},null==e?void 0:e[""]),{},(0,a.Z)({},t,!0))}}),{"":{}})},Se={applications:(0,i.Z)(X).filter((function(e){return e.includes(me)})).map((function(e){return{label:e,value:e}})),resources:(0,i.Z)($).filter((function(e){return e.includes(me)})).map((function(e){return{label:e,value:e}})),operations:(0,i.Z)(H).filter((function(e){return e.includes(me)})).map((function(e){return{label:e,value:e}}))},Pe={label:d().createElement("div",null,L.formatMessage(z.Z.noResultsFound)),isDisabled:!0},_e=Se[Object.keys(Se)[be||0]].length>10;return d().createElement("div",{className:"rbac-c-permissions-table"},d().createElement(j.M,(0,o.Z)({columns:_,isSelectable:!0,isCompact:!0,borders:!1,rows:function(e){return e.map((function(e){var r=e.application,n=e.resource,o=e.operation,i=e.uuid,a=e.requires;return{uuid:"".concat(r,":").concat(n,":").concat(o),requires:a,cells:[{title:r},n,o],selected:Boolean(t&&t.find((function(e){return e.uuid===i}))),disableSelection:"cost-management"===r&&(0===(xe(i)||{count:0}).count||!Z)||"inventory"===r&&!Oe,disabledContent:"cost-management"===r?d().createElement("div",null,L.formatMessage(Z?z.Z.configureResourcesForPermission:z.Z.noCostManagementPermissions)," ",Z?d().createElement("a",{href:"./settings/sources"},L.formatMessage(z.Z.configureCostSources)):null):d().createElement("div",null,L.formatMessage(z.Z.noRbacPermissions))}}))}(D),data:D,filterValue:"",noData:0===(null==D?void 0:D.length),noDataDescription:[L.formatMessage(z.Z.permissionNotDisplayedDescription)],fetchData:function(e){var t=e.limit,r=e.offset,n=e.applications,o=e.resources,i=e.operations;M({limit:t,offset:r,application:(n||ae.applications).join(),resourceType:(o||ae.resources).join(),verb:(i||ae.operations).join()})},setFilterValue:function(e){var t=e.applications,r=e.resources,n=e.operations;ce(U(U(U(U({},ae),t?{applications:t}:ae.applications),r?{resources:r}:ae.resources),n?{operations:n}:ae.operations))},isLoading:R||ee,pagination:U(U({},Y),{},{count:Y.count}),checkedRows:t,setCheckedItems:function(e){var n=e(t).filter((function(e){var t,r=e.uuid;return"cost-management"!==e.application||(null===(t=xe(r))||void 0===t?void 0:t.count)>0})).map((function(e){return{uuid:e.uuid,requires:e.requires}}));r(f()(n,t)?[]:n)},titlePlural:L.formatMessage(z.Z.permissions).toLowerCase(),titleSingular:L.formatMessage(z.Z.permission).toLowerCase(),showMoreTitle:L.formatMessage(pe?z.Z.seeLess:z.Z.seeMore),onFilter:function(e){return ye(e)},onShowMore:_e?function(){de((function(){return!pe}))}:void 0,onChange:function(e,t){ye(""),Ee(t)},value:be,filters:[{key:"applications",value:ae.applications,placeholder:L.formatMessage(z.Z.filterByKey,{key:L.formatMessage(z.Z.application).toLowerCase()}),type:"group",selected:je(ae.applications),groups:[{type:Se.applications.length>0?"checkbox":"plain",items:Se.applications.length>0?(0,i.Z)(Se.applications).slice(0,pe?void 0:10):[Pe]}]},{key:"resources",value:ae.resources,placeholder:L.formatMessage(z.Z.filterByKey,{key:L.formatMessage(z.Z.resourceType).toLowerCase()}),type:"group",selected:je(ae.resources),groups:[{type:Se.resources.length>0?"checkbox":"plain",items:Se.resources.length>0?(0,i.Z)(Se.resources).slice(0,pe?void 0:10):[Pe]}]},{key:"operations",value:ae.operations,placeholder:L.formatMessage(z.Z.filterByKey,{key:L.formatMessage(z.Z.operation).toLowerCase()}),type:"group",selected:je(ae.operations),groups:[{type:Se.operations.length>0?"checkbox":"plain",items:Se.operations.length>0?(0,i.Z)(Se.operations).slice(0,pe?void 0:10):[Pe]}]}],isFilterable:!0,rowWrapper:V,tableId:"add-role-permissions"},n)))};Q.propTypes={selectedPermissions:v().array,setSelectedPermissions:v().func};const X=Q},91710:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(29439),o=r(93433),i=r(4942),a=r(92950),c=r.n(a),s=r(50533),u=r(25864),l=r(41693),f=r(48880),p=r(29215),d=r(86896),h=r(30893);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=function(e){var t=e.costReducer,r=t.resourceTypes,n=t.isLoading,o=t.loadingResources,i=t.resources;return{resourceTypes:r.data,resources:i,isLoading:n,isLoadingResources:o>0}},g=function(e,t){var r=e[t.key];switch(t.type){case"toggle":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{isOpen:!r.isOpen})));case"select":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{selected:r.selected.includes(t.selection)?r.selected.filter((function(e){return e!==t.selection})):[].concat((0,o.Z)(r.selected),[t.selection])})));case"selectAll":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{selected:r.options.map((function(e){return e.value}))})));case"clear":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{selected:[]})));case"setOptions":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{options:t.options,filteredOptions:t.options})));case"setFilter":return m(m({},e),{},(0,i.Z)({},t.key,m(m({},r),{},{filteredOptions:r.options.filter((function(e){return e.value.includes(t.filtervalue)}))})));default:return e}};const w=function(e){var t=(0,d.Z)(),r=(0,s.useDispatch)(),v=(0,s.useSelector)(y,s.shallowEqual),w=v.resourceTypes,b=v.isLoading,E=v.isLoadingResources,O=v.resources,x=(0,l.Z)(e).input,L=(0,f.default)(),Z=L.getState().values["add-permissions-table"].filter((function(e){return e.uuid.split(":")[0].includes("cost-management")})),k=(0,a.useReducer)(g,Z.reduce((function(e,t){return m(m({},e),{},(0,i.Z)({},t.uuid,{selected:[],options:[],filteredOptions:[],isOpen:!1}))}),{})),j=(0,n.Z)(k,2),S=j[0],P=j[1];return(0,a.useEffect)((function(){(L.getState().values["resource-definitions"]||[]).map((function(e){var t=e.permission;return e.resources.map((function(e){return Z.find((function(e){return(null==e?void 0:e.uuid)===t}))&&P({type:"select",selection:e,key:t})}))})),r((0,p.A)(undefined)),L.change("has-cost-resources",!0)}),[]),(0,a.useEffect)((function(){b||(0,o.Z)(new Set(Z.map((function(e){var t;return null===(t=w.find((function(t){var r;return t.value===(null===(r=e.uuid.split(":"))||void 0===r?void 0:r[1])})))||void 0===t?void 0:t.path})))).filter((function(e){return e})).map((function(e){return t=e,r((0,p.R)(t));var t}))}),[w]),(0,a.useEffect)((function(){E||Z.map((function(e){return P({type:"setOptions",key:e.uuid,options:O[(t=e.uuid,null===(r=w.find((function(e){var r;return e.value===(null===(r=t.split(":"))||void 0===r?void 0:r[1])})))||void 0===r||null===(n=r.path.split("/"))||void 0===n?void 0:n[5])]||[]});var t,r,n}))}),[E]),(0,a.useEffect)((function(){var e=Object.entries(S).map((function(e){var t=(0,n.Z)(e,2);return{permission:t[0],resources:t[1].selected}}));x.onChange(e),L.change("resource-definitions",e)}),[S]),c().createElement(u.Grid,{hasGutter:!0},c().createElement(u.GridItem,{md:4,className:"rbac-m-hide-on-sm"},c().createElement(u.Text,{component:u.TextVariants.h4,className:"rbac-bold-text"},t.formatMessage(h.Z.permissions))),c().createElement(u.GridItem,{md:8,className:"rbac-m-hide-on-sm"},c().createElement(u.Text,{component:u.TextVariants.h4,className:"rbac-bold-text"},t.formatMessage(h.Z.resourceDefinitions))),Z.map((function(e){var r=e.uuid,n=S[r].filteredOptions;return c().createElement(c().Fragment,null,c().createElement(u.GridItem,{md:4,sm:12},c().createElement(u.Tooltip,{content:c().createElement("div",null,r)},c().createElement(u.FormGroup,{label:r.replace(/^cost-management:/,""),isRequired:!0}))),c().createElement(u.GridItem,{md:8,sm:12},c().createElement(u.Select,{className:"rbac-m-resource-type-select",variant:u.SelectVariant.checkbox,typeAheadAriaLabel:t.formatMessage(h.Z.selectState),onToggle:function(e){P({type:"setFilter",key:r,filtervalue:""}),function(e,t){P({type:"toggle",key:e,isOpen:t})}(r,e)},onSelect:function(e,o){!function(e,t,r,n){P(r?{type:"selectAll",selection:t,key:n}:{type:"select",selection:t,key:n})}(0,o,o===t.formatMessage(h.Z.selectAll,{length:n.length}),r)},onClear:function(){return P({type:"clear",key:r})},selections:S[r].selected,isOpen:S[r].isOpen,onFilter:function(e){return e&&P({type:"setFilter",key:r,filtervalue:e.target.value})},"aria-labelledby":r,placeholderText:t.formatMessage(h.Z.selectResources),hasInlineFilter:!0},[c().createElement(u.SelectOption,{key:0,value:t.formatMessage(h.Z.selectAll,{length:n.length})})].concat((0,o.Z)(n.map((function(e,t){return c().createElement(u.SelectOption,{key:t+1,value:e.value})})))))))})))}},58854:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(92950),o=r.n(n),i=r(45697),a=r.n(i),c=r(25864),s=r(86896),u=r(30893),l=function(e){var t=e.formFields,r=(0,s.Z)();return o().createElement("div",{className:"rbac"},o().createElement(c.Title,{headingLevel:"h1",size:"xl",className:"pf-u-mb-lg"},r.formatMessage(u.Z.inventoryGroupsAccessTitle)),t)};l.propTypes={formFields:a().array};const f=l},80709:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(87462),o=r(29439),i=r(93433),a=r(4942),c=r(92950),s=r.n(c),u=r(25864),l=r(50533),f=r(41693),p=r(48880),d=r(86896),h=r(44012),v=r(36580),m=r(71002),y=r(15861);function g(){g=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new Z(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return{value:void 0,done:!0}}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,a),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var l={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(k([])));y&&y!==t&&r.call(y,o)&&(h=y);var w=d.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,a,c){var s=u(e[o],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==(0,m.Z)(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var o;this._invoke=function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}}function O(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,c(w,"constructor",d),c(d,"constructor",p),p.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(s(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),c(w,a,"Generator"),c(w,o,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,Z.prototype={constructor:Z,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var w=(0,r(96692).bD)(),b=function(){var e=(0,y.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.getInventoryGroups(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=r(11107),O=r(30893);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Z=function(e){var t=e.inventoryReducer;return{resourceTypes:t.resourceTypes,totalCount:t.total,isLoading:t.isLoading}},k=function(e,t){var r,n,o,c,s=e[t.key];switch(t.type){case"toggle":return L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{isOpen:t.isOpen,filterValue:null!==(r=t.filterValue)&&void 0!==r?r:s.filterValue,page:null!==(n=t.page)&&void 0!==n?n:s.page})));case"select":return s.selected.some((function(e){var r;return(null==e?void 0:e.id)===(null===(r=t.processedSelection)||void 0===r?void 0:r.id)}))?L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{selected:s.selected.filter((function(e){var r;return e.id!==(null===(r=t.processedSelection)||void 0===r?void 0:r.id)}))}))):void 0!==(null===(o=t.processedSelection)||void 0===o?void 0:o.id)&&void 0!==(null===(c=t.processedSelection)||void 0===c?void 0:c.name)?L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{selected:[].concat((0,i.Z)(s.selected),[t.processedSelection])}))):e;case"copyToAll":var u=e[t.permissions[0]].selected;return L(L({},e),t.permissions.reduce((function(t,r){return t[r]=L(L({},e[r]),{},{selected:r.includes("inventory:hosts")?u:u.filter((function(e){return null!==e.id}))}),t}),{}));case"selectAll":return L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{selected:t.selectionArray})));case"setFilter":return L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{filterValue:t.filterValue,page:1})));case"setPage":return L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{page:t.page})));case"clear":return L(L({},e),{},(0,a.Z)({},t.key,L(L({},s),{},{selected:[]})));default:return e}};const j=function(e){var t=(0,d.Z)(),r=(0,l.useDispatch)(),m=(0,f.Z)(e).input,y=(0,p.default)(),g=(0,l.useSelector)(Z,l.shallowEqual),w=g.resourceTypes,x=g.totalCount,j=g.isLoading,S=y.getState().values["add-permissions-table"].filter((function(e){return e.uuid.split(":")[0].includes("inventory")})).map((function(e){return e.uuid}))||[],P=function(e,t){return r(function(e,t){return{type:v.rF,meta:{permissions:e,config:t},payload:b(t)}}(e,t))},_=(0,c.useReducer)(k,S.reduce((function(e,t){return L(L({},e),{},(0,a.Z)({},t,{page:1,selected:[],filterValue:"",isOpen:!1}))}),{})),T=(0,o.Z)(_,2),M=T[0],N=T[1];return(0,c.useEffect)((function(){P(S,{}),y.change("inventory-group-permissions",[])}),[]),(0,c.useEffect)((function(){var e=Object.entries(M).map((function(e){var t=(0,o.Z)(e,2);return{permission:t[0],groups:t[1].selected}}));m.onChange(e),y.change("inventory-group-permissions",e)}),[M]),s().createElement(u.Grid,{hasGutter:!0},s().createElement(u.GridItem,{lg:3,md:6,className:"rbac-m-hide-on-sm"},s().createElement(u.Text,{component:u.TextVariants.h4,className:"rbac-bold-text pf-u-mt-sm"},t.formatMessage(O.Z.permissions))),s().createElement(u.GridItem,{lg:9,md:6,className:"rbac-m-hide-on-sm"},s().createElement(u.Text,{component:u.TextVariants.h4,className:"rbac-bold-text pf-u-mt-sm"},t.formatMessage(O.Z.groupDefinition))),S.map((function(e,r){var o,a=t.formatMessage(O.Z.ungroupedSystems).toLocaleLowerCase().includes(M[e].filterValue.toLocaleLowerCase())?[s().createElement(u.SelectOption,{key:"".concat(e,"-ungrouped"),value:"null"},s().createElement(h.Z,O.Z.ungroupedSystems)),s().createElement(u.Divider,{component:"li",key:"".concat(e,"-divider")})]:[],c=Object.values(null!==(o=null==w?void 0:w[e])&&void 0!==o?o:{});return s().createElement(s().Fragment,{key:e},s().createElement(u.Grid,null,s().createElement(u.GridItem,{lg:3,md:3,sm:4},s().createElement(u.FormGroup,{label:null==e?void 0:e.replace("inventory:",""),isRequired:!0})),s().createElement(u.GridItem,{lg:7,md:6,sm:5},s().createElement(u.Tooltip,{content:s().createElement("div",null,t.formatMessage(O.Z.inventoryGroupsTooltip))},s().createElement(u.Select,(0,n.Z)({className:"rbac-m-resource-type-select",variant:u.SelectVariant.checkbox,typeAheadAriaLabel:t.formatMessage(O.Z.inventoryGroupsTypeAheadLabel),"aria-labelledby":e,selections:M[e].selected.map((function(e){return e.name})),placeholderText:t.formatMessage(O.Z.selectGroups),onSelect:function(t,r){return function(e,t,r,n){var o={id:null,name:"null"};return r&&N({type:"selectAll",selectionArray:[o].concat((0,i.Z)(Object.values(w[n]))),key:n})||N({type:"select",processedSelection:"null"===t?o:w[n][t],key:n})}(0,r,"select-all"===r,e)},onToggle:function(t){var r;!t&&(null===(r=M[e].filterValue)||void 0===r?void 0:r.length)>0&&P([e]),N({type:"toggle",key:e,filterValue:"",page:1,isOpen:t})},onClear:function(){return N({type:"clear",key:e})},onFilter:function(t){t&&(N({type:"setFilter",key:e,filterValue:t.target.value}),(0,E.Aq)((function(){return P([e],{name:t.target.value})}),2e3))},isOpen:M[e].isOpen,hasInlineFilter:!0},!j&&w[e]&&Object.values(w[e]).length<x&&{loadingVariant:{text:t.formatMessage(O.Z.seeMore),onClick:function(){P([e],{page:M[e].page+1,name:M[e].filterValue}),N({type:"setPage",key:e,page:M[e].page++})}}},j&&{loadingVariant:"spinner"}),[].concat((0,i.Z)((null==c?void 0:c.length)>0?[s().createElement(u.SelectOption,{key:"".concat(e,"-all"),value:"select-all"},s().createElement(h.Z,(0,n.Z)({},O.Z.selectAll,{values:{length:null==c?void 0:c.length}})))]:[]),(0,i.Z)(e.includes("hosts:")?a:[]),(0,i.Z)((null==c?void 0:c.map((function(t,r){return s().createElement(u.SelectOption,{key:"".concat(e,"-").concat(r+1),value:null==t?void 0:t.name},t.children)})))||[]))))),s().createElement(u.GridItem,{lg:2,md:4,sm:2},r<=0&&s().createElement(u.Button,{key:"".concat(e,"-copy"),variant:"link",isInLink:!0,onClick:function(){return N({type:"copyToAll",permissions:S})}},t.formatMessage(O.Z.copyToAll)))))})))}},9599:(e,t,r)=>{"use strict";r.d(t,{j:()=>n});var n=function(e,t){var r=t&&t["add-permissions-table"]||[],n=r.some((function(e){return e.uuid.split(":")[0].includes("cost-management")})),o=r.some((function(e){return e.uuid.split(":")[0].includes("inventory")}));return"inventory-groups-role"===e&&n?"cost-resources-definition":"add-permissions"===e&&o?"inventory-groups-role":"add-permissions"===e&&n?"cost-resources-definition":"review"}},44012:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(70655),o=r(92950),i=r(86896),a=r(680);function c(e){var t=(0,i.Z)(),r=t.formatMessage,n=t.textComponent,a=void 0===n?o.Fragment:n,c=e.id,s=e.description,u=e.defaultMessage,l=e.values,f=e.children,p=e.tagName,d=void 0===p?a:p,h=r({id:c,description:s,defaultMessage:u},l,{ignoreTag:e.ignoreTag});return"function"==typeof f?f(Array.isArray(h)?h:[h]):d?o.createElement(d,null,o.Children.toArray(h)):o.createElement(o.Fragment,null,h)}c.displayName="FormattedMessage";var s=o.memo(c,(function(e,t){var r=e.values,o=(0,n.__rest)(e,["values"]),i=t.values,c=(0,n.__rest)(t,["values"]);return(0,a.wU)(i,r)&&(0,a.wU)(o,c)}));s.displayName="MemoizedFormattedMessage";const u=s},97890:()=>{},44370:()=>{},17657:()=>{},22972:()=>{},45467:()=>{},81754:()=>{},70347:()=>{},11452:()=>{},34946:()=>{},10497:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},10108:()=>{},54476:()=>{},28992:()=>{},80897:()=>{},30187:()=>{},40837:()=>{},90479:()=>{},78752:()=>{},74282:()=>{},98379:()=>{},25238:()=>{},1508:()=>{},91993:()=>{},99624:()=>{},36974:()=>{},27479:()=>{},66822:()=>{},93661:()=>{},56024:()=>{},43390:()=>{},22143:()=>{},314:()=>{},49854:()=>{},40209:()=>{},87234:()=>{},38299:()=>{},72816:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/5619.1479f35a850f359623a2d73aeb712b07.js.map