(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[4661,7912,459],{45488:(e,t,a)=>{"use strict";a.d(t,{_:()=>w});var n=a(65353),r=a(66029);a(82014);const s="pf-v5-c-label__content",l="pf-m-compact",o="pf-m-blue",i="pf-m-green",c="pf-m-orange",m="pf-m-red",u="pf-m-purple",d="pf-m-cyan",p="pf-m-gold",f="pf-m-outline",g="pf-m-overflow",b="pf-m-editable-active",h="pf-m-disabled";a(24620);const v="pf-m-editable";var y=a(47173),E=a(35224),C=a(38296),O=a(24307),Z=a(6551);const k="--pf-v5-c-label__text--MaxWidth",N={blue:o,cyan:d,green:i,orange:c,purple:u,red:m,gold:p,grey:""},w=e=>{var{children:t,className:a="",color:o="grey",variant:i="filled",isCompact:c=!1,isDisabled:m=!1,isEditable:u=!1,editableProps:d,textMaxWidth:p,tooltipPosition:w,icon:x,onClose:I,onClick:_,onEditCancel:j,onEditComplete:M,closeBtn:P,closeBtnAriaLabel:S,closeBtnProps:L,href:R,isOverflowLabel:D,render:A}=e,B=(0,n.__rest)(e,["children","className","color","variant","isCompact","isDisabled","isEditable","editableProps","textMaxWidth","tooltipPosition","icon","onClose","onClick","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[T,z]=(0,r.useState)(!1),[F,$]=(0,r.useState)(t),G=r.useRef(),H=r.useRef();r.useEffect((()=>(document.addEventListener("mousedown",V),document.addEventListener("keydown",q),()=>{document.removeEventListener("mousedown",V),document.removeEventListener("keydown",q)}))),r.useEffect((()=>{_&&R?console.warn("Link labels cannot have onClick passed, this results in invalid HTML. Please remove either the href or onClick prop."):_&&u&&console.warn("Editable labels cannot have onClick passed, clicking starts the label edit process. Please remove either the isEditable or onClick prop.")}),[_,R,u]);const V=e=>{T&&H&&H.current&&!H.current.contains(e.target)&&(H.current.value&&M&&M(e,H.current.value),z(!1))},q=e=>{var a,n;const r=e.key;if((T||G&&G.current&&G.current.contains(e.target))&&(!T||H&&H.current&&H.current.contains(e.target))&&(!T||"Enter"!==r&&"Tab"!==r||(e.preventDefault(),e.stopImmediatePropagation(),H.current.value&&M&&M(e,H.current.value),z(!1),null===(a=null==G?void 0:G.current)||void 0===a||a.focus()),T&&"Escape"===r&&(e.preventDefault(),e.stopImmediatePropagation(),H.current.value&&(H.current.value=t,j&&j(e,t)),z(!1),null===(n=null==G?void 0:G.current)||void 0===n||n.focus()),!T&&"Enter"===r)){e.preventDefault(),e.stopImmediatePropagation(),z(!0);const t=e.target,a=document.createRange(),n=window.getSelection();a.selectNodeContents(t),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}},W=(R||_)&&m,U=r.createElement(y.zx,Object.assign({type:"button",variant:"plain",onClick:I,"aria-label":S||`Close ${t}`},W&&{isDisabled:!0},L),r.createElement(O.ZP,null)),Q=r.createElement("span",{className:(0,C.css)("pf-v5-c-label__actions")},P||U),X=r.createRef(),Y=r.useRef(),[J,K]=r.useState(!1);(0,Z.L)((()=>{const e=u?G:X;T||K(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[T]);const ee=r.createElement(r.Fragment,null,x&&r.createElement("span",{className:(0,C.css)("pf-v5-c-label__icon")},x),r.createElement("span",Object.assign({ref:X,className:(0,C.css)("pf-v5-c-label__text")},p&&{style:{[k]:p}}),t));r.useEffect((()=>{T&&H&&H.current&&H.current.focus()}),[H,T]);let te="span";R?te="a":(u||_&&!D)&&(te="button");const ae={type:"button",onClick:_},ne="button"===te,re=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({className:(0,C.css)(s)},J&&{tabIndex:0}),R&&{href:R}),R&&m&&{onClick:e=>e.preventDefault()}),ne&&ae),u&&Object.assign({ref:G,onClick:e=>{z(!0),e.stopPropagation()}},d)),W&&ne&&{disabled:!0}),W&&R&&{tabindex:-1,"aria-disabled":!0});let se=r.createElement(te,Object.assign({},re),ee);A?se=r.createElement(r.Fragment,null,J&&r.createElement(E.u,{triggerRef:Y,content:t,position:w}),A({className:s,content:ee,componentRef:Y})):J&&(se=r.createElement(E.u,{content:t,position:w},se));const le=D?"button":"span";return r.createElement(le,Object.assign({},B,{className:(0,C.css)("pf-v5-c-label",W&&h,N[o],"outline"===i&&f,D&&g,c&&l,u&&v,T&&b,a),onClick:D?_:void 0}),!T&&se,!T&&I&&Q,T&&r.createElement("input",Object.assign({className:(0,C.css)(s),type:"text",id:"editable-input",ref:H,value:F,onChange:()=>{$(H.current.value)}},d)))};w.displayName="Label"},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var n=a(65353),r=a(66029),s=a(62873),l=a(38296);const o=e=>{var{children:t,className:a="",isVisited:o=!1}=e,i=(0,n.__rest)(e,["children","className","isVisited"]);return r.createElement("div",Object.assign({},i,{className:(0,l.css)(s.Z.content,o&&s.Z.modifiers.visited,a)}),t)};o.displayName="TextContent"},41435:(e,t,a)=>{"use strict";a.d(t,{Dl:()=>l,dw:()=>r,e4:()=>o,ir:()=>n});var n,r,s=a(66029);!function(e){e.right="right",e.left="left"}(n||(n={})),function(e){e.up="up",e.down="down"}(r||(r={}));const l=s.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),o=s.createContext({keyHandler:null,sendRef:null})},36438:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CloseIcon:()=>s,CloseIconConfig:()=>r,default:()=>l});var n=a(40400);const r={name:"CloseIcon",height:1024,width:730,svgPath:"M725.499315,767.757345 L469.242169,511.500499 L725.499315,255.243653 C729.196254,251.545719 731.096195,247.248119 731,242.4498 C731,237.653479 728.997365,233.35588 725.299427,229.558002 L647.542773,151.701495 C643.743891,147.903617 639.446287,146 634.64996,146 C629.852635,146 625.55503,147.803673 621.857092,151.500607 L365.5,407.857398 L109.241857,151.500607 C105.544917,147.803673 101.246314,145.904733 96.4499876,146 C91.6526619,146.104622 87.3550577,148.002562 83.5571748,151.701495 L5.7005771,229.457058 C1.90269428,233.255936 0,237.553535 0,242.350855 C0,247.148175 1.80175055,251.444775 5.50068853,255.143709 L261.857779,511.500499 L5.50068853,767.757345 C1.80175055,771.454279 -0.0961914123,775.752878 0,779.750645 C0.103697157,784.547965 2.00263857,788.845564 5.7005771,792.642443 L83.4572306,871.299502 C87.2541139,875.096381 91.5527176,877 96.3500433,877 C101.147369,877 105.444973,875.197325 109.142912,871.499391 L365.400058,615.241545 L621.657203,871.499391 C625.355142,875.197325 629.652746,877.095265 634.449072,877 C639.246398,877 643.545002,874.997437 647.342885,871.299502 L725.099538,793.54294 C728.896421,789.745062 730.796362,785.446463 730.796362,780.649143 C731.096195,775.752878 729.196254,771.454279 725.499315,767.757345",yOffset:0,xOffset:0},s=(0,n.I)(r),l=s},91290:(e,t,a)=>{"use strict";a.d(t,{iC:()=>n});const n=(0,a(40400).I)({name:"OutlinedQuestionCircleIcon",height:512,width:512,svgPath:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 448c-110.532 0-200-89.431-200-200 0-110.495 89.472-200 200-200 110.491 0 200 89.471 200 200 0 110.53-89.431 200-200 200zm107.244-255.2c0 67.052-72.421 68.084-72.421 92.863V300c0 6.627-5.373 12-12 12h-45.647c-6.627 0-12-5.373-12-12v-8.659c0-35.745 27.1-50.034 47.579-61.516 17.561-9.845 28.324-16.541 28.324-29.579 0-17.246-21.999-28.693-39.784-28.693-23.189 0-33.894 10.977-48.942 29.969-4.057 5.12-11.46 6.071-16.666 2.124l-27.824-21.098c-5.107-3.872-6.251-11.066-2.644-16.363C184.846 131.491 214.94 112 261.794 112c49.071 0 101.45 38.304 101.45 88.8zM298 368c0 23.159-18.841 42-42 42s-42-18.841-42-42 18.841-42 42-42 42 18.841 42 42z",yOffset:0,xOffset:0})},46818:(e,t,a)=>{"use strict";a.d(t,{P8:()=>r});var n=a(78632);const r=()=>({className:n.Z.modifiers.nowrap})},39173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var n=a(85893),r=a(94184),s=a.n(r),l=a(78956),o=a(6427),i=a(36530),c=function(){return c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};const m=function(e){var t=e.className,a=e.title,r=e.actionsContent,m=e.ouiaId,u=e.ouiaSafe,d=void 0===u||u,p=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),f=s()(t),g="RHI/Header",b=(0,o.useOUIAId)(g,m,d);return(0,n.jsxs)(i.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,n.jsx)(i.FlexItem,{children:(0,n.jsx)(l.Title,c({headingLevel:"h1",size:"2xl",className:f,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":b,"data-ouia-safe":d},p,{children:a}))}),r?(0,n.jsx)(i.FlexItem,{children:r}):null]})}},7876:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(85893),r=a(94184),s=a.n(r),l=function(){return l=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)};const o=function(e){var t,a=e.type,r=e.children,o=e.className,i=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["type","children","className"]),c=s()(o,((t={})["ins-l-".concat(a)]=void 0!==a,t));return(0,n.jsxs)("section",l({},i,{className:c,children:[" ",r," "]}))}},23340:(e,t,a)=>{"use strict";a.d(t,{MS:()=>s,aX:()=>n,qF:()=>r});const n=(e,t,a,n={})=>{const r=new URLSearchParams(e.search);let s=a.reduce(((e,t)=>{const a=r.getAll(t);return{...e,[t]:a.length>1?a:a[0]}}),{});return Object.keys(n).forEach((e=>{const t=n[e];s={...s,[e]:Array.isArray(s[e])?[...new Set([...s[e],...Array.isArray(t)?t:[t]])]:t?.length>0&&t||s[e]},Array.isArray(t)?t.forEach((t=>r.getAll(e).includes(t)||r.append(e,t))):r.get(e)||t&&r.set(e,t)})),t({pathname:e.pathname,search:r.toString()},{replace:!0}),s},r=(e,t)=>{const a=new URLSearchParams(e.search);return t.some((e=>a.get(e)))},s=(e,t,a)=>{const n=new URLSearchParams(e.search);Object.keys(a).forEach((e=>n.delete(e))),Object.keys(a).forEach((e=>{const t=a[e];Array.isArray(t)?t.forEach((t=>t&&n.append(e,t))):t&&n.set(e,t)})),t({pathname:e.pathname,search:n.toString()},{replace:!0})}},96392:(e,t,a)=>{"use strict";a.d(t,{Z:()=>h});var n=a(66029),r=a.n(n),s=a(45697),l=a.n(s),o=a(62012),i=a(65353),c=a(44303),m=a(38296),u=a(62472);const d=e=>{var{children:t=null,className:a="","aria-label":r="Breadcrumb",ouiaId:s,ouiaSafe:l=!0}=e,o=(0,i.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const p=(0,u.useOUIAProps)(d.displayName,s,l);return n.createElement("nav",Object.assign({},o,{"aria-label":r,className:(0,m.css)(c.Z.breadcrumb,a)},p),n.createElement("ol",{className:c.Z.breadcrumbList,role:"list"},n.Children.map(t,((e,t)=>{const a=t>0;return n.isValidElement(e)?n.cloneElement(e,{showDivider:a}):e}))))};d.displayName="Breadcrumb";var p=a(93174);const f=e=>{var{children:t=null,className:a="",to:r,isActive:s=!1,isDropdown:l=!1,showDivider:o,target:u,component:d="a",render:f}=e,g=(0,i.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=d,h=s?"page":void 0,v=(0,m.css)(c.Z.breadcrumbLink,s&&c.Z.modifiers.current);return n.createElement("li",Object.assign({},g,{className:(0,m.css)(c.Z.breadcrumbItem,a)}),o&&n.createElement("span",{className:c.Z.breadcrumbItemDivider},n.createElement(p.default,null)),"button"===d&&n.createElement("button",{className:v,"aria-current":h,type:"button"},t),l&&n.createElement("span",{className:(0,m.css)(c.Z.breadcrumbDropdown)},t),f&&f({className:v,ariaCurrent:h}),r&&!f&&n.createElement(b,{href:r,target:u,className:v,"aria-current":h},t),!r&&"button"!==d&&!l&&t)};f.displayName="BreadcrumbItem";var g=a(12849);const b=e=>e?r().createElement(d,null,Object.values(e).map(((e,t)=>e.title?r().createElement(f,{key:e.title,isActive:e.isActive},e.to&&r().createElement(o.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(g.Vj,{key:t})))):null;b.propTypes={breadcrumbs:l().object};const h=b},13851:(e,t,a)=>{"use strict";a.d(t,{Q:()=>C,y:()=>O});var n=a(66029),r=a.n(n),s=a(45697),l=a.n(s),o=a(28191),i=a(92298),c=a(68774),m=a(68340),u=a(12849),d=a(96392),p=a(85893),f=a(94184),g=a.n(f);const b=r().createContext("light");var h=a(6427),v=function(){return v=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},v.apply(this,arguments)};const y=function(e){var t=e.className,a=e.children,n=e.ouiaId,r=e.ouiaSafe,s=void 0===r||r,l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children","ouiaId","ouiaSafe"]),o=g()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),i="RHI/Header",c=(0,h.useOUIAId)(i,n,s);return(0,p.jsx)(b.Consumer,{children:function(e){var t,n;void 0===e&&(e="light");var r=g()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((n={})["pf-m-light"]="light"===e,n));return(0,p.jsx)("section",v({"data-ouia-component-type":i,"data-ouia-component-id":c,"data-ouia-safe":s},l,{className:"".concat(o," ").concat(r),"widget-type":"InsightsPageHeader",children:a}))}})};var E=a(39173);const C=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(d.Z,{...t})),r().createElement(y,{className:"rbac-page-header"},e));C.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},C.defaultProps={paddingBottom:!1};const O=({title:e,renderTitleTag:t,description:a,children:s})=>r().createElement(n.Fragment,null,r().createElement(o.k,null,r().createElement(i.B,{className:"pf-v5-u-mb-sm"},r().createElement(E.Z,{title:e||r().createElement(u.h2,null),className:"rbac-page-header__title"})),r().createElement(i.B,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(c.D,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(m.x,{component:m.q.p},a):a),s);O.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},69493:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(66029),r=a.n(n),s=a(55573),l=a(45697),o=a.n(l),i=a(94184),c=a.n(i);const m=({className:e,row:t,...a})=>r().createElement(s.e,{className:c()(e,{"rbac-c-group-default":t.isPlatformDefault||t.isAdminDefault}),row:t,...a});m.propTypes={row:o().shape({isAdminDefault:o().bool,isPlatformDefault:o().bool}),className:o().string};const u=m},7841:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>q});var n=a(66029),r=a.n(n),s=a(62012),l=a(7732),o=a(56869),i=a(46818),c=a(47173),m=a(49739),u=a(83826),d=a(25387),p=a(55140),f=a(7876),g=a(86706),b=a(97246),h=a(91290),v=a(98614),y=a(36438),E=a(46043),C=a(68340),O=a(68774),Z=a(45488),k=a(75863),N=a(21081),w=a(49004),x=a(34844),I=a(94184),_=a.n(I),j=a(45697),M=a.n(j),P=a(62410),S=a(12913),L=a(64756),R=a(29301),D=a(14289),A=a(75614),B=a(2550);const T=({id:e,uuid:t,bodyContent:a})=>{const[s,l]=(0,n.useState)(!1),o=(0,n.useRef)(null);return r().createElement("span",{ref:o,key:`${t}-popover`,id:e},r().createElement(E.J,{zIndex:"110",position:"right",isVisible:s,shouldClose:()=>l(!1),hideOnOutsideClick:!0,bodyContent:a,appendTo:o.current},r().createElement(h.iC,{onClick:()=>l(!s),className:_()("pf-v5-c-question-circle-icon",{"icon-active":s})})))};T.propTypes={id:M().string.isRequired,uuid:M().string.isRequired,bodyContent:M().string.isRequired};var z=a(77044),F=a(13851),$=a(69493),G=a(74982),H=a(23340),V=a(86601);const q=()=>{const e=(0,d.YB)(),t=(0,g.useDispatch)(),a=(0,s.useNavigate)(),h=(0,s.useLocation)(),E=(0,p.Z)(),I=e=>t((0,z.bt)({...e,usesMetaInURL:!0,chrome:E,platformDefault:!1,adminDefault:!1})),{orgAdmin:_,userAccessAdministrator:j}=(0,n.useContext)(V.Z),M=_||j,q=(0,n.useRef)(null),W=[{title:e.formatMessage(B.Z.name),key:"name",transforms:[l.p]},{title:e.formatMessage(B.Z.roles),cellTransforms:[o.z],transforms:[i.P8]},{title:e.formatMessage(B.Z.members),cellTransforms:[o.z],transforms:[i.P8]},{title:e.formatMessage(B.Z.lastModified),key:"modified",transforms:[l.p]}],[U,Q]=(0,n.useState)({index:Number(M),direction:"asc"}),[X,Y]=(0,n.useState)([]),[J,K]=(0,n.useState)([]),[ee,te]=(0,n.useState)({}),ae=`${"desc"===U?.direction?"-":""}${W[U?.index-Number(M)].key}`,{groups:ne,pagination:re,filters:se,isLoading:le}=(0,g.useSelector)((({groupReducer:{groups:{data:e,filters:t,pagination:a},isLoading:n,adminGroup:r,systemGroup:s}})=>({groups:[...r?.name?.match(new RegExp(t.name,"i"))?[r]:[],...s?.name?.match(new RegExp(t.name,"i"))?[s]:[],...e?.filter((({platform_default:e,admin_default:t}={})=>!(e||t)))||[]],pagination:{limit:a?.limit??(_?G.HE:G.he).limit,offset:a?.offset??(_?G.HE:G.he).offset,count:a?.count,redirected:a?.redirected},filters:t,isLoading:n,systemGroup:s})),g.shallowEqual),[oe,ie]=(0,n.useState)(se?.name||"");(0,n.useEffect)((()=>{(0,G.oG)(h,a,re.limit,re.offset)}),[re.offset,re.limit,re.count,re.redirected]),(0,n.useEffect)((()=>{(0,H.MS)(h,a,{name:oe})}),[oe]),(0,n.useEffect)((()=>{const{limit:e,offset:n}=(0,G.rj)(h,a,re),{name:r}=(0,H.aX)(h,a,["name"],{name:oe});ie(r),E.appNavClick({id:"groups",secondaryNav:!0}),I({limit:e,offset:n,orderBy:ae,filters:{name:r}}),t((0,z.fB)({filterValue:r,chrome:E})),t((0,z.WD)({filterValue:r,chrome:E}))}),[]),(0,n.useEffect)((()=>{h.pathname.includes("detail")?(0,R.Gw)(h,a):((0,G.Zc)(h)||(0,G.oG)(h,a,re.limit,re.offset),oe?.length>0&&!(0,H.qF)(h,["name"])&&(0,H.aX)(h,a,["name"],{name:oe}))}),[h.pathname]);const ce=ne.map((e=>e.platform_default||e.admin_default?{...e,principalCount:"All"+(e.admin_default?" org admins":"")}:e)),me=(0,n.useCallback)(((e,a)=>t((0,z.lM)(e,{limit:100},a))),[t]),ue=(0,n.useCallback)((e=>t((0,z.mt)(e,void 0,{limit:100}))),[t]),de=((e,t,a,s=[])=>{const l=(0,d.YB)(),o=[{title:l.formatMessage(B.Z.roleName)},{title:l.formatMessage(B.Z.description)},{title:l.formatMessage(B.Z.lastModified)}],i=[{title:l.formatMessage(B.Z.orgAdministrator)},{title:l.formatMessage(B.Z.firstName)},{title:l.formatMessage(B.Z.lastName)},{title:l.formatMessage(B.Z.username)},{title:l.formatMessage(B.Z.email)},{title:l.formatMessage(B.Z.status)}];return t.reduce(((t,{uuid:c,name:m,roleCount:u,principalCount:d,modified:p,roles:f,members:g,platform_default:b,admin_default:h,isLoadingRoles:E,isLoadingMembers:I},_)=>{const j=`compound-roles-${c}`,M=`compound-members-${c}`;return[...t,{uuid:c,isAdminDefault:h,isPlatformDefault:b,selected:Boolean(a&&a.find((e=>e.uuid===c))),cells:[{title:e?r().createElement(r().Fragment,null,r().createElement(L.Z,{key:`${c}-link`,state:{uuid:c},to:D.Z["group-detail-roles"].link.replace(":groupId",b?A.Cn:c)},m),r().createElement(n.Fragment,null,(b||h)&&r().createElement(T,{id:`default${h?"-admin":""}-group-popover`,uuid:c,key:`${c}-popover`,bodyContent:l.formatMessage(h?B.Z.orgAdminInheritedRoles:B.Z.usersInheritedRoles)}))):m},{title:u,props:{isOpen:2===s[c],ariaControls:j}},{title:d,props:b||h?{className:"rbac-c-not-expandable-cell"}:{isOpen:3===s[c],ariaControls:M}},{title:r().createElement(P.Z,{date:p,type:(0,R.mh)(p)})}]},{uuid:`${c}-roles`,parent:3*_,compoundParent:1,fullWidth:!0,noPadding:!0,cells:[{props:{colSpan:7,className:"pf-m-no-padding"},title:E?r().createElement(S.Z,{rows:u,variant:k.B.compact,columns:o.map((e=>e.title))}):u>0?r().createElement(N.i,{id:j,ouiaId:j,"aria-label":"Compound roles table",variant:k.B.compact,cells:o,rows:f?.map((e=>({cells:[{title:r().createElement(L.Z,{to:D.Z["role-detail"].link.replace(":roleId",e.uuid)},e.name)},e.description,r().createElement(n.Fragment,{key:`${c}-modified`},r().createElement(P.Z,{date:p,type:(0,R.mh)(p)}))]})))},r().createElement(w.x,null),r().createElement(x.R,null)):r().createElement(C.x,{id:j,className:"pf-u-mx-lg pf-u-my-sm"},l.formatMessage(B.Z.noGroupRoles))}]},{uuid:`${c}-members`,parent:3*_,compoundParent:2,fullWidth:!0,noPadding:!0,cells:[{props:{colSpan:7,className:"pf-m-no-padding"},title:I?r().createElement(S.Z,{rows:d,variant:k.B.compact,columns:i.map((e=>e.title))}):d>0?r().createElement(N.i,{id:M,ouiaId:M,"aria-label":"Compound members table",variant:k.B.compact,cells:i,rows:g?.map((e=>[r().createElement(O.D,{key:e.is_org_admin},e?.is_org_admin?r().createElement(v.CheckIcon,{key:"yes-icon",className:"pf-u-mx-sm"}):r().createElement(y.CloseIcon,{key:"no-icon",className:"pf-u-mx-sm"}),l.formatMessage(e?.is_org_admin?B.Z.yes:B.Z.no)),e.first_name,e.last_name,e.username,e.email,r().createElement(Z._,{key:e.is_active,color:e.is_active?"green":"grey"},l.formatMessage(e?.is_active?B.Z.active:B.Z.inactive))]))},r().createElement(w.x,null),r().createElement(x.R,null)):h||b?"":r().createElement(C.x,{id:M,className:"pf-u-mx-lg pf-u-my-sm"},l.formatMessage(B.Z.noGroupMembers))}]}]}),[])})(M,ce,X,ee),pe=re.count===J.length;return r().createElement(m.K,{className:"rbac-c-groups"},r().createElement(u.v,null,r().createElement(F.Q,{paddingBottom:!0},r().createElement(F.y,{title:e.formatMessage(B.Z.groups)}))),r().createElement(u.v,null,r().createElement(f.Z,{type:"content",id:"tab-groups"},r().createElement(b.M,{data:ne,rows:de,sortBy:U,onSort:(e,t,n)=>{const r=`${"desc"===n?"-":""}${W[t-Number(M)].key}`;Q({index:t,direction:n}),(0,H.MS)(h,a,{name:oe}),I({...re,orderBy:r,filters:{name:oe}})},columns:W,isExpandable:!0,onExpand:(e,t,a,n,r)=>{n?te({...ee,[r.uuid]:-1}):(te({...ee,[r.uuid]:a+Number(!M)}),a+Number(!M)===2&&me(r.uuid,{isPlatformDefault:r.isPlatformDefault,isAdminDefault:r.isAdminDefault}),a+Number(!M)===3&&ue(r.uuid))},isSelectable:M,isRowSelectable:e=>!(e.platform_default||e.admin_default||e.system),checkedRows:X,setCheckedItems:e=>{Y((t=>e(t).filter((({platform_default:e,admin_default:t})=>!(e||t))).map((({uuid:e,name:t})=>({uuid:e,name:t})))))},actionResolver:({isPlatformDefault:t,isAdminDefault:n})=>t||n||!M?null:[{title:e.formatMessage(B.Z.edit),onClick:(e,t,n)=>a((0,L.n)(D.Z["edit-group"].link).replace(":groupId",n.uuid))},{title:e.formatMessage(B.Z.delete),onClick:(e,t,n)=>{K([n]),a((0,L.n)(D.Z["remove-group"].link.replace(":groupId",n.uuid)))}}],titlePlural:e.formatMessage(B.Z.groups).toLowerCase(),titleSingular:e.formatMessage(B.Z.group).toLowerCase(),ouiaId:"groups-table",pagination:re,filterValue:oe,fetchData:({name:e,count:t,limit:n,offset:r})=>((0,H.MS)(h,a,{name:e}),I({count:t,limit:n,offset:r,orderBy:ae,filters:{name:e}})),setFilterValue:({name:e=""})=>ie(e),toolbarButtons:()=>[...M?[r().createElement(L.Z,{to:D.Z["add-group"].link,key:"add-group",className:"rbac-m-hide-on-sm"},r().createElement(c.zx,{ouiaId:"create-group-button",variant:"primary","aria-label":"Create group"},e.formatMessage(B.Z.createGroup))),{label:e.formatMessage(B.Z.createGroup),props:{className:"rbac-m-hide-on-md"},onClick:()=>a((0,L.n)(D.Z["add-group"].link))},{label:e.formatMessage(B.Z.edit),props:{isDisabled:!(1===X.length)},onClick:()=>a((0,L.n)(D.Z["edit-group"].link.replace(":groupId",X[0].uuid)))},{label:e.formatMessage(B.Z.delete),props:{isDisabled:!X.length>0},onClick:()=>{K(X),a((0,L.n)(D.Z["remove-group"].link.replace(":groupId",X.map((({uuid:e})=>e)))))}}]:[]],isLoading:le,filterPlaceholder:e.formatMessage(B.Z.name).toLowerCase(),rowWrapper:$.Z,tableId:"groups",textFilterRef:q}),r().createElement(n.Suspense,null,r().createElement(s.Outlet,{context:{pagination:re,filters:se,[D.Z["add-group"].path]:{orderBy:ae,postMethod:e=>{ie(""),I(e)}},[D.Z["edit-group"].path]:{postMethod:e=>{ie(""),I({...e,orderBy:ae})},cancelRoute:(0,R.zk)(D.Z.groups.link,re,se),submitRoute:(0,R.zk)(D.Z.groups.link,{...re,offset:0},se)},[D.Z["remove-group"].path]:{postMethod:(e,t)=>{I({...t,filters:{name:pe?"":oe},orderBy:ae}),pe&&ie(""),Y(X.filter((t=>!e.includes(t.uuid))))},cancelRoute:(0,R.zk)(D.Z.groups.link,re,se),submitRoute:(0,R.zk)(D.Z.groups.link,{...re,offset:0},pe?{}:se)}}})))))}},24620:()=>{},82014:()=>{},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4661.dc8f9d086071b805a92ee13f1345ac3c.js.map