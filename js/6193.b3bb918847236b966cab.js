"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[6193,459],{41435:(e,t,a)=>{a.d(t,{Dl:()=>c,dw:()=>n,e4:()=>i,ir:()=>s});var s,n,o=a(28416);!function(e){e.right="right",e.left="left"}(s||(s={})),function(e){e.up="up",e.down="down"}(n||(n={}));const c=o.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),i=o.createContext({keyHandler:null,sendRef:null})},62136:(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var s=a(28416),n=a.n(s),o=a(25387),c=a(86706),i=a(5904),r=a(31055),l=a(94229),u=a(23539),m=a(64380),d=a(62012),f=a(62410),g=a(55140),p=a(64756),C=a(97246),v=a(71079),y=a(40575),k=a(29301),M=a(75614),b=a(77044),Z=a(2550);const E=({serviceAccountReducer:e,groupReducer:{systemGroup:t}})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset,systemGroupUuid:t?.uuid}),h=(e,t=[])=>e?.reduce(((e,a)=>[...e,{uuid:a.uuid,title:a.name,cells:[a.name,a.description,a.clientId,a.createdBy,n().createElement(s.Fragment,{key:`${a.name}-modified`},n().createElement(f.Z,{date:a.createdAt,type:(0,k.mh)(a.createdAt)}))],selected:Boolean(t&&t.find((e=>e.uuid===a.uuid)))}]),[]),I=({postMethod:e})=>{const t=(0,o.YB)(),a=(0,c.useDispatch)(),{groupId:f}=(0,d.useParams)(),{auth:k,getEnvironmentDetails:I}=(0,g.Z)(),[A,S]=(0,s.useState)([]),{serviceAccounts:w,status:B,limit:T,offset:x,isLoading:P,systemGroupUuid:D}=(0,c.useSelector)(E),G=(0,s.useCallback)((async e=>{const t=I(),s=await k.getToken();var n;a((n={limit:e?.limit??T,offset:e?.offset??x,token:s,sso:t?.sso},{type:v.t5,payload:y.Sx(n),meta:n}))}),[T,x]);(0,s.useEffect)((()=>{G({limit:T,offset:0})}),[]);const L=()=>{e()},F=[{title:t.formatMessage(Z.Z.name),orderBy:"name"},{title:t.formatMessage(Z.Z.description),orderBy:"description"},{title:t.formatMessage(Z.Z.clientId),orderBy:"clientId"},{title:t.formatMessage(Z.Z.owner),orderBy:"owner"},{title:t.formatMessage(Z.Z.timeCreated),orderBy:"timeCreated"}];return n().createElement(l.Modal,{isOpen:!0,className:"rbac",variant:l.ModalVariant.medium,title:t.formatMessage(Z.Z.addServiceAccount),actions:[n().createElement(r.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===A.length,variant:"primary",onClick:()=>{const t=(0,b.w_)(f===M.Cn?D:f,A);a(t),e(t.payload)}},t.formatMessage(Z.Z.addToGroup)),n().createElement(r.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:L},t.formatMessage(Z.Z.cancel))],onClose:L},n().createElement(u.Stack,{hasGutter:!0},n().createElement(u.StackItem,null,n().createElement(m.TextContent,null,t.formatMessage(Z.Z.addServiceAccountsToGroupDescription),n().createElement(i.Alert,{className:"pf-v5-u-mt-sm rbac-service-accounts-alert",variant:"info",component:"span",isInline:!0,isPlain:!0,title:t.formatMessage(Z.Z.visitServiceAccountsPage,{link:n().createElement(p.Z,{to:"/service-accounts",linkBasename:"/iam"},t.formatMessage(Z.Z.serviceAccountsPage))})}))),n().createElement(u.StackItem,{className:"rbac-add-service-account-modal"},n().createElement(C.M,{columns:F,isSelectable:!0,rows:h(w,A),data:w,fetchData:G,isLoading:P,pagination:{limit:T,offset:x,...B===y.Xu?{count:x+w.length}:{}},paginationProps:{toggleTemplate:({firstIndex:e,lastIndex:t})=>n().createElement(n().Fragment,null,n().createElement("b",null,e," - ",t)," ","of ",n().createElement("b",null,B===y.Xu?x+w.length:"many")),isCompact:!0},checkedRows:A,setCheckedItems:S,titlePlural:t.formatMessage(Z.Z.serviceAccounts).toLowerCase(),titleSingular:t.formatMessage(Z.Z.serviceAccount),emptyProps:{title:t.formatMessage(Z.Z.noServiceAccountsFound),description:[t.formatMessage(Z.Z.contactServiceTeamForAccounts),""]},tableId:"group-add-accounts",ouiaId:"group-add-accounts"}))))}}}]);
//# sourceMappingURL=../sourcemaps/6193.7d642cde0f4191103ebf09c36b6e9d91.js.map