(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[4571],{41939:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(44914),r=a.n(n),o=a(16165),l=a(72583),i=a(83873);const c=e=>{var{isOpen:t,onConfirm:a,onClose:c,children:s,confirmButtonLabel:m="Confirm",cancelButtonLabel:u="Cancel",variant:p=o.d.small,titleIconVariant:d="warning",withCheckbox:f=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=l.Ak.primary,ouiaId:v="WarningModal"}=e,E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[y,h]=(0,n.useState)(!1);return r().createElement(o.a,Object.assign({variant:p,isOpen:t,onClose:c,onEscapePress:c,titleIconVariant:d,actions:[r().createElement(l.$n,{ouiaId:`${v}-confirm-button`,key:"confirm",variant:b,onClick:()=>{null==a||a(),h(!1)},isDisabled:f&&!y},m),r().createElement(l.$n,{ouiaId:`${v}-cancel-button`,key:"cancel",variant:l.Ak.link,onClick:c},u)],ouiaId:v},E),s,f?r().createElement(i.S,{isChecked:y,onChange:(e,t)=>h(t),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${v}-confirm-checkbox`}):null)}},88837:(e,t,a)=>{"use strict";a.d(t,{i:()=>i});var n=a(8674),r=a(44914),o=a(77459),l=a(3758);const i=e=>{var{id:t="",children:a=null,className:i="",isOpen:c=!1,"aria-label":s="Actions",parentRef:m=null,getMenuRef:u=null,isActive:p=!1,isPlain:d=!1,isDisabled:f=!1,bubbleEvent:g=!1,onToggle:b=()=>{},ref:v}=e,E=(0,n.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(l.l,Object.assign({id:t,className:i,isOpen:c,"aria-label":s,parentRef:m,getMenuRef:u,isActive:p,isPlain:d,isDisabled:f,onToggle:b,bubbleEvent:g},E),r.createElement(o.default,null))};i.displayName="KebabToggle"},61354:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(95067);const n={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},81539:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(26078);const n={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},32069:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(2580);const n={bullseye:"pf-v5-l-bullseye"}},16401:(e,t,a)=>{"use strict";a.d(t,{A:()=>m});var n=a(74848),r=a(46942),o=a.n(r),l=a(63068),i=a(69),c=a(86228),s=function(){return s=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const m=function(e){var t=e.className,a=e.title,r=e.actionsContent,m=e.ouiaId,u=e.ouiaSafe,p=void 0===u||u,d=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),f=o()(t),g="RHI/Header",b=(0,i.useOUIAId)(g,m,p);return(0,n.jsxs)(c.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,n.jsx)(c.FlexItem,{children:(0,n.jsx)(l.Title,s({headingLevel:"h1",size:"2xl",className:f,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":b,"data-ouia-safe":p},d,{children:a}))}),r?(0,n.jsx)(c.FlexItem,{children:r}):null]})}},44419:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(49634),r=a(58471);const o=e=>{const t=(0,n.useNavigate)();return(a,n)=>t((0,r.o)(a,e),n)}},5314:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var n=a(44914),r=a.n(n),o=a(5556),l=a.n(o),i=a(49634),c=a(92284),s=a(21996);const m=e=>e?r().createElement(c.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?r().createElement(c.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&r().createElement(i.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(s.nv,{key:t})))):null;m.propTypes={breadcrumbs:l().object};const u=m},54073:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var n=a(44914),r=a.n(n),o=a(55086),l=a(31971),i=a.n(l);const c=({title:e,icon:t,description:a,actions:n,...l})=>r().createElement(o.EmptyState,{variant:o.EmptyStateVariant.sm,...l},r().createElement(o.EmptyStateHeader,{titleText:r().createElement(r().Fragment,null,e),icon:r().createElement(o.EmptyStateIcon,{icon:t||i()}),headingLevel:"h4"}),r().createElement(o.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>r().createElement(r().Fragment,{key:t},e," ",r().createElement("br",null))))),r().createElement(o.EmptyStateFooter,null,n))},17039:(e,t,a)=>{"use strict";a.d(t,{N:()=>y,p:()=>h});var n=a(44914),r=a.n(n),o=a(5556),l=a.n(o),i=a(40748),c=a(32392),s=a(21996),m=a(5314),u=a(74848),p=a(46942),d=a.n(p);const f=r().createContext("light");var g=a(69),b=function(){return b=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},b.apply(this,arguments)};const v=function(e){var t=e.className,a=e.children,n=e.ouiaId,r=e.ouiaSafe,o=void 0===r||r,l=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children","ouiaId","ouiaSafe"]),i=d()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),c="RHI/Header",s=(0,g.useOUIAId)(c,n,o);return(0,u.jsx)(f.Consumer,{children:function(e){var t,n;void 0===e&&(e="light");var r=d()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((n={})["pf-m-light"]="light"===e,n));return(0,u.jsx)("section",b({"data-ouia-component-type":c,"data-ouia-component-id":s,"data-ouia-safe":o},l,{className:"".concat(i," ").concat(r),"widget-type":"InsightsPageHeader",children:a}))}})};var E=a(16401);const y=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(m.A,{...t})),r().createElement(v,{className:"rbac-page-header"},e));y.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},y.defaultProps={paddingBottom:!1};const h=({title:e,renderTitleTag:t,description:a,children:o})=>r().createElement(n.Fragment,null,r().createElement(c.Flex,null,r().createElement(c.FlexItem,{className:"pf-v5-u-mb-sm"},r().createElement(E.A,{title:e||r().createElement(s.BX,null),className:"rbac-page-header__title"})),r().createElement(c.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(i.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(i.Text,{component:i.TextVariants.p},a):a),o);h.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},58154:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var n=a(44914),r=a.n(n),o=a(20881),l=a(49634),i=a(69733),c=a(6442),s=a(58065),m=a(73963),u=a.n(m),p=a(62448),d=a(46428),f=a(67060),g=a(79994),b=a(99780),v=a(81855),E=a(88837),y=a(41939),h=a(47143),A=a(5556),x=a.n(A),O=a(49646);const I=({tabItems:e,isHeader:t})=>{const{pathname:a}=(0,l.useLocation)(),n=(0,l.useNavigate)(),o=e.find((({name:e})=>a.includes(e)));return r().createElement(O.Tabs,{className:t?"rbac-page-header__tabs":"",activeKey:o?o.eventKey:0,onSelect:(t,a)=>n(e[a].to)},e.map((e=>r().createElement(O.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name}))))};I.propTypes={tabItems:x().array.isRequired,isHeader:x().bool};const k=I;var _=a(44419),C=a(17039),N=a(99843),j=a(58471),S=a(54073),B=a(5314),T=a(42134),P=a(47181),w=a(40335),F=a(49573),L=a(74459);const M=()=>{const e=(0,c.A)(),t=(0,i.useDispatch)(),a=(0,_.A)(),m=(0,l.useLocation)(),A=(0,l.useNavigationType)(),x=(0,o.A)(),{groupId:O}=(0,l.useParams)(),I=O===P.p3,M=x.isBeta()&&(0,L.useFlag)("platform.rbac.group-service-accounts")||!x.isBeta()&&(0,L.useFlag)("platform.rbac.group-service-accounts.stable"),D=[{eventKey:0,title:"Roles",name:F.A["group-detail-roles"].link.replace(":groupId",O),to:"roles"},{eventKey:1,title:"Members",name:F.A["group-detail-members"].link.replace(":groupId",O),to:"members"},...M?[{eventKey:2,title:"Service accounts",name:F.A["group-detail-service-accounts"].link.replace(":groupId",O),to:"service-accounts"}]:[]],{pagination:R,filters:G,groupExists:H,systemGroupUuid:K}=(0,i.useSelector)((({groupReducer:{groups:e,error:t,systemGroup:a}})=>({pagination:e.pagination||e.meta,filters:e.filters,groupExists:t!==T.C$,systemGroupUuid:a?.uuid})),i.shallowEqual),{group:V,isGroupLoading:U}=(0,i.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({group:e,isGroupLoading:t})),i.shallowEqual),[$,q]=(0,n.useState)(!1),[z,Q]=(0,n.useState)(!1),[W,X]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t((0,N.jL)({chrome:x}));const e=I?K:O;return e&&(t((0,N.Ui)(e)),x.appObjectId(e)),()=>x.appObjectId(void 0)}),[O,K]);const J=()=>[{title:e.formatMessage(w.A.groups),to:(0,T.Fm)((0,j.o)(F.A.groups.link),R,G)},H?{title:U?void 0:V.name,isActive:!0}:{title:e.formatMessage(w.A.invalidGroup),isActive:!0}],Y=[r().createElement(b.t,{component:r().createElement(j.A,{onClick:()=>Q(!1),to:(m.pathname.includes("members")?F.A["group-members-edit-group"]:F.A["group-roles-edit-group"]).link.replace(":groupId",I?P.p3:O)},e.formatMessage(w.A.edit)),key:"edit-group"}),r().createElement(b.t,{component:r().createElement(j.A,{to:(m.pathname.includes("members")?F.A["group-members-remove-group"]:F.A["group-roles-remove-group"]).link.replace(":groupId",O)},e.formatMessage(w.A.delete)),className:"rbac-c-group__action",key:"delete-group"})];return r().createElement(n.Fragment,null,$&&r().createElement(y.A,{isOpen:$,title:e.formatMessage(w.A.restoreDefaultAccessQuestion),confirmButtonLabel:e.formatMessage(w.A.continue),onClose:()=>q(!1),onConfirm:()=>{t((0,N.rv)([K])).then((()=>t((0,N.jL)({chrome:x})).then((()=>{X(!1)})))),q(!1),a(F.A["group-detail-roles"].link.replace(":groupId",P.p3))}},r().createElement(s.A,{...w.A.restoreDefaultAccessDescription,values:{b:e=>r().createElement("b",null,e)}})),H?r().createElement(n.Fragment,null,r().createElement(C.N,{breadcrumbs:J()},r().createElement(f.Split,{hasGutter:!0},r().createElement(f.SplitItem,{isFilled:!0},r().createElement(C.p,{title:!U&&V?r().createElement(n.Fragment,null,V.platform_default&&!V.system?(Z=V.name,r().createElement("div",{style:{display:"inline-flex"}},Z,r().createElement("div",{className:"pf-v5-u-ml-sm"},r().createElement(d.Popover,{"aria-label":"default-group-icon",bodyContent:r().createElement(s.A,{...w.A.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(u(),{className:"rbac-default-group-info-icon"}))))):V.name):void 0,description:!U&&V?.description||void 0})),V.platform_default&&!V.system?r().createElement(f.SplitItem,null,r().createElement("div",{className:"rbac-default-group-reset-btn"},r().createElement(g.Button,{variant:"link",onClick:()=>q(!0)},e.formatMessage(w.A.restoreToDefault)),r().createElement(d.Popover,{"aria-label":"default-group-icon",position:d.PopoverPosition.bottomEnd,bodyContent:r().createElement(s.A,{...w.A.restoreDefaultAccessInfo,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(u(),{className:"rbac-default-group-info-icon pf-v5-u-mt-sm"})))):null,r().createElement(f.SplitItem,null,V.platform_default||V.admin_default?null:r().createElement(v.m,{ouiaId:"group-title-actions-dropdown",toggle:r().createElement(E.i,{onToggle:(e,t)=>Q(t),id:"group-actions-dropdown"}),isOpen:z,isPlain:!0,position:"right",dropdownItems:Y}))),W?r().createElement(p.Alert,{variant:"info",isInline:!0,title:e.formatMessage(w.A.defaultAccessGroupChanged),action:r().createElement(p.AlertActionCloseButton,{onClose:()=>X(!1)}),className:"pf-v5-u-mb-lg pf-v5-u-mt-sm"},r().createElement(s.A,{...w.A.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})):null),r().createElement(k,{isHeader:!0,tabItems:D}),r().createElement(l.Outlet,{context:{[F.A["group-detail-roles"].path]:{onDefaultGroupChanged:X},groupId:O,systemGroupUuid:K}}),!V&&r().createElement(h.A,{numberOfColumns:1})):r().createElement(n.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(B.A,{...J()})),r().createElement(S.A,{title:e.formatMessage(w.A.groupNotFound),description:[e.formatMessage(w.A.groupDoesNotExist,{id:O})],actions:[r().createElement(g.Button,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>a("POP"!==A?-1:F.A.groups.link)},e.formatMessage(w.A.backToPreviousPage))]})));var Z}},95067:()=>{},26078:()=>{},2580:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4571.854bfcfed0c3f5af32e1f1a5a1de6553.js.map