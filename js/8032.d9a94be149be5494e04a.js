"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[8032,459],{41435:(e,t,o)=>{o.d(t,{Dl:()=>s,dw:()=>r,e4:()=>c,ir:()=>a});var a,r,n=o(28416);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(r||(r={}));const s=n.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),c=n.createContext({keyHandler:null,sendRef:null})},86478:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a}),o(49854);const a={modifiers:{top:"pf-m-top",topLeft:"pf-m-top-left",topRight:"pf-m-top-right",bottom:"pf-m-bottom",bottomLeft:"pf-m-bottom-left",bottomRight:"pf-m-bottom-right",left:"pf-m-left",leftTop:"pf-m-left-top",leftBottom:"pf-m-left-bottom",right:"pf-m-right",rightTop:"pf-m-right-top",rightBottom:"pf-m-right-bottom",textAlignLeft:"pf-m-text-align-left"},themeDark:"pf-v5-theme-dark",tooltip:"pf-v5-c-tooltip",tooltipArrow:"pf-v5-c-tooltip__arrow",tooltipContent:"pf-v5-c-tooltip__content"}},7876:(e,t,o)=>{o.d(t,{Z:()=>c});var a=o(85893),r=o(94184),n=o.n(r),s=function(){return s=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},s.apply(this,arguments)};const c=function(e){var t,o=e.type,r=e.children,c=e.className,l=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o}(e,["type","children","className"]),i=n()(c,((t={})["ins-l-".concat(o)]=void 0!==o,t));return(0,a.jsxs)("section",s({},l,{className:i,children:[" ",r," "]}))}},84414:(e,t,o)=>{o.d(t,{Z:()=>n});var a=o(62012),r=o(64756);const n=e=>{const t=(0,a.useNavigate)();return(o,a)=>t((0,r.n)(o,e),a)}},92057:(e,t,o)=>{o.r(t),o.d(t,{default:()=>S});var a=o(28416),r=o.n(a),n=o(86706),s=o(25387),c=o(62012),l=o(5904),i=o(74503),u=o(31055),p=o(88094),m=o(64380),d=o(7876),f=o(62410),g=o(74982),v=o(97246),h=o(77044),b=o(29301),Z=o(75614),C=o(86601),y=o(64756),A=o(84414),k=o(2550),E=o(14289);const I=(e=[],t=[])=>e?.reduce(((e,{uuid:o,name:n,clientID:s,owner:c,time_created:l})=>[...e,{uuid:o,title:n,cells:[n,s,c,r().createElement(a.Fragment,{key:`${n}-modified`},r().createElement(f.Z,{date:l,type:(0,b.mh)(l)}))],selected:Boolean(t&&t.find((e=>e.uuid===o)))}]),[]),M=({groupReducer:{selectedGroup:e,systemGroup:t,groups:o}})=>({serviceAccounts:e.serviceAccounts?.data||[],pagination:{...g.he,...e?.serviceAccounts?.meta||{}},groupsPagination:o.pagination||o.meta,groupsFilters:o.filters,isLoading:e.serviceAccounts.isLoading,isAdminDefault:e.admin_default,systemGroupUuid:t?.uuid,group:e,platformDefault:e.platform_default}),S=()=>{const e=(0,s.YB)(),t=(0,n.useDispatch)(),o=(0,A.Z)(),{groupId:f}=(0,c.useParams)(),[g,b]=(0,a.useState)(""),[S,w]=(0,a.useState)([]),{userAccessAdministrator:x,orgAdmin:D}=(0,a.useContext)(C.Z),O=(0,a.useRef)(D||x),{serviceAccounts:P,pagination:T,isLoading:B,isAdminDefault:L,systemGroupUuid:N,platformDefault:j}=(0,n.useSelector)(M),F=(e,o)=>t((0,h.Gr)(e,o)),G=[{title:e.formatMessage(k.Z.name)},{title:e.formatMessage(k.Z.clientId)},{title:e.formatMessage(k.Z.owner)},{title:e.formatMessage(k.Z.timeCreated)}],R=(0,a.useCallback)((()=>{f!==Z.Cn?F(f,T):N&&F(N,T)}),[N,f]);return(0,a.useEffect)((()=>{R()}),[N]),(0,a.useEffect)((()=>{O.current=D||x}),[D,x]),r().createElement(r().Fragment,null,r().createElement(d.Z,{type:"content",id:"tab-service-accounts"},j?r().createElement(p.Card,null,r().createElement(p.CardBody,null,r().createElement(i.Bullseye,null,r().createElement(m.TextContent,null,r().createElement(m.Text,{component:m.TextVariants.h1},e.formatMessage(k.Z.noAccountsInDefaultAccess)))))):r().createElement(r().Fragment,null,r().createElement(l.Alert,{className:"rbac-service-accounts-alert",variant:"info",isInline:!0,isPlain:!0,title:e.formatMessage(k.Z.visitServiceAccountsPage,{link:r().createElement(y.Z,{to:"/service-accounts",linkBasename:"/iam"},e.formatMessage(k.Z.serviceAccountsPage))})}),r().createElement(v.M,{columns:G,isSelectable:!0,rows:I(P,S),data:P,filterValue:g,fetchData:e=>F(f,e),emptyFilters:{description:""},setFilterValue:({clientID:e})=>{void 0!==e&&b(e)},isLoading:B,pagination:T,checkedRows:S,setCheckedItems:w,titlePlural:e.formatMessage(k.Z.serviceAccounts).toLowerCase(),titleSingular:e.formatMessage(k.Z.serviceAccount),toolbarButtons:()=>[r().createElement(y.Z,{className:"rbac-m-hide-on-sm",to:E.Z["group-add-service-account"].link.replace(":groupId",f),key:"add-to-group"},r().createElement(u.Button,{ouiaId:"add-service-account-button",variant:"primary",className:"rbac-m-hide-on-sm","aria-label":"Add service account to group"},e.formatMessage(k.Z.addServiceAccount))),{label:e.formatMessage(k.Z.remove),props:{isDisabled:0===S.length},onClick:()=>{const e=(0,c.createSearchParams)();S.forEach((({name:t})=>e.append("name",t))),o({pathname:E.Z["group-service-accounts-remove-group"].link.replace(":groupId",f),search:e.toString()})}},{label:e.formatMessage(k.Z.addServiceAccount),props:{className:"rbac-m-hide-on-md"},onClick:()=>o(E.Z["group-add-service-account"].link.replace(":groupId",f))}],actionResolver:({uuid:t})=>[...O.current&&!L?[{title:e.formatMessage(k.Z.remove),onClick:()=>o({pathname:E.Z["group-service-accounts-remove-group"].link.replace(":groupId",f),search:(0,c.createSearchParams)({name:t}).toString()})}]:[]],emptyProps:{title:e.formatMessage(k.Z.noGroupAccounts),description:[e.formatMessage(L?k.Z.contactServiceTeamForAccounts:k.Z.addAccountsToThisGroup),""]},filters:[{key:"clientID",value:g}],tableId:"group-accounts",ouiaId:"group-accounts"}))),j?null:r().createElement(a.Suspense,null,r().createElement(c.Outlet,{context:{[E.Z["group-service-accounts-remove-group"].path]:{postMethod:e=>{w([]),o(E.Z["group-detail-service-accounts"].link.replace(":groupId",f)),e&&e.then?.(R)}},[E.Z["group-add-service-account"].path]:{postMethod:e=>{o(E.Z["group-detail-service-accounts"].link.replace(":groupId",f)),e&&e.then?.(R)}}}})))}}}]);
//# sourceMappingURL=../sourcemaps/8032.4123ff89e28f0afc1eff9ab59c986ae9.js.map