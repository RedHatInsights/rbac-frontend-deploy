"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[7325],{82916:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(92950),a=n.n(r),o=n(86896),s=n(45697),l=n.n(s),i=n(76857),c=n(15265),u=n(26794),d=n(30893),m=n(55140),f=function(e){var t=e.linkDescription,n=e.linkTitle,s=(0,o.Z)(),l=(0,m.Z)(),f=l.getEnvironment(),p=l.isProd()?"":"".concat(f,".");return(0,r.useContext)(u.Z).orgAdmin?a().createElement(i.Text,{className:"pf-u-mt-0",component:i.TextVariants.h7},"".concat(s.formatMessage(d.Z.usersDescription)," "),t,a().createElement(i.Text,{component:i.TextVariants.a,href:"https://www.".concat(p,"redhat.com/wapps/ugc/protected/usermgt/userList.html"),target:"_blank",rel:"noopener noreferrer"},n,a().createElement(c.ZP,null)),"."):a().createElement(i.Text,{className:"pf-u-mt-0",component:i.TextVariants.h7},"".concat(s.formatMessage(d.Z.usersDescription)," "))};f.propTypes={linkDescription:l().node,linkTitle:l().node},f.defaultProps={linkDescription:"",linkTitle:" user management list "};const p=f},88093:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(87462),a=n(45987),o=n(92950),s=n.n(o),l=n(1936),i=n(45697),c=n.n(i),u=n(94184),d=n.n(u),m=["row"],f=function(e){var t,n=e.row,o=(0,a.Z)(e,m),i=n.status,c=null==i||null===(t=i.props)||void 0===t?void 0:t["data-is-active"];return s().createElement(l.RowWrapper,(0,r.Z)({className:d()("rbac__user-row",{"ins-m-inactive":!c}),row:n},o))};f.propTypes={row:c().shape({status:c().shape({props:c().shape({"data-is-active":c().bool,data:c().shape({isActive:c().bool})})})})};const p=f},97384:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(29439),a=n(4942),o=n(93433),s=n(92950),l=n.n(s),i=n(50533),c=n(45697),u=n.n(c),d=n(65916),m=n(1936),f=n(11107),p=n(30060),g=n(28090),b=n(19756),v=n(86896),y=n(30893);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){var t=e.selectedRoles,n=e.setSelectedRoles,c=e.rolesExcluded,u=e.groupId,Z=(0,v.Z)(),E=(0,i.useDispatch)(),k=(0,s.useRef)(null),w=(0,i.useSelector)(c?function(e){var t=e.groupReducer.selectedGroup,n=t.addRoles,r=n.roles,a=n.pagination,o=n.loaded,s=t.uuid;return{roles:r,pagination:a||h(h({},d.eX),{},{count:null==r?void 0:r.length}),isLoading:!o,groupId:u||s}}:function(e){var t=e.roleReducer,n=t.roles,r=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:r,filters:n.filters}},i.shallowEqual),R=w.roles,S=w.pagination,C=w.isLoading,T=w.groupId,D=w.filters,O=(0,s.useRef)([h({title:Z.formatMessage(y.Z.name),key:"display_name"},c?{orderBy:"name"}:{transforms:[m.sortable]}),{title:Z.formatMessage(y.Z.description)}]).current,M=(0,s.useState)(""),x=(0,r.Z)(M,2),P=x[0],_=x[1],I=(0,s.useState)({index:1,direction:"asc"}),N=(0,r.Z)(I,2),L=N[0],j=N[1],G=(0,s.useCallback)((function(e,t){return E(c?(0,b.nr)(e,t):(0,g.Kt)((0,f.jl)(t)))}),[c]),B="".concat("desc"===(null==L?void 0:L.direction)?"-":"").concat(O[null==L?void 0:L.index].key),V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?e.reduce((function(e,n){var r=n.uuid,a=n.display_name,s=n.name,l=n.description;return[].concat((0,o.Z)(e),[{uuid:r,cells:[a||s,l],selected:Boolean(t&&t.find((function(e){return e.uuid===r})))}])}),[]):[]}(R,t);return(0,s.useEffect)((function(){G(T,h(h({},S),{},{orderBy:B}))}),[]),l().createElement(p.M,{isSelectable:!0,isCompact:!0,borders:!1,columns:O,rows:V,sortBy:L,onSort:function(e,t,n,r){var o="".concat("desc"===n?"-":"").concat(O[r?t-1:t].key);j({index:t,direction:n}),function(e,t){var n=t.name,r=t.count,a=t.limit,o=t.offset,s=t.orderBy;G(e,(0,f.jl)({count:r,limit:a,offset:o,orderBy:s,filters:{display_name:n}}))}(T,h(h({},S),{},{offset:0,orderBy:o},(null==D?void 0:D.length)>0?h({},D.reduce((function(e,t){return h(h({},e),{},(0,a.Z)({},t.key,t.value))}),{})):{name:P}))},data:R,filterValue:P,filterPlaceholder:Z.formatMessage(y.Z.roleName).toLowerCase(),fetchData:function(e){return G(T,h(h({},e),{},{filters:{display_name:e.name}}))},setFilterValue:function(e){var t=e.name;return _(t)},isLoading:C,ouiaId:"roles-table",pagination:S,checkedRows:t,setCheckedItems:function(e){n((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:Z.formatMessage(y.Z.roles).toLowerCase(),titleSingular:Z.formatMessage(y.Z.role),tableId:"roles-list",textFilterRef:k})};E.propTypes={canSort:u().bool,setSelectedRoles:u().func.isRequired,selectedRoles:u().array,rolesExcluded:u().bool.isRequired,groupId:u().string},E.defaultProps={roles:[],pagination:d.eX,canSort:!0};const k=E},93351:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(87462),a=n(45987),o=n(92950),s=n.n(o),l=n(1936),i=n(45697),c=n.n(i),u=n(94184),d=n.n(u),m=["className","row"],f=function(e){var t=e.className,n=e.row,o=(0,a.Z)(e,m);return s().createElement(l.RowWrapper,(0,r.Z)({className:d()(t,{"rbac-c-group-default":n.isPlatformDefault||n.isAdminDefault}),row:n},o))};f.propTypes={row:c().shape({isAdminDefault:c().bool,isPlatformDefault:c().bool}),className:c().string};const p=f},57486:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(29439),a=n(92950),o=n.n(a),s=n(45697),l=n.n(s),i=n(86896),c=n(76857),u=n(46801),d=n(50533),m=n(35664),f=n(71355),p=n(19756),g=n(93736),b=n(97384),v=n(25924),y=n(30893),Z=function(e){var t=e.afterSubmit,n=e.fetchUuid,s=e.selectedRoles,l=e.setSelectedRoles,Z=e.title,h=e.closeUrl,E=e.addRolesToGroup,k=e.groupName,w=e.isDefault,R=e.isChanged,S=e.onDefaultGroupChanged,C=(0,i.Z)(),T=(0,d.useDispatch)(),D=(0,u.useLocation)().state,O=(0,u.useParams)().groupId,M=w&&n?n:O,x=(0,g.Z)(),P=(0,a.useState)(!1),_=(0,r.Z)(P,2),I=_[0],N=_[1],L=(0,d.useSelector)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.isRecordLoading;return{groupName:k||(null==D?void 0:D.name)||n.name,isRecordLoading:r}})),j=L.groupName,G=L.isRecordLoading;(0,a.useEffect)((function(){j||T((0,p.yi)(M))}),[]);var B=function(){l&&l([]),T((0,f.addNotification)({variant:"warning",title:C.formatMessage(y.Z.addingGroupRolesTitle),dismissDelay:8e3,description:C.formatMessage(y.Z.addingGroupRolesCancelled)})),x(h)},V=function(){var e=s.map((function(e){return e.uuid}));return E(M,e).then(t),l([]),w&&!R&&S(!0),x(h)};return w&&!R&&I?o().createElement(v.Z,{isOpen:I,onClose:B,onSubmit:V}):o().createElement(c.Modal,{className:"rbac",title:C.formatMessage(y.Z.addRolesToGroup,{name:G?o().createElement(m.Z,{size:m.i.xs,className:"rbac-c-skeleton__add-role-to-group"}):j}),variant:c.ModalVariant.medium,isOpen:!0,onClose:function(){B(),N(!0)},actions:[o().createElement(c.Button,{"aria-label":"Save",ouiaId:"primary-save-button",variant:"primary",key:"confirm",isDisabled:0===s.length,onClick:function(){N(!0),(!w||R)&&V()}},C.formatMessage(y.Z.addToGroup)),o().createElement(c.Button,{"aria-label":"Cancel",ouiaId:"secondary-cancel-button",variant:"link",key:"cancel",onClick:B},C.formatMessage(y.Z.cancel))]},o().createElement(c.Stack,{hasGutter:!0},Z&&o().createElement(c.StackItem,null,o().createElement(c.Title,{headingLevel:"h4",size:"xl"},Z)),o().createElement(c.StackItem,null,o().createElement(c.Alert,{variant:"info",isInline:!0,isPlain:!0,title:C.formatMessage(y.Z.onlyGroupRolesVisible)})),o().createElement(c.StackItem,null,o().createElement(b.Z,{selectedRoles:s,setSelectedRoles:l,rolesExcluded:!0,groupId:M}))))};Z.propTypes={afterSubmit:l().func,selectedRoles:l().array,setSelectedRoles:l().func,addRolesToGroup:l().func,closeUrl:l().string,title:l().string,groupName:l().string,fetchUuid:l().string,isDefault:l().bool,isChanged:l().bool,onDefaultGroupChanged:l().func};const h=Z},25924:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(87462),a=n(92950),o=n.n(a),s=n(45697),l=n.n(s),i=n(76857),c=n(1227),u=n(86896),d=n(44012),m=n(30893),f=function(e){var t=e.isOpen,n=e.onClose,a=e.onSubmit,s=(0,u.Z)();return o().createElement(c.Z,{text:o().createElement(i.TextContent,null,o().createElement(i.Text,null,o().createElement(d.Z,(0,r.Z)({},m.Z.defaultAccessGroupEditWarning,{values:{b:function(e){return o().createElement("b",null,e)}}})))),title:s.formatMessage(m.Z.warning),withCheckbox:!0,isOpen:t,confirmButtonLabel:s.formatMessage(m.Z.continue),onClose:n,onSubmit:a})};f.propTypes={onSubmit:l().func,onClose:l().func,isOpen:l().bool};const p=f},58654:(e,t,n)=>{n.d(t,{H:()=>c});var r=n(92950),a=n.n(r),o=n(46801),s=n(76857),l=n(84747),i=n(30893);const c=(e,t=[],n,c=[],u=!1)=>t?.reduce(((t,{username:d,is_active:m,email:f,first_name:p,last_name:g,is_org_admin:b})=>[...t,{uuid:d,cells:[b?a().createElement(r.Fragment,null,a().createElement(l.CheckIcon,{key:"yes-icon",className:"pf-u-mr-sm"}),a().createElement("span",{key:"yes"},n.formatMessage(i.Z.yes))):a().createElement(r.Fragment,null,a().createElement(l.CloseIcon,{key:"no-icon",className:"pf-u-mr-sm"}),a().createElement("span",{key:"no"},n.formatMessage(i.Z.no))),{title:e?a().createElement(o.Link,{to:`/users/detail/${d}`},d.toString()):d.toString()},f,p,g,{title:a().createElement(s.Label,{key:"status",color:m?"green":"grey"},n.formatMessage(m?i.Z.active:i.Z.inactive)),props:{"data-is-active":m}}],selected:!!u&&Boolean(c?.find?.((({uuid:e})=>e===d)))}]),[])}}]);
//# sourceMappingURL=../sourcemaps/7325.0f6b23a83f12f243ee7845adeae805e7.js.map