(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[2344,459],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(66029),l=a.n(r),s=a(80236),n=a(47173),o=a(93149);const i=e=>{var{isOpen:t,onConfirm:a,onClose:i,children:c,confirmButtonLabel:d="Confirm",cancelButtonLabel:m="Cancel",variant:u=s.v.small,titleIconVariant:p="warning",withCheckbox:f=!1,checkboxLabel:b="I understand that this action cannot be undone",confirmButtonVariant:g=n.Wu.primary,ouiaId:h="WarningModal"}=e,v=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[y,C]=(0,r.useState)(!1);return l().createElement(s.u,Object.assign({variant:u,isOpen:t,onClose:i,onEscapePress:i,titleIconVariant:p,actions:[l().createElement(n.zx,{ouiaId:`${h}-confirm-button`,key:"confirm",variant:g,onClick:()=>{null==a||a(),C(!1)},isDisabled:f&&!y},d),l().createElement(n.zx,{ouiaId:`${h}-cancel-button`,key:"cancel",variant:n.Wu.link,onClick:i},m)],ouiaId:h},v),c,f?l().createElement(o.X,{isChecked:y,onChange:(e,t)=>C(t),label:b,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${h}-confirm-checkbox`}):null)}},32203:(e,t,a)=>{"use strict";a.d(t,{H:()=>i,Z:()=>c});var r=a(65353),l=a(66029),s=a(54918),n=a(38296),o=a(62472);const i=l.createContext({cardId:"",registerTitleId:()=>{},isExpanded:!1,isClickable:!1,isSelectable:!1,isSelected:!1,isClicked:!1,isDisabled:!1}),c=e=>{var{children:t,id:a="",className:d,component:m="div",isCompact:u=!1,isSelectable:p=!1,isClickable:f=!1,isDisabled:b=!1,isSelectableRaised:g=!1,isSelected:h=!1,isClicked:v=!1,isDisabledRaised:y=!1,isFlat:C=!1,isExpanded:k=!1,isRounded:E=!1,isLarge:Z=!1,isFullHeight:x=!1,isPlain:_=!1,ouiaId:I,ouiaSafe:w=!0,hasSelectableInput:S=!1,selectableInputAriaLabel:R,onSelectableInputChange:M=(()=>{})}=e,B=(0,r.__rest)(e,["children","id","className","component","isCompact","isSelectable","isClickable","isDisabled","isSelectableRaised","isSelected","isClicked","isDisabledRaised","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe","hasSelectableInput","selectableInputAriaLabel","onSelectableInputChange"]);const O=m,P=(0,o.useOUIAProps)(c.displayName,I,w),[F,L]=l.useState(""),[D,N]=l.useState();u&&Z&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),Z=!1);const T=l.useRef(!1);return l.useEffect((()=>{R?N({"aria-label":R}):F?N({"aria-labelledby":F}):S&&!T.current&&(N({}),console.warn("If no CardTitle component is passed as a child of Card the selectableInputAriaLabel prop must be passed"))}),[S,R,F]),l.createElement(i.Provider,{value:{cardId:a,registerTitleId:e=>{L(e),T.current=!!e},isExpanded:k,isClickable:f,isSelectable:p,isSelected:h,isClicked:v,isDisabled:b,hasSelectableInput:S}},S&&l.createElement("input",Object.assign({className:"pf-v5-screen-reader",id:`${a}-input`},D,{type:"checkbox",checked:h,onChange:e=>M(e,a),disabled:y,tabIndex:-1})),l.createElement(O,Object.assign({id:a,className:(0,n.css)(s.Z.card,u&&s.Z.modifiers.compact,k&&s.Z.modifiers.expanded,C&&s.Z.modifiers.flat,E&&s.Z.modifiers.rounded,Z&&s.Z.modifiers.displayLg,x&&s.Z.modifiers.fullHeight,_&&s.Z.modifiers.plain,y?(0,n.css)(s.Z.modifiers.nonSelectableRaised):g?(0,n.css)(s.Z.modifiers.selectableRaised,h&&s.Z.modifiers.selectedRaised):p&&f?(0,n.css)(s.Z.modifiers.selectable,s.Z.modifiers.clickable,(h||v)&&s.Z.modifiers.current):p?(0,n.css)(s.Z.modifiers.selectable,h&&s.Z.modifiers.selected):f?(0,n.css)(s.Z.modifiers.clickable,v&&s.Z.modifiers.current):"",b&&s.Z.modifiers.disabled,d),tabIndex:g?"0":void 0},B,P),t))};c.displayName="Card"},62394:(e,t,a)=>{"use strict";a.d(t,{e:()=>o});var r=a(65353),l=a(66029),s=a(54918),n=a(38296);const o=e=>{var{children:t,className:a,component:o="div",isFilled:i=!0}=e,c=(0,r.__rest)(e,["children","className","component","isFilled"]);const d=o;return l.createElement(d,Object.assign({className:(0,n.css)(s.Z.cardBody,!i&&s.Z.modifiers.noFill,a)},c),t)};o.displayName="CardBody"},45488:(e,t,a)=>{"use strict";a.d(t,{_:()=>I});var r=a(65353),l=a(66029);a(82014);const s="pf-v5-c-label__content",n="pf-m-compact",o="pf-m-blue",i="pf-m-green",c="pf-m-orange",d="pf-m-red",m="pf-m-purple",u="pf-m-cyan",p="pf-m-gold",f="pf-m-outline",b="pf-m-overflow",g="pf-m-editable-active",h="pf-m-disabled";a(24620);const v="pf-m-editable";var y=a(47173),C=a(35224),k=a(38296),E=a(24307),Z=a(6551);const x="--pf-v5-c-label__text--MaxWidth",_={blue:o,cyan:u,green:i,orange:c,purple:m,red:d,gold:p,grey:""},I=e=>{var{children:t,className:a="",color:o="grey",variant:i="filled",isCompact:c=!1,isDisabled:d=!1,isEditable:m=!1,editableProps:u,textMaxWidth:p,tooltipPosition:I,icon:w,onClose:S,onClick:R,onEditCancel:M,onEditComplete:B,closeBtn:O,closeBtnAriaLabel:P,closeBtnProps:F,href:L,isOverflowLabel:D,render:N}=e,T=(0,r.__rest)(e,["children","className","color","variant","isCompact","isDisabled","isEditable","editableProps","textMaxWidth","tooltipPosition","icon","onClose","onClick","onEditCancel","onEditComplete","closeBtn","closeBtnAriaLabel","closeBtnProps","href","isOverflowLabel","render"]);const[j,A]=(0,l.useState)(!1),[V,H]=(0,l.useState)(t),W=l.useRef(),q=l.useRef();l.useEffect((()=>(document.addEventListener("mousedown",$),document.addEventListener("keydown",z),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("keydown",z)}))),l.useEffect((()=>{R&&L?console.warn("Link labels cannot have onClick passed, this results in invalid HTML. Please remove either the href or onClick prop."):R&&m&&console.warn("Editable labels cannot have onClick passed, clicking starts the label edit process. Please remove either the isEditable or onClick prop.")}),[R,L,m]);const $=e=>{j&&q&&q.current&&!q.current.contains(e.target)&&(q.current.value&&B&&B(e,q.current.value),A(!1))},z=e=>{var a,r;const l=e.key;if((j||W&&W.current&&W.current.contains(e.target))&&(!j||q&&q.current&&q.current.contains(e.target))&&(!j||"Enter"!==l&&"Tab"!==l||(e.preventDefault(),e.stopImmediatePropagation(),q.current.value&&B&&B(e,q.current.value),A(!1),null===(a=null==W?void 0:W.current)||void 0===a||a.focus()),j&&"Escape"===l&&(e.preventDefault(),e.stopImmediatePropagation(),q.current.value&&(q.current.value=t,M&&M(e,t)),A(!1),null===(r=null==W?void 0:W.current)||void 0===r||r.focus()),!j&&"Enter"===l)){e.preventDefault(),e.stopImmediatePropagation(),A(!0);const t=e.target,a=document.createRange(),r=window.getSelection();a.selectNodeContents(t),a.collapse(!1),r.removeAllRanges(),r.addRange(a)}},U=(L||R)&&d,Q=l.createElement(y.zx,Object.assign({type:"button",variant:"plain",onClick:S,"aria-label":P||`Close ${t}`},U&&{isDisabled:!0},F),l.createElement(E.ZP,null)),Y=l.createElement("span",{className:(0,k.css)("pf-v5-c-label__actions")},O||Q),G=l.createRef(),K=l.useRef(),[X,J]=l.useState(!1);(0,Z.L)((()=>{const e=m?W:G;j||J(e.current&&e.current.offsetWidth<e.current.scrollWidth)}),[j]);const ee=l.createElement(l.Fragment,null,w&&l.createElement("span",{className:(0,k.css)("pf-v5-c-label__icon")},w),l.createElement("span",Object.assign({ref:G,className:(0,k.css)("pf-v5-c-label__text")},p&&{style:{[x]:p}}),t));l.useEffect((()=>{j&&q&&q.current&&q.current.focus()}),[q,j]);let te="span";L?te="a":(m||R&&!D)&&(te="button");const ae={type:"button",onClick:R},re="button"===te,le=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({className:(0,k.css)(s)},X&&{tabIndex:0}),L&&{href:L}),L&&d&&{onClick:e=>e.preventDefault()}),re&&ae),m&&Object.assign({ref:W,onClick:e=>{A(!0),e.stopPropagation()}},u)),U&&re&&{disabled:!0}),U&&L&&{tabindex:-1,"aria-disabled":!0});let se=l.createElement(te,Object.assign({},le),ee);N?se=l.createElement(l.Fragment,null,X&&l.createElement(C.u,{triggerRef:K,content:t,position:I}),N({className:s,content:ee,componentRef:K})):X&&(se=l.createElement(C.u,{content:t,position:I},se));const ne=D?"button":"span";return l.createElement(ne,Object.assign({},T,{className:(0,k.css)("pf-v5-c-label",U&&h,_[o],"outline"===i&&f,D&&b,c&&n,m&&v,j&&g,a),onClick:D?R:void 0}),!j&&se,!j&&S&&Y,j&&l.createElement("input",Object.assign({className:(0,k.css)(s),type:"text",id:"editable-input",ref:q,value:V,onChange:()=>{H(q.current.value)}},u)))};I.displayName="Label"},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>o});var r=a(65353),l=a(66029),s=a(62873),n=a(38296);const o=e=>{var{children:t,className:a="",isVisited:o=!1}=e,i=(0,r.__rest)(e,["children","className","isVisited"]);return l.createElement("div",Object.assign({},i,{className:(0,n.css)(s.Z.content,o&&s.Z.modifiers.visited,a)}),t)};o.displayName="TextContent"},41435:(e,t,a)=>{"use strict";a.d(t,{Dl:()=>n,dw:()=>l,e4:()=>o,ir:()=>r});var r,l,s=a(66029);!function(e){e.right="right",e.left="left"}(r||(r={})),function(e){e.up="up",e.down="down"}(l||(l={}));const n=s.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),o=s.createContext({keyHandler:null,sendRef:null})},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r}),a(70347);const r={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},54918:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r}),a(80598);const r={card:"pf-v5-c-card",cardActions:"pf-v5-c-card__actions",cardBody:"pf-v5-c-card__body",cardExpandableContent:"pf-v5-c-card__expandable-content",cardFooter:"pf-v5-c-card__footer",cardHeader:"pf-v5-c-card__header",cardHeaderMain:"pf-v5-c-card__header-main",cardHeaderToggle:"pf-v5-c-card__header-toggle",cardHeaderToggleIcon:"pf-v5-c-card__header-toggle-icon",cardSelectableActions:"pf-v5-c-card__selectable-actions",cardSrInput:"pf-v5-c-card__sr-input",cardTitle:"pf-v5-c-card__title",cardTitleText:"pf-v5-c-card__title-text",check:"pf-v5-c-check",checkInput:"pf-v5-c-check__input",checkLabel:"pf-v5-c-check__label",dirRtl:"pf-v5-m-dir-rtl",divider:"pf-v5-c-divider",modifiers:{selectable:"pf-m-selectable",clickable:"pf-m-clickable",selected:"pf-m-selected",current:"pf-m-current",disabled:"pf-m-disabled",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",nonSelectableRaised:"pf-m-non-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill"},radio:"pf-v5-c-radio",radioInput:"pf-v5-c-radio__input",radioLabel:"pf-v5-c-radio__label",themeDark:"pf-v5-theme-dark"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r}),a(25238);const r={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},46818:(e,t,a)=>{"use strict";a.d(t,{P8:()=>l});var r=a(78632);const l=()=>({className:r.Z.modifiers.nowrap})},7876:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var r=a(85893),l=a(94184),s=a.n(l),n=function(){return n=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},n.apply(this,arguments)};const o=function(e){var t,a=e.type,l=e.children,o=e.className,i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a}(e,["type","children","className"]),c=s()(o,((t={})["ins-l-".concat(a)]=void 0!==a,t));return(0,r.jsxs)("section",n({},i,{className:c,children:[" ",l," "]}))}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(62012),l=a(64756);const s=e=>{const t=(0,r.useNavigate)();return(a,r)=>t((0,l.n)(a,e),r)}},24869:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(66029),l=a.n(r),s=a(55573),n=a(45697),o=a.n(n),i=a(94184),c=a.n(i);const d=({row:e,...t})=>{const{status:a}=e,r=a?.props?.["data-is-active"];return l().createElement(s.e,{className:c()("rbac__user-row",{"ins-m-inactive":!r}),row:e,...t})};d.propTypes={row:o().shape({status:o().shape({props:o().shape({"data-is-active":o().bool,data:o().shape({isActive:o().bool})})})})};const m=d},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(66029),l=a.n(r),s=a(9947),n=a(67880),o=a(43049),i=a(75106),c=a(80315),d=a(80810);const m=({title:e,icon:t,description:a,actions:r,...m})=>l().createElement(s.u,{variant:s.I.sm,...m},l().createElement(n.t,{titleText:l().createElement(l().Fragment,null,e),icon:l().createElement(o.k,{icon:t||d.SearchIcon}),headingLevel:"h4"}),l().createElement(i.B,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>l().createElement(l().Fragment,{key:t},e," ",l().createElement("br",null))))),l().createElement(c.O,null,r))},97246:(e,t,a)=>{"use strict";a.d(t,{M:()=>Z});var r=a(66029),l=a.n(r),s=a(25387),n=a(45697),o=a.n(n),i=a(2550),c=a(79083),d=a(75863),m=a(21081),u=a(49004),p=a(34844),f=a(15433),b=a(12913),g=a(7065),h=a(47173),v=a(18517),y=a(7081),C=a(29301),k=a(68572),E=a(66180);const Z=({className:e,isCompact:t,borders:a,columns:n,rows:o,toolbarButtons:Z,data:x,actionResolver:_,areActionsDisabled:I,routes:w,titlePlural:S,titleSingular:R,pagination:M,paginationProps:B,filterValue:O,isLoading:P,emptyFilters:F,setFilterValue:L,checkedRows:D,isSelectable:N,isRowSelectable:T,fetchData:j,setCheckedItems:A,emptyProps:V,filterPlaceholder:H,rowWrapper:W,filters:q,isFilterable:$,onShowMore:z,showMoreTitle:U,onFilter:Q,onChange:Y,value:G,sortBy:K,onSort:X,isExpandable:J,onExpand:ee,hideFilterChips:te,hideHeader:ae,noData:re,noDataDescription:le,ouiaId:se,tableId:ne,containerRef:oe,textFilterRef:ie,toolbarChildren:ce})=>{const de=(0,s.YB)(),me=(0,c.useFlag)("platform.rbac.itless");return l().createElement("div",{className:e},w(),!P&&0===o?.length&&0===O?.length&&q.every((({value:e})=>!e))?l().createElement(E.Z,{title:de.formatMessage(i.Z.configureItems,{items:S}),icon:y.wl,description:[de.formatMessage(i.Z.toConfigureUserAccess),de.formatMessage(i.Z.createAtLeastOneItem,{item:R})],actions:Z()[0],...V}):(()=>{const e=`${"desc"===K?.direction?"-":""}${n[K?.index]?.key}`;return l().createElement(r.Fragment,null,l().createElement(k.ZP,{isSelectable:N,isRowSelectable:T,checkedRows:D,setCheckedItems:A,isLoading:P||re,data:x,titleSingular:R,filterValue:O,setFilterValue:L,sortBy:e,pagination:M,paginationProps:B,fetchData:j,toolbarButtons:Z,filterPlaceholder:H,filters:q,isFilterable:$,onShowMore:z,showMoreTitle:U,onFilter:Q,onChange:Y,value:G,hideFilterChips:te,tableId:ne,containerRef:oe,textFilterRef:ie,toolbarChildren:ce}),P?l().createElement(b.Z,{variant:t?d.B.compact:void 0,rows:M?.limit,columns:n.map((e=>e.title))}):l().createElement(m.i,{canSelectAll:!1,"aria-label":`${S.toLowerCase()} table`,variant:t?d.B.compact:null,borders:a,...N&&o?.length>0&&{onSelect:(e,t,a,{uuid:r,cells:[l],requires:s})=>A((0,C.ZQ)([{uuid:r,name:l,requires:s,...me&&{username:x[a]?.username}}],t))},...J&&{onExpand:ee},rows:o?.length>0?o:[{fullWidth:!0,cells:[{title:l().createElement(E.Z,{title:de.formatMessage(i.Z.noMatchingItemsFound,{items:S}),description:re&&le?le:[de.formatMessage(i.Z.filterMatchesNoItems,{items:S}),de.formatMessage(i.Z.tryChangingFilters)],actions:re&&le?void 0:[l().createElement(g.U,{key:"clear-filters"},l().createElement(h.zx,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{L(F),j({...M,offset:0,...F||{name:""}})}},de.formatMessage(i.Z.clearAllFilters)))]}),props:{colSpan:n.length}}]}],cells:n,...o?.length>0&&{actionResolver:_},className:0==o?.length?"ins-c-table-empty-state":"",areActionsDisabled:I,rowWrapper:W,sortBy:K,ouiaId:se,onSort:(e,t,a,r)=>X(e,t,a,r)},!ae&&l().createElement(u.x,null),l().createElement(p.R,null)),!M.noBottom&&l().createElement(f.Z,null,!P&&l().createElement(v.t,{...(0,k.Wz)(M,j,O,K,B),variant:"bottom",dropDirection:"up"})))})())};Z.propTypes={...k.ZP.propTypes,sortBy:o().shape({directions:o().string,index:o().number}),className:o().string,rowWrapper:o().any,isCompact:o().bool,isRowSelectable:o().func,borders:o().bool,emptyFilters:o().object,checkedRows:o().array,columns:o().array.isRequired,rows:o().array.isRequired,titlePlural:o().string,routes:o().func,actionResolver:o().func,areActionsDisabled:o().func,pagination:o().shape({noBottom:o().bool,limit:o().number,offset:o().number,count:o().number}),paginationProps:o().shape({toggleTemplate:o().func,isCompact:o().bool}),isExpandable:o().bool,onExpand:o().func,onSort:o().func,containerRef:o().node,noData:o().bool,hideFilterChips:o().bool,hideHeader:o().bool,noDataDescription:o().arrayOf(o().node),filters:o().array,tableId:o().string.isRequired,toolbarChildren:o().func},Z.defaultProps={...k.ZP.defaultProps,emptyFilters:{},isCompact:!1,borders:!0,routes:()=>null,hideFilterChips:!1,checkedRows:[],hideHeader:!1,toolbarChildren:()=>null}},68572:(e,t,a)=>{"use strict";a.d(t,{Wz:()=>p,ZP:()=>v});var r=a(66029),l=a.n(r),s=a(31611),n=a(25387),o=a(45697),i=a.n(o),c=a(2550),d=a(96486),m=a(29301),u=a(74982);const p=(e={},t,a="",r="",l)=>({...l,itemCount:e.count,perPage:e.limit,page:(0,u.wy)(e.limit,e.offset),onSetPage:(l,s)=>{t({...e,offset:(0,u.vE)(s,e.limit),name:a,orderBy:r})},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}],onPerPageSelect:(e,l)=>{t({offset:0,limit:l,name:a,orderBy:r})}}),f=(e,t=[],a=(()=>{}),r=[],l,s=(()=>!0))=>{const o=(0,n.YB)();return{count:t.length,items:[{title:o.formatMessage(c.Z.selectNone),onClick:()=>{a((()=>[]))}},{...!e&&r&&r.length>0?{title:o.formatMessage(c.Z.selectPage,{length:r.filter(s).length}),onClick:()=>{a((0,m.ZQ)(r,!0))}}:{}}],checked:(0,m.um)(r,t,s),onSelect:t=>{!e&&a((0,m.ZQ)(r,t))},id:l}},b=(e,t=(()=>{}),a=(()=>{}),r="",l={},s="",o,i,u,p,f,b,g,h,v,y,C)=>{const k=(0,n.YB)();return{onChange:h,value:v,items:[...u&&u.length>0?u.map((({key:s,label:n,value:o,selected:i,placeholder:h,type:v="text",groups:C,items:E,innerRef:Z})=>({label:n||(0,m.RI)(s),type:v??"text",filterValues:{innerRef:Z,id:`filter-by-${s}`,key:`filter-by-${s}`,placeholder:h||k.formatMessage(c.Z.filterByKey,{key:s}),value:o,selected:i,..."text"!==v?{isFilterable:p,onShowMore:f,showMoreTitle:b,onFilter:g}:{},groups:C,items:E,onChange:(e,n)=>{const o="string"==typeof n||Array.isArray(n)?n:Object.keys((0,d.pickBy)(n[""],(e=>e)));t({...r,...l,offset:0,[s]:o}),(0,m.Aq)((()=>a({...l,offset:0,orderBy:y,...u.reduce(((e,t)=>({...e,[t.key]:t.value})),{}),[s]:o}))).then((e=>(Z?.current?.focus(),e)))},isDisabled:e}}))):[{label:(0,m.RI)(o||s),type:"text",filterValues:{innerRef:C,id:"filter-by-string",key:"filter-by-string",placeholder:k.formatMessage(c.Z.filterByKey,{key:o||s}),value:r,onChange:(e,r)=>{t({...l,offset:0,name:r}),(0,m.Aq)((()=>a({...l,offset:0,name:r,orderBy:y}))).then((e=>(C?.current?.focus(),e)))},isDisabled:e}}],...i||[]]}},g=(e="",t,a={},r=(()=>{}),l=(()=>{}),s)=>({filters:t&&t.length>0?t.map((({key:e,value:t})=>t&&0!==t.length&&{category:(0,m.RI)(e),type:e,chips:Array.isArray(t)?t.map((e=>({name:e}))):[{name:t}]})).filter(Boolean):[{name:e}],onDelete:(e,[n],o)=>{const i=(e,t,a)=>o?"group"===t||"checkbox"===t?[]:"":a!==n.type?e:"checkbox"===t||"group"===t?e.filter((e=>e!==n.chips[0]?.name)):Array.isArray(e)?[]:"",c=t.reduce(((e,{key:t,value:a,type:r})=>({...e,[t]:i(a,r,t)})),{});r({...a,offset:0,name:"",...c}),l({...a,offset:0,orderBy:s,name:"",...c})}}),h=({isSelectable:e,isRowSelectable:t,checkedRows:a,setCheckedItems:r,isLoading:n,data:o,titleSingular:i,filterValue:c,setFilterValue:d,pagination:m,paginationProps:u,fetchData:h,sortBy:v,toolbarButtons:y,filterPlaceholder:C,filterItems:k,filters:E,isFilterable:Z,onShowMore:x,showMoreTitle:_,onFilter:I,onChange:w,value:S,hideFilterChips:R,tableId:M,textFilterRef:B,toolbarChildren:O})=>l().createElement(s.Z,{...e&&{bulkSelect:f(n,a,r,o,M,t)},filterConfig:b(n,d,h,c,m,i,C,k,E,Z,x,_,I,w,S,v,B),actionsConfig:{actions:y()},...!n&&{pagination:p(m,h,c,v,u)},...(c.length>0||E&&E.length>0)&&!R&&{activeFiltersConfig:g(c,E,m,d,h,v)}},O());h.propTypes={isSelectable:i().bool,isRowSelectable:i().func,checkedRows:i().array,setCheckedItems:i().func,isLoading:i().bool,data:i().array,titleSingular:i().string,filterValue:i().oneOfType([i().array,i().string]),setFilterValue:i().func,filters:i().arrayOf(i().shape({value:i().oneOfType([i().string,i().number,i().array]),key:i().string,placeholder:i().string})),isFilterable:i().bool,onShowMore:i().func,showMoreTitle:i().string,onFilter:i().func,onChange:i().func,value:i().any,pagination:i().shape({limit:i().number,offset:i().number,count:i().number}),paginationProps:i().shape({toggleTemplate:i().func,isCompact:i().bool}),sortBy:i().string,filterItems:i().arrayOf(i().object),filterPlaceholder:i().string,isCollapsible:i().bool,fetchData:i().func.isRequired,toolbarButtons:i().func,hideFilterChips:i().bool,tableId:i().string,textFilterRef:i().object,toolbarChildren:i().func},h.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:u.he,setCheckedItems:()=>{},setFilterValue:()=>{},sortBy:void 0,toolbarButtons:()=>[],filterItems:[],filters:[],isFilterable:!1,hideFilterChips:!1,toolbarChildren:()=>null};const v=h},86009:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(46818),l=a(66029),s=a.n(l),n=a(25387),o=a(86706),i=a(62012),c=a(47173),d=a(32203),m=a(62394),u=a(52643),p=a(68774),f=a(68340),b=a(55140),g=a(7876),h=a(97246),v=a(55218),y=a(45488),C=a(2550),k=a(77044),E=a(29301),Z=a(24869),x=a(86601),_=a(64756),I=a(84414),w=a(14289);const S=({groupReducer:{selectedGroup:e,groups:t}})=>({members:e.members.data,pagination:e.members.meta,groupsPagination:t.pagination||t.meta,groupsFilters:t.filters,group:e,adminDefault:e.admin_default,platformDefault:e.platform_default,isLoading:e.members.isLoading}),R=(e,t,a)=>s().createElement(n._H,{...a?C.Z.removeMembersText:C.Z.removeMemberText,values:{b:e=>s().createElement("b",null,e),name:e,group:t}}),M=()=>{const e=(0,n.YB)(),t=(0,b.Z)(),[a,M]=(0,l.useState)(""),[B,O]=(0,l.useState)([]),[P,F]=(0,l.useState)(!1),[L,D]=(0,l.useState)((()=>null)),[N,T]=(0,l.useState)({}),{groupId:j}=(0,i.useParams)(),{members:A,pagination:V,groupsPagination:H,groupsFilters:W,isLoading:q,adminDefault:$,platformDefault:z,group:U}=(0,o.useSelector)(S,o.shallowEqual),{userAccessAdministrator:Q,orgAdmin:Y}=(0,l.useContext)(x.Z),G=(0,l.useRef)(Y||Q),K=[{title:e.formatMessage(C.Z.status),transforms:[r.P8]},{title:e.formatMessage(C.Z.username)},{title:e.formatMessage(C.Z.email)},{title:e.formatMessage(C.Z.lastName)},{title:e.formatMessage(C.Z.firstName)}],X=(0,o.useDispatch)(),J=(e,t=V)=>{X((0,k.nd)(j,e,t))};(0,l.useEffect)((()=>{J()}),[]),(0,l.useEffect)((()=>{G.current=Y||Q}),[Y,Q]);const ee=e=>X((0,k.tz)(j,e)).then((()=>{O([]),J(void 0,{...V,offset:0}),X((0,k.bt)({usesMetaInURL:!0,chrome:t}))})),te=((0,I.Z)(),(A||[]).map((e=>({...e,uuid:e.username})))),ae=((e,t=[])=>{const a=(0,n.YB)();return e.reduce(((e,{is_active:r,username:l,email:n,first_name:o,last_name:i})=>[...e,{uuid:l,username:l,cells:[{title:s().createElement(y._,{color:r&&"green"},a.formatMessage(r?C.Z.active:C.Z.inactive)),props:{data:{isActive:r}}},l,n,i,o],selected:t.find((e=>e.uuid===l))}]),[])})(te,B);return s().createElement(l.Fragment,null,s().createElement(v.Z,{title:N.title,confirmButtonLabel:N.confirmButtonLabel,confirmButtonVariant:c.Wu.danger,isOpen:P,onClose:()=>F(!1),onConfirm:()=>{F(!1),L()}},N.text),s().createElement(g.Z,{type:"content",id:"tab-principals"},z||$?s().createElement(d.Z,null,s().createElement(m.e,null,s().createElement(u.b,null,s().createElement(p.D,null,s().createElement(f.x,{component:f.q.h1},e.formatMessage($?C.Z.allOrgAdminsAreMembers:C.Z.allUsersAreMembers)))))):s().createElement(h.M,{data:te,isSelectable:G.current,rows:ae,columns:K,actionResolver:()=>G.current?[{title:e.formatMessage(C.Z.remove),onClick:(t,a,r)=>{D((()=>()=>ee([r.username.title]))),T({title:e.formatMessage(C.Z.removeMemberQuestion),text:R(r.username.title,U.name,!1),confirmButtonLabel:e.formatMessage(C.Z.removeMember)}),F(!0)}}]:null,filterPlaceholder:e.formatMessage(C.Z.username).toLowerCase(),titlePlural:e.formatMessage(C.Z.members).toLowerCase(),titleSingular:e.formatMessage(C.Z.member),ouiaId:"members-table",pagination:V,filterValue:a,fetchData:({limit:e,offset:t,name:a})=>J(a,{limit:e,offset:t}),setFilterValue:({name:e})=>M(e),checkedRows:B,isLoading:q,rowWrapper:Z.Z,setCheckedItems:e=>{O((t=>e(t)))},toolbarButtons:()=>[...G.current?[s().createElement(_.Z,{to:w.Z["group-add-members"].link.replace(":groupId",j),key:"remove-from-group",className:"rbac-m-hide-on-sm"},s().createElement(c.zx,{variant:"primary","aria-label":"Add member"},e.formatMessage(C.Z.addMember))),{label:e.formatMessage(C.Z.addMember),props:{className:"rbac-m-hide-on-md"},onClick:()=>{}},{label:e.formatMessage(C.Z.remove),props:{isDisabled:!B||!B.length>0,variant:"danger"},onClick:()=>{const t=B.length>1,a=e.formatMessage(t?C.Z.removeMembersQuestion:C.Z.removeMemberQuestion);D((()=>()=>ee(B.map((e=>e.uuid))))),T({title:a,confirmButtonLabel:a,text:R(t?B.length:B[0].uuid,U.name,t)}),F(!0)}}]:[]],emptyProps:{title:e.formatMessage(C.Z.noGroupMembers),description:[e.formatMessage(C.Z.addUserToConfigure),""]},tableId:"group-members"})),s().createElement(l.Suspense,null,s().createElement(i.Outlet,{context:{[w.Z["group-members-edit-group"].path]:{group:U,cancelRoute:w.Z["group-detail-members"].link.replace(":groupId",j),postMethod:()=>X((0,k.yi)(U.uuid))},[w.Z["group-members-remove-group"].path]:{postMethod:()=>X((0,k.bt)({...H,offset:0,filters:W,usesMetaInURL:!0,chrome:t})),cancelRoute:w.Z["group-detail-members"].link.replace(":groupId",j),submitRoute:(0,E.zk)(w.Z.groups.link,{...H,offset:0},W),groupsUuid:[U]},[w.Z["group-add-members"].path]:{fetchData:J,cancelRoute:w.Z["group-detail-members"].link.replace(":groupId",j)}}})))}},70347:()=>{},80598:()=>{},90479:()=>{},24620:()=>{},82014:()=>{},25238:()=>{},46928:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2344.dcc07cfa1e6d772b1e1d8aa32a0d1b19.js.map