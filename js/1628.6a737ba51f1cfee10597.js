"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[1628,459],{35224:(e,t,o)=>{o.d(t,{u:()=>u,D:()=>m});var a=o(65353),i=o(28416),n=o(86478),s=o(38296);const r=e=>{var{className:t,children:o,isLeftAligned:r}=e,l=(0,a.__rest)(e,["className","children","isLeftAligned"]);return i.createElement("div",Object.assign({className:(0,s.css)(n.default.tooltipContent,r&&n.default.modifiers.textAlignLeft,t)},l),o)};r.displayName="TooltipContent";const l=e=>{var{className:t}=e,o=(0,a.__rest)(e,["className"]);return i.createElement("div",Object.assign({className:(0,s.css)(n.default.tooltipArrow,t)},o))};l.displayName="TooltipArrow";var c=o(1774);const d={name:"--pf-v5-c-tooltip--MaxWidth",value:"18.75rem",var:"var(--pf-v5-c-tooltip--MaxWidth)"};var m,f=o(69121);!function(e){e.auto="auto",e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.topStart="top-start",e.topEnd="top-end",e.bottomStart="bottom-start",e.bottomEnd="bottom-end",e.leftStart="left-start",e.leftEnd="left-end",e.rightStart="right-start",e.rightEnd="right-end"}(m||(m={}));let p=1;const u=e=>{var{content:t,position:o="top",trigger:m="mouseenter focus",isVisible:u=!1,isContentLeftAligned:g=!1,enableFlip:b=!0,className:h="",entryDelay:v=300,exitDelay:y=300,appendTo:C=(()=>document.body),zIndex:E=9999,minWidth:k,maxWidth:A=d.value,distance:M=15,aria:x="describedby",flipBehavior:T=["top","right","bottom","left","top","right","bottom"],id:D="pf-tooltip-"+p++,children:I,animationDuration:S=300,triggerRef:B,"aria-live":L=(B?"polite":"off"),onTooltipHidden:w=(()=>{})}=e,Z=(0,a.__rest)(e,["content","position","trigger","isVisible","isContentLeftAligned","enableFlip","className","entryDelay","exitDelay","appendTo","zIndex","minWidth","maxWidth","distance","aria","flipBehavior","id","children","animationDuration","triggerRef","aria-live","onTooltipHidden"]);const N=m.includes("mouseenter"),R=m.includes("focus"),_=m.includes("click"),P="manual"===m,[F,W]=i.useState(!1),G=i.createRef();i.useEffect((()=>{u?H():O()}),[u]);const H=()=>{W(!0)},O=()=>{W(!1)},V={top:n.default.modifiers.top,bottom:n.default.modifiers.bottom,left:n.default.modifiers.left,right:n.default.modifiers.right,"top-start":n.default.modifiers.topLeft,"top-end":n.default.modifiers.topRight,"bottom-start":n.default.modifiers.bottomLeft,"bottom-end":n.default.modifiers.bottomRight,"left-start":n.default.modifiers.leftTop,"left-end":n.default.modifiers.leftBottom,"right-start":n.default.modifiers.rightTop,"right-end":n.default.modifiers.rightBottom},j=A!==d.value,z=i.createElement("div",Object.assign({"aria-live":L,className:(0,s.css)(n.default.tooltip,h),role:"tooltip",id:D,style:{maxWidth:j?A:null},ref:G},Z),i.createElement(l,null),i.createElement(r,{isLeftAligned:g},t));return i.createElement(f.Popper,{trigger:"none"!==x&&F?"describedby"===x&&I&&I.props&&!I.props["aria-describedby"]?i.cloneElement(I,{"aria-describedby":D}):"labelledby"===x&&I.props&&!I.props["aria-labelledby"]?i.cloneElement(I,{"aria-labelledby":D}):I:I,triggerRef:B,popper:z,popperRef:G,minWidth:void 0!==k?k:"revert",appendTo:C,isVisible:F,positionModifiers:V,distance:M,placement:o,onMouseEnter:N&&H,onMouseLeave:N&&O,onPopperMouseEnter:N&&H,onPopperMouseLeave:N&&O,onFocus:R&&H,onBlur:R&&O,onDocumentClick:_&&((e,t)=>{F?O():e.target===t&&H()}),onDocumentKeyDown:P?null:e=>{P||e.key===c.yu.Escape&&F&&O()},onTriggerEnter:P?null:e=>{e.key===c.yu.Enter&&(F?O():H())},enableFlip:b,zIndex:E,flipBehavior:T,animationDuration:S,entryDelay:v,exitDelay:y,onHidden:w})};u.displayName="Tooltip"},41435:(e,t,o)=>{o.d(t,{Dl:()=>s,dw:()=>i,e4:()=>r,ir:()=>a});var a,i,n=o(28416);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(i||(i={}));const s=n.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),r=n.createContext({keyHandler:null,sendRef:null})},86478:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a}),o(49854);const a={modifiers:{top:"pf-m-top",topLeft:"pf-m-top-left",topRight:"pf-m-top-right",bottom:"pf-m-bottom",bottomLeft:"pf-m-bottom-left",bottomRight:"pf-m-bottom-right",left:"pf-m-left",leftTop:"pf-m-left-top",leftBottom:"pf-m-left-bottom",right:"pf-m-right",rightTop:"pf-m-right-top",rightBottom:"pf-m-right-bottom",textAlignLeft:"pf-m-text-align-left"},themeDark:"pf-v5-theme-dark",tooltip:"pf-v5-c-tooltip",tooltipArrow:"pf-v5-c-tooltip__arrow",tooltipContent:"pf-v5-c-tooltip__content"}},62136:(e,t,o)=>{o.r(t),o.d(t,{default:()=>x});var a=o(28416),i=o.n(a),n=o(25387),s=o(86706),r=o(5904),l=o(31055),c=o(94229),d=o(23539),m=o(64380),f=o(62012),p=o(62410),u=o(55140),g=o(64756),b=o(97246),h=o(71079),v=o(40575),y=o(29301),C=o(75614),E=o(77044),k=o(2550);const A=({serviceAccountReducer:e,groupReducer:{systemGroup:t}})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset,systemGroupUuid:t?.uuid}),M=(e,t=[])=>e?.reduce(((e,o)=>[...e,{uuid:o.uuid,title:o.name,cells:[o.name,o.clientId,o.createdBy,i().createElement(a.Fragment,{key:`${o.name}-modified`},i().createElement(p.Z,{date:o.createdAt,type:(0,y.mh)(o.createdAt)}))],selected:Boolean(t&&t.find((e=>e.uuid===o.uuid)))}]),[]),x=({postMethod:e})=>{const t=(0,n.YB)(),o=(0,s.useDispatch)(),{groupId:p}=(0,f.useParams)(),{auth:y,getEnvironmentDetails:x}=(0,u.Z)(),[T,D]=(0,a.useState)([]),{serviceAccounts:I,status:S,limit:B,offset:L,isLoading:w,systemGroupUuid:Z}=(0,s.useSelector)(A),N=(0,a.useCallback)((async e=>{const t=x(),a=await y.getToken();var i;o((i={limit:e?.limit??B,offset:e?.offset??L,token:a,sso:t?.sso},{type:h.t5,payload:v.Sx(i),meta:i}))}),[B,L]);(0,a.useEffect)((()=>{N({limit:B,offset:0})}),[]);const R=()=>{e()},_=[{title:t.formatMessage(k.Z.description),orderBy:"description"},{title:t.formatMessage(k.Z.clientId),orderBy:"clientId"},{title:t.formatMessage(k.Z.owner),orderBy:"owner"},{title:t.formatMessage(k.Z.timeCreated),orderBy:"timeCreated"}];return i().createElement(c.Modal,{isOpen:!0,className:"rbac",variant:c.ModalVariant.medium,title:t.formatMessage(k.Z.addServiceAccount),actions:[i().createElement(l.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===T.length,variant:"primary",onClick:()=>{const t=(0,E.w_)(p===C.Cn?Z:p,T);o(t),e(t.payload)}},t.formatMessage(k.Z.addToGroup)),i().createElement(l.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:R},t.formatMessage(k.Z.cancel))],onClose:R},i().createElement(d.Stack,{hasGutter:!0},i().createElement(d.StackItem,null,i().createElement(m.TextContent,null,t.formatMessage(k.Z.addServiceAccountsToGroupDescription),i().createElement(r.Alert,{className:"pf-v5-u-mt-sm rbac-service-accounts-alert",variant:"info",component:"span",isInline:!0,isPlain:!0,title:t.formatMessage(k.Z.visitServiceAccountsPage,{link:i().createElement(g.Z,{to:"/service-accounts",linkBasename:"/iam"},t.formatMessage(k.Z.serviceAccountsPage))})}))),i().createElement(d.StackItem,{className:"rbac-add-service-account-modal"},i().createElement(b.M,{columns:_,isSelectable:!0,rows:M(I,T),data:I,fetchData:N,isLoading:w,pagination:{limit:B,offset:L,...S===v.Xu?{count:L+I.length}:{}},paginationProps:{toggleTemplate:({firstIndex:e,lastIndex:t})=>i().createElement(i().Fragment,null,i().createElement("b",null,e," - ",t)," ","of ",i().createElement("b",null,S===v.Xu?L+I.length:"many")),isCompact:!0},checkedRows:T,setCheckedItems:D,titlePlural:t.formatMessage(k.Z.serviceAccounts).toLowerCase(),titleSingular:t.formatMessage(k.Z.serviceAccount),emptyProps:{title:t.formatMessage(k.Z.noServiceAccountsFound),description:[t.formatMessage(k.Z.contactServiceTeamForAccounts),""]},tableId:"group-add-accounts",ouiaId:"group-add-accounts"}))))}}}]);
//# sourceMappingURL=../sourcemaps/1628.cf2c895f068dbc19829f2c9a3b907f14.js.map