"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[9698,459],{35224:(e,t,o)=>{o.d(t,{u:()=>f,D:()=>p});var a=o(65353),r=o(28416),i=o(86478),n=o(38296);const s=e=>{var{className:t,children:o,isLeftAligned:s}=e,l=(0,a.__rest)(e,["className","children","isLeftAligned"]);return r.createElement("div",Object.assign({className:(0,n.css)(i.default.tooltipContent,s&&i.default.modifiers.textAlignLeft,t)},l),o)};s.displayName="TooltipContent";const l=e=>{var{className:t}=e,o=(0,a.__rest)(e,["className"]);return r.createElement("div",Object.assign({className:(0,n.css)(i.default.tooltipArrow,t)},o))};l.displayName="TooltipArrow";var c=o(1774);const d={name:"--pf-v5-c-tooltip--MaxWidth",value:"18.75rem",var:"var(--pf-v5-c-tooltip--MaxWidth)"};var p,u=o(69121);!function(e){e.auto="auto",e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.topStart="top-start",e.topEnd="top-end",e.bottomStart="bottom-start",e.bottomEnd="bottom-end",e.leftStart="left-start",e.leftEnd="left-end",e.rightStart="right-start",e.rightEnd="right-end"}(p||(p={}));let m=1;const f=e=>{var{content:t,position:o="top",trigger:p="mouseenter focus",isVisible:f=!1,isContentLeftAligned:g=!1,enableFlip:h=!0,className:v="",entryDelay:b=300,exitDelay:y=300,appendTo:E=(()=>document.body),zIndex:C=9999,minWidth:A,maxWidth:Z=d.value,distance:k=15,aria:x="describedby",flipBehavior:M=["top","right","bottom","left","top","right","bottom"],id:D="pf-tooltip-"+m++,children:S,animationDuration:T=300,triggerRef:I,"aria-live":N=(I?"polite":"off"),onTooltipHidden:w=(()=>{})}=e,L=(0,a.__rest)(e,["content","position","trigger","isVisible","isContentLeftAligned","enableFlip","className","entryDelay","exitDelay","appendTo","zIndex","minWidth","maxWidth","distance","aria","flipBehavior","id","children","animationDuration","triggerRef","aria-live","onTooltipHidden"]);const O=p.includes("mouseenter"),P=p.includes("focus"),B=p.includes("click"),R="manual"===p,[_,F]=r.useState(!1),j=r.createRef();r.useEffect((()=>{f?W():G()}),[f]);const W=()=>{F(!0)},G=()=>{F(!1)},V={top:i.default.modifiers.top,bottom:i.default.modifiers.bottom,left:i.default.modifiers.left,right:i.default.modifiers.right,"top-start":i.default.modifiers.topLeft,"top-end":i.default.modifiers.topRight,"bottom-start":i.default.modifiers.bottomLeft,"bottom-end":i.default.modifiers.bottomRight,"left-start":i.default.modifiers.leftTop,"left-end":i.default.modifiers.leftBottom,"right-start":i.default.modifiers.rightTop,"right-end":i.default.modifiers.rightBottom},H=Z!==d.value,z=r.createElement("div",Object.assign({"aria-live":N,className:(0,n.css)(i.default.tooltip,v),role:"tooltip",id:D,style:{maxWidth:H?Z:null},ref:j},L),r.createElement(l,null),r.createElement(s,{isLeftAligned:g},t));return r.createElement(u.Popper,{trigger:"none"!==x&&_?"describedby"===x&&S&&S.props&&!S.props["aria-describedby"]?r.cloneElement(S,{"aria-describedby":D}):"labelledby"===x&&S.props&&!S.props["aria-labelledby"]?r.cloneElement(S,{"aria-labelledby":D}):S:S,triggerRef:I,popper:z,popperRef:j,minWidth:void 0!==A?A:"revert",appendTo:E,isVisible:_,positionModifiers:V,distance:k,placement:o,onMouseEnter:O&&W,onMouseLeave:O&&G,onPopperMouseEnter:O&&W,onPopperMouseLeave:O&&G,onFocus:P&&W,onBlur:P&&G,onDocumentClick:B&&((e,t)=>{_?G():e.target===t&&W()}),onDocumentKeyDown:R?null:e=>{R||e.key===c.yu.Escape&&_&&G()},onTriggerEnter:R?null:e=>{e.key===c.yu.Enter&&(_?G():W())},enableFlip:h,zIndex:C,flipBehavior:M,animationDuration:T,entryDelay:b,exitDelay:y,onHidden:w})};f.displayName="Tooltip"},41435:(e,t,o)=>{o.d(t,{Dl:()=>n,dw:()=>r,e4:()=>s,ir:()=>a});var a,r,i=o(28416);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(r||(r={}));const n=i.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),s=i.createContext({keyHandler:null,sendRef:null})},86478:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a}),o(49854);const a={modifiers:{top:"pf-m-top",topLeft:"pf-m-top-left",topRight:"pf-m-top-right",bottom:"pf-m-bottom",bottomLeft:"pf-m-bottom-left",bottomRight:"pf-m-bottom-right",left:"pf-m-left",leftTop:"pf-m-left-top",leftBottom:"pf-m-left-bottom",right:"pf-m-right",rightTop:"pf-m-right-top",rightBottom:"pf-m-right-bottom",textAlignLeft:"pf-m-text-align-left"},themeDark:"pf-v5-theme-dark",tooltip:"pf-v5-c-tooltip",tooltipArrow:"pf-v5-c-tooltip__arrow",tooltipContent:"pf-v5-c-tooltip__content"}},7876:(e,t,o)=>{o.d(t,{Z:()=>s});var a=o(85893),r=o(94184),i=o.n(r),n=function(){return n=Object.assign||function(e){for(var t,o=1,a=arguments.length;o<a;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},n.apply(this,arguments)};const s=function(e){var t,o=e.type,r=e.children,s=e.className,l=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(o[a[r]]=e[a[r]])}return o}(e,["type","children","className"]),c=i()(s,((t={})["ins-l-".concat(o)]=void 0!==o,t));return(0,a.jsxs)("section",n({},l,{className:c,children:[" ",r," "]}))}},84414:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(62012),r=o(64756);const i=e=>{const t=(0,a.useNavigate)();return(o,a)=>t((0,r.n)(o,e),a)}},92057:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var a=o(28416),r=o.n(a),i=o(86706),n=o(25387),s=o(62012),l=o(5904),c=o(74503),d=o(31055),p=o(88094),u=o(64380),m=o(7876),f=o(62410),g=o(74982),h=o(97246),v=o(77044),b=o(29301),y=o(75614),E=o(86601),C=o(64756),A=o(84414),Z=o(2550),k=o(14289);const x=(e=[],t=[])=>e?.reduce(((e,{uuid:o,name:i,clientID:n,owner:s,time_created:l})=>[...e,{uuid:o,title:i,cells:[i,n,s,r().createElement(a.Fragment,{key:`${i}-modified`},r().createElement(f.Z,{date:l,type:(0,b.mh)(l)}))],selected:Boolean(t&&t.find((e=>e.uuid===o)))}]),[]),M=({groupReducer:{selectedGroup:e,systemGroup:t,groups:o}})=>({serviceAccounts:e.serviceAccounts?.data||[],pagination:{...g.he,...e?.serviceAccounts?.meta||{}},groupsPagination:o.pagination||o.meta,groupsFilters:o.filters,isLoading:e.serviceAccounts.isLoading,isAdminDefault:e.admin_default,systemGroupUuid:t?.uuid,group:e,platformDefault:e.platform_default}),D=()=>{const e=(0,n.YB)(),t=(0,i.useDispatch)(),o=(0,A.Z)(),{groupId:f}=(0,s.useParams)(),[g,b]=(0,a.useState)(""),[D,S]=(0,a.useState)([]),{userAccessAdministrator:T,orgAdmin:I}=(0,a.useContext)(E.Z),N=(0,a.useRef)(I||T),{serviceAccounts:w,pagination:L,isLoading:O,isAdminDefault:P,systemGroupUuid:B,platformDefault:R}=(0,i.useSelector)(M),_=(e,o)=>t((0,v.Gr)(e,o)),F=[{title:e.formatMessage(Z.Z.description)},{title:e.formatMessage(Z.Z.clientId)},{title:e.formatMessage(Z.Z.owner)},{title:e.formatMessage(Z.Z.timeCreated)}],j=(0,a.useCallback)((()=>{f!==y.Cn?_(f,L):B&&_(B,L)}),[B,f]);return(0,a.useEffect)((()=>{j()}),[B]),(0,a.useEffect)((()=>{N.current=I||T}),[I,T]),r().createElement(r().Fragment,null,r().createElement(m.Z,{type:"content",id:"tab-service-accounts"},R?r().createElement(p.Card,null,r().createElement(p.CardBody,null,r().createElement(c.Bullseye,null,r().createElement(u.TextContent,null,r().createElement(u.Text,{component:u.TextVariants.h1},e.formatMessage(Z.Z.noAccountsInDefaultAccess)))))):r().createElement(r().Fragment,null,r().createElement(l.Alert,{className:"rbac-service-accounts-alert",variant:"info",isInline:!0,isPlain:!0,title:e.formatMessage(Z.Z.visitServiceAccountsPage,{link:r().createElement(C.Z,{to:"/service-accounts",linkBasename:"/iam"},e.formatMessage(Z.Z.serviceAccountsPage))})}),r().createElement(h.M,{columns:F,isSelectable:!0,rows:x(w,D),data:w,filterValue:g,fetchData:e=>_(f,e),emptyFilters:{description:""},setFilterValue:({description:e})=>{void 0!==e&&b(e)},isLoading:O,pagination:L,checkedRows:D,setCheckedItems:S,titlePlural:e.formatMessage(Z.Z.serviceAccounts).toLowerCase(),titleSingular:e.formatMessage(Z.Z.serviceAccount),toolbarButtons:()=>[r().createElement(C.Z,{className:"rbac-m-hide-on-sm",to:k.Z["group-add-service-account"].link.replace(":groupId",f),key:"add-to-group"},r().createElement(d.Button,{ouiaId:"add-service-account-button",variant:"primary",className:"rbac-m-hide-on-sm","aria-label":"Add service account to group"},e.formatMessage(Z.Z.addServiceAccount))),{label:e.formatMessage(Z.Z.remove),props:{isDisabled:0===D.length},onClick:()=>{const e=(0,s.createSearchParams)();D.forEach((({name:t})=>e.append("name",t))),o({pathname:k.Z["group-service-accounts-remove-group"].link.replace(":groupId",f),search:e.toString()})}},{label:e.formatMessage(Z.Z.addServiceAccount),props:{className:"rbac-m-hide-on-md"},onClick:()=>o(k.Z["group-add-service-account"].link.replace(":groupId",f))}],actionResolver:({uuid:t})=>[...N.current&&!P?[{title:e.formatMessage(Z.Z.remove),onClick:()=>o({pathname:k.Z["group-service-accounts-remove-group"].link.replace(":groupId",f),search:(0,s.createSearchParams)({name:t}).toString()})}]:[]],emptyProps:{title:e.formatMessage(Z.Z.noGroupAccounts),description:[e.formatMessage(P?Z.Z.contactServiceTeamForAccounts:Z.Z.addAccountsToThisGroup),""]},filters:[{key:"description",value:g}],tableId:"group-accounts",ouiaId:"group-accounts"}))),R?null:r().createElement(a.Suspense,null,r().createElement(s.Outlet,{context:{[k.Z["group-service-accounts-remove-group"].path]:{postMethod:e=>{S([]),o(k.Z["group-detail-service-accounts"].link.replace(":groupId",f)),e&&e.then?.(j)}},[k.Z["group-add-service-account"].path]:{postMethod:e=>{o(k.Z["group-detail-service-accounts"].link.replace(":groupId",f)),e&&e.then?.(j)}}}})))}}}]);
//# sourceMappingURL=../sourcemaps/9698.d948c21ecaeaa3dee0c7a97e6b6450a0.js.map