(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[9777,459],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>l});var o=a(66029),r=a.n(o),s=a(80236),n=a(47173),i=a(93149);const l=e=>{var{isOpen:t,onConfirm:a,onClose:l,children:c,confirmButtonLabel:d="Confirm",cancelButtonLabel:m="Cancel",variant:p=s.v.small,titleIconVariant:u="warning",withCheckbox:f=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=n.Wu.primary,ouiaId:v="WarningModal"}=e,h=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[y,E]=(0,o.useState)(!1);return r().createElement(s.u,Object.assign({variant:p,isOpen:t,onClose:l,onEscapePress:l,titleIconVariant:u,actions:[r().createElement(n.zx,{ouiaId:`${v}-confirm-button`,key:"confirm",variant:b,onClick:()=>{null==a||a(),E(!1)},isDisabled:f&&!y},d),r().createElement(n.zx,{ouiaId:`${v}-cancel-button`,key:"cancel",variant:n.Wu.link,onClick:l},m)],ouiaId:v},h),c,f?r().createElement(i.X,{isChecked:y,onChange:(e,t)=>E(t),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${v}-confirm-checkbox`}):null)}},68774:(e,t,a)=>{"use strict";a.d(t,{D:()=>i});var o=a(65353),r=a(66029),s=a(62873),n=a(38296);const i=e=>{var{children:t,className:a="",isVisited:i=!1}=e,l=(0,o.__rest)(e,["children","className","isVisited"]);return r.createElement("div",Object.assign({},l,{className:(0,n.css)(s.Z.content,i&&s.Z.modifiers.visited,a)}),t)};i.displayName="TextContent"},30120:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var o=a(65353),r=a(66029),s=a(62165),n=a(75587);const i=e=>{var{id:t="",children:a=null,className:i="",isOpen:l=!1,"aria-label":c="Actions",parentRef:d=null,getMenuRef:m=null,isActive:p=!1,isPlain:u=!1,isDisabled:f=!1,bubbleEvent:g=!1,onToggle:b=(()=>{}),ref:v}=e,h=(0,o.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(n.Z,Object.assign({id:t,className:i,isOpen:l,"aria-label":c,parentRef:d,getMenuRef:m,isActive:p,isPlain:u,isDisabled:f,onToggle:b,bubbleEvent:g},h),r.createElement(s.default,null))};i.displayName="KebabToggle"},86487:(e,t,a)=>{"use strict";a.d(t,{a:()=>i});var o=a(65353),r=a(66029),s=a(38296);a(74181);const n="pf-m-gutter",i=e=>{var{hasGutter:t,className:a="",children:i=null}=e,l=(0,o.__rest)(e,["hasGutter","className","children"]);return r.createElement("div",Object.assign({},l,{className:(0,s.css)("pf-v5-l-level",t&&n,a)}),i)};i.displayName="Level"},86050:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a(65353),r=a(66029);const s=e=>{var{children:t=null}=e,a=(0,o.__rest)(e,["children"]);return r.createElement("div",Object.assign({},a),t)};s.displayName="LevelItem"},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o}),a(70347);const o={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o}),a(25238);const o={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},39173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>d});var o=a(85893),r=a(94184),s=a.n(r),n=a(78956),i=a(6427),l=a(36530),c=function(){return c=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};const d=function(e){var t=e.className,a=e.title,r=e.actionsContent,d=e.ouiaId,m=e.ouiaSafe,p=void 0===m||m,u=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]])}return a}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),f=s()(t),g="RHI/Header",b=(0,i.useOUIAId)(g,d,p);return(0,o.jsxs)(l.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,o.jsx)(l.FlexItem,{children:(0,o.jsx)(n.Title,c({headingLevel:"h1",size:"2xl",className:f,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":b,"data-ouia-safe":p},u,{children:a}))}),r?(0,o.jsx)(l.FlexItem,{children:r}):null]})}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var o=a(62012),r=a(64756);const s=e=>{const t=(0,o.useNavigate)();return(a,o)=>t((0,r.n)(a,e),o)}},96392:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v});var o=a(66029),r=a.n(o),s=a(45697),n=a.n(s),i=a(62012),l=a(65353),c=a(44303),d=a(38296),m=a(62472);const p=e=>{var{children:t=null,className:a="","aria-label":r="Breadcrumb",ouiaId:s,ouiaSafe:n=!0}=e,i=(0,l.__rest)(e,["children","className","aria-label","ouiaId","ouiaSafe"]);const u=(0,m.useOUIAProps)(p.displayName,s,n);return o.createElement("nav",Object.assign({},i,{"aria-label":r,className:(0,d.css)(c.Z.breadcrumb,a)},u),o.createElement("ol",{className:c.Z.breadcrumbList,role:"list"},o.Children.map(t,((e,t)=>{const a=t>0;return o.isValidElement(e)?o.cloneElement(e,{showDivider:a}):e}))))};p.displayName="Breadcrumb";var u=a(93174);const f=e=>{var{children:t=null,className:a="",to:r,isActive:s=!1,isDropdown:n=!1,showDivider:i,target:m,component:p="a",render:f}=e,g=(0,l.__rest)(e,["children","className","to","isActive","isDropdown","showDivider","target","component","render"]);const b=p,v=s?"page":void 0,h=(0,d.css)(c.Z.breadcrumbLink,s&&c.Z.modifiers.current);return o.createElement("li",Object.assign({},g,{className:(0,d.css)(c.Z.breadcrumbItem,a)}),i&&o.createElement("span",{className:c.Z.breadcrumbItemDivider},o.createElement(u.default,null)),"button"===p&&o.createElement("button",{className:h,"aria-current":v,type:"button"},t),n&&o.createElement("span",{className:(0,d.css)(c.Z.breadcrumbDropdown)},t),f&&f({className:h,ariaCurrent:v}),r&&!f&&o.createElement(b,{href:r,target:m,className:h,"aria-current":v},t),!r&&"button"!==p&&!n&&t)};f.displayName="BreadcrumbItem";var g=a(12849);const b=e=>e?r().createElement(p,null,Object.values(e).map(((e,t)=>e.title?r().createElement(f,{key:e.title,isActive:e.isActive},e.to&&r().createElement(i.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(g.Vj,{key:t})))):null;b.propTypes={breadcrumbs:n().object};const v=b},13851:(e,t,a)=>{"use strict";a.d(t,{Q:()=>Z,y:()=>I});var o=a(66029),r=a.n(o),s=a(45697),n=a.n(s),i=a(28191),l=a(92298),c=a(68774),d=a(68340),m=a(12849),p=a(96392),u=a(85893),f=a(94184),g=a.n(f);const b=r().createContext("light");var v=a(6427),h=function(){return h=Object.assign||function(e){for(var t,a=1,o=arguments.length;a<o;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},h.apply(this,arguments)};const y=function(e){var t=e.className,a=e.children,o=e.ouiaId,r=e.ouiaSafe,s=void 0===r||r,n=function(e,t){var a={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(a[o[r]]=e[o[r]])}return a}(e,["className","children","ouiaId","ouiaSafe"]),i=g()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),l="RHI/Header",c=(0,v.useOUIAId)(l,o,s);return(0,u.jsx)(b.Consumer,{children:function(e){var t,o;void 0===e&&(e="light");var r=g()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((o={})["pf-m-light"]="light"===e,o));return(0,u.jsx)("section",h({"data-ouia-component-type":l,"data-ouia-component-id":c,"data-ouia-safe":s},n,{className:"".concat(i," ").concat(r),"widget-type":"InsightsPageHeader",children:a}))}})};var E=a(39173);const Z=({children:e,breadcrumbs:t})=>r().createElement(o.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(p.Z,{...t})),r().createElement(y,{className:"rbac-page-header"},e));Z.propTypes={children:n().oneOfType([n().arrayOf(n().node),n().node]).isRequired,breadcrumbs:n().array,paddingBottom:n().bool},Z.defaultProps={paddingBottom:!1};const I=({title:e,renderTitleTag:t,description:a,children:s})=>r().createElement(o.Fragment,null,r().createElement(i.k,null,r().createElement(l.B,{className:"pf-v5-u-mb-sm"},r().createElement(E.Z,{title:e||r().createElement(m.h2,null),className:"rbac-page-header__title"})),r().createElement(l.B,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(c.D,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(d.x,{component:d.q.p},a):a),s);I.propTypes={title:n().node,renderTitleTag:n().func,description:n().node,children:n().oneOfType([n().node,n().arrayOf(n().node)])}},16920:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>oe});var o=a(66029),r=a.n(o),s=a(45697),n=a.n(s),i=a(25387),l=a(62012),c=a(86706),d=a(86487),m=a(86050),p=a(68774),u=a(68340),f=a(47173),g=a(85044),b=a(79332),v=a(30120),h=a(39173),y=a(55140),E=a(13563),Z=a(13851),I=a(77044),O=a(12849),_=a(75614),k=a(29301),x=a(84414),N=a(74982),M=a(86379),R=a(1082),P=a(12913),w=a(55218),T=a(64756),C=a(97246),L=a(62410),j=a(85564),B=a.n(j),S=a(2550),D=a(14289);const A=(e,t,a,s,n=[])=>a.reduce(((a,{resourceDefinitions:i,permission:l,modified:c})=>{const[d,m,p]=l.split(":");return[...a,{uuid:l,cells:[d,m,p,...e?[(l.includes("cost-management")||l.includes("inventory"))&&i.length>0?r().createElement(o.Fragment,{key:"resource-definitions"},r().createElement(T.Z,{to:D.Z["role-detail-permission"].link.replace(":roleId",t).replace(":permissionId",l)},B()(i.map((e=>e.attributeFilter.value))).length)):r().createElement("span",{className:"rbac-c-text__disabled"},s.formatMessage(S.Z.notApplicable))]:[],r().createElement(o.Fragment,{key:`${d}-modified`},r().createElement(L.Z,{date:c,type:(0,k.mh)(c)}))],selected:Boolean(n?.find((({uuid:e})=>e===l)))}]}),[]),F={pagination:N.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:()=>null,deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},V="SET_PAGINATION",G="SELECT_PERMISSIONS",H="SHOW_REMOVE_MODAL",z="SUBMIT_REMOVE_MODAL",W="INITIATE_REMOVE_PERMISSION",U="SET_FILTERS",$="SET_TOGGLED",q="INITIALIZE_ROLE",K={[V]:(e,t)=>({...e,pagination:{...e.pagination,...t}}),[G]:(e,{selection:t})=>({...e,selectedPermissions:t}),[H]:(e,{showRemoveModal:t})=>({...e,showRemoveModal:t}),[z]:e=>({...e,selectedPermissions:[],showRemoveModal:!1}),[W]:(e,{confirmDelete:t,deleteInfo:a})=>({...e,confirmDelete:t,showRemoveModal:!0,deleteInfo:a}),[U]:(e,t)=>({...e,filters:{...e.filters,...t}}),[$]:e=>({...e,isToggled:!e.isToggled}),[q]:(e,{count:t,...a})=>({...e,...a,pagination:{...e.pagination,count:t}})},Q=(e,{type:t,...a})=>K[t]?K[t](e,a):e,Y=(e,t,a)=>r().createElement(i._H,{...a?S.Z.permissionsWillNotBeGrantedThroughRole:S.Z.permissionWillNotBeGrantedThroughRole,values:{b:e=>r().createElement("b",null,e),...a?{permissions:e}:{permission:e},role:t.name}}),X=({cantAddPermissions:e,isLoading:t})=>{const a=(0,i.YB)(),{role:s,isRecordLoading:n}=(0,c.useSelector)((e=>({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading})),c.shallowEqual),l=(0,x.Z)(),[{pagination:d,selectedPermissions:m,showRemoveModal:p,confirmDelete:u,deleteInfo:g,filters:b,isToggled:v,resources:h,operations:y},Z]=(0,o.useReducer)(Q,F),[I,O]=(0,o.useState)(!0),_=(0,c.useDispatch)(),k=[{title:a.formatMessage(S.Z.application)},{title:a.formatMessage(S.Z.resourceType)},{title:a.formatMessage(S.Z.operation)},{title:a.formatMessage(S.Z.resourceDefinitions),transforms:[(0,M.u)({popover:a.formatMessage(S.Z.resourceDefinitionsApplyToCostAndInventory),ariaLabel:a.formatMessage(S.Z.resourceDefinitionsApplyToCostAndInventory)})]},{title:a.formatMessage(S.Z.lastModified),transforms:[(0,R.d)(15)]}],N=e?[""]:["To configure user access to applications,","add at least one permission to this role.",""];(0,o.useEffect)((()=>{if(Object.keys(s||{}).length>0){const{resources:e,operations:t}=Object.entries(s.access.reduce((({resources:e,operations:t},{permission:a})=>{const[,o,r]=a.split(":");return{resources:e.includes(o)?e:[...e,o],operations:t.includes(r)?t:[...t,r]}}),{resources:[],operations:[]})).reduce(((e,[t,a])=>({...e,[t]:a.map((e=>({label:e,value:e})))})),{});Z({type:q,resources:e,operations:t,count:s.access?s.access.length:0})}O(s?.access?.find((e=>e.permission.includes("cost-management")||e.permission.includes("inventory"))))}),[s]);const L=s&&s.access?(s.access||[]).filter((({permission:e})=>{const[t,a,o]=e.split(":"),{applications:r,resources:s,operations:n}=b;return(!(r.length>0)||r.includes(t))&&(!(s.length>0)||s.includes(a))&&(!(n.length>0)||n.includes(o))})).map((e=>({uuid:e.permission,...e,modified:s.modified}))):[],j=e=>{const t=e.reduce(((e,t)=>[...e,t.uuid]),[]);return _((0,E.lq)(s,t)).then((()=>{_((0,E.fp)(s.uuid)),Z({type:G,selection:[]})}))},B=e=>e.reduce(((e,t)=>({"":{...e?.[""],[t]:!0}})),{"":{}}),K={label:r().createElement("div",null," ",a.formatMessage(S.Z.noResultsFound)),isDisabled:!0},X={access:[],applications:[],...s},J=Object.values({applications:X.applications,operations:y,resources:h}).find((e=>e.length>10)),ee=L.slice(d.offset,d.offset+d.limit);return r().createElement("section",{className:"pf-v5-c-page__main-section rbac-c-role__permissions"},r().createElement(w.Z,{title:g.title,isOpen:p,confirmButtonLabel:g.confirmButtonLabel,confirmButtonVariant:f.Wu.danger,onClose:()=>Z({type:H,showRemoveModal:!1}),onConfirm:()=>{u(),Z({type:z})},"aria-label":"Remove role permissions modal"},g.text),t?r().createElement(P.Z,{rows:d.limit,columns:k.map((e=>e.title))}):r().createElement(C.M,{columns:I?k:k.filter((e=>e.title!==a.formatMessage(S.Z.resourceDefinitions))),rows:A(I,s?.uuid,ee,a,m),actionResolver:s.system?void 0:()=>[{title:a.formatMessage(S.Z.remove),onClick:(e,t,o)=>Z({type:W,confirmDelete:()=>j([o]),deleteInfo:{title:a.formatMessage(S.Z.removePermissionQuestion),text:Y(o.uuid,s,!1),confirmButtonLabel:a.formatMessage(S.Z.removePermission)}})}],data:ee,filterValue:"",ouiaId:"role-permissions-table",fetchData:({limit:e,offset:t})=>Z({type:V,limit:e,offset:t}),isSelectable:!s.system,setCheckedItems:e=>{Z({type:G,selection:e(m).map((({uuid:e})=>({uuid:e})))})},checkedRows:m,onShowMore:J?()=>{Z({type:$})}:void 0,setFilterValue:({applications:e,resources:t,operations:a})=>{Z({type:U,...e?{applications:e}:b.applications,...t?{resources:t}:b.resources,...a?{operations:a}:b.operations})},toolbarButtons:()=>e?[]:[r().createElement(T.Z,{to:D.Z["role-add-permission"].link.replace(":roleId",s.uuid),key:"role-add-permission",className:"rbac-m-hide-on-sm"},r().createElement(f.zx,{variant:"primary","aria-label":"Add Permission"},a.formatMessage(S.Z.addPermissions))),{label:a.formatMessage(S.Z.addPermission),props:{className:"rbac-m-hide-on-md"},onClick:()=>{l(D.Z["role-add-permission"].link.replace(":roleId",s.uuid))}},{label:a.formatMessage(S.Z.remove),props:{isDisabled:!m.length>0},onClick:()=>{const e=m.length>1;Z({type:W,confirmDelete:()=>j([...m]),deleteInfo:{title:a.formatMessage(e?S.Z.removePermissionsQuestion:S.Z.removePermissionQuestion),text:Y(e?m.length:m[0].uuid,s,m.length>1),confirmButtonLabel:a.formatMessage(e?S.Z.removePermissions:S.Z.removePermission)}})}}],isLoading:n,pagination:{...d,count:L.length},titlePlural:a.formatMessage(S.Z.permissions),titleSingular:a.formatMessage(S.Z.permission),emptyProps:{title:a.formatMessage(S.Z.noRolePermissions),description:N},filters:[{key:"applications",value:0===b.applications.length?"":b.applications,placeholder:a.formatMessage(S.Z.filterByKey,{key:a.formatMessage(S.Z.application).toLowerCase()}),type:"group",selected:B(b.applications),groups:[{type:X.applications.length>0?"checkbox":"plain",items:X.applications.length>0?X.applications.slice(0,v?void 0:10).map((e=>({label:e,value:e}))):[K]}]},{key:"resources",value:0===b.resources.length?"":b.resources,placeholder:a.formatMessage(S.Z.filterByKey,{key:a.formatMessage(S.Z.resourceType).toLowerCase()}),type:"group",selected:B(b.resources),groups:[{type:h.length>0?"checkbox":"plain",items:h.length>0?h.slice(0,v?void 0:10):[K]}]},{key:"operations",value:0===b.operations.length?"":b.operations,placeholder:a.formatMessage(S.Z.filterByKey,{key:a.formatMessage(S.Z.operation).toLowerCase()}),type:"group",selected:B(b.operations),groups:[{type:y.length>0?"checkbox":"plain",items:y.length>0?y.slice(0,v?void 0:10):[K]}]}],tableId:"role-permissions"}))};X.propTypes={cantAddPermissions:n().bool,isLoading:n().bool};const J=X;var ee=a(66180),te=a(96392);const ae=({onDelete:e})=>{const t=(0,i.YB)(),a=(0,y.Z)(),s=(0,x.Z)(),n=(0,l.useNavigationType)(),[M,R]=(0,o.useState)(!1),[P,w]=(0,o.useState)(!1),{roleId:C,groupId:L}=(0,l.useParams)(),{role:j,group:B,isLoading:A,rolesPagination:F,rolesFilters:V,groupsPagination:G,groupsFilters:H,systemGroupUuid:z}=(0,c.useSelector)((e=>({role:e.roleReducer.selectedRole,isLoading:e.roleReducer.isRecordLoading,...L&&{group:e.groupReducer.selectedGroup},systemGroupUuid:e.groupReducer.systemGroup?.uuid,rolesPagination:e.roleReducer?.roles?.pagination||N.he,rolesFilters:e.roleReducer?.roles?.filters||{},groupsPagination:e.groupReducer?.groups?.pagination||N.he,groupsFilters:e.groupReducer?.groups?.filters||{}})),c.shallowEqual),W=(0,c.useSelector)((e=>{const{roleReducer:{error:t}}=e;return t!==k.VG})),U=(0,c.useSelector)((e=>{const{groupReducer:{error:t}}=e;return t!==k.VG})),$=(0,c.useDispatch)(),q=()=>{if($((0,E.fp)(C)),L)if(L!==_.Cn)$((0,I.yi)(L));else{if(z)return $((0,I.nV)(z,{})),a.appObjectId(z),()=>a.appObjectId(void 0);$((0,I.WD)({chrome:a}))}};(0,o.useEffect)((()=>(q(),a.appObjectId(C),()=>a.appObjectId(void 0))),[C,L,z]),(0,o.useEffect)((()=>{0===j?.accessCount&&""!==j?.external_tenant&&""!==j?.external_role_id&&j?.system&&w(!0)}),[j]);const K=()=>[L?{title:t.formatMessage(S.Z.groups),to:(0,k.zk)((0,T.n)(D.Z.groups.link),G,H)}:{title:t.formatMessage(S.Z.roles),to:(0,k.zk)((0,T.n)(D.Z.roles.link),F,V)},...U&&L&&(L===_.Cn?z:U)?B?[{title:B&&B.name,to:(0,T.n)(D.Z["group-detail-roles"].link).replace(":groupId",L),isLoading:B&&B.loaded}]:[void 0]:U||!L?[]:[{title:t.formatMessage(S.Z.invalidGroup),isActive:!0}],...U||!L?[{title:A?void 0:W?j?.display_name||j?.name:t.formatMessage(S.Z.invalidRole),isActive:!0}]:[]],Q=!A&&j?j.display_name||j.name:void 0,Y=!A&&j?j.description:void 0,X=[r().createElement(g.h,{component:r().createElement(T.Z,{onClick:()=>R(!1),to:D.Z["role-detail-edit"].link.replace(":roleId",C)},t.formatMessage(S.Z.edit)),key:"edit-role"}),r().createElement(g.h,{component:r().createElement(T.Z,{onClick:e,to:D.Z["role-detail-remove"].link.replace(":roleId",C)},t.formatMessage(S.Z.delete)),className:"rbac-c-role__action",key:"delete-role"})];return r().createElement(o.Fragment,null,!U&&L||!W?r().createElement(o.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(te.Z,{...K()})),r().createElement(ee.Z,{title:(U?"Role":"Group")+" not found",description:[`${U?"Role":"Group"} with ID ${U?C:L} does not exist.`],actions:[r().createElement(f.zx,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>s("POP"!==n?-1:D.Z.roles.link)},t.formatMessage(S.Z.backToPreviousPage))]})):r().createElement(o.Fragment,null,r().createElement(Z.Q,{breadcrumbs:K()},r().createElement(d.a,null,r().createElement(m.Z,null,r().createElement(h.Z,{title:Q||r().createElement(O.h2,null),className:"rbac-page-header__title"})),!A&&j&&!j.system&&r().createElement(m.Z,null,r().createElement(b.L,{ouiaId:"role-title-actions-dropdown",toggle:r().createElement(v.a,{onToggle:(e,t)=>R(t),id:"role-actions-dropdown"}),isOpen:M,isPlain:!0,position:"right",dropdownItems:X}))),Y&&r().createElement(p.D,{className:"rbac-page-header__description"},r().createElement(u.x,{component:"p"},Y))),r().createElement(J,{cantAddPermissions:P,isLoading:A||!j}),r().createElement(o.Suspense,null,r().createElement(l.Outlet,{context:{[D.Z["role-detail-remove"].path]:{afterSubmit:()=>{$((0,E.Kt)({...F,offset:0,filters:V,usesMetaInURL:!0,chrome:a}))},cancelRoute:D.Z["role-detail"].link.replace(":roleId",C),submitRoute:(0,k.zk)(D.Z.roles.link,{...F,offset:0},V),isLoading:A},[D.Z["role-detail-edit"].path]:{afterSubmit:q,cancelRoute:D.Z["role-detail"].link.replace(":roleId",C),isLoading:A},[D.Z["role-add-permission"].path]:{isOpen:!0,role:j}}}))))};ae.propTypes={onDelete:n().func};const oe=ae},70347:()=>{},25238:()=>{},38299:()=>{},74181:()=>{}}]);
//# sourceMappingURL=../sourcemaps/9777.b7cafd2c3576d00771ad63191608a1d2.js.map