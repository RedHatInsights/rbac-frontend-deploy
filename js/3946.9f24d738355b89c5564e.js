(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[3946],{10945:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-c-mua-bundles__card--header,.my-user-access .ins-c-mua-bundles__card--header{font-weight:300}.rbac .ins-c-mua-bundles__card--body,.my-user-access .ins-c-mua-bundles__card--body{color:var(--pf-global--Color--200)}.rbac .ins-c-mua-bundles__card--applist,.my-user-access .ins-c-mua-bundles__card--applist{display:flex;flex-direction:column;color:var(--pf-global--Color--400)}.rbac .ins-c-mua-bundles__card--applist span,.my-user-access .ins-c-mua-bundles__card--applist span{text-transform:capitalize}.rbac .ins-c-mua-bundles__card--applist span+span,.my-user-access .ins-c-mua-bundles__card--applist span+span{margin-top:var(--pf-global--spacer--sm)}.rbac .ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist,.my-user-access .ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist{display:grid;grid-template-columns:auto auto;gap:var(--pf-global--spacer--sm)}.rbac .ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist span,.my-user-access .ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist span{margin-top:0}.rbac .ins-c-mua-bundles__card--disabled,.my-user-access .ins-c-mua-bundles__card--disabled{background:var(--pf-global--disabled-color--300)}.rbac .ins-c-mua-bundles__card+.ins-c-mua-bundles__card,.my-user-access .ins-c-mua-bundles__card+.ins-c-mua-bundles__card{margin-top:var(--pf-global--spacer--md)}.rbac .ins-c-mua-bundles__cardlink,.my-user-access .ins-c-mua-bundles__cardlink{color:inherit}.rbac .ins-c-mua-bundles__cardlink:hover,.my-user-access .ins-c-mua-bundles__cardlink:hover{text-decoration:none}.rbac .ins-c-mua-bundles__cardlink--disabled,.my-user-access .ins-c-mua-bundles__cardlink--disabled{pointer-events:none}\n",""]),e.exports=s},55742:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-l-myUserAccess-section__cards--unentitled .pf-c-title,.my-user-access .ins-l-myUserAccess-section__cards--unentitled .pf-c-title{border-top:1px solid var(--pf-global--BorderColor--100);padding-top:var(--pf-global--spacer--md)}.rbac .ins-l-myUserAccess-section__cards--unentitled .ins-c-mua-cardWrapper,.my-user-access .ins-l-myUserAccess-section__cards--unentitled .ins-c-mua-cardWrapper{cursor:not-allowed}\n",""]),e.exports=s},38620:(e,s,t)=>{(s=t(23645)(!1)).push([e.id,".rbac .ins-p-myUserAccess--title,.my-user-access .ins-p-myUserAccess--title{display:flex;align-items:center;background-color:var(--pf-global--BackgroundColor--100);padding:var(--pf-global--spacer--lg) 0 var(--pf-global--spacer--lg) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--title .pf-c-label,.my-user-access .ins-p-myUserAccess--title .pf-c-label{margin-left:var(--pf-global--spacer--md)}.rbac .ins-p-myUserAccess--subtitle,.my-user-access .ins-p-myUserAccess--subtitle{position:relative;background-color:var(--pf-global--BackgroundColor--100);box-shadow:var(--pf-global--BoxShadow--md-bottom);padding:0 var(--pf-global--spacer--lg) var(--pf-global--spacer--md) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--dropdown,.my-user-access .ins-p-myUserAccess--dropdown{display:none}.rbac .ins-l-myUserAccess-section__cards,.rbac .ins-l-myUserAccess-section__table,.my-user-access .ins-l-myUserAccess-section__cards,.my-user-access .ins-l-myUserAccess-section__table{background-color:var(--pf-global--BackgroundColor--100);height:calc(100vh - 111px - 70px);padding:0 var(--pf-global--spacer--lg);overflow-x:auto}.rbac .ins-l-myUserAccess-section__cards h3,.rbac .ins-l-myUserAccess-section__table h3,.my-user-access .ins-l-myUserAccess-section__cards h3,.my-user-access .ins-l-myUserAccess-section__table h3{padding:var(--pf-global--spacer--lg) 0}.rbac .ins-l-myUserAccess-section__cards,.my-user-access .ins-l-myUserAccess-section__cards{border-right:1px solid var(--pf-global--BorderColor--100)}@media only screen and (max-width: 768px){.rbac .sticky,.my-user-access .sticky{position:sticky;position:-webkit-sticky;background-color:var(--pf-global--BackgroundColor--100);height:60px;width:100%;z-index:200}.rbac .ins-p-myUserAccess--title,.my-user-access .ins-p-myUserAccess--title{padding:var(--pf-global--spacer--xl) var(--pf-global--spacer--lg) var(--pf-global--spacer--md) var(--pf-global--spacer--lg);top:0}.rbac .ins-p-myUserAccess--subtitle,.my-user-access .ins-p-myUserAccess--subtitle{box-shadow:none;padding:0 var(--pf-global--spacer--lg) var(--pf-global--spacer--lg) var(--pf-global--spacer--lg)}.rbac .ins-p-myUserAccess--dropdown,.my-user-access .ins-p-myUserAccess--dropdown{display:block;padding:0 var(--pf-global--spacer--lg);top:60px}.rbac .ins-p-myUserAccess-section__table,.my-user-access .ins-p-myUserAccess-section__table{height:auto;margin:var(--pf-global--spacer--md)}.rbac .ins-p-myUserAccess-section__table>.pf-c-title,.my-user-access .ins-p-myUserAccess-section__table>.pf-c-title{display:none}}\n",""]),e.exports=s},63946:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>H});var n=t(63038),a=t.n(n),r=t(80150),c=t.n(r),i=t(39173),l=t(68340),o=t(2372),u=t(45697),p=t.n(u),d=t(69174),m=t(35224),b=function(e){return e.isOrgAdmin?c().createElement(m.u,{position:m.D.right,content:c().createElement("span",null," You can manage other users' permissions with 'User access' ")},c().createElement(d._,{color:"purple"}," Org. Administrator ")):c().createElement(c().Fragment,null)};b.propTypes={isOrgAdmin:p().bool};const f=b;t(54530);var g=t(50693),_=t(16475),y=t(49739),h=t(83826),v=t(60485),O=t(47194),A=t(94184),E=t.n(A),U=t(60306),w=t(32203),k=t(70),j=t(62394),x=[{entitlement:"insights",title:"Insights",apps:{dashboard:"/dashboard",patch:"/patch",advisor:"/advisor",drift:"/drift",vulnerability:"/vulnerability",policies:"/policies",compliance:"/compliance"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance","inventory","notifications"]},{entitlement:"openshift",title:"Openshift Cluster Manager",apps:{"cluster manager":"/"}},{entitlement:"ansible",title:"Ansible Automation Platform",apps:{"automation analytics":"/automation-analytics","automation hub":"/automation-hub","automation services catalog":"/catalog"},appsIds:["catalog","approval","automation-analytics","automation-hub"]},{entitlement:"cost_management",title:"Cost Management",apps:{"cost management":"/"},appsIds:["cost-management"]},{entitlement:"migrations",title:"Migration Services",apps:{"migration analytics":"/migration-analytics"},appsIds:["migration-analytics"]},{entitlement:"subscriptions",title:"Subscription Watch",apps:{"Red Hat Enterprise Linux":"/rhel-sw","Red Hat OpenShift":"/openshift-sw"},appsIds:["subscriptions"]}],P=t(59713),N=t.n(P);function C(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?C(Object(t),!0).forEach((function(s){N()(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}const S=function(){for(var e=(0,O.useLocation)(),s=e.search,t=new URLSearchParams(s),n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return a.reduce((function(e,s){return D(D({},e),{},N()({},s,t.get(s)))}),{})};t(19697);var M=function(e){var s=e.header,t=e.entitlements,n=e.isDisabled,r=S("bundle").bundle;return c().createElement(c().Fragment,null,c().createElement(v.D,{headingLevel:"h3",size:"xl"},s),c().createElement(y.K,{hasGutter:!0},t&&(null==t?void 0:t.map((function(e){var s=a()(e,1)[0],t=x.find((function(e){return e.entitlement===s}));return t?c().createElement(h.v,{key:s,className:"ins-c-mua-cardWrapper"},c().createElement(O.NavLink,{className:E()("ins-c-mua-bundles__cardlink",{"ins-c-mua-bundles__cardlink--disabled":n}),to:{pathname:U._j.d$,search:"bundle=".concat(s)}},c().createElement(w.Z,{key:t.title,isFlat:n||s!==r,isSelectable:!n,isSelected:!n&&s===r,className:E()("ins-c-mua-bundles__card","ins-c-mua-bundles__card--".concat(t.entitlement),{"ins-c-mua-bundles__card--disabled":n})},c().createElement(k.l,{className:"ins-c-mua-bundles__card--header"}," ",t.title),c().createElement(j.e,null,c().createElement(y.K,{hasGutter:!0},c().createElement(h.v,{className:"ins-c-mua-bundles__card--applist"},Object.entries(t.apps||{}).map((function(e){var s=a()(e,1)[0];return c().createElement("span",{key:s}," ",s," ")})))))))):null})))))};M.propTypes={header:p().string,entitlements:p().array,isDisabled:p().bool};const B=M;t(66471);function F(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function I(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?F(Object(t),!0).forEach((function(s){N()(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}var L=function(){return r.Fragment};const z=function(){var e=S("bundle").bundle,s=function(e){var s,t=(0,O.useHistory)(),n=t.push,a=t.location.pathname;return"string"!=typeof e||0===e.length?(n({to:a,search:"bundle=".concat(x[0].entitlement)}),[]):((null===(s=x.find((function(s){return s.entitlement===e})))||void 0===s?void 0:s.appsIds)||[]).sort((function(e,s){return e.localeCompare(s,"en-US")}))}(e),n=(0,r.useState)({}),i=a()(n,2),l=i[0],o=i[1];(0,r.useEffect)((function(){Object.prototype.hasOwnProperty.call(l,e)||t(19289)("./".concat(e)).then((function(s){return o((function(t){return I(I({},t),{},N()({},e,s.default))}))})).catch(console.log)}),[e]);var u=l[e]||L;return c().createElement(u,{key:e,apps:s})};var T=t(52192),W=function(e){var s,t=e.entitlements,n=e.isOrgAdmin,r=Object.entries(t).filter((function(e){return a()(e,2)[1].is_entitled})),i=Object.entries(t).filter((function(e){return!a()(e,2)[1].is_entitled})),l=S("bundle").bundle;return c().createElement(T.Z.Provider,{value:n},c().createElement(g.r,null,c().createElement(_.P,{className:"pf-m-3-col-on-md ins-l-myUserAccess-section__cards ins-m-hide-on-sm"},c().createElement(y.K,null,c().createElement(h.v,{className:"ins-l-myUserAccess-section__cards--entitled"},c().createElement(B,{header:"Your organization's subscriptions",entitlements:r})),i.length>0&&c().createElement(h.v,{className:"ins-l-myUserAccess-section__cards--unentitled"},c().createElement(B,{header:"Not subscribed",entitlements:i,isDisabled:!0})))),c().createElement(_.P,{className:"pf-m-9-col-on-md ins-l-myUserAccess-section__table"},c().createElement(v.D,{headingLevel:"h3",size:"xl"},"Your ".concat(null===(s=x.find((function(e){return e.entitlement===l})))||void 0===s?void 0:s.title," ").concat(n?"roles":"permissions")),c().createElement(z,null))))};W.propTypes={entitlements:p().object,isOrgAdmin:p().bool};const Z=W,H=function(){var e=(0,r.useState)({}),s=a()(e,2),t=s[0],n=s[1];return(0,r.useEffect)((function(){insights.chrome.auth.getUser().then((function(e){var s,t=e.identity,a=e.entitlements;return n({entitlements:a,isOrgAdmin:null==t||null===(s=t.user)||void 0===s?void 0:s.is_org_admin})}))}),[]),c().createElement(c().Fragment,null,Object.prototype.hasOwnProperty.call(t,"entitlements")&&Object.prototype.hasOwnProperty.call(t,"isOrgAdmin")?c().createElement(c().Fragment,null,c().createElement(i.Z,{className:"ins-p-myUserAccess--title sticky",title:c().createElement(c().Fragment,null,c().createElement("span",null," My User Access "),c().createElement(f,{isOrgAdmin:t.isOrgAdmin}))}),c().createElement(l.x,{component:"p",className:"ins-p-myUserAccess--subtitle"},"Select from your organization's subscriptions below to discover your individual application-specific roles and permissions."),c().createElement("div",{className:"ins-p-myUserAccess--dropdown sticky"},c().createElement("div",{className:"pf-c-dropdown pf-m-expanded"},c().createElement("button",{className:"pf-c-dropdown__toggle",type:"button"},c().createElement("span",{className:"pf-c-dropdown__toggle-text"},"Choose a subscription..."),c().createElement("span",{className:"pf-c-dropdown__toggle-icon"},c().createElement("i",{className:"fas fa-caret-down"}))))),c().createElement("section",null,c().createElement(Z,{entitlements:t.entitlements,isOrgAdmin:t.isOrgAdmin}))):c().createElement(o.$,null))}},52192:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});const n=(0,t(80150).createContext)(!1)},19697:(e,s,t)=>{var n=t(93379),a=t(10945);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=n(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(10945,(function(){"string"==typeof(a=(a=t(10945)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,a.locals)?(c=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},66471:(e,s,t)=>{var n=t(93379),a=t(55742);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=n(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(55742,(function(){"string"==typeof(a=(a=t(55742)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,a.locals)?(c=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},54530:(e,s,t)=>{var n=t(93379),a=t(38620);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=n(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var c=a.locals;e.hot.accept(38620,(function(){"string"==typeof(a=(a=t(38620)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,s){if(!e&&s||e&&!s)return!1;var t;for(t in e)if(e[t]!==s[t])return!1;for(t in s)if(!e[t])return!1;return!0}(c,a.locals)?(c=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},19289:(e,s,t)=>{var n={"./MUABundles":[44761,7,4761],"./MUABundles.scss":[44761,7,4761],"./__mocks__/insights":[47051,9,7051],"./__mocks__/insights.js":[47051,9,7051],"./ansible":[63691,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,3691],"./ansible.js":[63691,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,3691],"./cost_management":[44401,9,6410,5252,4155,8446,5157,3279,4932,3171,4401],"./cost_management.js":[44401,9,6410,5252,4155,8446,5157,3279,4932,3171,4401],"./insights":[73154,9,6410,5252,4155,8446,5157,3279,4932,3171,3154],"./insights.js":[73154,9,6410,5252,4155,8446,5157,3279,4932,3171,3154],"./migrations":[63115,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,3115],"./migrations.js":[63115,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,3115],"./openshift":[87434,9,6410,4761,7434],"./openshift.js":[87434,9,6410,4761,7434],"./subscriptions":[54304,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,4304],"./subscriptions.js":[54304,9,6410,5252,4155,8446,5157,3279,4932,3171,3154,4304]};function a(e){if(!t.o(n,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=n[e],a=s[0];return Promise.all(s.slice(2).map(t.e)).then((()=>t.t(a,16|s[1])))}a.keys=()=>Object.keys(n),a.id=19289,e.exports=a}}]);
//# sourceMappingURL=3946.9f24d738355b89c5564e.js.map