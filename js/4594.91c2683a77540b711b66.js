"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[4594,7664],{69957:(e,t,r)=>{r.d(t,{LP:()=>o,RI:()=>a,ZP:()=>s});var n=r(40400);const a={name:"ExclamationTriangleIcon",height:512,width:576,svgPath:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z",yOffset:0,xOffset:0},o=(0,n.IU)(a),s=o},7081:(e,t,r)=>{r.d(t,{ZP:()=>s,lb:()=>a,wl:()=>o});var n=r(40400);const a={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},o=(0,n.IU)(a),s=o},44873:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(85893),a=r(94184),o=r.n(a),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const i=function(e){var t,r=e.type,a=e.children,i=e.className,l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["type","children","className"]),c=o()(i,((t={})["ins-l-".concat(r)]=void 0!==r,t));return(0,n.jsxs)("section",s({},l,{className:c},{children:[" ",a," "]}))}},93736:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(46801),a=r(65126);const o=function(e){var t=(0,n.useNavigate)();return function(r,n){return t((0,a.n)(r,e),n)}}},1227:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(29439),a=r(92950),o=r.n(a),s=r(86896),i=r(45697),l=r.n(i),c=r(30893),u=r(69957),m=r(25864),f=function(e){var t=e.title,r=e.text,i=e.onClose,l=e.onSubmit,f=e.isOpen,p=e.confirmButtonLabel,d=e.withCheckbox,g=(0,s.Z)(),b=(0,a.useState)(!1),v=(0,n.Z)(b,2),h=v[0],Z=v[1];return o().createElement(m.Modal,{className:"rbac",title:o().createElement("div",null,o().createElement(u.ZP,{className:"ins-m-alert rbac-c__delete-icon"})," ",t),isOpen:f,variant:m.ModalVariant.small,onClose:i,actions:[o().createElement(m.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:d&&!h,variant:"danger",onClick:l},p),o().createElement(m.Button,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:i},g.formatMessage(c.Z.cancel))]},o().createElement(m.Split,{hasGutter:!0},o().createElement(m.SplitItem,{isFilled:!0},o().createElement(m.Stack,{hasGutter:!0},o().createElement(m.TextContent,null,r)))),d?o().createElement(m.Checkbox,{isChecked:h,onChange:function(){return Z(!h)},label:g.formatMessage(c.Z.confirmCheckMessage),id:"remove-modal-check",className:"pf-u-mt-lg"}):null)};f.propTypes={text:l().any,title:l().string,confirmButtonLabel:l().string,onSubmit:l().func,onClose:l().func,isOpen:l().bool,withCheckbox:l().bool},f.defaultProps={withCheckbox:!1};const p=f},88093:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(87462),a=r(45987),o=r(92950),s=r.n(o),i=r(1936),l=r(45697),c=r.n(l),u=r(94184),m=r.n(u),f=["row"],p=function(e){var t,r=e.row,o=(0,a.Z)(e,f),l=r.status,c=null==l||null===(t=l.props)||void 0===t?void 0:t["data-is-active"];return s().createElement(i.RowWrapper,(0,n.Z)({className:m()("rbac__user-row",{"ins-m-inactive":!c}),row:r},o))};p.propTypes={row:c().shape({status:c().shape({props:c().shape({"data-is-active":c().bool,data:c().shape({isActive:c().bool})})})})};const d=p},9974:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});var n=r(93433),a=r(4942),o=r(29439),s=r(87462),i=r(1936),l=r(92950),c=r.n(l),u=r(44012),m=r(86896),f=r(50533),p=r(46801),d=r(25864),g=r(55140),b=r(44873),v=r(30060),h=r(30893),Z=r(19756),M=r(11107),y=r(1227),O=r(88093),E=r(26794),w=r(65126),C=r(93736),k=r(4682);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=function(e){var t=e.groupReducer,r=t.selectedGroup,n=t.groups;return{members:r.members.data,pagination:r.members.meta,groupsPagination:n.pagination||n.meta,groupsFilters:n.filters,group:r,adminDefault:r.admin_default,platformDefault:r.platform_default,isLoading:r.members.isLoading}},I=function(e,t,r){return c().createElement(u.Z,(0,s.Z)({},r?h.Z.removeMembersText:h.Z.removeMemberText,{values:{b:function(e){return c().createElement("b",null,e)},name:e,group:t}}))};const j=function(){var e,t=(0,m.Z)(),r=(0,g.Z)(),s=(0,l.useState)(""),u=(0,o.Z)(s,2),P=u[0],j=u[1],L=(0,l.useState)([]),_=(0,o.Z)(L,2),N=_[0],D=_[1],A=(0,l.useState)(!1),B=(0,o.Z)(A,2),R=B[0],T=B[1],F=(0,l.useState)((function(){return null})),U=(0,o.Z)(F,2),z=U[0],G=U[1],V=(0,l.useState)({}),Q=(0,o.Z)(V,2),W=Q[0],q=Q[1],H=(0,p.useParams)().groupId,J=(0,f.useSelector)(S,f.shallowEqual),K=J.members,X=J.pagination,Y=J.groupsPagination,$=J.groupsFilters,ee=J.isLoading,te=J.adminDefault,re=J.platformDefault,ne=J.group,ae=(0,l.useContext)(E.Z),oe=ae.userAccessAdministrator,se=ae.orgAdmin,ie=(0,l.useRef)(se||oe),le=[{title:t.formatMessage(h.Z.status),transforms:[i.nowrap]},{title:t.formatMessage(h.Z.username)},{title:t.formatMessage(h.Z.email)},{title:t.formatMessage(h.Z.lastName)},{title:t.formatMessage(h.Z.firstName)}],ce=(0,f.useDispatch)(),ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:X;ce((0,Z.nd)(H,e,t))};(0,l.useEffect)((function(){ue()}),[]),(0,l.useEffect)((function(){ie.current=se||oe}),[se,oe]);var me=function(e){return ce((0,Z.tz)(H,e)).then((function(){D([]),ue(void 0,x(x({},X),{},{offset:0})),ce((0,Z.bt)({usesMetaInURL:!0,chrome:r}))}))},fe=((0,C.Z)(),(K||[]).map((function(e){return x(x({},e),{},{uuid:e.username})}))),pe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(0,m.Z)();return e.reduce((function(e,a){var o=a.is_active,s=a.username,i=a.email,l=a.first_name,u=a.last_name;return[].concat((0,n.Z)(e),[{uuid:s,username:s,cells:[{title:c().createElement(d.Label,{color:o&&"green"},r.formatMessage(o?h.Z.active:h.Z.inactive)),props:{data:{isActive:o}}},s,i,u,l],selected:t.find((function(e){return e.uuid===s}))}])}),[])}(fe,N);return c().createElement(l.Fragment,null,c().createElement(y.Z,{text:W.text,title:W.title,confirmButtonLabel:W.confirmButtonLabel,isOpen:R,onClose:function(){return T(!1)},onSubmit:function(){T(!1),z()}}),c().createElement(b.Z,{type:"content",id:"tab-principals"},re||te?c().createElement(d.Card,null,c().createElement(d.CardBody,null,c().createElement(d.Bullseye,null,c().createElement(d.TextContent,null,c().createElement(d.Text,{component:d.TextVariants.h1},t.formatMessage(te?h.Z.allOrgAdminsAreMembers:h.Z.allUsersAreMembers)))))):c().createElement(v.M,{data:fe,isSelectable:ie.current,rows:pe,columns:le,actionResolver:function(){return ie.current?[{title:t.formatMessage(h.Z.remove),onClick:function(e,r,n){G((function(){return function(){return me([n.username.title])}})),q({title:t.formatMessage(h.Z.removeMemberQuestion),text:I(n.username.title,ne.name,!1),confirmButtonLabel:t.formatMessage(h.Z.removeMember)}),T(!0)}}]:null},filterPlaceholder:t.formatMessage(h.Z.username).toLowerCase(),titlePlural:t.formatMessage(h.Z.members).toLowerCase(),titleSingular:t.formatMessage(h.Z.member),ouiaId:"members-table",pagination:X,filterValue:P,fetchData:function(e){var t=e.limit,r=e.offset,n=e.name;return ue(n,{limit:t,offset:r})},setFilterValue:function(e){var t=e.name;return j(t)},checkedRows:N,isLoading:ee,rowWrapper:O.Z,setCheckedItems:function(e){D((function(t){return e(t)}))},toolbarButtons:function(){return(0,n.Z)(ie.current?[c().createElement(w.Z,{to:k.Z["group-add-members"].link.replace(":groupId",H),key:"remove-from-group",className:"rbac-m-hide-on-sm"},c().createElement(d.Button,{variant:"primary","aria-label":"Add member"},t.formatMessage(h.Z.addMember))),{label:t.formatMessage(h.Z.addMember),props:{className:"rbac-m-hide-on-md"},onClick:function(){}},{label:t.formatMessage(h.Z.remove),props:{isDisabled:!N||!N.length>0,variant:"danger"},onClick:function(){var e=N.length>1,r=t.formatMessage(e?h.Z.removeMembersQuestion:h.Z.removeMemberQuestion);G((function(){return function(){return me(N.map((function(e){return e.uuid})))}})),q({title:r,confirmButtonLabel:r,text:I(e?N.length:N[0].uuid,ne.name,e)}),T(!0)}}]:[])},emptyProps:{title:t.formatMessage(h.Z.noGroupMembers),description:[t.formatMessage(h.Z.addUserToConfigure),""]},tableId:"group-members"})),c().createElement(l.Suspense,null,c().createElement(p.Outlet,{context:(e={},(0,a.Z)(e,k.Z["group-members-edit-group"].path,{group:ne,cancelRoute:k.Z["group-detail-members"].link.replace(":groupId",H),postMethod:function(){return ce((0,Z.yi)(ne.uuid))}}),(0,a.Z)(e,k.Z["group-members-remove-group"].path,{postMethod:function(){return ce((0,Z.bt)(x(x({},Y),{},{offset:0,filters:$,usesMetaInURL:!0,chrome:r})))},cancelRoute:k.Z["group-detail-members"].link.replace(":groupId",H),submitRoute:(0,M.zk)(k.Z.groups.link,x(x({},Y),{},{offset:0}),$),groupsUuid:[ne]}),(0,a.Z)(e,k.Z["group-add-members"].path,{fetchData:ue,cancelRoute:k.Z["group-detail-members"].link.replace(":groupId",H)}),e)})))}},44012:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(70655),a=r(92950),o=r(86896),s=r(680);function i(e){var t=(0,o.Z)(),r=t.formatMessage,n=t.textComponent,s=void 0===n?a.Fragment:n,i=e.id,l=e.description,c=e.defaultMessage,u=e.values,m=e.children,f=e.tagName,p=void 0===f?s:f,d=r({id:i,description:l,defaultMessage:c},u,{ignoreTag:e.ignoreTag});return"function"==typeof m?m(Array.isArray(d)?d:[d]):p?a.createElement(p,null,a.Children.toArray(d)):a.createElement(a.Fragment,null,d)}i.displayName="FormattedMessage";var l=a.memo(i,(function(e,t){var r=e.values,a=(0,n.__rest)(e,["values"]),o=t.values,i=(0,n.__rest)(t,["values"]);return(0,s.wU)(o,r)&&(0,s.wU)(a,i)}));l.displayName="MemoizedFormattedMessage";const c=l}}]);
//# sourceMappingURL=../sourcemaps/4594.2c2f49817f301a964e16bcdde5273030.js.map