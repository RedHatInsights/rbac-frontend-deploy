(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[9843],{55218:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(28416),r=a.n(n),o=a(80236),l=a(47173),c=a(93149);const i=e=>{var{isOpen:t,onConfirm:a,onClose:i,children:s,confirmButtonLabel:m="Confirm",cancelButtonLabel:u="Cancel",variant:p=o.v.small,titleIconVariant:d="warning",withCheckbox:f=!1,checkboxLabel:g="I understand that this action cannot be undone",confirmButtonVariant:b=l.Wu.primary,ouiaId:v="WarningModal"}=e,E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","ouiaId"]);const[y,h]=(0,n.useState)(!1);return r().createElement(o.u,Object.assign({variant:p,isOpen:t,onClose:i,onEscapePress:i,titleIconVariant:d,actions:[r().createElement(l.zx,{ouiaId:`${v}-confirm-button`,key:"confirm",variant:b,onClick:()=>{null==a||a(),h(!1)},isDisabled:f&&!y},m),r().createElement(l.zx,{ouiaId:`${v}-cancel-button`,key:"cancel",variant:l.Wu.link,onClick:i},u)],ouiaId:v},E),s,f?r().createElement(c.X,{isChecked:y,onChange:(e,t)=>h(t),label:g,id:"warning-modal-check",className:"pf-v5-u-mt-lg",ouiaId:`${v}-confirm-checkbox`}):null)}},30120:(e,t,a)=>{"use strict";a.d(t,{a:()=>c});var n=a(65353),r=a(28416),o=a(62165),l=a(75587);const c=e=>{var{id:t="",children:a=null,className:c="",isOpen:i=!1,"aria-label":s="Actions",parentRef:m=null,getMenuRef:u=null,isActive:p=!1,isPlain:d=!1,isDisabled:f=!1,bubbleEvent:g=!1,onToggle:b=(()=>{}),ref:v}=e,E=(0,n.__rest)(e,["id","children","className","isOpen","aria-label","parentRef","getMenuRef","isActive","isPlain","isDisabled","bubbleEvent","onToggle","ref"]);return r.createElement(l.Z,Object.assign({id:t,className:c,isOpen:i,"aria-label":s,parentRef:m,getMenuRef:u,isActive:p,isPlain:d,isDisabled:f,onToggle:b,bubbleEvent:g},E),r.createElement(o.default,null))};c.displayName="KebabToggle"},19993:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(70347);const n={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(25238);const n={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},66042:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n}),a(87234);const n={bullseye:"pf-v5-l-bullseye"}},63456:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var n=a(85893),r=a(94184),o=a.n(r),l=a(28416);const c=a.n(l)().createContext("light");var i=function(){return i=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)};const s=function(e){var t=e.className,a=e.children,r=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["className","children"]),l=o()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section");return(0,n.jsx)(c.Consumer,{children:function(e){var t,c;void 0===e&&(e="light");var s=o()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((c={})["pf-m-light"]="light"===e,c));return(0,n.jsx)("section",i({},r,{className:"".concat(l," ").concat(s),"widget-type":"InsightsPageHeader",children:a}))}})}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o});var n=a(62012),r=a(64756);const o=e=>{const t=(0,n.useNavigate)();return(a,n)=>t((0,r.n)(a,e),n)}},82617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var n=a(28416),r=a.n(n),o=a(45697),l=a.n(o),c=a(62012),i=a(75629),s=a(12849);const m=e=>e?r().createElement(i.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?r().createElement(i.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&r().createElement(c.NavLink,{end:!0,to:e.to},e.title)||e.title):r().createElement(s.Vj,{key:t})))):null;m.propTypes={breadcrumbs:l().object};const u=m},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var n=a(28416),r=a.n(n),o=a(95376),l=a(58826),c=a.n(l);const i=({title:e,icon:t,description:a,actions:n,...l})=>r().createElement(o.EmptyState,{variant:o.EmptyStateVariant.sm,...l},r().createElement(o.EmptyStateHeader,{titleText:r().createElement(r().Fragment,null,e),icon:r().createElement(o.EmptyStateIcon,{icon:t||c()}),headingLevel:"h4"}),r().createElement(o.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>r().createElement(r().Fragment,{key:t},e," ",r().createElement("br",null))))),r().createElement(o.EmptyStateFooter,null,n))},2086:(e,t,a)=>{"use strict";a.d(t,{Q:()=>d,y:()=>f});var n=a(28416),r=a.n(n),o=a(45697),l=a.n(o),c=a(64380),i=a(86304),s=a(12849),m=a(82617),u=a(63456),p=a(39173);const d=({children:e,breadcrumbs:t})=>r().createElement(n.Fragment,null,t&&r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},r().createElement(m.Z,{...t})),r().createElement(u.Z,{className:"rbac-page-header"},e));d.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},d.defaultProps={paddingBottom:!1};const f=({title:e,renderTitleTag:t,description:a,children:o})=>r().createElement(n.Fragment,null,r().createElement(i.Flex,null,r().createElement(i.FlexItem,{className:"pf-v5-u-mb-sm"},r().createElement(p.Z,{title:e||r().createElement(s.h2,null),className:"rbac-page-header__title"})),r().createElement(i.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&r().createElement(c.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?r().createElement(c.Text,{component:c.TextVariants.p},a):a),o);f.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},55073:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var n=a(28416),r=a.n(n),o=a(55140),l=a(62012),c=a(86706),i=a(25387),s=a(1439),m=a.n(s),u=a(5904),p=a(78972),d=a(57043),f=a(31055),g=a(85044),b=a(79332),v=a(30120),E=a(55218),y=a(12913),h=a(45697),x=a.n(h),k=a(91397);const _=({tabItems:e,isHeader:t})=>{const{pathname:a}=(0,l.useLocation)(),n=(0,l.useNavigate)(),o=e.find((({name:e})=>a.includes(e)));return r().createElement(k.Tabs,{className:t?"rbac-page-header__tabs":"",activeKey:o?o.eventKey:0,onSelect:(t,a)=>n(e[a].to)},e.map((e=>r().createElement(k.Tab,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name}))))};_.propTypes={tabItems:x().array.isRequired,isHeader:x().bool};const Z=_;var O=a(84414),I=a(2086),C=a(77044),B=a(64756),N=a(66180),T=a(82617),S=a(29301),w=a(75614),P=a(2550),j=a(14289),A=a(65220);const F=()=>{const e=(0,i.YB)(),t=(0,c.useDispatch)(),a=(0,O.Z)(),s=(0,l.useLocation)(),h=(0,o.Z)(),{groupId:x}=(0,l.useParams)(),k=x===w.Cn,_=h.isBeta()&&(0,A.useFlag)("platform.rbac.group-service-accounts")||!h.isBeta()&&(0,A.useFlag)("platform.rbac.group-service-accounts.stable"),F=[{eventKey:0,title:"Roles",name:j.Z["group-detail-roles"].link.replace(":groupId",x),to:"roles"},{eventKey:1,title:"Members",name:j.Z["group-detail-members"].link.replace(":groupId",x),to:"members"},..._?[{eventKey:2,title:"Service accounts",name:j.Z["group-detail-service-accounts"].link.replace(":groupId",x),to:"service-accounts"}]:[]],{pagination:M,filters:D,groupExists:L,systemGroupUuid:G}=(0,c.useSelector)((({groupReducer:{groups:e,error:t,systemGroup:a}})=>({pagination:e.pagination||e.meta,filters:e.filters,groupExists:t!==S.VG,systemGroupUuid:a?.uuid})),c.shallowEqual),{group:R,isGroupLoading:H}=(0,c.useSelector)((({groupReducer:{selectedGroup:e,isRecordLoading:t}})=>({group:e,isGroupLoading:t})),c.shallowEqual),[K,V]=(0,n.useState)(!1),[W,q]=(0,n.useState)(!1),[z,Q]=(0,n.useState)(!1);(0,n.useEffect)((()=>{t((0,C.WD)({chrome:h}));const e=k?G:x;return e&&(t((0,C.yi)(e)),h.appObjectId(e)),()=>h.appObjectId(void 0)}),[x,G]);const U=()=>[{title:e.formatMessage(P.Z.groups),to:(0,S.zk)((0,B.n)(j.Z.groups.link),M,D)},L?{title:H?void 0:R.name,isActive:!0}:{title:e.formatMessage(P.Z.invalidGroup),isActive:!0}],$=[r().createElement(g.h,{component:r().createElement(B.Z,{onClick:()=>q(!1),to:(s.pathname.includes("members")?j.Z["group-members-edit-group"]:j.Z["group-roles-edit-group"]).link.replace(":groupId",k?w.Cn:x)},e.formatMessage(P.Z.edit)),key:"edit-group"}),r().createElement(g.h,{component:r().createElement(B.Z,{to:(s.pathname.includes("members")?j.Z["group-members-remove-group"]:j.Z["group-roles-remove-group"]).link.replace(":groupId",x)},e.formatMessage(P.Z.delete)),className:"rbac-c-group__action",key:"delete-group"})];return r().createElement(n.Fragment,null,K&&r().createElement(E.Z,{isOpen:K,title:e.formatMessage(P.Z.restoreDefaultAccessQuestion),confirmButtonLabel:e.formatMessage(P.Z.continue),onClose:()=>V(!1),onConfirm:()=>{t((0,C.gg)([G])).then((()=>t((0,C.WD)({chrome:h})).then((()=>{Q(!1)})))),V(!1),a(j.Z["group-detail-roles"].link.replace(":groupId",w.Cn))}},r().createElement(i._H,{...P.Z.restoreDefaultAccessDescription,values:{b:e=>r().createElement("b",null,e)}})),L?r().createElement(n.Fragment,null,r().createElement(I.Q,{breadcrumbs:U()},r().createElement(d.Split,{hasGutter:!0},r().createElement(d.SplitItem,{isFilled:!0},r().createElement(I.y,{title:!H&&R?r().createElement(n.Fragment,null,R.platform_default&&!R.system?(X=R.name,r().createElement("div",{style:{display:"inline-flex"}},X,r().createElement("div",{className:"pf-v5-u-ml-sm"},r().createElement(p.Popover,{"aria-label":"default-group-icon",bodyContent:r().createElement(i._H,{...P.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon"}))))):R.name):void 0,description:!H&&R?.description||void 0})),R.platform_default&&!R.system?r().createElement(d.SplitItem,null,r().createElement("div",{className:"rbac-default-group-reset-btn"},r().createElement(f.Button,{variant:"link",onClick:()=>V(!0)},e.formatMessage(P.Z.restoreToDefault)),r().createElement(p.Popover,{"aria-label":"default-group-icon",position:p.PopoverPosition.bottomEnd,bodyContent:r().createElement(i._H,{...P.Z.restoreDefaultAccessInfo,values:{b:e=>r().createElement("b",null,e)}})},r().createElement(m(),{className:"rbac-default-group-info-icon pf-v5-u-mt-sm"})))):null,r().createElement(d.SplitItem,null,R.platform_default||R.admin_default?null:r().createElement(b.L,{ouiaId:"group-title-actions-dropdown",toggle:r().createElement(v.a,{onToggle:(e,t)=>q(t),id:"group-actions-dropdown"}),isOpen:W,isPlain:!0,position:"right",dropdownItems:$}))),z?r().createElement(u.Alert,{variant:"info",isInline:!0,title:e.formatMessage(P.Z.defaultAccessGroupChanged),action:r().createElement(u.AlertActionCloseButton,{onClose:()=>Q(!1)}),className:"pf-v5-u-mb-lg pf-v5-u-mt-sm"},r().createElement(i._H,{...P.Z.defaultAccessGroupNameChanged,values:{b:e=>r().createElement("b",null,e)}})):null),r().createElement(Z,{isHeader:!0,tabItems:F}),r().createElement(l.Outlet,{context:{[j.Z["group-detail-roles"].path]:{onDefaultGroupChanged:Q},groupId:x,systemGroupUuid:G}}),!R&&r().createElement(y.Z,{numberOfColumns:1})):r().createElement(n.Fragment,null,r().createElement("section",{className:"pf-v5-c-page__main-breadcrumb pf-v5-u-pb-md"},r().createElement(T.Z,{...U()})),r().createElement(N.Z,{title:e.formatMessage(P.Z.groupNotFound),description:[e.formatMessage(P.Z.groupDoesNotExist,{id:x})],actions:[r().createElement(f.Button,{key:"back-button",className:"pf-v5-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:()=>a(-1)},e.formatMessage(P.Z.backToPreviousPage))]})));var X}},70347:()=>{},30187:()=>{},25238:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/9843.a1c88a2ed68dccad62876ed8dbfac3eb.js.map