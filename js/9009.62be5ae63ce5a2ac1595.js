"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[9009,459],{41435:(e,t,s)=>{s.d(t,{Dl:()=>o,dw:()=>n,e4:()=>i,ir:()=>a});var a,n,c=s(28416);!function(e){e.right="right",e.left="left"}(a||(a={})),function(e){e.up="up",e.down="down"}(n||(n={}));const o=c.createContext({onSelect:e=>{},id:"",toggleIndicatorClass:"",toggleIconClass:"",toggleTextClass:"",menuClass:"",itemClass:"",toggleClass:"",baseClass:"",baseComponent:"div",sectionClass:"",sectionTitleClass:"",sectionComponent:"section",disabledClass:"",plainTextClass:"",menuComponent:"ul"}),i=c.createContext({keyHandler:null,sendRef:null})},83536:(e,t,s)=>{s.d(t,{K:()=>p,Z:()=>v});var a=s(28416),n=s.n(a),c=s(40575),o=s(25387),i=s(29301),r=s(55140),l=s(62410),u=s(86706),d=s(97246),m=s(71079),f=s(2550);const g=({serviceAccountReducer:e})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset}),p=({selected:e,setSelected:t})=>{const{auth:s,getEnvironmentDetails:p}=(0,r.Z)(),{serviceAccounts:v,status:C,limit:y,offset:k,isLoading:b}=(0,u.useSelector)(g),M=(0,u.useDispatch)(),Z=(0,o.YB)(),A=(0,a.useCallback)((async e=>{const t=p(),a=await s.getToken();var n;M((n={limit:e?.limit??y,offset:e?.offset??k,token:a,sso:t?.sso},{type:m.t5,payload:c.Sx(n),meta:n}))}),[y,k]);(0,a.useEffect)((()=>{A({limit:y,offset:0})}),[]);const E=[{title:Z.formatMessage(f.Z.name),orderBy:"name"},{title:Z.formatMessage(f.Z.description),orderBy:"description"},{title:Z.formatMessage(f.Z.clientId),orderBy:"clientId"},{title:Z.formatMessage(f.Z.owner),orderBy:"owner"},{title:Z.formatMessage(f.Z.timeCreated),orderBy:"timeCreated"}];return n().createElement(d.M,{className:"rbac-service-accounts-list",columns:E,isSelectable:!0,rows:(h=v,S=e,h?.reduce(((e,t)=>[...e,{uuid:t.uuid,title:t.name,cells:[t.name,t.description,t.clientId,t.createdBy,n().createElement(a.Fragment,{key:`${t.name}-modified`},n().createElement(l.Z,{date:t.createdAt,type:(0,i.mh)(t.createdAt)}))],selected:Boolean(S&&S.find((e=>e.uuid===t.uuid)))}]),[])),data:v,fetchData:A,isLoading:b,pagination:{limit:y,offset:k,...C===c.Xu?{count:k+v.length}:{}},paginationProps:{toggleTemplate:({firstIndex:e,lastIndex:t})=>n().createElement(n().Fragment,null,n().createElement("b",null,e," - ",t)," ","of ",n().createElement("b",null,C===c.Xu?k+v.length:"many")),isCompact:!0},checkedRows:e,setCheckedItems:t,titlePlural:Z.formatMessage(f.Z.serviceAccounts).toLowerCase(),titleSingular:Z.formatMessage(f.Z.serviceAccount),emptyProps:{title:Z.formatMessage(f.Z.noServiceAccountsFound),description:[Z.formatMessage(f.Z.contactServiceTeamForAccounts),""]},tableId:"group-add-accounts",ouiaId:"group-add-accounts"});var h,S},v=p},99187:(e,t,s)=>{s.r(t),s.d(t,{default:()=>k});var a=s(28416),n=s.n(a),c=s(25387),o=s(86706),i=s(5904),r=s(31055),l=s(94229),u=s(23539),d=s(64380),m=s(62012),f=s(64756),g=s(83536),p=s(75614),v=s(77044),C=s(2550);const y=({serviceAccountReducer:e,groupReducer:{systemGroup:t}})=>({serviceAccounts:e.serviceAccounts,status:e.status,isLoading:e.isLoading,limit:e.limit,offset:e.offset,systemGroupUuid:t?.uuid}),k=({postMethod:e})=>{const t=(0,c.YB)(),s=(0,o.useDispatch)(),{groupId:k}=(0,m.useParams)(),[b,M]=(0,a.useState)([]),{systemGroupUuid:Z}=(0,o.useSelector)(y),A=()=>{e()};return n().createElement(l.Modal,{isOpen:!0,className:"rbac",variant:l.ModalVariant.medium,title:t.formatMessage(C.Z.addServiceAccount),actions:[n().createElement(r.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===b.length,variant:"primary",onClick:()=>{const t=(0,v.w_)(k===p.Cn?Z:k,b);s(t),e(t.payload)}},t.formatMessage(C.Z.addToGroup)),n().createElement(r.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:A},t.formatMessage(C.Z.cancel))],onClose:A},n().createElement(u.Stack,{hasGutter:!0},n().createElement(u.StackItem,null,n().createElement(d.TextContent,null,t.formatMessage(C.Z.addServiceAccountsToGroupDescription),n().createElement(i.Alert,{className:"pf-v5-u-mt-sm rbac-service-accounts-alert",variant:"info",component:"span",isInline:!0,isPlain:!0,title:t.formatMessage(C.Z.visitServiceAccountsPage,{link:n().createElement(f.Z,{to:"/service-accounts",linkBasename:"/iam"},t.formatMessage(C.Z.serviceAccountsPage))})}))),n().createElement(u.StackItem,{className:"rbac-add-service-account-modal"},n().createElement(g.K,{selected:b,setSelected:M}))))}}}]);
//# sourceMappingURL=../sourcemaps/9009.4197b6b6654ce9daf1935a97e2ed4a65.js.map