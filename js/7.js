(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{554:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return y}));var r=n(187),a=n.n(r),i=n(6),o=n.n(i),c=n(550),s=n.n(c),l=n(518);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(t/e)+1},d=function(e){return Object.entries(e).reduce((function(e,t){var n=s()(t,2),r=n[0],a=n[1];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{},a&&o()({},r,a))}),{})},f=n.n(l)()((function(e){return e()})),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return 0!==e.length&&e.every((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))}))||!(0===e.length||!e.some((function(e){var n=e.uuid;return t.find((function(e){return e.uuid===n}))})))&&null},b=function(e,t){return function(n){return t?[].concat(a()(n),a()(e)).filter((function(e,t,n){return n.findIndex((function(t){var n=t.uuid;return e.uuid===n}))===t})):n.filter((function(t){return!e.find((function(e){return e.uuid===t.uuid}))}))}},y=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},555:function(e,t,n){"use strict";n.d(t,"f",(function(){return q})),n.d(t,"e",(function(){return G})),n.d(t,"a",(function(){return N})),n.d(t,"l",(function(){return M})),n.d(t,"i",(function(){return A})),n.d(t,"b",(function(){return z})),n.d(t,"j",(function(){return J})),n.d(t,"h",(function(){return U})),n.d(t,"g",(function(){return W})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return K})),n.d(t,"k",(function(){return Q}));var r=n(9),a=n(562),i=n.n(a),o=n(6),c=n.n(o),s=n(550),l=n.n(s),u=n(563),p=n.n(u),d=n(560);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=Object(d.a)();function y(e){return g.apply(this,arguments)}function g(){return(g=p()(i.a.mark((function e(t){var n,r,a,o,c,s,u,p;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,a=t.name,o=t.orderBy,e.next=3,Promise.all([b.listGroups(n,r,a,void 0,void 0,void 0,void 0,void 0,o),insights.chrome.auth.getUser()]);case 3:return c=e.sent,s=l()(c,2),u=s[0],p=s[1],e.abrupt("return",m({},u,{},p));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return E.apply(this,arguments)}function E(){return(E=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return w.apply(this,arguments)}function w(){return(w=p()(i.a.mark((function e(t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=b.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=b.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return T.apply(this,arguments)}function T(){return(T=p()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return b.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return k.apply(this,arguments)}function k(){return(k=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){return S.apply(this,arguments)}function S(){return(S=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return I.apply(this,arguments)}function I(){return(I=p()(i.a.mark((function e(t,n,r){var a,o,c,s,l,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.limit,o=r.offset,c=r.name,s=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,b.listRolesForGroup(t,n,c,s,a,o,void 0,l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return _.apply(this,arguments)}function _(){return(_=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return L.apply(this,arguments)}function L(){return(L=p()(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t){return V.apply(this,arguments)}function V(){return(V=p()(i.a.mark((function e(t,n){var r,a=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.next=3,b.getPrincipalsFromGroup(t,n,void 0,{query:m({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.g,payload:y(e)}},G=function(e){return{type:r.f,payload:v(e)}},N=function(e){return{type:r.a,payload:j(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding group",dismissDelay:8e3,dismissable:!1,description:"The group was added successfully."},rejected:{variant:"danger",title:"Failed adding group",dismissDelay:8e3,dismissable:!1,description:"The group was not added successfuly."}}}}},M=function(e){return{type:r.u,payload:O(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},A=function(e){return{type:r.p,payload:x(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},z=function(e,t){return{type:r.b,payload:R(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},J=function(e,t){return{type:r.q,payload:P(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},U=function(e,t,n){return{type:r.m,payload:D(e,!1,t,n)}},W=function(e,t,n){return{type:r.i,payload:B(e,t,n)}},H=function(e,t,n){return{type:r.e,payload:D(e,!0,t,n)}},K=function(e,t){return{type:r.d,payload:F(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},Q=function(e,t){return{type:r.s,payload:C(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var r=n(57),a=n.n(r),i=n(6),o=n.n(i),c=n(550),s=n.n(c),l=n(0),u=n.n(l),p=n(1),d=n.n(p),f=n(20),m=n(249),b=n(248),y=n(521),g=n(25),v=n(193),h=n(520),O=n(71),E=n(522),j=n.n(E),w=n(554),x=n(187),T=n.n(x),P=n(519),k=n(286),R=n(36);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return D({},e,{itemCount:e.count,perPage:e.limit,page:Object(w.d)(e.limit,e.offset),onSetPage:function(a,i){t(D({},e,{offset:(i-1)*e.limit,name:n,orderBy:r}))},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50}],onPerPageSelect:function(a,i){t(D({},e,{offset:0,limit:i,name:n,orderBy:r}))}})},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return{count:t.length,items:[{title:"Select none (0)",onClick:function(){n((function(){return[]}))}},D({},!e&&r&&r.length>0?{title:"Select page (".concat(r.length,")"),onClick:function(){n(Object(w.f)(r,!0))}}:{})],checked:Object(w.a)(r,t),onSelect:function(t){!e&&n(Object(w.f)(r,t))}}},_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0;return{items:[].concat(T()(l&&l.length>0?l.map((function(r){var i=r.key,c=r.value,s=r.placeholder;return{label:Object(w.c)(i),type:"text",filterValues:{id:"filter-by-".concat(i),key:"filter-by-".concat(i),placeholder:s||"Filter by ".concat(i),value:c,onChange:function(e,r){t(D({},a,o()({offset:0},i,r))),Object(w.b)((function(){return n(D({},a,{offset:0,orderBy:u},l.reduce((function(e,t){return D({},e,o()({},t.key,t.value))}),{}),o()({},i,r)))}))},isDisabled:e}}})):[{label:Object(w.c)(c||i),type:"text",filterValues:{id:"filter-by-string",key:"filter-by-string",placeholder:"Filter by ".concat(c||i),value:r,onChange:function(e,r){t(D({},a,{offset:0,name:r})),Object(w.b)((function(){return n(D({},a,{offset:0,name:r,orderBy:u}))}))},isDisabled:e}}]),T()(s||[]))}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},i=arguments.length>5?arguments[5]:void 0;return{filters:t&&t.length>0?t.map((function(e){var t=e.key,n=e.value;return n&&{category:Object(w.c)(t),type:t,chips:[{name:n}]}})).filter(Boolean):[{name:e}],onDelete:function(e,c,l){var u=s()(c,1)[0];r(D({},n,{offset:0,name:""},t?t.reduce((function(e,t){var n=t.key,r=t.value;return D({},e,o()({},n,u.type===n||l?"":r))}),{}):{name:""})),a(D({},n,{offset:0,orderBy:i},t?t.reduce((function(e,t){var n=t.key,r=t.value;return D({},e,o()({},n,u.type===n||l?"":r))}),{}):{name:""}))}}},L=function(e){var t=e.isSelectable,n=e.checkedRows,r=e.setCheckedItems,i=e.isLoading,o=e.data,c=e.titleSingular,s=e.filterValue,l=e.setFilterValue,p=e.pagination,d=e.fetchData,f=e.sortBy,m=e.toolbarButtons,b=e.filterPlaceholder,y=e.filterItems,g=e.textFilters;return u.a.createElement(P.PrimaryToolbar,a()({},t&&{bulkSelect:C(i,n,r,o)},{filterConfig:_(i,l,d,s,p,c,b,y,g,f),actionsConfig:{actions:m()}},!i&&{pagination:I(p,d,s,f)},(s.length>0||g&&g.length>0)&&{activeFiltersConfig:F(s,g,p,l,d,f)}))};L.propTypes={isSelectable:d.a.bool,checkedRows:d.a.array,setCheckedItems:d.a.func,isLoading:d.a.bool,data:d.a.array,titleSingular:d.a.string,filterValue:d.a.oneOfType([d.a.array,d.a.string]),setFilterValue:d.a.func,textFilters:d.a.arrayOf(d.a.shape({value:d.a.oneOfType([d.a.string,d.a.number]),key:d.a.string,placeholder:d.a.string})),pagination:d.a.shape({limit:d.a.number,offset:d.a.number,count:d.a.number}),sortBy:d.a.string,filterItems:k.ConditionalFilter.propTypes.items,filterPlaceholder:d.a.string,isCollapsible:d.a.bool,fetchData:d.a.func,toolbarButtons:d.a.func},L.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:R.b,setCheckedItems:function(){},setFilterValue:function(){},sortBy:void 0,fetchData:function(){},toolbarButtons:function(){return[]},filterItems:[],textFilters:[]};var B=L,V=n(72),q=n.n(V),G=n(73),N=n(58),M=n(195),A=n(194),z=n(191),J=n.n(z),U=function(e){var t=e.title,n=e.icon,r=e.description,i=e.actions,o=q()(e,["title","icon","description","actions"]);return u.a.createElement(G.EmptyState,a()({variant:G.EmptyStateVariant.full},o),u.a.createElement(A.EmptyStateIcon,{icon:n||J.a}),u.a.createElement(N.Title,{headingLevel:"h5",size:"lg"},t),u.a.createElement(M.EmptyStateBody,null,r.map((function(e,t){return u.a.createElement(u.a.Fragment,{key:t},e," ",u.a.createElement("br",null))}))),i)};U.propTypes={icon:d.a.func,title:d.a.node,description:d.a.node,actions:d.a.arrayOf(d.a.node),className:d.a.string};var W=U;n(570);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){var t=e.isCompact,n=e.createRows,r=e.borders,i=e.columns,c=e.toolbarButtons,p=e.data,d=e.actionResolver,E=e.areActionsDisabled,x=e.routes,T=e.titlePlural,P=e.titleSingular,k=e.pagination,R=e.filterValue,S=e.isLoading,D=e.setFilterValue,C=e.checkedRows,_=e.isSelectable,F=e.fetchData,L=e.setCheckedItems,V=e.isCollapsible,q=e.emptyProps,G=e.filterPlaceholder,N=e.rowWrapper,M=e.textFilters,A=e.sortBy,z=e.isExpandable,J=e.onExpand,U=Object(l.useState)({}),H=s()(U,2),Q=H[0],X=H[1],Y=Object(l.useState)({index:void 0,direction:void 0}),Z=s()(Y,2),$=Z[0],ee=Z[1];Object(l.useEffect)((function(){ee(K({},A,{},void 0!==$.index&&$))}),[A]);var te=n(p,Q,C),ne=function(e,t,n,r){var a=r.uuid;return X((function(e){return K({},e,o()({},a,n))}))};return u.a.createElement(l.Fragment,null,x(),!S&&0===te.length&&0===R.length&&M.every((function(e){return!e.value}))?u.a.createElement(W,a()({title:"Configure ".concat(T),icon:j.a,description:["To configure user access to applications","create at least one ".concat(P)],actions:c()[0]},q)):u.a.createElement(l.Fragment,null,u.a.createElement(B,{isSelectable:_,checkedRows:C,setCheckedItems:L,isLoading:S,data:p,titleSingular:P,filterValue:R,setFilterValue:D,sortBy:void 0!==$.index&&$.index-_>=0&&"".concat("desc"===$.direction?"-":"").concat(i[$.index-_].key)||void 0,pagination:k,fetchData:F,toolbarButtons:c,filterPlaceholder:G,textFilters:M}),S?u.a.createElement(O.d,null):u.a.createElement(f.b,a()({canSelectAll:!1,"aria-label":"".concat(T," table"),variant:t?f.e.compact:null,borders:r},V&&{onCollapse:ne},_&&te.length>0&&{onSelect:function(e,t,n,r){var a=r.uuid,i=s()(r.cells,1)[0];return L(Object(w.f)([{uuid:a,name:i}],t))}},z&&{onExpand:J},{rows:te.length>0?te:[{fullWidth:!0,cells:[{title:u.a.createElement(W,{title:"No matching ".concat(T," found"),description:["This filter criteria matches no ".concat(T,"."),"Try changing your filter settings."],actions:[u.a.createElement(h.EmptyStatePrimary,{key:"clear-filters"},u.a.createElement(g.Button,{variant:"link",onClick:function(){D(K({},k,{offset:0,name:""})),F(K({},k,{offset:0,name:""}))}},"Clear all filters"))]}),props:{colSpan:i.length+Boolean(ne)}}]}],cells:i},te.length>0&&{actionResolver:d},{areActionsDisabled:E,rowWrapper:N,sortBy:$,onSort:function(e,t,n){ee({index:t,direction:n}),F(K({},k,{offset:0,name:R,orderBy:"".concat("desc"===n?"-":"").concat(i[t-_].key)}))}}),u.a.createElement(m.a,null),u.a.createElement(b.a,null)),!k.noBottom&&u.a.createElement(y.TableToolbar,null,!S&&u.a.createElement(v.Pagination,a()({},I(k,F,R),{variant:"bottom",dropDirection:"up"})))))};Q.propTypes=K({},B.propTypes,{rowWrapper:d.a.any,isCompact:d.a.bool,borders:d.a.bool,createRows:d.a.func.isRequired,columns:d.a.array.isRequired,titlePlural:d.a.string,routes:d.a.func,actionResolver:d.a.func,areActionsDisabled:d.a.func,pagination:d.a.shape({noBottom:d.a.bool}),isExpandable:d.a.bool,onExpand:d.a.func}),Q.defaultProps=K({},B.defaultProps,{isCompact:!1,borders:!0,routes:function(){return null}})},557:function(e,t,n){(t=n(3)(!1)).push([e.i,".pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item{min-width:5rem}\n",""]),e.exports=t},558:function(e,t,n){(t=n(3)(!1)).push([e.i,".ins-rbac-page-header__title{display:block}.ins-rbac-page-header__title+.ins-rbac-page-header__description{margin-top:8px}\n",""]),e.exports=t},559:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"d",(function(){return T})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return k})),n.d(t,"c",(function(){return R}));var r=n(9),a=n(6),i=n.n(a),o=n(562),c=n.n(o),s=n(563),l=n.n(s),u=n(560);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=Object(u.c)();function m(e){return b.apply(this,arguments)}function b(){return(b=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createRoles(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=e.limit,n=e.offset,r=e.name,a=e.scope,i=e.orderBy,o=e.addFields,c=e.username;return f.listRoles(t,n,r,a,i,o,c)}function g(e){return v.apply(this,arguments)}function v(){return(v=l()(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,a=t.name,i=t.orderBy,e.t0=d,e.t1={},e.next=5,f.listRoles(n,r,a,"account",i,["groups_in_count"]);case 5:return e.t2=e.sent,e.t3={},e.next=9,insights.chrome.auth.getUser();case 9:return e.t4=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3,e.t4));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return O.apply(this,arguments)}function O(){return(O=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return j.apply(this,arguments)}function j(){return(j=l()(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deleteRole(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e){return{type:r.c,payload:m(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding role",dismissDelay:8e3,dismissable:!1,description:"The role was added successfully."},rejected:{variant:"danger",title:"Failed adding role",dismissDelay:8e3,dismissable:!1,description:"The role was not added successfuly."}}}}},x=function(e){return{type:r.k,payload:h(e)}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.l,payload:y(e)}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.l,payload:g(e)}},k=function(e){return{type:r.r,payload:E(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing role",dismissDelay:8e3,dismissable:!1,description:"The role was removed successfully."}}}}},R=function(e){return{type:r.n,payload:h(e)}}},560:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return p}));var r=n(517),a=n.n(r),i=n(516),o=new i.PrincipalApi(void 0,"/api/rbac/v1",a.a),c=new i.GroupApi(void 0,"/api/rbac/v1",a.a),s=new i.RoleApi(void 0,"/api/rbac/v1",a.a);new i.PolicyApi(void 0,"/api/rbac/v1",a.a);function l(){return o}function u(){return c}function p(){return s}},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return O}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(278),s=n(279),l=n(526),u=n(527),p=n(528),d=n(71),f=n(70),m=n(523),b=n(524),y=function(e){return e?a.a.createElement(m.Breadcrumb,null,Object.values(e).map((function(e){return e.title?a.a.createElement(b.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a.a.createElement(f.c,{exact:!0,to:e.to},e.title)||e.title):a.a.createElement(d.b,null)}))):null};y.propTypes={breadcrumbs:o.a.object};var g=y,v=n(525),h=(n(571),function(e){var t=e.children,n=e.breadcrumbs;return a.a.createElement(r.Fragment,null,n&&a.a.createElement("section",{className:"pf-c-page__main-breadcrumb"},a.a.createElement(g,n)),a.a.createElement(v.PageHeader,{className:"ins-rbac-page-header"},t))});h.propTypes={children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired,breadcrumbs:o.a.array,paddingBottom:o.a.bool},h.defaultProps={paddingBottom:!1};var O=function(e){var t=e.title,n=e.renderTitleTag,i=e.description,o=e.children;return a.a.createElement(r.Fragment,null,a.a.createElement(l.Flex,null,a.a.createElement(u.FlexItem,{breakpointMods:[{modifier:p.FlexModifiers["spacer-sm"]}]},a.a.createElement(v.PageHeaderTitle,{title:t||a.a.createElement(d.e,null),className:"ins-rbac-page-header__title"})),a.a.createElement(u.FlexItem,{breakpointMods:[{modifier:p.FlexModifiers["align-self-center"]}]},n&&n())),i&&a.a.createElement(s.TextContent,{className:"ins-rbac-page-header__description"},a.a.createElement(c.Text,{component:c.TextVariants.p},i)),o)};O.propTypes={title:o.a.string,renderTitleTag:o.a.func,description:o.a.string,children:o.a.oneOfType([o.a.node,o.a.arrayOf(o.a.node)])}},564:function(e,t,n){(t=n(3)(!1)).push([e.i,".ins-c-wizard__cancel-warning-header{display:flex;align-items:center}.ins-c-wizard__cancel-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""]),e.exports=t},565:function(e,t,n){(t=n(3)(!1)).push([e.i,".ins-m-wizard__hidden{display:none}\n",""]),e.exports=t},566:function(e,t,n){(t=n(3)(!1)).push([e.i,".ins-c-role__permissions .pf-c-content{padding-bottom:var(--pf-global--spacer--lg)}\n",""]),e.exports=t},570:function(e,t,n){var r=n(4),a=n(557);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(557,(function(){var t=n(557);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},571:function(e,t,n){var r=n(4),a=n(558);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(558,(function(){var t=n(558);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},577:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(0),a=n.n(r),i=n(1),o=n.n(i),c=n(512),s=n(25),l=n(281),u=n.n(l),p=(n(578),function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,i=e.onConfirmCancel;return a.a.createElement(c.Modal,{title:a.a.createElement("span",{className:"ins-c-wizard__cancel-warning-header"},a.a.createElement(u.a,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),"Exit ",t," creation?"),isSmall:!0,className:"ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[a.a.createElement(s.Button,{key:"confirm",variant:"primary",onClick:i},"Exit"),a.a.createElement(s.Button,{key:"cancel",variant:"link",onClick:r},"Stay")],isFooterLeftAligned:!0},a.a.createElement("span",null," All inputs will be discarded."))});p.propTypes={type:o.a.string,isOpen:o.a.bool,onModalCancel:o.a.func,onConfirmCancel:o.a.func}},578:function(e,t,n){var r=n(4),a=n(564);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(564,(function(){var t=n(564);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},579:function(e,t,n){var r=n(4),a=n(565);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(565,(function(){var t=n(565);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},584:function(e,t,n){var r=n(4),a=n(566);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1},o=r(a,i),c=a.locals?a.locals:{};a.locals||e.hot.accept(566,(function(){var t=n(566);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[e.i,t,""]]),o(t)})),e.hot.dispose((function(){o()})),e.exports=c},587:function(e,t,n){"use strict";var r=n(187),a=n.n(r),i=n(6),o=n.n(i),c=n(0),s=n.n(c),l=n(42),u=n(50),p=n(559),d=n(561),f=n(71),m=n(550),b=n.n(m),y=n(279),g=n(278),v=n(556),h=n(513),O=function(e){return e.reduce((function(e,t){var n=t.permission,r=t.modified,i=n.split(":"),o=b()(i,3),l=o[0],u=o[1],p=o[2];return[].concat(a()(e),[{cells:[l,u,p,s.a.createElement(c.Fragment,{key:"".concat(l,"-modified")},s.a.createElement(h.DateFormat,{date:r,type:"relative"}))]}])}),[])},E=n(239),j=(n(584),n(36));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Last commit",transforms:[Object(E.a)(15)]}],P=function(){var e=Object(c.useState)({pagination:x({},j.b,{filter:""})}),t=b()(e,2),n=t[0],r=t[1],a=Object(u.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),u.shallowEqual),i=a.role,o=a.isRecordLoading,l=n.pagination,p=n.filter;Object(c.useEffect)((function(){r(x({},n,{pagination:x({},n.pagination,{count:i.access?i.access.length:0})}))}),[i]);var d=i&&i.access?(i.access||[]).filter((function(e){var t=e.permission;return"*"!==t&&!p||t.includes(p)})).map((function(e){return x({},e,{modified:i.modified})})):[];return s.a.createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},s.a.createElement(y.TextContent,null,s.a.createElement(g.Text,{component:g.TextVariants.h1},"Permissions")),s.a.createElement(v.a,{columns:T,createRows:O,data:d.slice(l.offset,l.offset+l.limit),filterValue:p,fetchData:function(e){var t=e.limit,a=e.offset,i=e.name;return r(x({},n,{filter:i,pagination:x({},n.pagination,{limit:t,offset:a})}))},setFilterValue:function(e){var t=e.name;return r(x({},n,{filter:t}))},isLoading:o,pagination:x({},l,{count:d.length}),titlePlural:"permissions",titleSingular:"permission"}))},k=n(555);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.a=function(){var e=Object(l.h)(),t=e.uuid,n=e.groupUuid,r=Object(u.useSelector)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},n&&{group:e.groupReducer.selectedGroup})}),u.shallowEqual),i=r.role,m=r.group,b=r.isRecordLoading,y=Object(u.useDispatch)();return Object(c.useEffect)((function(){y(Object(p.b)(t)),n&&y(Object(k.e)(n))}),[t,n]),s.a.createElement(c.Fragment,null,s.a.createElement(d.a,{breadcrumbs:[n?{title:"Groups",to:"/groups"}:{title:"Roles",to:"/roles"}].concat(a()(n?[{title:m&&m.name,to:"/groups/detail/".concat(n,"/roles"),isLoading:m&&m.loaded}]:[]),[{title:i&&i.name,isActive:!0}])},s.a.createElement(d.b,{title:!b&&i?i.name:void 0,description:!b&&i?i.description:void 0})),b||!i?s.a.createElement(f.d,null):s.a.createElement(P,null))}},637:function(e,t,n){"use strict";n.r(t);var r=n(6),a=n.n(r),i=n(550),o=n.n(i),c=n(0),s=n.n(c),l=n(50),u=n(42),p=n(70),d=n(239),f=n(238),m=n(25),b=n(510),y=n(511),g=n(187),v=n.n(g),h=n(513),O=function(e){return e.reduce((function(e,t){var n=t.uuid,r=t.name,a=t.description,i=t.system,o=t.accessCount,l=t.groups_in_count,u=t.modified;return[].concat(v()(e),[{uuid:n,system:i,cells:[s.a.createElement(c.Fragment,{key:"".concat(n,"-name")},s.a.createElement(p.b,{to:"/roles/detail/".concat(n)},r)),a,s.a.createElement(c.Fragment,{key:"".concat(n,"-accessCount")},s.a.createElement(p.b,{to:"/roles/detail/".concat(n)},o)),l,s.a.createElement(c.Fragment,{key:"".concat(n,"-modified")},s.a.createElement(h.DateFormat,{date:u,type:"relative"}))]}])}),[])},E=n(554),j=n(559),w=n(561),x=n(556),T=n(562),P=n.n(T),k=n(563),R=n.n(k),S=n(189),D=n(1),I=n.n(D),C=n(529),_=n(188),F=n(278),L=n(279),B=n(532),V=n(533),q=n(58),G=n(20),N=n(249),M=n(248),A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.resourceDefinitions,a=void 0===r?[]:r,i=[{title:"Key"},{title:"Operation"},{title:"value"},""],o=a.map((function(e){return{cells:[{title:e.key},{title:e.operation},{title:e.value},{title:n?s.a.createElement(m.Button,{variant:"link",isInline:!0,onClick:function(){return t(e)}},"Remove"):null}]}}));return s.a.createElement(G.b,{"aria-label":"Resource definitions",cells:i,rows:o,variant:G.e.compact},s.a.createElement(N.a,null),s.a.createElement(M.a,null))};A.propTypes={resourceDefinitions:I.a.arrayOf(I.a.shape({key:I.a.number.isRequired,operation:I.a.number.isRequired,value:I.a.number.isRequired}))};var z=A,J=function(e){var t=e.application,n=void 0===t?"":t,r=e.description,a=void 0===r?"":r,i=e.name,o=void 0===i?"":i,c=e.permission,l=void 0===c?"":c,u=e.resourceType,p=void 0===u?"":u;return s.a.createElement(b.Stack,{gutter:"md"},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{size:"xl"},"Confirm details")),s.a.createElement(y.StackItem,null,s.a.createElement(b.Stack,{gutter:"md"},s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h5},"Confirm the details for your source, or click Back to revise"))),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(B.TextList,{component:B.TextListVariants.dl},s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Name"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},o),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Description"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},a),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Application"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},n),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Resource type"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},p),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Operation"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},l),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dt},"Resource definition"),s.a.createElement(V.TextListItem,{component:V.TextListItemVariants.dd},new z(e))))))))};J.propTypes={application:I.a.string,description:I.a.string,name:I.a.string,permission:I.a.string,resourceType:I.a.string};var U=J,W=n(190),H=n(103),K=n(104);function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var X=function(e,t){var n=Object(c.useState)({key:"",operation:"",value:""}),r=o()(n,2),i=r[0],l=r[1],u=e.resourceDefinitions,p=void 0===u?[]:u,d=function(){for(var e=!1,t=0;t<p.length;t++){var n=p[t];if(n.key===i.key&&n.operation===i.operation&&n.value===i.value){e=!0;break}}return e},f=!d()&&i.key.trim().length>0&&i.operation.trim().length>0&&i.value.trim().length>0,g=function(e){l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,{},e))};return s.a.createElement(b.Stack,{gutter:"md"},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{size:"xl"},"Resource definitions")),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h6},"If there needs to be more details on the resources the permission is to be used for, it would be detailed here."))),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Key",fieldId:"resource-key"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-key",id:"resource-key",name:"resource-key",onChange:function(e,t){return g({key:t.currentTarget.value})},type:"text",value:i.key})),s.a.createElement(H.FormGroup,{label:"Operation",fieldId:"resource-operation"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-operation",id:"resource-operation",name:"resource-operation",onChange:function(e,t){return g({operation:t.currentTarget.value})},type:"text",value:i.operation})),s.a.createElement(H.FormGroup,{label:"Value",fieldId:"resource-value"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-value",id:"resource-value",name:"resource-value",onChange:function(e,t){return g({value:t.currentTarget.value})},type:"text",value:i.value})))),s.a.createElement(y.StackItem,null,s.a.createElement(m.Button,{variant:"primary",isDisabled:!f,onClick:function(){if(!d()){var e=[].concat(v()(p),[i]);t({resourceDefinitions:e})}}},"Add to definitions")),s.a.createElement(y.StackItem,null,new z(e,(function(e){for(var n=[],r=0;r<p.length;r++){var a=p[r];a.key===e.key&&a.operation===e.operation&&a.value===e.value||n.push(a)}t({resourceDefinitions:n})}),!0)))};X.propTypes={resourceDefinitions:I.a.arrayOf(I.a.shape({key:I.a.number.isRequired,operation:I.a.number.isRequired,value:I.a.number.isRequired}))};var Y=X,Z=n(285),$=function(e,t){var n=e.description,r=void 0===n?"":n,a=e.name,i=void 0===a?"":a;return s.a.createElement(b.Stack,{gutter:"md"},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{size:"xl"},"Name and description")),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Name",isRequired:!0,fieldId:"name"},s.a.createElement(K.TextInput,{isRequired:!0,type:"text",id:"name",name:"name","aria-describedby":"name",value:i,onChange:function(e,n){return t({name:n.currentTarget.value},n.currentTarget.value.trim().length>0)}})),s.a.createElement(H.FormGroup,{label:"Description",fieldId:"description"},s.a.createElement(Z.TextArea,{type:"text",id:"description",name:"description",value:r,onChange:function(e,n){return t({description:n.currentTarget.value},!0)}})))))};$.propTypes={name:I.a.string,description:I.a.string};var ee=$;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ne=function(e,t){var n=e.application,r=void 0===n?"":n,i=e.permission,o=void 0===i?"":i,c=e.resourceType,l=void 0===c?"":c,u=function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({application:r,permission:o,resourceType:l},e)},p=function(e){var n=u(e),r=n.application.trim().length>0&&n.permission.trim().length>0&&n.resourceType.trim().length>0;t(n,r)};return s.a.createElement(b.Stack,{gutter:"md"},s.a.createElement(y.StackItem,null,s.a.createElement(q.Title,{size:"xl"},"Permission")),s.a.createElement(y.StackItem,null,s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h6},"The permission string is made up of the following inputs where it denotes which application and the resource type the permission will be allowed for."))),s.a.createElement(y.StackItem,null,s.a.createElement(W.Form,null,s.a.createElement(H.FormGroup,{label:"Application",isRequired:!0,fieldId:"application"},s.a.createElement(K.TextInput,{"aria-describedby":"application",id:"application",isRequired:!0,name:"application",onChange:function(e,t){return p({application:t.currentTarget.value})},type:"text",value:r})),s.a.createElement(H.FormGroup,{label:"Resource type",isRequired:!0,fieldId:"resource-type"},s.a.createElement(K.TextInput,{"aria-describedby":"resource-type",id:"resource-type",isRequired:!0,name:"resource-type",onChange:function(e,t){return p({resourceType:t.currentTarget.value})},type:"text",value:l})),s.a.createElement(H.FormGroup,{label:"Permission",isRequired:!0,fieldId:"permission"},s.a.createElement(K.TextInput,{"aria-describedby":"permission",id:"permission",isRequired:!0,name:"permission",onChange:function(e,t){return p({permission:t.currentTarget.value})},type:"text",value:o})))))};ne.propTypes={application:I.a.string,permission:I.a.string,resourceType:I.a.string};var re=ne,ae=n(577);n(579);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var oe=function(e){var t=e.addNotification,n=e.createRole,r=e.history.push,i=e.pagination,l=Object(c.useState)({}),u=o()(l,2),p=u[0],d=u[1],f=Object(c.useState)(!1),m=o()(f,2),b=m[0],y=m[1],g=Object(c.useState)(!1),v=o()(g,2),h=v[0],O=v[1],E=Object(c.useState)(1),w=o()(E,2),x=w[0],T=w[1],k=function(e){d(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{},e))},S=[{id:1,name:"Name and Description",canJumpTo:x>=1,component:new ee(p,(function(e,t){k(e),y(t)})),enableNext:b},{id:2,name:"Permission",canJumpTo:x>=2&&b,component:new re(p,(function(e,t){k(e),O(t)})),enableNext:h},{id:3,name:"Resource definitions",canJumpTo:x>=3&&b&&h,component:new Y(p,k)},{id:4,name:"Review",canJumpTo:x>=4&&b&&h,component:new U(p),nextButtonText:"Confirm"}],D=function(){var e=R()(P.a.mark((function e(){var t,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={applications:[p.application],description:p.description,name:p.name,access:[{permission:"".concat(p.application,":").concat(p.resourceType,":").concat(p.permission),resourceDefinitions:p.resourceDefinitions.map((function(e){return{attributeFilter:{key:e.key,operation:e.operation,value:e.value}}}))}]},e.next=3,n(t);case 3:return a=e.sent,Object(j.d)(i).then(r("/roles")),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){t({variant:"warning",title:"Creating role was canceled by the user",dismissDelay:8e3,dismissable:!1}),r("/roles")},_=Object(c.useState)(!1),F=o()(_,2),L=F[0],B=F[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(C.Wizard,{className:L&&"ins-m-wizard__hidden",isLarge:!0,title:"Add role",isOpen:!0,onClose:function(){!Object.values(p).filter(Boolean).length>0&&I()||B(!0)},onNext:function(e){var t=e.id;T(x<t?t:x)},onSave:D,steps:S}),s.a.createElement(ae.a,{type:"role",isOpen:L,onModalCancel:function(){return B(!1)},onConfirmCancel:I}))};oe.defaultProps={users:[],inputValue:"",selectedGroup:void 0,selectedUsers:[],selectedRoles:[]},oe.propTypes={history:I.a.shape({goBack:I.a.func.isRequired,push:I.a.func.isRequired}).isRequired,addNotification:I.a.func.isRequired,createRole:I.a.func.isRequired,fetchRoles:I.a.func.isRequired,inputValue:I.a.string,pagination:I.a.shape({limit:I.a.number.isRequired,offset:I.a.number.isRequired,count:I.a.number.isRequired})};var ce=Object(u.j)(Object(l.connect)((function(e){var t=e.roleReducer,n=t.roles,r=t.filterValue,a=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:a,searchFilter:r}}),(function(e){return Object(S.a)({addNotification:_.addNotification,createRole:j.a,fetchRoles:j.d},e)}))(oe)),se=n(512),le=n(283),ue=n(284),pe=n(71),de=function(e){var t=e.history,n=t.goBack,r=t.push,a=e.match.params.id,i=e.removeRole,o=e.role,l=e.isLoading,u=e.fetchRole,p=e.postMethod;Object(c.useEffect)((function(){u(a)}),[]);var d=function(){return n()};return s.a.createElement(se.Modal,{isOpen:!0,isSmall:!0,title:"",onClose:d,actions:[s.a.createElement(m.Button,{key:"cancel",variant:"secondary",type:"button",onClick:d},"Cancel"),s.a.createElement(m.Button,{key:"submit",isDisabled:l,variant:"primary",type:"button",onClick:function(){return i(a).then((function(){p(),r("/roles")}))}},"Confirm")]},s.a.createElement(le.Grid,{gutter:"sm"},s.a.createElement(ue.GridItem,{span:5},s.a.createElement(L.TextContent,null,s.a.createElement(F.Text,{component:F.TextVariants.h1},"Removing Role:"))),s.a.createElement(ue.GridItem,{span:6},s.a.createElement(L.TextContent,null,!l&&s.a.createElement(F.Text,{component:F.TextVariants.h1},o.name)),l&&s.a.createElement(pe.c,null))))};de.defaultProps={role:{},isLoading:!0},de.propTypes={addNotification:I.a.func.isRequired,fetchRole:I.a.func.isRequired,isLoading:I.a.bool,history:I.a.shape({goBack:I.a.func.isRequired,push:I.a.func.isRequired}).isRequired,match:I.a.shape({params:I.a.shape({id:I.a.string}).isRequired}).isRequired,postMethod:I.a.func,removeRole:I.a.func.isRequired,role:I.a.object};var fe=Object(u.j)(Object(l.connect)((function(e){var t=e.roleReducer,n=t.roles;return{role:t.selectedRole,isLoading:t.isRecordLoading,pagination:n.meta}}),(function(e){return Object(S.a)({addNotification:_.addNotification,fetchRole:j.b,removeRole:j.f},e)}))(de)),me=n(514),be=n(587);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ge=[{title:"Name",key:"name",transforms:[Object(d.a)(20),f.a]},{title:"Description"},{title:"Permissions",transforms:[Object(d.a)(5)]},{title:"Groups",transforms:[Object(d.a)(5)]},{title:"Last modified",key:"modified",transforms:[Object(d.a)(10),f.a]}],ve=function(e){var t=e.roleReducer,n=t.roles,r=t.isLoading;return{roles:n.data,pagination:n.meta,userIdentity:n.identity,userEntitlements:n.entitlements,isLoading:r}};t.default=function(){var e=Object(c.useState)(""),t=o()(e,2),n=t[0],r=t[1],i=Object(c.useState)(!1),d=o()(i,2),f=d[0],g=d[1],v=Object(l.useDispatch)(),h=Object(u.g)().push,T=Object(l.useSelector)(ve,l.shallowEqual),P=T.roles,k=T.isLoading,R=T.pagination,S=T.userIdentity,D=T.userEntitlements,I=function(e){return v(Object(j.e)(e))};Object(c.useEffect)((function(){insights.chrome.appNavClick({id:"roles",secondaryNav:!0}),I(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},R,{name:n})),window.insights.chrome.getUserPermissions("cost-management").then((function(e){var t=e.map((function(e){return e.permission}));g(t.includes("cost-management:*:*"))}))}),[]);var C=function(){return s.a.createElement(c.Fragment,null,s.a.createElement(u.b,{exact:!0,path:"/roles/add-role",component:ce}),s.a.createElement(u.b,{exact:!0,path:"/roles/remove/:id"},s.a.createElement(fe,{postMethod:function(){I(),r("")}})))},_=function(e){var t=e.system,n=insights.chrome.isBeta()&&S&&S.user&&S.user.is_org_admin;return t||!n?[]:[{title:"Delete",onClick:function(e,t,n){return h("/roles/remove/".concat(n.uuid))}}]},F=function(){return[s.a.createElement(c.Fragment,{key:"add-role"},D&&D.cost_management&&window.insights.chrome.isBeta()&&f?s.a.createElement(p.b,{to:"/roles/add-role"},s.a.createElement(m.Button,{variant:"primary","aria-label":"Create role"},"Create role")):s.a.createElement(c.Fragment,null))]};return s.a.createElement(u.d,null,s.a.createElement(u.b,{path:"/roles/detail/:uuid",render:function(e){return s.a.createElement(be.a,e)}}),s.a.createElement(u.b,{path:"/roles",render:function(){return s.a.createElement(b.Stack,null,s.a.createElement(y.StackItem,null,s.a.createElement(w.a,null,s.a.createElement(w.b,{title:"Roles"}))),s.a.createElement(y.StackItem,null,s.a.createElement(me.Section,{type:"content",id:"tab-roles"},s.a.createElement(x.a,{actionResolver:_,columns:ge,createRows:O,data:P,filterValue:n,fetchData:function(e){return I(Object(E.e)(e))},setFilterValue:function(e){var t=e.name;return r(t)},isLoading:k,pagination:R,routes:C,titlePlural:"roles",titleSingular:"role",toolbarButtons:F,filterPlaceholder:"name"}))))}}))}}}]);
//# sourceMappingURL=7.js.map