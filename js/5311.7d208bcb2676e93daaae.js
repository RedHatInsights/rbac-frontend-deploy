(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[5311],{89168:(e,t,n)=>{"use strict";n.d(t,{bt:()=>m,yi:()=>y,mD:()=>h,Rp:()=>_,gg:()=>O,m:()=>P,C$:()=>x,nV:()=>R,HA:()=>D,Wj:()=>C,V8:()=>F});var r=n(87757),i=n.n(r),o=n(59713),s=n.n(o),c=n(63038),a=n.n(c),l=n(48926),u=n.n(l);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,n(89400).tP)();function m(e){return b.apply(this,arguments)}function b(){return(b=u()(i().mark((function e(t){var n,r,o,s,c,l,u,p,m,b,y,v,h,g,_,E,O,w;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,o=t.nameMatch,s=t.scope,c=t.username,l=t.filters,u=void 0===l?{}:l,p=t.uuid,m=t.roleNames,b=t.roleDiscriminator,y=t.orderBy,v=t.options,h=t.inModal,g=void 0===h||h,e.next=3,Promise.all([f.listGroups(n,r,u.name,o,s,c,p,m,b,y,v),insights.chrome.auth.getUser()]);case 3:return _=e.sent,E=a()(_,2),O=E[0],w=E[1],e.abrupt("return",d(d(d({},O),g?{}:{filters:u,pagination:d(d({},null==O?void 0:O.meta),{},{offset:r,limit:n})}),w));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return(v=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return E.apply(this,arguments)}function E(){return(E=u()(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=f.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=f.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return w.apply(this,arguments)}function w(){return(w=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return f.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return j.apply(this,arguments)}function j(){return(j=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t,n){return S.apply(this,arguments)}function S(){return(S=u()(i().mark((function e(t,n,r){var o,s,c,a,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.limit,s=r.offset,c=r.name,a=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,f.listRolesForGroup(t,n,void 0,c,a,o,s,"display_name",l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t){return T.apply(this,arguments)}function T(){return(T=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return L.apply(this,arguments)}function L(){return(L=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t){return Z.apply(this,arguments)}function Z(){return(Z=u()(i().mark((function e(t,n){var r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,f.getPrincipalsFromGroup(t,n,void 0,{query:d({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(80150);const i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},1227:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(63038),i=n.n(r),o=n(80150),s=n.n(o),c=n(45697),a=n.n(c),l=n(69957),u=n(47173),p=n(93149),d=n(80236),f=n(79851),m=n(34512),b=n(49739),y=n(68774),v=(n(98487),function(e){var t=e.title,n=e.text,r=e.onClose,c=e.onSubmit,a=e.isOpen,v=e.confirmButtonLabel,h=e.withCheckbox,g=(0,o.useState)(!1),_=i()(g,2),E=_[0],O=_[1];return s().createElement(d.u,{className:"rbac",title:s().createElement("div",null,s().createElement(l.ZP,{className:"ins-m-alert ins-c-rbac__delete-icon"})," ",t),isOpen:a,variant:d.v.small,onClose:r,actions:[s().createElement(u.zx,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:h&&!E,variant:"danger",onClick:c},v),s().createElement(u.zx,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:r},"Cancel")]},s().createElement(f.P,{hasGutter:!0},s().createElement(m.J,{isFilled:!0},s().createElement(b.K,{hasGutter:!0},s().createElement(y.D,null,n)))),h?s().createElement(p.X,{isChecked:E,onChange:function(){return O(!E)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)});v.propTypes={text:a().any,title:a().string,confirmButtonLabel:a().string,onSubmit:a().func,onClose:a().func,isOpen:a().bool,withCheckbox:a().bool},v.defaultProps={withCheckbox:!1};const h=v},29215:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,A:()=>f});var r=n(36580),i=n(87757),o=n.n(i),s=n(48926),c=n.n(s),a=(0,n(89400).i$)();function l(e){return u.apply(this,arguments)}function u(){return(u=c()(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getResourceTypes(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return d.apply(this,arguments)}function d(){return(d=c()(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getResource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){return{type:r.s6,payload:l(e)}},m=function(e){return{type:r.ZX,payload:p(e)}}},64007:(e,t,n)=>{"use strict";n.d(t,{bt:()=>c,WD:()=>a,yi:()=>l,Rp:()=>u,mD:()=>p,gg:()=>d,dy:()=>f,tz:()=>m,nV:()=>b,nd:()=>y,nr:()=>v,Wj:()=>h,W3:()=>g});var r=n(36580),i=n(89168),o=n(11107),s=function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"group uuid validation"===n.source)return{error:o.VG};throw e},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:i.bt(e)}},a=function(e){return{type:r.kL,payload:i.bt({limit:1,filters:{name:(null==e?void 0:e.length)>0?e:"default"},nameMatch:"partial"})}},l=function(e){return{type:r._h,payload:i.yi(e).catch(s)}},u=function(e){return{type:r.Po,payload:i.Rp(e).catch((function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"name"===n.source)return{error:!0};throw{message:n.detail,description:n.source}}))}},p=function(e){return{type:r.t3,payload:i.mD(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},d=function(e){return{type:r.v9,payload:i.gg(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},f=function(e,t){return{type:r.Nr,payload:i.C$(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},m=function(e,t){return{type:r.b9,payload:i.m(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},b=function(e,t,n){return{type:r.XS,payload:i.nV(e,!1,t,n).catch(s)}},y=function(e,t,n){return{type:r.Vh,payload:i.V8(e,t,n).catch(s)}},v=function(e,t,n){return{type:r.as,payload:i.nV(e,!0,t,n).catch(s)}},h=function(e,t){return{type:r.fG,payload:i.Wj(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},g=function(e,t){return{type:r.Yc,payload:i.HA(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},40483:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(59713),i=n.n(r),o=n(6479),s=n.n(o),c=n(67154),a=n.n(c),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(25607),m=n(81554),b=n(58860),y=n(74219),v=n(57820),h=n(16396),g=n(4853);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E="modal-form",O=function(e){return u().createElement(g.l,a()({},e,{id:E}))},w=function(e){var t=e.saveLabel,n=e.cancelLabel,r=(0,b.Z)().onCancel;return u().createElement(f.Z,null,(function(e){var i=e.pristine,o=e.invalid,s=e.validating,c=e.submitting;return u().createElement("div",{className:"pf-c-form"},u().createElement(v.W,{className:"pf-u-mt-0"},u().createElement(h.Button,{ouiaId:"primary-save-button",variant:"primary",form:E,type:"submit",isDisabled:i||s||c||o},t),u().createElement(h.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:r,id:"cancel-modal"},n)))}))};w.propTypes={saveLabel:d().node,cancelLabel:d().node},w.defaultProps={saveLabel:"Save",cancelLabel:"Cancel"};var P=function(e){var t=e.ModalProps,n=e.saveLabel,r=e.cancelLabel,i=e.alert,o=s()(e,["ModalProps","saveLabel","cancelLabel","alert"]);return u().createElement(y.Modal,a()({},t,{footer:u().createElement(w,{saveLabel:n,cancelLabel:r})}),null==i?void 0:i(),u().createElement(m.ZP,a()({},o,{showFormControls:!1,FormWrapper:O})))};P.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ModalProps:d().object},w.propTypes);const j=P},36457:(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var r=n(67154),i=n.n(r),o=n(59713),s=n.n(o),c=n(6479),a=n.n(c),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(319),m=n.n(f),b=n(90784),y=n(22608),v=n(59775),h=n(68774),g=n(68340),_=function(e){var t=e.input,n=e.options,r=e.isReadOnly,o=e.isDisabled,s=e.isRequired,c=a()(e,["input","options","isReadOnly","isDisabled","isRequired"]);return u().createElement(b.i,i()({},t,c,{isDisabled:o||r}),function(e,t,n){if(t&&n)return e;var r=m()(e);return r.find((function(e){return void 0===e.value}))?m()(r):[{label:n?"Please choose":"None"}].concat(m()(r))}(n,t.value,s).map((function(e){return u().createElement(y.j,i()({key:e.value||e.label},e,{label:e.label.toString()}))})))};_.propTypes={input:d().object.isRequired,options:d().arrayOf(d().shape({value:d().any,label:d().string.isRequired})).isRequired,isReadOnly:d().bool,isDisabled:d().bool,isRequired:d().bool,FieldProvider:d().any};var E=function(e){var t=e.label,n=e.isRequired,r=e.helperText,o=e.meta,s=e.description,c=e.hideLabel,l=a()(e,["label","isRequired","helperText","meta","description","hideLabel"]),p=o.error,d=o.touched&&p;return u().createElement(v.c,{isRequired:n,label:!c&&t,fieldId:l.id,isValid:!d,helperText:r,helperTextInvalid:o.error},s&&u().createElement(h.D,null,u().createElement(g.x,{component:g.q.small},s)),u().createElement(_,i()({label:t,isValid:!d,isRequired:n},l)))};E.propTypes={componentType:d().string,label:d().string,isRequired:d().bool,helperText:d().string,meta:d().object,description:d().string,hideLabel:d().bool};const O=E;var w=n(41609),P=n.n(w),j=n(68809),x=n(47173),k=n(58860),R=n(25607),S=function(e){var t=e.dirtyFieldsSinceLastSubmit,n=e.submitSucceeded,r=e.pristine,i=(0,k.Z)().onCancel,o=P()(t)||!n&&r;return u().createElement(j.W,{className:"pf-u-mt-0"},u().createElement(x.zx,{ouiaId:"primary-submit-button",type:"submit",isDisabled:o,variant:"primary"},"Save"),u().createElement(x.zx,{ouiaId:"secondary-cancel-button",variant:"link",onClick:function(){return i()}},"Cancel"))};S.propTypes={dirtyFieldsSinceLastSubmit:d().shape(s()({},d().string,d().oneOfType([d().string,d().number,d().bool]))),submitSucceeded:d().bool,pristine:d().bool,onCancel:d().func};const D=function(e){return u().createElement(R.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return u().createElement(S,i()({},t,e))}))};var T=n(81554),C=n(28517),L=n(11831),F=n(98917),Z=n(87242),M=function(e){var t,n=e.formTemplateProps,r=a()(e,["formTemplateProps"]);return u().createElement(F.Z,i()({componentMapper:(t={},s()(t,Z.Z.TEXT_FIELD,C.Z),s()(t,Z.Z.TEXTAREA,L.Z),s()(t,Z.Z.SELECT,O),t),FormTemplate:function(e){return u().createElement(T.ZP,i()({},n,e,{FormButtons:D}))}},r))};M.propTypes={formTemplateProps:d().object};const I=M},73943:(e,t,n)=>{"use strict";n.d(t,{R:()=>u});var r=n(80150),i=n.n(r),o=n(45697),s=n.n(o),c=n(80236),a=n(47173),l=n(69957),u=(n(27999),function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onConfirmCancel,s=e.customTitle,u=e.customDescription;return i().createElement(c.u,{title:i().createElement("span",{className:"ins-c-wizard__cancel-warning-header"},i().createElement(l.ZP,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),s||"Exit ".concat(t," creation?")),variant:c.v.small,className:"rbac ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[i().createElement(a.zx,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},"Exit"),i().createElement(a.zx,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},"Stay")]},i().createElement("span",null,u||"All inputs will be discarded."," "))});u.propTypes={type:s().string,customTitle:s().node,customDescription:s().node,isOpen:s().bool,onModalCancel:s().func,onConfirmCancel:s().func}},94852:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(59713),i=n.n(r),o=n(319),s=n.n(o),c=n(63038),a=n.n(c),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(21899),m=n(26391),b=n(68340),y=n(68774),v=n(60485),h=n(47173),g=n(37377),_=n(58860),E=n(55795),O=(n(12236),n(77782));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(e){var t,n,r,i=e.formFields,o=(0,_.Z)(),c=(0,l.useState)(o.getState().values["add-permissions-table"]||[]),p=a()(c,2),d=p[0],w=p[1],j=(0,l.useContext)(O.r$).rolePermissions,x=(null===(t=o.getState().values)||void 0===t||null===(n=t["copy-base-role"])||void 0===n||null===(r=n.applications)||void 0===r?void 0:r.filter((function(e){return!(null==d?void 0:d.find((function(t){return t.uuid.includes(e)})))})))||[],k=i[0][0];return u().createElement("div",{className:"rbac"},d.length>0?u().createElement("div",{className:"ins-c-rbac-seleted-chips"},u().createElement(m.Z,{categoryName:"Selected permissions"},d.reduce((function(e,t){return[t].concat(s()(e))}),[]).map((function(e){var t=e.uuid;return u().createElement(f.A,{key:t,color:"blue",isTruncated:!0,onClick:function(){return w(d.filter((function(e){return e.uuid!==t})))}},t)})))):null,u().createElement(v.D,{headingLevel:"h1",size:"xl",className:"ins-c-rbac-add-permission-title"},"Add permissions"),u().createElement(y.D,null,u().createElement(b.x,null,"Select permissions to add to your role",0!==x.length&&u().createElement(g.J,{headerContent:"Custom roles only support granular permissions",bodyContent:"Wildcard permissions (for example, approval:*:*) aren’t included in this table and can’t be added to your custom role."},u().createElement(h.zx,{variant:"link"},"Why am I not seeing all of my permissions? ",u().createElement(E.ZP,null))))),[[P(P({},k),{},{props:P(P({},k.props),{},{selectedPermissions:d,setSelectedPermissions:w,isInExistingRole:function(e){return null==j?void 0:j.some((function(t){return t.permission===e}))}})})]])};j.propTypes={formFields:d().array};const x=j},94487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});var r=n(67154),i=n.n(r),o=n(59713),s=n.n(o),c=n(319),a=n.n(c),l=n(63038),u=n.n(l),p=n(6479),d=n.n(p),f=n(80150),m=n.n(f),b=n(45697),y=n.n(b),v=n(12167),h=n(8785),g=n(58860),_=n(48623),E=n(41800),O=n(36580),w=n(87757),P=n.n(w),j=n(48926),x=n.n(j),k=(0,n(89400).Y3)();function R(e,t,n,r,i,o,s,c){return S.apply(this,arguments)}function S(){return(S=x()(P().mark((function e(t,n,r,i,o,s,c,a){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.listPermissions(t,n,r,i,o,s,c,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n,r,i,o,s){return T.apply(this,arguments)}function T(){return(T=x()(P().mark((function e(t,n,r,i,o,s,c){return P().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.listPermissionOptions(t,n,r,i,o,s,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C={application:O.KD,resource_type:O.vf,verb:O.E2},L=n(29215),F=n(28090),Z=n(35224),M=n(43349),I=function(e){var t=e.row,n=d()(e,["row"]);return t.disableSelection?m().createElement(Z.u,{content:t.disabledContent,exitDelay:1500,entryDelay:1500},m().createElement(M.RowWrapper,i()({className:"ins-c-rbac-disabled-row",row:t},n))):m().createElement(M.RowWrapper,i()({row:t},n))};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}I.propTypes={props:y().object,row:y().object};var q=["Application","Resource type","Operation"],A=function(e){var t=e.permissionReducer,n=t.permission,r=t.isLoading,i=t.options,o=i.application,s=i.operation,c=i.resource,a=t.expandSplats,l=t.isLoadingExpandSplats,u=e.roleReducer,p=u.isRecordLoading,d=u.selectedRole,f=e.costReducer.resourceTypes;return{permissions:n.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,n=e.resource_type,r=e.verb,i=e.permission;return{application:t,resource:n,operation:r,uuid:i}})),pagination:n.meta,isLoading:r||p,baseRole:d,applicationOptions:o.data.filter((function(e){return"*"!==e})),resourceOptions:c.data.filter((function(e){return"*"!==e})),operationOptions:s.data.filter((function(e){return"*"!==e})),expandedPermissions:a.data.map((function(e){return e.permission})),isLoadingExpandSplats:l,resourceTypes:f.data}},G=function(e){var t=e.selectedPermissions,n=e.setSelectedPermissions,r=e.isInExistingRole,o=d()(e,["selectedPermissions","setSelectedPermissions","isInExistingRole"]),c=(0,v.useDispatch)(),l=function(e){return c((n=(t=e).limit,r=t.offset,i=t.orderBy,o=t.application,s=t.resourceType,a=t.verb,l=t.permission,p=void 0===(u=t.exclude_globals)||u,d=t.options,{type:O.wI,payload:R(n,r,i,o,s,a,l,p,d)}));var t,n,r,i,o,s,a,l,u,p,d},p=function(e){return c((n=(t=e).field,r=t.limit,i=t.offset,o=t.application,s=t.resourceType,a=t.verb,l=t.options,{type:C[n],payload:D(n,r,i,o,s,a,l)}));var t,n,r,i,o,s,a,l},b=(0,v.useSelector)(A,v.shallowEqual),y=b.permissions,w=b.isLoading,P=b.pagination,j=b.baseRole,x=b.applicationOptions,k=b.resourceOptions,S=b.operationOptions,T=b.expandedPermissions,Z=b.isLoadingExpandSplats,M=b.resourceTypes,N=(0,h.Z)(o).input,G=(0,g.Z)(),B=(0,f.useState)({applications:[],resources:[],operations:[]}),V=u()(B,2),W=V[0],H=V[1],X=G.getState().values["role-type"],$=(0,f.useState)(!1),J=u()($,2),K=J[0],Y=J[1],U=(0,f.useState)(""),Q=u()(U,2),ee=Q[0],te=Q[1],ne=(0,f.useState)(),re=u()(ne,2),ie=re[0],oe=re[1],se=function(e){return M.find((function(t){var n;return t.value===(null===(n=e.split(":"))||void 0===n?void 0:n[1])}))},ce=(0,f.useCallback)((0,_.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return p({field:"application",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]),ae=(0,f.useCallback)((0,_.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return p({field:"resource_type",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]),le=(0,f.useCallback)((0,_.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return p({field:"verb",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),3e3),[]);(0,f.useEffect)((function(){var e,t=null===(e=G.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid;return"copy"===X&&t&&c((0,F.fp)(t)),c((0,L.A)()),G.change("has-cost-resources",!1),l(P),p({field:"application",limit:50}),p({field:"resource_type",limit:50}),p({field:"verb",limit:50}),function(){return c({type:O.e0,payload:{data:[]}})}}),[]),(0,f.useEffect)((function(){ae(W),le(W)}),[W.applications]),(0,f.useEffect)((function(){ce(W),le(W)}),[W.resources]),(0,f.useEffect)((function(){ce(W),ae(W)}),[W.operations]),(0,f.useEffect)((function(){N.onChange(t)}),[t]),(0,f.useEffect)((function(){var e;if(!(!j||"copy"!==X||G.getState().values["base-permissions-loaded"]||t.length>0||(null===(e=G.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid)!==(null==j?void 0:j.uuid)||Z||w)){var r,i,o,s,l,u,p,d,f,m,b,y,v,h=(null==j?void 0:j.access)||[];if(0===T.length&&void 0===Z){var g=a()(new Set(h.map((function(e){return e.permission.split(":")[0]}))));c((o=void 0===(i=(r={application:g.join()}).limit)?1e3:i,l=void 0===(s=r.offset)?0:s,u=r.orderBy,p=r.application,d=r.resourceType,f=r.verb,m=r.permission,y=void 0===(b=r.exclude_globals)||b,v=r.options,{type:O.e,payload:R(o,l,u,p,d,f,m,y,v)}))}else{var _=h.map((function(e){return e.permission.replace("*",".*")}));n((function(){return T.filter((function(e){return"cost-management"!==e.split(":")[0]||0!==(se(e)||{count:0}).count})).filter((function(e){return _.some((function(t){return e.match(t)}))})).map((function(e){return{uuid:e}}))})),G.change("base-permissions-loaded",!0)}}}),[y,j]);var ue=function(e){return e.reduce((function(e,t){return{0:z(z({},null==e?void 0:e[0]),{},s()({},t,!0))}}),{0:{}})},pe={applications:a()(x).filter((function(e){return e.includes(ee)})).map((function(e){return{label:e,value:e}})),resources:a()(k).filter((function(e){return e.includes(ee)})).map((function(e){return{label:e,value:e}})),operations:a()(S).filter((function(e){return e.includes(ee)})).map((function(e){return{label:e,value:e}}))},de={label:m().createElement("div",null," No results found"),isDisabled:!0},fe=pe[Object.keys(pe)[ie||0]].length>10;return m().createElement("div",{className:"ins-c-rbac-permissions-table"},m().createElement(E.M,i()({columns:q,isSelectable:!0,isCompact:!0,borders:!1,createRows:function(e){return e.map((function(e){var n=e.application,i=e.resource,o=e.operation,s=e.uuid;return{uuid:"".concat(n,":").concat(i,":").concat(o),cells:[{title:n},i,o],selected:Boolean(t&&t.find((function(e){return e.uuid===s}))),disableSelection:"cost-management"===n&&0===(se(s)||{count:0}).count||r(s),disabledContent:r(s)?m().createElement("div",null,"This permission is already added into this role."):m().createElement("div",null,"To add this permission to your role and define specific resources for it, at least one data source must be connected."," ",m().createElement("a",{href:"./settings/sources"},"Configure sources for Cost Management"))}}))},data:y,filterValue:"",noData:0===(null==y?void 0:y.length),noDataDescription:["Adjust your filters and try again. Note: Applications that only have wildcard           permissions (for example, compliance:*:*) aren’t included in this table and can’t be           added to your custom role."],fetchData:function(e){var t=e.limit,n=e.offset,r=e.applications,i=e.resources,o=e.operations;l({limit:t,offset:n,application:(r||W.applications).join(),resourceType:(i||W.resources).join(),verb:(o||W.operations).join()})},setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;H(z(z(z(z({},W),t?{applications:t}:W.applications),n?{resources:n}:W.resources),r?{operations:r}:W.operations))},isLoading:w||Z,pagination:z(z({},P),{},{count:P.count}),checkedRows:t,setCheckedItems:function(e){n(e(t).map((function(e){return{uuid:e.uuid}})).filter((function(e){var t,n=e.uuid;return(null===(t=se(n))||void 0===t?void 0:t.count)>0})))},titlePlural:"permissions",titleSingular:"permission",showMoreTitle:K?"See less":"See more",onFilter:function(e){return te(e)},onShowMore:fe?function(){Y((function(){return!K}))}:void 0,onChange:function(e,t){te(""),oe(t)},value:ie,filters:[{key:"applications",value:W.applications,placeholder:"Filter by application",type:"group",selected:ue(W.applications),groups:[{type:pe.applications.length>0?"checkbox":"plain",items:pe.applications.length>0?a()(pe.applications).slice(0,K?void 0:10):[de]}]},{key:"resources",value:W.resources,placeholder:"Filter by resource type",type:"group",selected:ue(W.resources),groups:[{type:pe.resources.length>0?"checkbox":"plain",items:pe.resources.length>0?a()(pe.resources).slice(0,K?void 0:10):[de]}]},{key:"operations",value:W.operations,placeholder:"Filter by operation",type:"group",selected:ue(W.operations),groups:[{type:pe.operations.length>0?"checkbox":"plain",items:pe.operations.length>0?a()(pe.operations).slice(0,K?void 0:10):[de]}]}],isFilterable:!0,rowWrapper:I,tableId:"add-role-permissions"},o)))};G.propTypes={selectedPermissions:y().array,setSelectedPermissions:y().func,isInExistingRole:y().func};const B=G},64105:(e,t,n)=>{"use strict";n.d(t,{Z:()=>x});var r=n(63038),i=n.n(r),o=n(319),s=n.n(o),c=n(59713),a=n.n(c),l=n(80150),u=n.n(l),p=n(12167),d=n(54680),f=n(92694),m=n(64403),b=n(50693),y=n(16475),v=n(68340),h=n(59775),g=n(8785),_=n(58860),E=n(29215);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.costReducer,n=t.resourceTypes,r=t.isLoading,i=t.loadingResources,o=t.resources;return{resourceTypes:n.data,resources:o,isLoading:r,isLoadingResources:i>0}},j=function(e,t){var n=e[t.key];switch(t.type){case"toggle":return w(w({},e),{},a()({},t.key,w(w({},n),{},{isOpen:!n.isOpen})));case"select":return w(w({},e),{},a()({},t.key,w(w({},n),{},{selected:n.selected.includes(t.selection)?n.selected.filter((function(e){return e!==t.selection})):[].concat(s()(n.selected),[t.selection])})));case"selectAll":return w(w({},e),{},a()({},t.key,w(w({},n),{},{selected:n.options.map((function(e){return e.value}))})));case"clear":return w(w({},e),{},a()({},t.key,w(w({},n),{},{selected:[]})));case"setOptions":return w(w({},e),{},a()({},t.key,w(w({},n),{},{options:t.options,filteredOptions:t.options})));case"setFilter":return w(w({},e),{},a()({},t.key,w(w({},n),{},{filteredOptions:n.options.filter((function(e){return e.value.includes(t.filtervalue)}))})));default:return e}};const x=function(e){var t=(0,p.useDispatch)(),n=(0,p.useSelector)(P,p.shallowEqual),r=n.resourceTypes,o=n.isLoading,c=n.isLoadingResources,O=n.resources,x=(0,g.Z)(e).input,k=(0,_.Z)(),R=k.getState().values["add-permissions-table"].filter((function(e){return e.uuid.split(":")[0].includes("cost-management")})),S=(0,l.useReducer)(j,R.reduce((function(e,t){return w(w({},e),{},a()({},t.uuid,{selected:[],options:[],filteredOptions:[],isOpen:!1}))}),{})),D=i()(S,2),T=D[0],C=D[1];return(0,l.useEffect)((function(){(k.getState().values["resource-definitions"]||[]).map((function(e){var t=e.permission;return e.resources.map((function(e){return R.includes(t)&&C({type:"select",selection:e,key:t})}))})),t((0,E.A)(undefined)),k.change("has-cost-resources",!0)}),[]),(0,l.useEffect)((function(){o||s()(new Set(R.map((function(e){var t;return null===(t=r.find((function(t){var n;return t.value===(null===(n=e.uuid.split(":"))||void 0===n?void 0:n[1])})))||void 0===t?void 0:t.path})))).filter((function(e){return e})).map((function(e){return n=e,t((0,E.R)(n));var n}))}),[r]),(0,l.useEffect)((function(){c||R.map((function(e){return C({type:"setOptions",key:e.uuid,options:O[(t=e.uuid,null===(n=r.find((function(e){var n;return e.value===(null===(n=t.split(":"))||void 0===n?void 0:n[1])})))||void 0===n||null===(i=n.path.split("/"))||void 0===i?void 0:i[5])]||[]});var t,n,i}))}),[c]),(0,l.useEffect)((function(){var e=Object.entries(T).map((function(e){var t=i()(e,2);return{permission:t[0],resources:t[1].selected}}));x.onChange(e),k.change("resource-definitions",e)}),[T]),u().createElement(b.r,{hasGutter:!0},u().createElement(y.P,{md:4,className:"ins-m-hide-on-sm"},u().createElement(v.x,{component:v.q.h4,className:"ins-c-rbac__bold-text"},"Cost management permissions")),u().createElement(y.P,{md:8,className:"ins-m-hide-on-sm"},u().createElement(v.x,{component:v.q.h4,className:"ins-c-rbac__bold-text"},"Resource definitions")),R.map((function(e){var t=e.uuid,n=T[t].filteredOptions;return u().createElement(u().Fragment,null,u().createElement(y.P,{md:4,sm:12},u().createElement(h.c,{label:t,isRequired:!0})),u().createElement(y.P,{md:8,sm:12},u().createElement(d.P,{className:"ins-c-rbac-cost-resource-select",variant:m.TM.checkbox,typeAheadAriaLabel:"Select a state",onToggle:function(e){C({type:"setFilter",key:t,filtervalue:""}),function(e,t){C({type:"toggle",key:e,isOpen:t})}(t,e)},onSelect:function(e,r){!function(e,t,n,r){C(n?{type:"selectAll",selection:t,key:r}:{type:"select",selection:t,key:r})}(0,r,r==="Select All (".concat(n.length,")"),t)},onClear:function(){return C({type:"clear",key:t})},selections:T[t].selected,isOpen:T[t].isOpen,onFilter:function(e){return e&&C({type:"setFilter",key:t,filtervalue:e.target.value})},"aria-labelledby":t,placeholderText:"Select resources",hasInlineFilter:!0},[u().createElement(f.$,{key:0,value:"Select All (".concat(n.length,")")})].concat(s()(n.map((function(e,t){return u().createElement(f.$,{key:t+1,value:e.value})})))))))})))}},77782:(e,t,n)=>{"use strict";n.d(t,{r$:()=>te,ZP:()=>re});var r=n(87757),i=n.n(r),o=n(319),s=n.n(o),c=n(48926),a=n.n(c),l=n(59713),u=n.n(l),p=n(63038),d=n.n(p),f=n(67154),m=n.n(f),b=n(80150),y=n.n(b),v=n(12167),h=n(50693),g=n(16475),_=n(49739),E=n(83826),O=n(68340),w=n(68774),P=n(60485),j=n(58860);var x=n(45697),k=n.n(x),R=n(47173),S=n(9947),D=n(38424),T=n(75106),C=n(68778),L=n(334),F=n(28090),Z=function(e){var t=e.currentRoleID,n=(0,v.useDispatch)();return y().createElement(y().Fragment,null,y().createElement(S.u,null,y().createElement(D.k,{color:"green",icon:C.ZP}),y().createElement(P.D,{headingLevel:"h4",size:"lg"},"You have successfully added permissions to the role"),y().createElement(T.B,null),y().createElement(L.Link,{to:"/roles/detail/".concat(t)},y().createElement(R.zx,{onClick:function(){return n((0,F.fp)(t))}},"Exit"))))};const M=Z;Z.propTypes={currentRoleID:k().string.isRequired};var I=n(73943),N=n(77583),z=n(98917),q=n(81554),A=n(86106),G=n(94487),B=n(64105),V=n(94852),W=n(52643),H=n(2372);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(50486);var J=function(e){var t,n=e.formFields;return(0,b.useContext)(te).submitting?y().createElement(W.b,null,y().createElement(H.$,{size:"xl"})):y().createElement("div",{className:"rbac"},[[$({},null==n||null===(t=n[0])||void 0===t?void 0:t[0])]])};J.propTypes={formFields:k().array};const K=J;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(e){return y().createElement(q.ZP,m()({},e,{showFormControls:!1}))},ee={"add-permissions-table":G.Z,"cost-resources":B.Z,review:function(){var e=(0,j.Z)().getState().values,t=e["role-name"],n=e["role-description"],r=e["add-permissions-table"],i=e["resource-definitions"],o=e["has-cost-resources"];return y().createElement(_.K,{hasGutter:!0},y().createElement(E.v,null,y().createElement(w.D,null,y().createElement(P.D,{headingLevel:"h1",size:"xl",className:"ins-c-rbac__gutter-sm"},"Review details"))),y().createElement(E.v,{classnem:"ins-c-rbac__summary"},y().createElement(h.r,{hasGutter:!0},y().createElement(g.P,{span:3},y().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Role name")),y().createElement(g.P,{span:9},y().createElement(O.x,{component:O.q.p},t)),y().createElement(g.P,{span:3},y().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Role description")),y().createElement(g.P,{span:9},y().createElement(O.x,{component:O.q.p},n)),y().createElement(g.P,{span:3},y().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Added permissions")),y().createElement(g.P,{span:9},y().createElement(w.D,{component:O.q.p},r.map((function(e,t){return y().createElement(O.x,{key:t}," ",e.uuid," ")})))),o&&y().createElement(y().Fragment,null,y().createElement(g.P,{span:3},y().createElement(O.x,{className:"pf-c-title",component:O.q.h6},"Resource definitions")),y().createElement(g.P,{span:9},y().createElement(w.D,{component:O.q.p},i.map((function(e){return e.resources.map((function(e,t){return y().createElement(O.x,{key:t}," ",e," ")}))}))))))))}},te=(0,b.createContext)({success:!1,submitting:!1,error:void 0}),ne=function(e){var t=e.role,n=(0,b.useState)(!1),r=d()(n,2),o=r[0],c=r[1],l=(0,b.useState)(""),u=d()(l,2),p=u[0],f=u[1],m=(0,b.useState)({}),h=d()(m,2),g=h[0],_=h[1],E=(0,L.useHistory)(),O=(0,v.useDispatch)(),w=(0,b.useState)({success:!1,submitting:!1,error:void 0,hideForm:!1}),P=d()(w,2),j=P[0],x=P[1],k=(0,b.useRef)(document.createElement("div"));(0,b.useEffect)((function(){_(function(e){return{fields:[{component:"wizard",name:"wizard",isDynamic:!0,inModal:!0,showTitles:!0,crossroads:["role-type"],title:"Add permissions",container:e,fields:[{name:"add-permissions",title:"Add permissions",StepTemplate:V.Z,nextStep:function(e){var t=e.values;return t&&t["add-permissions-table"]&&t["add-permissions-table"].some((function(e){return e.uuid.split(":")[0].includes("cost-management")}))?"cost-resources-definition":"review"},fields:[{component:"add-permissions-table",name:"add-permissions-table"}]},{name:"cost-resources-definition",title:"Define Cost Management resources",nextStep:"review",fields:[{component:"plain-text",name:"text-description",label:y().createElement("p",null,"Specify where you would like to apply each cost permission selected in the previous step, using the dropdown below.")},{component:"cost-resources",name:"cost-resources",validate:[function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((function(e){return e.resources.length>0}))?void 0:"You need to assign at least one resource to each permission."}]}]},{name:"review",title:"Review details",StepTemplate:K,fields:[{component:"review",name:"review"}]}]}]}}(k.current))}),[]),(0,b.useEffect)((function(){f(t.uuid)})),(0,b.useEffect)((function(){k.current.hidden=o}),[o]);var R=function(){E.push("/roles/detail/".concat(t.uuid))},S=function(){var e=a()(i().mark((function e(n){var r,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n["add-permissions-table"],o=n["cost-resources"],c=U(U({},t),{},{access:[].concat(s()(t.access),s()(r.map((function(e){var t=e.uuid;return{permission:t,resourceDefinitions:(null==o?void 0:o.find((function(e){return e.permission===t})))?[{attributeFilter:{key:"cost-management.".concat(t.split(":")[1]),operation:"in",value:null==o?void 0:o.find((function(e){return e.permission===t})).resources}}]:[]}})))),accessCount:t.accessCount+r.length}),x((function(e){return U(U({},e),{},{submitting:!0})})),O((0,F.ul)(p,c)).then((function(){return x((function(e){return U(U({},e),{},{submitting:!1,success:!0,hideForm:!0})}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return y().createElement(te.Provider,{value:U(U({},j),{},{setWizardError:function(e){return x((function(t){return U(U({},t),{},{error:e})}))},setWizardSuccess:function(e){return x((function(t){return U(U({},t),{},{success:e})}))},setHideForm:function(e){return x((function(t){return U(U({},t),{},{hideForm:e})}))},rolePermissions:t.access})},y().createElement(I.R,{type:"Permission",isOpen:o,onModalCancel:function(){return c(!1)},onConfirmCancel:R}),j.hideForm?y().createElement(N.e,{title:"Add permissions",isOpen:!0,steps:[{name:"success",component:new M({currentRoleID:p}),isFinishedStep:!0}]}):y().createElement(z.Z,{container:k,schema:g,subscription:{values:!0},FormTemplate:Q,initialValues:{"role-type":"create","role-name":t.display_name,"role-description":t.description},componentMapper:U(U({},A.ZP),ee),onSubmit:S,onCancel:function(e){var t;e&&(null===(t=e["add-permissions-table"])||void 0===t?void 0:t.length)>0?c(!0):R()}}))};ne.defaultProps={role:{}},ne.propTypes={role:k().object};const re=ne},88040:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(67154),i=n.n(r),o=n(63038),s=n.n(o),c=n(80150),a=n.n(c),l=n(45697),u=n.n(l),p=n(87242),d=n(24154),f=n(40483),m=n(36457),b=n(67115),y=n(334),v=n(12167),h=n(76254),g=n(71355),_=n(43115),E=n(57666),O=n(28090),w=function(e,t,n){return e.length<150?(0,_.vd)({name:e}).then((function(r){var i=r.data;if(0!==i.length&&i.some((function(r){return r[t]!==n&&r.display_name===e})))throw"Role with this name already exists."})):Promise.reject("Can have maximum of 150 characters.")},P=function(e){return{fields:[{name:"name",component:p.Z.TEXT_FIELD,label:"Name",isRequired:!0,validate:[{type:"validate-role-name",id:e,idKey:"uuid",validationPromise:w}]},{name:"description",component:p.Z.TEXTAREA,label:"Description",validate:[{type:d.Z.MAX_LENGTH,threshold:150}]}]}},j=(0,E.Z)((function(e,t,n,r){return e&&0!==e.length?r(e,t,n):Promise.reject("Required")})),x=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.submitRoute,o=void 0===r?n:r,l=e.afterSubmit,u=(0,b.Z)(),p=(0,y.useRouteMatch)(t).params.id,d=(0,y.useHistory)(),E=d.replace,w=d.push,x=(0,v.useDispatch)(),k={"validate-role-name":function(e){var t=e.idKey,n=e.id,r=e.validationPromise;return function(e){return j(e,t,n,r)}}},R=(0,v.useSelector)((function(e){return(0,h.z)(e,p)})),S=(0,c.useState)(R),D=s()(S,2),T=D[0],C=D[1],L=function(){x((0,g.wN)({variant:"warning",dismissDelay:8e3,dismissable:!1,title:"Editing role",description:"Edit role was canceled by the user."})),E(n)};return(0,c.useEffect)((function(){!T&&(0,_.fp)(p).then((function(e){u.current&&C(e)}))}),[p]),T?a().createElement(m.Z,{schema:P(p),initialValues:T,onSubmit:function(e){return x((0,O.sZ)(p,{name:e.name,display_name:e.name,description:e.description})).then((function(){l(),w(o)}))},onCancel:L,validatorMapper:k,FormTemplate:function(e){return a().createElement(f.Z,i()({},e,{ModalProps:{onClose:L,isOpen:!0,variant:"small",title:"Edit role information"}}))}}):null};x.propTypes={routeMatch:u().string.isRequired,cancelRoute:u().oneOfType([u().string,u().shape({pathname:u().string.isRequired,search:u().string,hash:u().string})]).isRequired,submitRoute:u().oneOfType([u().string,u().shape({pathname:u().string.isRequired,search:u().string,hash:u().string})]),afterSubmit:u().func.isRequired};const k=x},13063:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j});var r=n(63038),i=n.n(r),o=n(80150),s=n.n(o),c=n(45697),a=n.n(c),l=n(12167),u=n(334),p=n(69957),d=n(47173),f=n(93149),m=n(80236),b=n(68340),y=n(68774),v=n(79851),h=n(34512),g=n(83215),_=n(28090),E=n(43115),O=n(67115),w=n(76254),P=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.submitRoute,c=void 0===r?n:r,a=e.afterSubmit,P=(0,O.Z)(),j=(0,u.useRouteMatch)(t).params.id,x=(0,l.useSelector)((function(e){return(0,w.B)(e,j)})),k=(0,o.useState)(!0),R=i()(k,2),S=R[0],D=R[1],T=(0,o.useState)(x),C=i()(T,2),L=C[0],F=C[1],Z=(0,l.useDispatch)(),M=(0,u.useHistory)(),I=M.push,N=M.replace;(0,o.useEffect)((function(){!L&&(0,E.fp)(j).then((function(e){P.current&&F(e.display_name)})).catch((function(e){var t,n;return Z((0,g.addNotification)({variant:"danger",title:"Could not get role",description:null==e||null===(t=e.errors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.detail}))}))}),[]);var z=function(){return N(n)};return L?s().createElement(m.u,{className:"rbac","aria-label":"remove-role",header:s().createElement(y.D,null,s().createElement(v.P,{hasGutter:!0},s().createElement(h.J,null,s().createElement(p.ZP,{size:"lg",style:{fill:"#f0ab00"}})),s().createElement(h.J,null,s().createElement(b.x,{component:"h1"},"Delete role?")))),isOpen:!0,variant:"small",onClose:z,actions:[s().createElement(d.zx,{isDisabled:S,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:function(){return Z((0,_.l5)(j)).then((function(){return I(c),a()}))}},"Confirm"),s().createElement(d.zx,{key:"cancel",variant:"link",type:"button",onClick:z},"Cancel")]},s().createElement(y.D,null,s().createElement(b.x,{component:b.q.p},"The ",s().createElement("strong",null,L)," role will be removed from any group it’s in, and members in the groups will no longer be granted the permissions in the role."),s().createElement(f.X,{id:"remove-role-checkbox",label:"I understand that this action cannot be undone.",isChecked:!S,onChange:function(){return D((function(e){return!e}))}}))):null};P.propTypes={routeMatch:a().string.isRequired,cancelRoute:a().oneOfType([a().string,a().shape({pathname:a().string.isRequired,search:a().string,hash:a().string})]).isRequired,submitRoute:a().oneOfType([a().string,a().shape({pathname:a().string.isRequired,search:a().string,hash:a().string})]),afterSubmit:a().func.isRequired};const j=P},76254:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,B:()=>i});var r=function(e,t){var n=e.roleReducer,r=n.roles,i=void 0===r?{data:[]}:r,o=n.selectedRole;return(null==o?void 0:o.uuid)===t?o:i.data.find((function(e){return e.uuid===t}))},i=function(e,t){var n;return null===(n=r(e,t))||void 0===n?void 0:n.display_name}},95311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});var r,i=n(319),o=n.n(i),s=n(59713),c=n.n(s),a=n(63038),l=n.n(a),u=n(80150),p=n.n(u),d=n(45697),f=n.n(d),m=n(334),b=n(12167),y=n(47173),v=n(56787),h=n(84457),g=n(80737),_=n(48140),E=n(86050),O=n(68340),w=n(68774),P=n(39173),j=n(60306),x=n(28090),k=n(38376),R=n(19571),S=n(41800),D=n(6479),T=n.n(D),C=n(62410),L=n(61338),F=n(85564),Z=n.n(F);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N={pagination:L.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:function(){return null},deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},z="SET_PAGINATION",q="SELECT_PERMISSIONS",A="SHOW_REMOVE_MODAL",G="SUBMIT_REMOVE_MODAL",B="INITIATE_REMOVE_PERMISSION",V="SET_FILTERS",W="SET_TOGGLED",H="INITIALIZE_ROLE",X=(r={},c()(r,z,(function(e,t){return I(I({},e),{},{pagination:I(I({},e.pagination),t)})})),c()(r,q,(function(e,t){var n=t.selection;return I(I({},e),{},{selectedPermissions:n})})),c()(r,A,(function(e,t){var n=t.showRemoveModal;return I(I({},e),{},{showRemoveModal:n})})),c()(r,G,(function(e){return I(I({},e),{},{selectedPermissions:[],showRemoveModal:!1})})),c()(r,B,(function(e,t){var n=t.confirmDelete,r=t.deleteInfo;return I(I({},e),{},{confirmDelete:n,showRemoveModal:!0,deleteInfo:r})})),c()(r,V,(function(e,t){return I(I({},e),{},{filters:I(I({},e.filters),t)})})),c()(r,W,(function(e){return I(I({},e),{},{isToggled:!e.isToggled})})),c()(r,H,(function(e,t){var n=t.count,r=T()(t,["count"]);return I(I(I({},e),r),{},{pagination:I(I({},e.pagination),{},{count:n})})})),r),$=function(e,t){var n=t.type,r=T()(t,["type"]);return X[n]?X[n](e,r):e},J=n(43349),K=(n(36337),n(77782)),Y=n(1227);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Resource definitions",transforms:[(0,J.info)({popover:"Resource definitions only apply to Cost Management permissions",ariaLabel:"Resource definitions only apply to Cost Management permissions"})]},{title:"Last commit",transforms:[(0,J.cellWidth)(15)]}],te=function(e,t,n){return n?p().createElement("p",null,"The ",p().createElement("b",null," ","".concat(e))," selected permissions will no longer be granted through the ",p().createElement("b",null,"".concat(t.name))," role."):p().createElement("p",null,"The ",p().createElement("b",null,"".concat(e))," permission will no longer be granted through the ",p().createElement("b",null," ","".concat(t.name))," role.")};const ne=function(){var e=(0,b.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),b.shallowEqual),t=e.role,n=e.isRecordLoading,r=(0,m.useHistory)(),i=(0,u.useReducer)($,N),s=l()(i,2),a=s[0],d=a.pagination,f=a.selectedPermissions,v=a.showRemoveModal,h=a.confirmDelete,g=a.deleteInfo,_=a.filters,E=a.isToggled,O=a.resources,w=a.operations,P=s[1],k=(0,u.useState)(!0),R=l()(k,2),D=R[0],T=R[1],L=(0,b.useDispatch)();(0,u.useEffect)((function(){var e;if(Object.keys(t).length>0){var n=Object.entries(t.access.reduce((function(e,t){var n=e.resources,r=e.operations,i=t.permission.split(":"),s=l()(i,3),c=s[1],a=s[2];return{resources:n.includes(c)?n:[].concat(o()(n),[c]),operations:r.includes(a)?r:[].concat(o()(r),[a])}}),{resources:[],operations:[]})).reduce((function(e,t){var n=l()(t,2),r=n[0],i=n[1];return Q(Q({},e),{},c()({},r,i.map((function(e){return{label:e,value:e}}))))}),{}),r=n.resources,i=n.operations;P({type:H,resources:r,operations:i,count:t.access?t.access.length:0})}T(null==t||null===(e=t.access)||void 0===e?void 0:e.find((function(e){return e.permission.includes("cost-management")})))}),[t]);var F,M,I=t&&t.access?(t.access||[]).filter((function(e){var t=e.permission.split(":"),n=l()(t,3),r=n[0],i=n[1],o=n[2],s=_.applications,c=_.resources,a=_.operations;return(!(s.length>0)||s.includes(r))&&(!(c.length>0)||c.includes(i))&&(!(a.length>0)||a.includes(o))})).map((function(e){return Q(Q({uuid:e.permission},e),{},{modified:t.modified})})):[],X=function(e){var n=e.reduce((function(e,t){return[].concat(o()(e),[t.uuid])}),[]);return L((0,x.lq)(t,n)).then((function(){L((0,x.fp)(t.uuid)),P({type:q,selection:[]})}))},J=function(e){return e.reduce((function(e,t){return{0:Q(Q({},null==e?void 0:e[0]),{},c()({},t,!0))}}),{0:{}})},U={label:p().createElement("div",null," No results found"),isDisabled:!0},ne=Q({access:[],applications:[]},t),re=Object.values({applications:ne.applications,operations:w,resources:O}).find((function(e){return e.length>10}));return p().createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},v&&p().createElement(Y.Z,{text:g.text,title:g.title,isOpen:v,confirmButtonLabel:g.confirmButtonLabel,onClose:function(){return P({type:A,showRemoveModal:!1})},onSubmit:function(){h(),P({type:G})}}),p().createElement(S.M,{columns:D?ee:ee.filter((function(e){return"Resource definitions"!==e.title})),createRows:(F=D,M=null==t?void 0:t.uuid,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.resourceDefinitions,i=t.permission,s=t.modified,c=i.split(":"),a=l()(c,3),d=a[0],f=a[1],b=a[2];return[].concat(o()(e),[{uuid:i,cells:[d,f,b].concat(o()(F?[i.includes("cost-management")&&r.length>0?p().createElement(u.Fragment,{key:"resource-definitions"},p().createElement(m.Link,{to:"/roles/detail/".concat(M,"/permission/").concat(i)},Z()(r.map((function(e){return e.attributeFilter.value}))).length)):p().createElement("span",{className:"ins-c-text__disabled"},"N/A")]:[]),[p().createElement(u.Fragment,{key:"".concat(d,"-modified")},p().createElement(C.Z,{date:s,type:"relative"}))]),selected:Boolean(null==n?void 0:n.find((function(e){return e.uuid===i})))}])}),[])}),actionResolver:t.system?void 0:function(){return[{title:"Remove",onClick:function(e,n,r){return P({type:B,confirmDelete:function(){return X([r])},deleteInfo:{title:"Remove permission?",text:te(r.uuid,t,!1),confirmButtonLabel:"Remove permission"}})}}]},data:I.slice(d.offset,d.offset+d.limit),filterValue:"",ouiaId:"role-permissions-table",fetchData:function(e){var t=e.limit,n=e.offset;return P({type:z,limit:t,offset:n})},isSelectable:!t.system,setCheckedItems:function(e){P({type:q,selection:e(f).map((function(e){return{uuid:e.uuid}}))})},checkedRows:f,onShowMore:re?function(){P({type:W})}:void 0,setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;P(Q(Q(Q({type:V},t?{applications:t}:_.applications),n?{resources:n}:_.resources),r?{operations:r}:_.operations))},toolbarButtons:function(){return[p().createElement(m.Link,{to:"/roles/detail/".concat(t.uuid,"/role-add-permission"),key:"role-add-permission",className:"ins-m-hide-on-sm"},p().createElement(y.zx,{variant:"primary","aria-label":"Add Permission"},"Add permissions")),{label:"Add Permission",props:{className:"pf-m-hidden-on-md"},onClick:function(){r.push("/roles/detail/".concat(t.uuid,"/role-add-permission"))}},{label:"Remove",props:{isDisabled:!f.length>0},onClick:function(){var e=f.length>1;P({type:B,confirmDelete:function(){return X(o()(f))},deleteInfo:{title:e?"Remove permissions?":"Remove permission?",text:te(e?f.length:f[0].uuid,t,f.length>1),confirmButtonLabel:e?"Remove permissions":"Remove permission"}})}}]},isLoading:n,pagination:Q(Q({},d),{},{count:I.length}),titlePlural:"permissions",titleSingular:"permission",routes:function(){return p().createElement(m.Route,{exact:!0,path:j._j.W3},p().createElement(K.ZP,{isOpen:!0,role:t}))},emptyProps:{title:"There are no permissions in this role",description:["To configure user access to applications,","add at least one permission to this role.",""]},filters:[{key:"applications",value:0===_.applications.length?"":_.applications,placeholder:"Filter by application",type:"group",selected:J(_.applications),groups:[{type:ne.applications.length>0?"checkbox":"plain",items:ne.applications.length>0?ne.applications.slice(0,E?void 0:10).map((function(e){return{label:e,value:e}})):[U]}]},{key:"resources",value:0===_.resources.length?"":_.resources,placeholder:"Filter by resource type",type:"group",selected:J(_.resources),groups:[{type:O.length>0?"checkbox":"plain",items:O.length>0?O.slice(0,E?void 0:10):[U]}]},{key:"operations",value:0===_.operations.length?"":_.operations,placeholder:"Filter by operation",type:"group",selected:J(_.operations),groups:[{type:w.length>0?"checkbox":"plain",items:w.length>0?w.slice(0,E?void 0:10):[U]}]}]}))};var re=n(64007),ie=n(13063),oe=n(88040),se=n(67643),ce=n(16796),ae=n(11107);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(57250);var pe=function(e){var t=e.onDelete,n=(0,m.useHistory)(),r=(0,u.useState)(!1),i=l()(r,2),s=i[0],c=i[1],a=(0,m.useParams)(),d=a.uuid,f=a.groupUuid,S=(0,b.useSelector)((function(e){var t,n,r,i,o,s,c,a;return ue(ue({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},f&&{group:e.groupReducer.selectedGroup}),{},{rolesPagination:(null===(t=e.roleReducer)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.pagination)||L.he,rolesFilters:(null===(r=e.roleReducer)||void 0===r||null===(i=r.roles)||void 0===i?void 0:i.filters)||{},groupsPagination:(null===(o=e.groupReducer)||void 0===o||null===(s=o.groups)||void 0===s?void 0:s.pagination)||L.he,groupsFilters:(null===(c=e.groupReducer)||void 0===c||null===(a=c.groups)||void 0===a?void 0:a.filters)||{}})}),b.shallowEqual),D=S.role,T=S.group,C=S.isRecordLoading,F=S.rolesPagination,Z=S.rolesFilters,M=S.groupsPagination,I=S.groupsFilters,N=(0,b.useSelector)((function(e){return e.roleReducer.error!==ae.VG})),z=(0,b.useSelector)((function(e){return e.groupReducer.error!==ae.VG})),q=(0,b.useDispatch)(),A=function(){q((0,x.fp)(d)),f&&q((0,re.yi)(f))};(0,u.useEffect)((function(){return A(),insights.chrome.appObjectId(d),function(){return insights.chrome.appObjectId(void 0)}}),[d,f]);var G=function(){return[f?{title:"Groups",to:(0,ae.zk)(j._j.Xx,M,I)}:{title:"Roles",to:(0,ae.zk)(j._j.uJ,F,Z)}].concat(o()(f&&z?T?[{title:T&&T.name,to:"/groups/detail/".concat(f,"/roles"),isLoading:T&&T.loaded}]:[void 0]:z?[]:[{title:"Invalid group",isActive:!0}]),o()(z?[{title:C?void 0:N?(null==D?void 0:D.display_name)||(null==D?void 0:D.name):"Invalid role",isActive:!0}]:[]))},B=!C&&D?D.display_name||D.name:void 0,V=!C&&D?D.description:void 0,W=[p().createElement(h.h,{component:p().createElement(m.Link,{to:j._j.Pu.replace(":id",d)},"Edit"),key:"edit-role"}),p().createElement(h.h,{component:p().createElement(m.Link,{onClick:t,to:j._j.GL.replace(":id",d)},"Delete"),className:"ins-c-role__action",key:"delete-role"})];return p().createElement(u.Fragment,null,z&&N?p().createElement(u.Fragment,null,p().createElement(k.Q,{breadcrumbs:G()},p().createElement(_.a,null,p().createElement(E.Z,null,p().createElement(P.Z,{title:B||p().createElement(R.h2,null),className:"ins-rbac-page-header__title"})),!C&&D&&!D.system&&p().createElement(E.Z,null,p().createElement(v.L,{ouiaId:"role-title-actions-dropdown",toggle:p().createElement(g.a,{onToggle:function(e){return c(e)},id:"role-actions-dropdown"}),isOpen:s,isPlain:!0,position:"right",dropdownItems:W}))),V&&p().createElement(w.D,{className:"ins-rbac-page-header__description"},p().createElement(O.x,{component:"p"},V))),C||!D?p().createElement(R.Wi,null):p().createElement(ne,null),p().createElement(m.Route,{path:j._j.GL},!C&&p().createElement(ie.Z,{afterSubmit:function(){q((0,x.Kt)(ue(ue({},F),{},{offset:0,filters:Z,inModal:!1})))},cancelRoute:j._j.Fh.replace(":uuid",d),submitRoute:(0,ae.zk)(j._j.uJ,ue(ue({},F),{},{offset:0}),Z),routeMatch:j._j.GL})),p().createElement(m.Route,{path:j._j.Pu},!C&&p().createElement(oe.Z,{afterSubmit:A,cancelRoute:j._j.Fh.replace(":uuid",d),routeMatch:j._j.Pu}))):p().createElement(u.Fragment,null,p().createElement("section",{className:"pf-c-page__main-breadcrumb pf-u-pb-md"},p().createElement(ce.Z,G())),p().createElement(se.Z,{title:"".concat(z?"Role":"Group"," not found"),description:["".concat(z?"Role":"Group"," with ID ").concat(z?d:f," does not exist.")],actions:[p().createElement(y.zx,{key:"back-button",className:"pf-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:function(){return n.goBack()}},"Back to previous page")]})))};pe.propTypes={onDelete:f().func};const de=pe},57666:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(99166);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return(0,r.Z)(e,t,n)}},37504:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-rbac__delete-icon,.my-user-access .ins-c-rbac__delete-icon{color:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--xs)}\n",""]),e.exports=t},46777:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-wizard__cancel-warning-header,.my-user-access .ins-c-wizard__cancel-warning-header{display:flex;align-items:center}.rbac .ins-c-wizard__cancel-warning-header--icon,.my-user-access .ins-c-wizard__cancel-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""]),e.exports=t},66369:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .pf-c-form .pf-c-form__group .pf-c-radio,.my-user-access .pf-c-form .pf-c-form__group .pf-c-radio{padding-bottom:8px}.rbac .pf-c-form .pf-c-form__group .pf-c-radio:last-child,.my-user-access .pf-c-form .pf-c-form__group .pf-c-radio:last-child{padding-bottom:0px}.rbac .pf-c-select__menu .ins-c-select__scrollable-section,.my-user-access .pf-c-select__menu .ins-c-select__scrollable-section{max-height:365px;overflow:auto}.rbac .ins-c-rbac-add-permission-title,.my-user-access .ins-c-rbac-add-permission-title{display:block}.rbac .pf-c-wizard__main-body .ins-c-rbac-seleted-chips,.my-user-access .pf-c-wizard__main-body .ins-c-rbac-seleted-chips{padding-bottom:var(--pf-global--spacer--md)}.rbac .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group,.my-user-access .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group{background-color:var(--pf-global--BackgroundColor--100)}.rbac .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip,.my-user-access .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip{background-color:var(--pf-global--palette--blue-50);border-radius:var(--pf-global--BorderRadius--lg)}.rbac .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip .pf-c-chip__text,.my-user-access .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip .pf-c-chip__text{font-size:var(--pf-global--FontSize--sm)}.rbac .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip::before,.my-user-access .pf-c-wizard__main-body .ins-c-rbac-seleted-chips .pf-c-chip-group .pf-c-chip-group__list .pf-c-chip-group__list-item .pf-c-chip::before{border-style:none}@media only screen and (max-width: 815px){.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content{padding:0px}.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group{max-width:30em}}@media only screen and (max-width: 895px){.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group{max-width:32em}}@media only screen and (min-width: 992px){.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content{padding:0px}.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group{max-width:25em}}@media only screen and (min-width: 1055px){.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group{max-width:32em}}@media only screen and (min-width: 1150px){.rbac .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group,.my-user-access .ins-c-rbac-permissions-table .ins-c-primary-toolbar .pf-c-toolbar__content .pf-c-toolbar__content-section .pf-m-filter-group{max-width:35em}}.rbac .ins-c-rbac-cost-resource-select .pf-c-select__menu .pf-c-select__menu-item:nth-child(3) .pf-c-check__input,.my-user-access .ins-c-rbac-cost-resource-select .pf-c-select__menu .pf-c-select__menu-item:nth-child(3) .pf-c-check__input{display:none}.rbac .ins-c-rbac-cost-resource-select .pf-c-select__menu .pf-c-select__menu-item:nth-child(3) .pf-c-check__label,.my-user-access .ins-c-rbac-cost-resource-select .pf-c-select__menu .pf-c-select__menu-item:nth-child(3) .pf-c-check__label{color:var(--pf-global--link--Color)}.rbac .ins-c-rbac-disabled-row,.my-user-access .ins-c-rbac-disabled-row{background-color:var(--pf-global--disabled-color--300)}\n",""]),e.exports=t},20387:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-rbac__sticky .ins-c-rbac__sticky--title,.my-user-access .ins-c-rbac__sticky .ins-c-rbac__sticky--title{margin-bottom:var(--pf-global--spacer--sm);border-bottom:1px solid var(--pf-global--palette--black-300)}.rbac .ins-c-rbac__sticky .ins-c-rbac__sticky--title .pf-l-grid__item,.my-user-access .ins-c-rbac__sticky .ins-c-rbac__sticky--title .pf-l-grid__item{font-weight:var(--pf-global--FontWeight--bold);margin-bottom:var(--pf-global--spacer--sm) !important}.rbac .ins-c-rbac__sticky .ins-c-rbac__sticky--data,.my-user-access .ins-c-rbac__sticky .ins-c-rbac__sticky--data{max-height:240px;overflow:auto;-ms-overflow-style:none;scrollbar-width:none}.rbac .ins-c-rbac__sticky .data::-webkit-scrollbar,.my-user-access .ins-c-rbac__sticky .data::-webkit-scrollbar{display:none}.rbac .ins-c-rbac__gutter-sm,.my-user-access .ins-c-rbac__gutter-sm{margin-bottom:var(--pf-global--spacer--sm)}.rbac .ins-c-rbac__gutter-md,.my-user-access .ins-c-rbac__gutter-md{margin-bottom:var(--pf-global--spacer--md)}\n",""]),e.exports=t},78152:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-role__permissions .pf-c-content,.my-user-access .ins-c-role__permissions .pf-c-content{padding-bottom:var(--pf-global--spacer--sm)}.rbac .ins-c-role__permissions .pf-c-content h1,.my-user-access .ins-c-role__permissions .pf-c-content h1{font-weight:lighter}.rbac .ins-c-role__permissions .ins-c-text__disabled,.my-user-access .ins-c-role__permissions .ins-c-text__disabled{color:var(--pf-global--Color--200)}.rbac .ins-m-resource-definitions .pf-c-modal-box__body,.my-user-access .ins-m-resource-definitions .pf-c-modal-box__body{text-align:center;padding-top:var(--pf-global--spacer--4xl);padding-bottom:7rem}.rbac .ins-m-resource-definitions .pf-c-modal__alert,.my-user-access .ins-m-resource-definitions .pf-c-modal__alert{margin-bottom:var(--pf-global--spacer--sm)}\n",""]),e.exports=t},41162:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".rbac .ins-c-role__action a,.my-user-access .ins-c-role__action a{color:inherit;text-decoration:none}\n",""]),e.exports=t},98487:(e,t,n)=>{var r=n(93379),i=n(37504);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(37504,(function(){"string"==typeof(i=(i=n(37504)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},27999:(e,t,n)=>{var r=n(93379),i=n(46777);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(46777,(function(){"string"==typeof(i=(i=n(46777)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},12236:(e,t,n)=>{var r=n(93379),i=n(66369);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(66369,(function(){"string"==typeof(i=(i=n(66369)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},50486:(e,t,n)=>{var r=n(93379),i=n(20387);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(20387,(function(){"string"==typeof(i=(i=n(20387)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},36337:(e,t,n)=>{var r=n(93379),i=n(78152);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(78152,(function(){"string"==typeof(i=(i=n(78152)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},57250:(e,t,n)=>{var r=n(93379),i=n(41162);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var s=i.locals;e.hot.accept(41162,(function(){"string"==typeof(i=(i=n(41162)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(s,i.locals)?(s=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}}}]);
//# sourceMappingURL=../sourcemaps/5311.51994b112f2835268759.js.map