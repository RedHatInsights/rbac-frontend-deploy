(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[537],{22509:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-rbac__dialog--warning .ins-c-rbac__delete-icon{color:var(--pf-global--warning-color--100)}\n",""]),e.exports=t},35623:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-wizard__cancel-warning-header{display:flex;align-items:center}.ins-c-wizard__cancel-warning-header--icon{fill:var(--pf-global--warning-color--100);margin-right:var(--pf-global--spacer--md)}\n",""]),e.exports=t},14768:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-role__permissions .pf-c-content{padding-bottom:var(--pf-global--spacer--sm)}.ins-c-role__permissions .pf-c-content h1{font-weight:lighter}.ins-c-role__permissions .ins-c-text__disabled{color:var(--pf-global--Color--200)}.ins-m-resource-definitions .pf-c-modal-box__body{text-align:center;padding-top:var(--pf-global--spacer--4xl);padding-bottom:7rem}.ins-m-resource-definitions .pf-c-modal__alert{margin-bottom:var(--pf-global--spacer--sm)}\n",""]),e.exports=t},92890:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-role__action a{color:inherit;text-decoration:none}\n",""]),e.exports=t},54526:(e,t,n)=>{"use strict";n.d(t,{bt:()=>m,yi:()=>v,mD:()=>h,Rp:()=>E,gg:()=>w,m:()=>j,C$:()=>_,nV:()=>D,HA:()=>S,Wj:()=>L,V8:()=>M});var r=n(87757),i=n.n(r),o=n(59713),a=n.n(o),s=n(63038),c=n.n(s),l=n(48926),u=n.n(l);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=(0,n(63717).tP)();function m(e){return b.apply(this,arguments)}function b(){return(b=u()(i().mark((function e(t){var n,r,o,a,s,l,u,p,m,b,v,y,h,g,E;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.limit,r=t.offset,o=t.name,a=t.nameMatch,s=t.scope,l=t.username,u=t.uuid,p=t.roleNames,m=t.roleDiscriminator,b=t.orderBy,v=t.options,e.next=3,Promise.all([f.listGroups(n,r,o,a,s,l,u,p,m,b,v),insights.chrome.auth.getUser()]);case 3:return y=e.sent,h=c()(y,2),g=h[0],E=h[1],e.abrupt("return",d(d({},g),E));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return y.apply(this,arguments)}function y(){return(y=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=u()(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=f.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=f.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return P.apply(this,arguments)}function P(){return(P=u()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return f.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return R.apply(this,arguments)}function R(){return(R=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t){return x.apply(this,arguments)}function x(){return(x=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){return k.apply(this,arguments)}function k(){return(k=u()(i().mark((function e(t,n,r){var o,a,s,c,l,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.limit,a=r.offset,s=r.name,c=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,f.listRolesForGroup(t,n,void 0,s,c,o,a,"display_name",l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return T.apply(this,arguments)}function T(){return(T=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){return C.apply(this,arguments)}function C(){return(C=u()(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t){return I.apply(this,arguments)}function I(){return(I=u()(i().mark((function e(t,n){var r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,f.getPrincipalsFromGroup(t,n,void 0,{query:d({},r)});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},27435:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(80150);const i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},83341:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(63038),i=n.n(r),o=n(80150),a=n.n(o),s=n(45697),c=n.n(s),l=n(69957),u=n(47173),p=n(93149),d=n(80236),f=n(79851),m=n(34512),b=n(49739),v=n(68774),y=(n(30615),function(e){var t=e.title,n=e.text,r=e.onClose,s=e.onSubmit,c=e.isOpen,y=e.confirmButtonLabel,h=e.withCheckbox,g=(0,o.useState)(!1),E=i()(g,2),O=E[0],w=E[1];return a().createElement(d.u,{className:"ins-c-rbac__dialog--warning",title:a().createElement("div",null,a().createElement(l.ZP,{className:"ins-m-alert ins-c-rbac__delete-icon"})," ",t),isOpen:c,variant:d.v.small,onClose:r,actions:[a().createElement(u.zx,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:h&&!O,variant:"danger",onClick:s},y),a().createElement(u.zx,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:r},"Cancel")]},a().createElement(f.P,{hasGutter:!0},a().createElement(m.J,{isFilled:!0},a().createElement(b.K,{hasGutter:!0},a().createElement(v.D,null,n)))),h?a().createElement(p.X,{isChecked:O,onChange:function(){return w(!O)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)});y.propTypes={text:c().any,title:c().string,confirmButtonLabel:c().string,onSubmit:c().func,onClose:c().func,isOpen:c().bool,withCheckbox:c().bool},y.defaultProps={withCheckbox:!1};const h=y},14726:(e,t,n)=>{"use strict";n.d(t,{bt:()=>o,WD:()=>a,yi:()=>s,Rp:()=>c,mD:()=>l,gg:()=>u,dy:()=>p,tz:()=>d,nV:()=>f,nd:()=>m,nr:()=>b,Wj:()=>v,W3:()=>y});var r=n(84887),i=n(54526),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:i.bt(e)}},a=function(e){return{type:r.kL,payload:i.bt({limit:1,name:e||"default",nameMatch:"partial"})}},s=function(e){return{type:r._h,payload:i.yi(e)}},c=function(e){return{type:r.Po,payload:i.Rp(e).catch((function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"name"===n.source)return{error:!0};throw{message:n.detail,description:n.source}}))}},l=function(e){return{type:r.t3,payload:i.mD(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},u=function(e){return{type:r.v9,payload:i.gg(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},p=function(e,t){return{type:r.Nr,payload:i.C$(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},d=function(e,t){return{type:r.b9,payload:i.m(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},f=function(e,t,n){return{type:r.XS,payload:i.nV(e,!1,t,n)}},m=function(e,t,n){return{type:r.Vh,payload:i.V8(e,t,n)}},b=function(e,t,n){return{type:r.as,payload:i.nV(e,!0,t,n)}},v=function(e,t){return{type:r.fG,payload:i.Wj(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},y=function(e,t){return{type:r.Yc,payload:i.HA(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},55004:(e,t,n)=>{"use strict";n.d(t,{tL:()=>v,Qi:()=>b,Hk:()=>f,AL:()=>y});var r=n(84887),i=n(87757),o=n.n(i),a=n(48926),s=n.n(a),c=(0,n(63717).Y3)();function l(e,t,n,r,i,o,a,s){return u.apply(this,arguments)}function u(){return(u=s()(o().mark((function e(t,n,r,i,a,s,l,u){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listPermissions(t,n,r,i,a,s,l,u);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e,t,n,r,i,o,a){return d.apply(this,arguments)}function d(){return(d=s()(o().mark((function e(t,n,r,i,a,s,l){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.listPermissionOptions(t,n,r,i,a,s,l);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var f=function(e){var t=e.limit,n=e.offset,i=e.orderBy,o=e.application,a=e.resourceType,s=e.verb,c=e.permission,u=e.exclude_globals,p=void 0===u||u,d=e.options;return{type:r.wI,payload:l(t,n,i,o,a,s,c,p,d)}},m={application:r.KD,resource_type:r.vf,verb:r.E2},b=function(e){var t=e.field,n=e.limit,r=e.offset,i=e.application,o=e.resourceType,a=e.verb,s=e.options;return{type:m[t],payload:p(t,n,r,i,o,a,s)}},v=function(e){var t=e.limit,n=void 0===t?1e3:t,i=e.offset,o=void 0===i?0:i,a=e.orderBy,s=e.application,c=e.resourceType,u=e.verb,p=e.permission,d=e.exclude_globals,f=void 0===d||d,m=e.options;return{type:r.e,payload:l(n,o,a,s,c,u,p,f,m)}},y=function(){return{type:r.e0,payload:{data:[]}}}},44241:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(59713),i=n.n(r),o=n(6479),a=n.n(o),s=n(67154),c=n.n(s),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(25607),m=n(81554),b=n(58860),v=n(74219),y=n(57820),h=n(16396),g=n(4853);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var O="modal-form",w=function(e){return u().createElement(g.l,c()({},e,{id:O}))},P=function(e){var t=e.saveLabel,n=e.cancelLabel,r=(0,b.Z)().onCancel;return u().createElement(f.Z,null,(function(e){var i=e.pristine,o=e.invalid,a=e.validating,s=e.submitting;return u().createElement("div",{className:"pf-c-form"},u().createElement(y.W,{className:"pf-u-mt-0"},u().createElement(h.Button,{ouiaId:"primary-save-button",variant:"primary",form:O,type:"submit",isDisabled:i||a||s||o},t),u().createElement(h.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:r,id:"cancel-modal"},n)))}))};P.propTypes={saveLabel:d().node,cancelLabel:d().node},P.defaultProps={saveLabel:"Save",cancelLabel:"Cancel"};var j=function(e){var t=e.ModalProps,n=e.saveLabel,r=e.cancelLabel,i=e.alert,o=a()(e,["ModalProps","saveLabel","cancelLabel","alert"]);return u().createElement(v.Modal,c()({},t,{footer:u().createElement(P,{saveLabel:n,cancelLabel:r})}),null==i?void 0:i(),u().createElement(m.ZP,c()({},o,{showFormControls:!1,FormWrapper:w})))};j.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ModalProps:d().object},P.propTypes);const R=j},72389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Z});var r=n(67154),i=n.n(r),o=n(59713),a=n.n(o),s=n(6479),c=n.n(s),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(319),m=n.n(f),b=n(90784),v=n(22608),y=n(59775),h=n(68774),g=n(68340),E=function(e){var t=e.input,n=e.options,r=e.isReadOnly,o=e.isDisabled,a=e.isRequired,s=c()(e,["input","options","isReadOnly","isDisabled","isRequired"]);return u().createElement(b.i,i()({},t,s,{isDisabled:o||r}),function(e,t,n){if(t&&n)return e;var r=m()(e);return r.find((function(e){return void 0===e.value}))?m()(r):[{label:n?"Please choose":"None"}].concat(m()(r))}(n,t.value,a).map((function(e){return u().createElement(v.j,i()({key:e.value||e.label},e,{label:e.label.toString()}))})))};E.propTypes={input:d().object.isRequired,options:d().arrayOf(d().shape({value:d().any,label:d().string.isRequired})).isRequired,isReadOnly:d().bool,isDisabled:d().bool,isRequired:d().bool,FieldProvider:d().any};var O=function(e){var t=e.label,n=e.isRequired,r=e.helperText,o=e.meta,a=e.description,s=e.hideLabel,l=c()(e,["label","isRequired","helperText","meta","description","hideLabel"]),p=o.error,d=o.touched&&p;return u().createElement(y.c,{isRequired:n,label:!s&&t,fieldId:l.id,isValid:!d,helperText:r,helperTextInvalid:o.error},a&&u().createElement(h.D,null,u().createElement(g.x,{component:g.q.small},a)),u().createElement(E,i()({label:t,isValid:!d,isRequired:n},l)))};O.propTypes={componentType:d().string,label:d().string,isRequired:d().bool,helperText:d().string,meta:d().object,description:d().string,hideLabel:d().bool};const w=O;var P=n(41609),j=n.n(P),R=n(68809),_=n(47173),x=n(58860),D=n(25607),k=function(e){var t=e.dirtyFieldsSinceLastSubmit,n=e.submitSucceeded,r=e.pristine,i=(0,x.Z)().onCancel,o=j()(t)||!n&&r;return u().createElement(R.W,{className:"pf-u-mt-0"},u().createElement(_.zx,{ouiaId:"primary-submit-button",type:"submit",isDisabled:o,variant:"primary"},"Save"),u().createElement(_.zx,{ouiaId:"secondary-cancel-button",variant:"link",onClick:function(){return i()}},"Cancel"))};k.propTypes={dirtyFieldsSinceLastSubmit:d().shape(a()({},d().string,d().oneOfType([d().string,d().number,d().bool]))),submitSucceeded:d().bool,pristine:d().bool,onCancel:d().func};const S=function(e){return u().createElement(D.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return u().createElement(k,i()({},t,e))}))};var T=n(81554),L=n(28517),C=n(11831),M=n(98917),I=n(87242),q=function(e){var t,n=e.formTemplateProps,r=c()(e,["formTemplateProps"]);return u().createElement(M.Z,i()({componentMapper:(t={},a()(t,I.Z.TEXT_FIELD,L.Z),a()(t,I.Z.TEXTAREA,C.Z),a()(t,I.Z.SELECT,w),t),FormTemplate:function(e){return u().createElement(T.ZP,i()({},n,e,{FormButtons:S}))}},r))};q.propTypes={formTemplateProps:d().object};const Z=q},2485:(e,t,n)=>{"use strict";n.d(t,{R:()=>u});var r=n(80150),i=n.n(r),o=n(45697),a=n.n(o),s=n(80236),c=n(47173),l=n(69957),u=(n(6656),function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onConfirmCancel,a=e.customTitle,u=e.customDescription;return i().createElement(s.u,{title:i().createElement("span",{className:"ins-c-wizard__cancel-warning-header"},i().createElement(l.ZP,{size:"md",className:"ins-c-wizard__cancel-warning-header--icon"}),a||"Exit ".concat(t," creation?")),variant:s.v.small,className:"ins-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[i().createElement(c.zx,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},"Exit"),i().createElement(c.zx,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},"Stay")]},i().createElement("span",null,u||"All inputs will be discarded."," "))});u.propTypes={type:a().string,customTitle:a().node,customDescription:a().node,isOpen:a().bool,onModalCancel:a().func,onConfirmCancel:a().func}},95155:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(67154),i=n.n(r),o=n(59713),a=n.n(o),s=n(63038),c=n.n(s),l=n(80150),u=n.n(l),p=n(45697),d=n.n(p),f=n(87242),m=n(44241),b=n(72389),v=n(27435),y=n(47194),h=n(70983),g=n(80266),E=n(71355),O=n(45139),w=n(39379),P=n(89531);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=function(e,t,n){return(0,O.vd)({name:e}).then((function(r){var i=r.data;if(0!==i.length&&i.some((function(r){return r[t]!==n&&r.name===e})))throw"Role with this name already exists."}))},x=function(e){return{fields:[{name:"name",component:f.Z.TEXT_FIELD,label:"Name",isRequired:!0,validate:[{type:"validate-role-name",id:e,idKey:"uuid",validationPromise:_}]},{name:"description",component:f.Z.TEXTAREA,label:"Description"}]}},D=(0,w.Z)((function(e,t,n,r){return e&&0!==e.length?r(e,t,n):Promise.reject("Required")})),k=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.afterSubmit,o=(0,v.Z)(),a=(0,y.useRouteMatch)(t).params.id,s=(0,y.useHistory)(),p=s.replace,d=s.push,f=(0,h.useDispatch)(),w={"validate-role-name":function(e){var t=e.idKey,n=e.id,r=e.validationPromise;return function(e){return D(e,t,n,r)}}},j=(0,h.useSelector)((function(e){return(0,g.z)(e,a)})),_=(0,l.useState)(j),k=c()(_,2),S=k[0],T=k[1],L=function(){f((0,E.addNotification)({variant:"warning",dismissDelay:8e3,dismissable:!1,title:"Editing role",description:"Edit role was canceled by the user."})),p(n)};return(0,l.useEffect)((function(){!S&&(0,O.fp)(a).then((function(e){o.current&&T(e)}))}),[a]),S?u().createElement(b.Z,{schema:x(a),initialValues:S,onSubmit:function(e){return f((0,P.ul)(a,R(R({},e),{},{display_name:e.name}))).then((function(){r(),d(n)}))},onCancel:L,validatorMapper:w,FormTemplate:function(e){return u().createElement(m.Z,i()({},e,{ModalProps:{onClose:L,isOpen:!0,variant:"small",title:"Edit role information"}}))}}):null};k.propTypes={routeMatch:d().string.isRequired,cancelRoute:d().string.isRequired,afterSubmit:d().func.isRequired};const S=k},60843:(e,t,n)=>{"use strict";n.d(t,{Z:()=>R});var r=n(63038),i=n.n(r),o=n(80150),a=n.n(o),s=n(45697),c=n.n(s),l=n(70983),u=n(47194),p=n(69957),d=n(47173),f=n(93149),m=n(80236),b=n(68340),v=n(68774),y=n(79851),h=n(34512),g=n(90017),E=n(89531),O=n(45139),w=n(27435),P=n(80266),j=function(e){var t=e.routeMatch,n=e.cancelRoute,r=e.afterSubmit,s=(0,w.Z)(),c=(0,u.useRouteMatch)(t).params.id,j=(0,l.useSelector)((function(e){return(0,P.B)(e,c)})),R=(0,o.useState)(!0),_=i()(R,2),x=_[0],D=_[1],k=(0,o.useState)(j),S=i()(k,2),T=S[0],L=S[1],C=(0,l.useDispatch)(),M=(0,u.useHistory)(),I=M.push,q=M.replace;(0,o.useEffect)((function(){!T&&(0,O.fp)(c).then((function(e){s.current&&L(e.name)})).catch((function(e){var t,n;return C((0,g.wN)({variant:"danger",title:"Could not get role",description:null==e||null===(t=e.errors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.detail}))}))}),[]);var Z=function(){return q(n)};return T?a().createElement(m.u,{"aria-label":"remove-role",header:a().createElement(v.D,null,a().createElement(y.P,{hasGutter:!0},a().createElement(h.J,null,a().createElement(p.ZP,{size:"lg",style:{fill:"#f0ab00"}})),a().createElement(h.J,null,a().createElement(b.x,{component:"h1"},"Delete role?")))),isOpen:!0,variant:"small",onClose:Z,actions:[a().createElement(d.zx,{isDisabled:x,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:function(){return C((0,E.l5)(c)).then((function(){return I("/roles"),r()}))}},"Confirm"),a().createElement(d.zx,{key:"cancel",variant:"link",type:"button",onClick:Z},"Cancel")]},a().createElement(v.D,null,a().createElement(b.x,{component:b.q.p},"The ",a().createElement("strong",null,T)," role will be removed from any group it’s in, and members in the groups will no longer be granted the permissions in the role."),a().createElement(f.X,{id:"remove-role-checkbox",label:"I understand that this action cannot be undone.",isChecked:!x,onChange:function(){return D((function(e){return!e}))}}))):null};j.propTypes={routeMatch:c().string.isRequired,cancelRoute:c().string.isRequired,afterSubmit:c().func.isRequired};const R=j},80266:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,B:()=>i});var r=function(e,t){var n=e.roleReducer,r=n.roles,i=void 0===r?{data:[]}:r,o=n.selectedRole;return(null==o?void 0:o.uuid)===t?o:i.data.find((function(e){return e.uuid===t}))},i=function(e,t){var n;return null===(n=r(e,t))||void 0===n?void 0:n.name}},93537:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ce});var r,i=n(319),o=n.n(i),a=n(59713),s=n.n(a),c=n(63038),l=n.n(c),u=n(80150),p=n.n(u),d=n(47194),f=n(70983),m=n(56787),b=n(84457),v=n(94024),y=n(48140),h=n(86050),g=n(68340),E=n(68774),O=n(84049),w=n(60306),P=n(89531),j=n(37671),R=n(55917),_=n(17721),x=n(6479),D=n.n(x),k=n(89478),S=n(71410),T=n(85564),L=n.n(T);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I={pagination:S.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:function(){return null},deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},q="SET_PAGINATION",Z="SELECT_PERMISSIONS",N="SHOW_REMOVE_MODAL",F="SUBMIT_REMOVE_MODAL",G="INITIATE_REMOVE_PERMISSION",A="SET_FILTERS",B="SET_TOGGLED",z="INITIALIZE_ROLE",V=(r={},s()(r,q,(function(e,t){return M(M({},e),{},{pagination:M(M({},e.pagination),t)})})),s()(r,Z,(function(e,t){var n=t.selection;return M(M({},e),{},{selectedPermissions:n})})),s()(r,N,(function(e,t){var n=t.showRemoveModal;return M(M({},e),{},{showRemoveModal:n})})),s()(r,F,(function(e){return M(M({},e),{},{selectedPermissions:[],showRemoveModal:!1})})),s()(r,G,(function(e,t){var n=t.confirmDelete,r=t.deleteInfo;return M(M({},e),{},{confirmDelete:n,showRemoveModal:!0,deleteInfo:r})})),s()(r,A,(function(e,t){return M(M({},e),{},{filters:M(M({},e.filters),t)})})),s()(r,B,(function(e){return M(M({},e),{},{isToggled:!e.isToggled})})),s()(r,z,(function(e,t){var n=t.count,r=D()(t,["count"]);return M(M(M({},e),r),{},{pagination:M(M({},e.pagination),{},{count:n})})})),r),W=function(e,t){var n=t.type,r=D()(t,["type"]);return V[n]?V[n](e,r):e},H=n(12460),X=(n(86667),n(45697)),K=n.n(X),J=n(83341),Q=function(e){var t=e.title,n=e.text,r=e.onClose,i=e.onSubmit,o=e.isOpen,a=e.confirmButtonLabel;return p().createElement(J.Z,{text:n,title:t,isOpen:o,confirmButtonLabel:a,onClose:r,onSubmit:i})};Q.propTypes={text:K().any,title:K().string,confirmButtonLabel:K().string,onSubmit:K().func,onClose:K().func,isOpen:K().bool};const U=Q;var Y=n(47173),$=n(87757),ee=n.n($),te=n(48926),ne=n.n(te),re=n(55004);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=["Application","Resource type","Operation"],se=function(e){var t=e.permissionReducer,n=t.permission,r=t.isLoading,i=t.options,o=i.application,a=i.operation,s=i.resource,c=e.roleReducer,l=c.isRecordLoading,u=c.selectedRole;return{permissions:n.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,n=e.resource_type,r=e.verb,i=e.permission;return{application:t,resource:n,operation:r,uuid:i}})),pagination:n.meta,isLoading:r||l,baseRole:u,applicationOptions:o.data,resourceOptions:s.data,operationOptions:a.data}},ce=function(e){var t=e.selectedPermissions,n=e.setSelectedRolePermissions,r=(0,f.useDispatch)(),i=(0,f.useSelector)(se,f.shallowEqual),o=i.permissions,a=i.isLoading,s=i.pagination,c=function(e){return r((0,re.Hk)(e))},l=function(e){return r((0,re.Qi)(e))};return(0,u.useEffect)((function(){(0,f.batch)((function(){c(s),l({field:"application",limit:50}),l({field:"resource_type",limit:50}),l({field:"verb",limit:50})}))}),[]),p().createElement("div",{className:"ins-c-rbac-permissions-table"},p().createElement(_.M,{columns:ae,isCompact:!0,borders:!1,createRows:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.map((function(e){var t=e.application,r=e.resource,i=e.operation,o=e.uuid;return{uuid:"".concat(t,":").concat(r,":").concat(i),cells:[t,r,i],selected:null==n?void 0:n.some((function(e){return e.uuid===o}))}}))},data:o,fetchData:function(e){var t=e.limit,n=e.offset,r=e.applications,i=e.resources,o=e.operations;c({limit:t,offset:n,application:r,resourceType:i,verb:o})},isLoading:a,pagination:oe(oe({},s),{},{count:s.count}),titlePlural:"permissions",titleSingular:"permission",setCheckedItems:function(e){n((function(t){return e(t).map((function(e){return{uuid:e.uuid}}))}))},checkedRows:t,isSelectable:!0}))};ce.defaultProps={selectedPermissions:[],role:{}},ce.propTypes={selectedPermissions:K().arrayOf({uuid:K().string.isRequired}).isRequired,setSelectedRolePermissions:K().func.isRequired,role:K().object};const le=ce;var ue=n(50693),pe=n(16475),de=n(49739),fe=n(83826),me=n(60485),be=function(e){var t=e.selectedPermissions,n=void 0===t?[]:t,r=e.role,i=void 0===r?{}:r,o=i.display_name,a=i.description;return p().createElement(de.K,{hasGutter:!0},p().createElement(fe.v,null,p().createElement(E.D,null,p().createElement(me.D,{headingLevel:"h4",size:"xl"},"Review Details"))),p().createElement(fe.v,{classnem:"ins-c-rbac__summary"},p().createElement(ue.r,{hasGutter:!0},p().createElement(pe.P,{span:3},p().createElement(g.x,{className:"pf-c-title",component:g.q.h6},"Role Name:")),p().createElement(pe.P,{span:9},p().createElement(g.x,{component:g.q.p},o)),p().createElement(pe.P,{span:3},p().createElement(g.x,{className:"pf-c-title",component:g.q.h6},"Role Description:")),p().createElement(pe.P,{span:9},p().createElement(g.x,{component:g.q.p},a)),p().createElement(pe.P,{span:3},p().createElement(g.x,{className:"pf-c-title",component:g.q.h6},"Adding Permissions:")),p().createElement(pe.P,{span:9},p().createElement(g.x,{component:g.q.p},n.map((function(e,t){return p().createElement(g.x,{key:t}," ",e.uuid," ")})))))))};be.propTypes={role:K().shape,selectedPermissions:K().array};const ve=be;var ye=n(2485),he=n(77583),ge=n(45139);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var we=function(e){var t=e.role,n=(0,u.useState)([]),r=l()(n,2),i=r[0],a=r[1],s=(0,u.useState)(!1),c=l()(s,2),f=c[0],m=c[1],b=(0,u.useState)(""),v=l()(b,2),y=v[0],h=v[1],g=(0,d.useHistory)();(0,u.useEffect)((function(){h(t.uuid)}),[t]);var E=[{id:1,name:"Add Permissions",component:new le({selectedPermissions:i,setSelectedRolePermissions:function(e){a(e)},role:t})},{id:2,name:"Review Details",component:new ve({selectedPermissions:i,role:t}),nextButtonText:"Confirm"}],O=function(){var e=ne()(ee().mark((function e(){var n,r;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.map((function(e){return{resourceDefinitions:[],permission:e.uuid}})),r=Oe(Oe({},t),{},{access:[].concat(o()(t.access),o()(n)),accessCount:t.accessCount+i.length}),e.prev=2,e.next=5,(0,ge.ul)(y,r);case 5:g.goBack(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),g.goBack();case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return p().createElement(p().Fragment,null,p().createElement(he.e,{title:"Add Permission",description:"Adding permissions to roles",steps:E,isOpen:!0,onClose:function(){m(!0)},onSave:O}),p().createElement(ye.R,{type:"Permission",isOpen:f,onModalCancel:function(){return m(!1)},onConfirmCancel:function(){g.goBack()}}))};we.defaultProps={role:{}},we.propTypes={role:K().object};const Pe=we;function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Resource definitions",header:{info:{popover:"Resource definitions only apply to Cost Management permissions",ariaLabel:"Resource definitions only apply to Cost Management permissions",popoverProps:{maxWidth:"19rem",minWidth:"19rem"}}},transforms:[(0,H.cellWidth)(20)]},{title:"Last commit",transforms:[(0,H.cellWidth)(15)]}],xe=function(e,t,n){return n?p().createElement("p",null,"The ",p().createElement("b",null," ","".concat(e))," selected permissions will no longer be granted through the ",p().createElement("b",null,"".concat(t.name))," role."):p().createElement("p",null,"The ",p().createElement("b",null,"".concat(e))," permission will no longer be granted through the ",p().createElement("b",null," ","".concat(t.name))," role.")};const De=function(){var e=(0,f.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),f.shallowEqual),t=e.role,n=e.isRecordLoading,r=(0,d.useHistory)(),i=(0,u.useReducer)(W,I),a=l()(i,2),c=a[0],m=c.pagination,b=c.selectedPermissions,v=c.showRemoveModal,y=c.confirmDelete,h=c.deleteInfo,O=c.filters,j=c.isToggled,R=c.resources,x=c.operations,D=a[1],S=(0,u.useState)(!0),T=l()(S,2),C=T[0],M=T[1],V=(0,f.useDispatch)();(0,u.useEffect)((function(){var e;if(Object.keys(t).length>0){var n=Object.entries(t.access.reduce((function(e,t){var n=e.resources,r=e.operations,i=t.permission.split(":"),a=l()(i,3),s=a[1],c=a[2];return{resources:n.includes(s)?n:[].concat(o()(n),[s]),operations:r.includes(c)?r:[].concat(o()(r),[c])}}),{resources:[],operations:[]})).reduce((function(e,t){var n=l()(t,2),r=n[0],i=n[1];return Re(Re({},e),{},s()({},r,i.map((function(e){return{label:e,value:e}}))))}),{}),r=n.resources,i=n.operations;D({type:z,resources:r,operations:i,count:t.access?t.access.length:0})}M(null==t||null===(e=t.access)||void 0===e?void 0:e.find((function(e){return e.permission.includes("cost-management")})))}),[t]);var H,X,K=t&&t.access?(t.access||[]).filter((function(e){var t=e.permission.split(":"),n=l()(t,3),r=n[0],i=n[1],o=n[2],a=O.applications,s=O.resources,c=O.operations;return(!(a.length>0)||a.includes(r))&&(!(s.length>0)||s.includes(i))&&(!(c.length>0)||c.includes(o))})).map((function(e){return Re(Re({uuid:e.permission},e),{},{modified:t.modified})})):[],J=function(e){var n=e.reduce((function(e,t){return[].concat(o()(e),[t.uuid])}),[]);return V((0,P.lq)(t,n)).then((function(){V((0,P.fp)(t.uuid)),D({type:Z,selection:[]})}))},Q=function(e){return e.reduce((function(e,t){return{0:Re(Re({},null==e?void 0:e[0]),{},s()({},t,!0))}}),{0:{}})},$={label:p().createElement("div",null," No results found"),isDisabled:!0},ee=Re({access:[],applications:[]},t),te=Object.values({applications:ee.applications,operations:x,resources:R}).find((function(e){return e.length>10}));return p().createElement("section",{className:"pf-c-page__main-section ins-c-role__permissions"},v&&p().createElement(U,{text:h.text,title:h.title,isOpen:v,confirmButtonLabel:h.confirmButtonLabel,onClose:function(){return D({type:N,showRemoveModal:!1})},onSubmit:function(){y(),D({type:F})}}),p().createElement(E.D,null,p().createElement(g.x,{component:g.q.h1},"Permissions")),p().createElement(_.M,{columns:C?_e:_e.filter((function(e){return"Resource definitions"!==e.title})),createRows:(H=C,X=null==t?void 0:t.uuid,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.resourceDefinitions,i=t.permission,a=t.modified,s=i.split(":"),c=l()(s,3),f=c[0],m=c[1],b=c[2];return[].concat(o()(e),[{uuid:i,cells:[f,m,b].concat(o()(H?[i.includes("cost-management")&&r.length>0?p().createElement(u.Fragment,{key:"resource-definitions"},p().createElement(d.Link,{to:"/roles/detail/".concat(X,"/permission/").concat(i)},L()(r.map((function(e){return e.attributeFilter.value}))).length)):p().createElement("span",{className:"ins-c-text__disabled"},"N/A")]:[]),[p().createElement(u.Fragment,{key:"".concat(f,"-modified")},p().createElement(k.t,{date:a,type:"relative"}))]),selected:Boolean(null==n?void 0:n.find((function(e){return e.uuid===i})))}])}),[])}),actionResolver:t.system?void 0:function(){return[{title:"Remove",onClick:function(e,n,r){return D({type:G,confirmDelete:function(){return J([r])},deleteInfo:{title:"Remove permission?",text:xe(r.uuid,t,!1),confirmButtonLabel:"Remove permission"}})}}]},data:K.slice(m.offset,m.offset+m.limit),filterValue:"",ouiaId:"role-permissions-table",fetchData:function(e){var t=e.limit,n=e.offset;return D({type:q,limit:t,offset:n})},isSelectable:!t.system,setCheckedItems:function(e){D({type:Z,selection:e(b).map((function(e){return{uuid:e.uuid}}))})},checkedRows:b,onShowMore:te?function(){D({type:B})}:void 0,setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;D(Re(Re(Re({type:A},t?{applications:t}:O.applications),n?{resources:n}:O.resources),r?{operations:r}:O.operations))},toolbarButtons:function(){return[p().createElement(d.Link,{to:"/roles/detail/".concat(t.uuid,"/role-add-permission"),key:"role-add-permission",className:"pf-m-visible-on-md"},p().createElement(Y.zx,{variant:"primary","aria-label":"Add Permission"},"Add Permission")),{label:"Add Permission",props:{className:"pf-m-hidden-on-md"},onClick:function(){r.push("/roles/detail/".concat(t.uuid,"/role-add-permission"))}},{label:"Remove",props:{isDisabled:!b.length>0},onClick:function(){var e=b.length>1;D({type:G,confirmDelete:function(){return function(){return J(o()(b))}},deleteInfo:{title:e?"Remove permissions?":"Remove permission?",text:xe(e?b.length:b[0].uuid,t,b.length>1),confirmButtonLabel:e?"Remove permissions":"Remove permission"}})}}].concat()},isLoading:n,pagination:Re(Re({},m),{},{count:K.length}),titlePlural:"permissions",titleSingular:"permission",routes:function(){return p().createElement(d.Route,{exact:!0,path:w._j.W3},p().createElement(Pe,{isOpen:!0,role:t}))},filters:[{key:"applications",value:O.applications,placeholder:"Filter by application",type:"group",selected:Q(O.applications),groups:[{type:ee.applications.length>0?"checkbox":"plain",items:ee.applications.length>0?ee.applications.slice(0,j?void 0:10).map((function(e){return{label:e,value:e}})):[$]}]},{key:"resources",value:O.resources,placeholder:"Filter by resource type",type:"group",selected:Q(O.resources),groups:[{type:R.length>0?"checkbox":"plain",items:R.length>0?R.slice(0,j?void 0:10):[$]}]},{key:"operations",value:O.operations,placeholder:"Filter by operation",type:"group",selected:Q(O.operations),groups:[{type:x.length>0?"checkbox":"plain",items:x.length>0?x.slice(0,j?void 0:10):[$]}]}]}))};var ke=n(14726),Se=n(60843),Te=n(95155);function Le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(2888);const Ce=function(){var e=(0,u.useState)(!1),t=l()(e,2),n=t[0],r=t[1],i=(0,d.useParams)(),a=i.uuid,c=i.groupUuid,_=(0,f.useSelector)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},c&&{group:e.groupReducer.selectedGroup})}),f.shallowEqual),x=_.role,D=_.group,k=_.isRecordLoading,S=(0,f.useDispatch)(),T=function(){S((0,P.fp)(a)),c&&S((0,ke.yi)(c))};(0,u.useEffect)((function(){return T(),insights.chrome.appObjectId(a),function(){return insights.chrome.appObjectId(void 0)}}),[a,c]);var L=!k&&x?x.display_name||x.name:void 0,C=!k&&x?x.description:void 0,M=[p().createElement(b.h,{component:p().createElement(d.Link,{to:w._j.Pu.replace(":id",a)},"Edit"),key:"edit-role"}),p().createElement(b.h,{component:p().createElement(d.Link,{to:w._j.GL.replace(":id",a)},"Delete"),className:"ins-c-role__action",key:"delete-role"})];return p().createElement(u.Fragment,null,p().createElement(j.Q,{breadcrumbs:[c?{title:"Groups",to:"/groups"}:{title:"Roles",to:"/roles"}].concat(o()(c?[{title:D&&D.name,to:"/groups/detail/".concat(c,"/roles"),isLoading:D&&D.loaded}]:[]),[{title:k?void 0:x&&(x.display_name||x.name),isActive:!0}])},p().createElement(y.a,null,p().createElement(h.Z,null,p().createElement(O.PageHeaderTitle,{title:L||p().createElement(R.h2,null),className:"ins-rbac-page-header__title"})),!k&&x&&!x.system&&p().createElement(h.Z,null,p().createElement(m.L,{ouiaId:"role-title-actions-dropdown",toggle:p().createElement(v.a,{onToggle:function(e){return r(e)},id:"role-actions-dropdown"}),isOpen:n,isPlain:!0,position:"right",dropdownItems:M}))),C&&p().createElement(E.D,{className:"ins-rbac-page-header__description"},p().createElement(g.x,{component:"p"},C))),k||!x?p().createElement(R.Wi,null):p().createElement(De,null),p().createElement(d.Route,{path:w._j.GL},!k&&p().createElement(Se.Z,{afterSubmit:function(){return S((0,P.Kt)())},cancelRoute:w._j.Fh.replace(":uuid",a),routeMatch:w._j.GL})),p().createElement(d.Route,{path:w._j.Pu},!k&&p().createElement(Te.Z,{afterSubmit:T,cancelRoute:w._j.Fh.replace(":uuid",a),routeMatch:w._j.Pu})))}},39379:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(99166);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return(0,r.default)(e,t,n)}},30615:(e,t,n)=>{var r=n(93379),i=n(22509);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(22509,(function(){"string"==typeof(i=(i=n(22509)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},6656:(e,t,n)=>{var r=n(93379),i=n(35623);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(35623,(function(){"string"==typeof(i=(i=n(35623)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},86667:(e,t,n)=>{var r=n(93379),i=n(14768);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(14768,(function(){"string"==typeof(i=(i=n(14768)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}},2888:(e,t,n)=>{var r=n(93379),i=n(92890);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]);var o=r(i,{insert:"head",singleton:!1});if(!i.locals||e.hot.invalidate){var a=i.locals;e.hot.accept(92890,(function(){"string"==typeof(i=(i=n(92890)).__esModule?i.default:i)&&(i=[[e.id,i,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(a,i.locals)?(a=i.locals,o(i)):e.hot.invalidate()}))}e.hot.dispose((function(){o()})),e.exports=i.locals||{}}}]);
//# sourceMappingURL=537.c86e9b9699d707a9c430.js.map