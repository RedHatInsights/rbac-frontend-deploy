"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[1576,7664],{39173:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(85893),a=r(94184),i=r.n(a),l=r(25864),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};const c=function(e){var t=e.className,r=e.title,a=i()(t);return(0,n.jsx)(l.Title,o({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:r}))}},76137:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(92950),a=r.n(n),i=r(45697),l=r.n(i),o=r(46801),c=r(25864),s=r(19571),u=function(e){return e?a().createElement(c.Breadcrumb,null,Object.values(e).map((function(e,t){return e.title?a().createElement(c.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a().createElement(o.NavLink,{end:!0,to:e.to},e.title)||e.title):a().createElement(s.Vj,{key:t})}))):null};u.propTypes={breadcrumbs:l().object};const d=u},51999:(e,t,r)=>{r.d(t,{Q:()=>h,y:()=>v});var n=r(92950),a=r.n(n),i=r(45697),l=r.n(i),o=r(25864),c=r(19571),s=r(76137),u=r(85893),d=r(94184),p=r.n(d);const m=a().createContext("light");var f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};const g=function(e){var t=e.className,r=e.children,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","children"]),a=p()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,u.jsx)(m.Consumer,{children:function(e){var t,i;void 0===e&&(e="light");var l=p()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((i={})["pf-m-light"]="light"===e,i));return(0,u.jsx)("section",f({},n,{className:"".concat(a," ").concat(l),"widget-type":"InsightsPageHeader"},{children:r}))}})};var b=r(39173),h=function(e){var t=e.children,r=e.breadcrumbs;return a().createElement(n.Fragment,null,r&&a().createElement("section",{className:"pf-c-page__main-breadcrumb"},a().createElement(s.Z,r)),a().createElement(g,{className:"rbac-page-header"},t))};h.propTypes={children:l().oneOfType([l().arrayOf(l().node),l().node]).isRequired,breadcrumbs:l().array,paddingBottom:l().bool},h.defaultProps={paddingBottom:!1};var v=function(e){var t=e.title,r=e.renderTitleTag,i=e.description,l=e.children;return a().createElement(n.Fragment,null,a().createElement(o.Flex,null,a().createElement(o.FlexItem,{className:"pf-u-mb-sm"},a().createElement(b.Z,{title:t||a().createElement(c.h2,null),className:"rbac-page-header__title"})),a().createElement(o.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},r&&r())),i&&a().createElement(o.TextContent,{className:"rbac-page-header__description"},"string"==typeof i?a().createElement(o.Text,{component:o.TextVariants.p},i):i),l)};v.propTypes={title:l().node,renderTitleTag:l().func,description:l().node,children:l().oneOfType([l().node,l().arrayOf(l().node)])}},37613:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var n=r(4942),a=r(29439),i=r(92950),l=r.n(i),o=r(25864),c=r(50533),s=r(46801),u=r(30060),d=r(93433),p=function(e){return e.reduce((function(e,t){return[].concat((0,d.Z)(e),[{cells:[t]}])}),[])},m=r(51999),f=r(39173),g=r(19571),b=r(65916),h=r(28090),v=r(4682),y=r(65126),E=r(11107),O=r(85564),j=r.n(O),_=r(86896),P=r(30893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x=function(){var e=(0,_.Z)(),t=(0,i.useState)({pagination:Z(Z({},b.he),{},{filter:""})}),r=(0,a.Z)(t,2),n=r[0],d=r[1],O=n.pagination,w=n.filter,x=(0,c.useDispatch)(),T=(0,s.useParams)(),k=T.roleId,I=T.permissionId,R=(0,c.useSelector)((function(e){var t,r,n,a,i;return{role:e.roleReducer.selectedRole,permission:e.roleReducer.selectedRole.access?Z({},null===(t=e.roleReducer.selectedRole)||void 0===t?void 0:t.access.find((function(e){return e.permission===I}))):{},isRecordLoading:e.roleReducer.isRecordLoading,rolesPagination:(null===(r=e.roleReducer)||void 0===r||null===(n=r.roles)||void 0===n?void 0:n.pagination)||b.he,rolesFilters:(null===(a=e.roleReducer)||void 0===a||null===(i=a.roles)||void 0===i?void 0:i.filters)||{}}}),c.shallowEqual),N=R.role,F=R.permission,C=R.isRecordLoading,L=R.rolesPagination,S=R.rolesFilters;(0,i.useEffect)((function(){x((0,h.fp)(k))}),[k]),(0,i.useEffect)((function(){d(Z(Z({},n),{},{pagination:Z(Z({},n.pagination),{},{count:N.access?N.access.length:0})}))}),[N]);var D=F.resourceDefinitions?j()(F.resourceDefinitions.map((function(e){return e.attributeFilter.value}))).filter((function(e){return!w||e.includes(w)})):[],B=D.slice(O.offset,O.offset+O.limit);return l().createElement(i.Fragment,null,l().createElement(m.Q,{breadcrumbs:[{title:e.formatMessage(P.Z.roles),to:(0,E.zk)((0,y.n)(v.Z.roles.link),L,S)},{title:C?void 0:N&&(N.display_name||N.name),to:(0,y.n)(v.Z["role-detail"].link.replace(":roleId",k))},{title:I,isActive:!0}]},l().createElement(o.Level,null,l().createElement(o.LevelItem,null,l().createElement(f.Z,{title:I||l().createElement(g.h2,null),className:"rbac-page-header__title"})))),l().createElement("section",{className:"pf-c-page__main-section rbac-c-role__permissions"},l().createElement(o.TextContent,null,l().createElement(o.Text,{component:o.TextVariants.h1},e.formatMessage(P.Z.definedResources))),l().createElement(u.M,{columns:[{}],rows:p(B),data:B,filterValue:w,fetchData:function(e){var t=e.limit,r=e.offset,a=e.name;return d(Z(Z({},n),{},{filter:a,pagination:Z(Z({},n.pagination),{},{limit:t,offset:r})}))},isCompact:!0,setFilterValue:function(e){var t=e.name;return d(Z(Z({},n),{},{filter:t}))},toolbarButtons:function(){return N.system?[]:[l().createElement(i.Fragment,{key:"edit-resource-definitions"},l().createElement(y.Z,{to:v.Z["role-detail-permission-edit"].link.replace(":roleId",k).replace(":permissionId",I)},l().createElement(o.Button,{variant:"primary","aria-label":"Edit"},e.formatMessage(P.Z.edit))))]},isLoading:C,pagination:Z(Z({},O),{},{count:D.length}),titlePlural:e.formatMessage(P.Z.resources).toLowerCase(),titleSingular:e.formatMessage(P.Z.resource).toLowerCase(),hideHeader:!0,tableId:"role-resource-definitions"}),l().createElement(i.Suspense,null,l().createElement(s.Outlet,{context:{cancelRoute:v.Z["role-detail-permission"].link.replace(":roleId",k).replace(":permissionId",I)}}))))}}}]);
//# sourceMappingURL=../sourcemaps/1576.a3cad271b3401fc049879f3c898a18e7.js.map