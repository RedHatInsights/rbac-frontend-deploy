"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[7781,7664],{7081:(e,t,r)=>{r.d(t,{ZP:()=>i,lb:()=>a,wl:()=>l});var n=r(40400);const a={name:"PlusCircleIcon",height:512,width:512,svgPath:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z",yOffset:0,xOffset:0},l=(0,n.IU)(a),i=l},39173:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(85893),a=r(94184),l=r.n(a),i=r(25864),o=function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};const c=function(e){var t=e.className,r=e.title,a=l()(t);return(0,n.jsx)(i.Title,o({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:r}))}},76137:(e,t,r)=>{r.d(t,{Z:()=>d});var n=r(92950),a=r.n(n),l=r(45697),i=r.n(l),o=r(46801),c=r(25864),s=r(19571),u=function(e){return e?a().createElement(c.Breadcrumb,null,Object.values(e).map((function(e,t){return e.title?a().createElement(c.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&a().createElement(o.NavLink,{end:!0,to:e.to},e.title)||e.title):a().createElement(s.Vj,{key:t})}))):null};u.propTypes={breadcrumbs:i().object};const d=u},51999:(e,t,r)=>{r.d(t,{Q:()=>v,y:()=>b});var n=r(92950),a=r.n(n),l=r(45697),i=r.n(l),o=r(25864),c=r(19571),s=r(76137),u=r(85893),d=r(94184),p=r.n(d);const m=a().createContext("light");var f=function(){return f=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},f.apply(this,arguments)};const g=function(e){var t=e.className,r=e.children,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}(e,["className","children"]),a=p()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,u.jsx)(m.Consumer,{children:function(e){var t,l;void 0===e&&(e="light");var i=p()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((l={})["pf-m-light"]="light"===e,l));return(0,u.jsx)("section",f({},n,{className:"".concat(a," ").concat(i),"widget-type":"InsightsPageHeader"},{children:r}))}})};var h=r(39173),v=function(e){var t=e.children,r=e.breadcrumbs;return a().createElement(n.Fragment,null,r&&a().createElement("section",{className:"pf-c-page__main-breadcrumb"},a().createElement(s.Z,r)),a().createElement(g,{className:"rbac-page-header"},t))};v.propTypes={children:i().oneOfType([i().arrayOf(i().node),i().node]).isRequired,breadcrumbs:i().array,paddingBottom:i().bool},v.defaultProps={paddingBottom:!1};var b=function(e){var t=e.title,r=e.renderTitleTag,l=e.description,i=e.children;return a().createElement(n.Fragment,null,a().createElement(o.Flex,null,a().createElement(o.FlexItem,{className:"pf-u-mb-sm"},a().createElement(h.Z,{title:t||a().createElement(c.h2,null),className:"rbac-page-header__title"})),a().createElement(o.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},r&&r())),l&&a().createElement(o.TextContent,{className:"rbac-page-header__description"},"string"==typeof l?a().createElement(o.Text,{component:o.TextVariants.p},l):l),i)};b.propTypes={title:i().node,renderTitleTag:i().func,description:i().node,children:i().oneOfType([i().node,i().arrayOf(i().node)])}},37613:(e,t,r)=>{r.r(t),r.d(t,{default:()=>x});var n=r(4942),a=r(29439),l=r(92950),i=r.n(l),o=r(25864),c=r(50533),s=r(46801),u=r(30060),d=r(93433),p=function(e){return e.reduce((function(e,t){return[].concat((0,d.Z)(e),[{cells:[t]}])}),[])},m=r(51999),f=r(39173),g=r(19571),h=r(65916),v=r(28090),b=r(4682),y=r(65126),O=r(11107),E=r(85564),j=r.n(E),P=r(86896),w=r(30893);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const x=function(){var e=(0,P.Z)(),t=(0,l.useState)({pagination:Z(Z({},h.he),{},{filter:""})}),r=(0,a.Z)(t,2),n=r[0],d=r[1],E=n.pagination,_=n.filter,x=(0,c.useDispatch)(),I=(0,s.useParams)(),T=I.roleId,k=I.permissionId,R=(0,c.useSelector)((function(e){var t,r,n,a,l;return{role:e.roleReducer.selectedRole,permission:e.roleReducer.selectedRole.access?Z({},null===(t=e.roleReducer.selectedRole)||void 0===t?void 0:t.access.find((function(e){return e.permission===k}))):{},isRecordLoading:e.roleReducer.isRecordLoading,rolesPagination:(null===(r=e.roleReducer)||void 0===r||null===(n=r.roles)||void 0===n?void 0:n.pagination)||h.he,rolesFilters:(null===(a=e.roleReducer)||void 0===a||null===(l=a.roles)||void 0===l?void 0:l.filters)||{}}}),c.shallowEqual),N=R.role,C=R.permission,F=R.isRecordLoading,S=R.rolesPagination,L=R.rolesFilters;(0,l.useEffect)((function(){x((0,v.fp)(T))}),[T]),(0,l.useEffect)((function(){d(Z(Z({},n),{},{pagination:Z(Z({},n.pagination),{},{count:N.access?N.access.length:0})}))}),[N]);var D=C.resourceDefinitions?j()(C.resourceDefinitions.map((function(e){return e.attributeFilter.value}))).filter((function(e){return!_||e.includes(_)})):[],M=D.slice(E.offset,E.offset+E.limit);return i().createElement(l.Fragment,null,i().createElement(m.Q,{breadcrumbs:[{title:e.formatMessage(w.Z.roles),to:(0,O.zk)((0,y.n)(b.Z.roles.link),S,L)},{title:F?void 0:N&&(N.display_name||N.name),to:(0,y.n)(b.Z["role-detail"].link.replace(":roleId",T))},{title:k,isActive:!0}]},i().createElement(o.Level,null,i().createElement(o.LevelItem,null,i().createElement(f.Z,{title:k||i().createElement(g.h2,null),className:"rbac-page-header__title"})))),i().createElement("section",{className:"pf-c-page__main-section rbac-c-role__permissions"},i().createElement(o.TextContent,null,i().createElement(o.Text,{component:o.TextVariants.h1},e.formatMessage(w.Z.definedResources))),i().createElement(u.M,{columns:[{}],rows:p(M),data:M,filterValue:_,fetchData:function(e){var t=e.limit,r=e.offset,a=e.name;return d(Z(Z({},n),{},{filter:a,pagination:Z(Z({},n.pagination),{},{limit:t,offset:r})}))},isCompact:!0,setFilterValue:function(e){var t=e.name;return d(Z(Z({},n),{},{filter:t}))},toolbarButtons:function(){return N.system?[]:[i().createElement(l.Fragment,{key:"edit-resource-definitions"},i().createElement(y.Z,{to:b.Z["role-detail-permission-edit"].link.replace(":roleId",T).replace(":permissionId",k)},i().createElement(o.Button,{variant:"primary","aria-label":"Edit"},e.formatMessage(w.Z.edit))))]},isLoading:F,pagination:Z(Z({},E),{},{count:D.length}),titlePlural:e.formatMessage(w.Z.resources).toLowerCase(),titleSingular:e.formatMessage(w.Z.resource).toLowerCase(),hideHeader:!0,tableId:"role-resource-definitions"}),i().createElement(l.Suspense,null,i().createElement(s.Outlet,{context:{cancelRoute:b.Z["role-detail-permission"].link.replace(":roleId",T).replace(":permissionId",k)}}))))}}}]);
//# sourceMappingURL=../sourcemaps/7781.ff357e15c95daedc7ef36093fc2f6238.js.map