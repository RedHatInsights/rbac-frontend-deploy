{"version":3,"sources":["webpack:///./src/smart-components/role/add-role/add-role-wizard.js","webpack:///./src/smart-components/role/add-role/permission-information.js","webpack:///./src/smart-components/role/add-role/resource-definitions-table.js","webpack:///./src/smart-components/role/add-role/resource-definitions.js","webpack:///./src/smart-components/role/add-role/role-information.js","webpack:///./src/smart-components/role/add-role/summary-content.js","webpack:///./src/smart-components/role/remove-role-modal.js","webpack:///./src/smart-components/role/role-table-helpers.js","webpack:///./src/smart-components/role/roles.js"],"names":["AddRoleWizard","addNotification","createRole","push","history","pagination","useState","formData","setValues","isRoleFormValid","setIsRoleFormValid","isPermissionFormValid","setIsPermissionFormValid","stepIdReached","setStepIdReached","handleChange","data","handleRoleChange","isValid","handlePermissionChange","steps","id","name","canJumpTo","component","RoleInformation","enableNext","PermissionInformation","ResourceDefinitions","SummaryContent","nextButtonText","onNext","step","onSubmit","roleData","applications","application","description","access","permission","resourceType","resourceDefinitions","map","definition","attributeFilter","key","operation","value","role","fetchRoles","then","onCancel","variant","title","dismissDelay","dismissable","cancelWarningVisible","setcancelWarningVisible","defaultProps","users","inputValue","selectedGroup","undefined","selectedUsers","selectedRoles","propTypes","PropTypes","shape","goBack","func","isRequired","string","limit","number","offset","count","mapStateToProps","roleReducer","roles","filterValue","isLoading","meta","searchFilter","mapDispatchToProps","dispatch","bindActionCreators","withRouter","connect","onHandleChange","getFormValues","values","isFormValid","trim","length","TextVariants","h6","_","event","currentTarget","ResourceDefinitionsTable","editable","columns","rows","cells","TableVariant","compact","arrayOf","resourceDefinition","setResourceDefinition","hasDuplicates","result","i","addDefinition","definitions","removeDefinition","updateDefinition","h5","TextListVariants","dl","TextListItemVariants","dt","dd","RemoveRoleModal","match","params","removeRole","fetchRole","useEffect","h1","bool","object","selectedRole","isRecordLoading","createRows","reduce","acc","uuid","system","accessCount","groupsCount","groups_in_count","modified","transforms","cellWidth","sortable","selector","userIdentity","identity","userEntitlements","entitlements","Roles","setFilterValue","isCostAdmin","setIsCostAdmin","useDispatch","useHistory","useSelector","shallowEqual","fetchData","options","fetchRolesWithPolicies","window","insights","chrome","getUserPermissions","allPermissions","permissionList","permissions","includes","routes","RemoveRole","actionResolver","userAllowed","isBeta","user","is_org_admin","onClick","_event","_rowId","toolbarButtons","cost_management","renderRolesList","config","mappedProps","props"],"mappings":"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","file":"js/3.js","sourcesContent":["import React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport PropTypes from 'prop-types';\nimport { Wizard } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { createRole, fetchRoles } from '../../../redux/actions/role-actions';\nimport SummaryContent from './summary-content';\nimport ResourceDefinitions from './resource-definitions';\nimport RoleInformation from './role-information';\nimport PermissionInformation from './permission-information';\nimport { WarningModal } from '../../common/warningModal';\nimport '../../common/hideWizard.scss';\n\nconst AddRoleWizard = ({\n  addNotification,\n  createRole,\n  history: { push },\n  pagination\n}) => {\n  const [ formData, setValues ] = useState({});\n  const [ isRoleFormValid, setIsRoleFormValid ] = useState(false);\n  const [ isPermissionFormValid, setIsPermissionFormValid ] = useState(false);\n  const [ stepIdReached, setStepIdReached ] = useState(1);\n\n  const handleChange = (data) => {\n    setValues({ ...formData,  ...data });\n  };\n\n  const handleRoleChange = (data, isValid) => {\n    handleChange(data);\n    setIsRoleFormValid(isValid);\n  };\n\n  const handlePermissionChange = (data, isValid) => {\n    handleChange(data);\n    setIsPermissionFormValid(isValid);\n  };\n\n  const steps = [\n    {\n      id: 1,\n      name: 'Name and Description',\n      canJumpTo: stepIdReached >= 1,\n      component: new RoleInformation(formData, handleRoleChange),\n      enableNext: isRoleFormValid\n    },\n    {\n      id: 2,\n      name: 'Permission',\n      canJumpTo: stepIdReached >= 2 && isRoleFormValid,\n      component: new PermissionInformation(formData, handlePermissionChange),\n      enableNext: isPermissionFormValid\n    },\n    {\n      id: 3,\n      name: 'Resource definitions',\n      canJumpTo: stepIdReached >= 3 && isRoleFormValid && isPermissionFormValid,\n      component: new ResourceDefinitions(formData, handleChange)\n    },\n    {\n      id: 4,\n      name: 'Review',\n      canJumpTo: stepIdReached >= 4 && isRoleFormValid && isPermissionFormValid,\n      component: new SummaryContent(formData),\n      nextButtonText: 'Confirm'\n    }\n  ];\n\n  const onNext = ({ id }) => {\n    const step = stepIdReached < id ? id : stepIdReached;\n    setStepIdReached(step);\n  };\n\n  const onSubmit = async() => {\n    const roleData = {\n      applications: [ formData.application ],\n      description: formData.description,\n      name: formData.name,\n      access: [{\n        // Permission must be in the format \"application:resource_type:operation\"\n        permission: `${formData.application}:${formData.resourceType}:${formData.permission}`,\n        resourceDefinitions: formData.resourceDefinitions.map(definition => {\n          return {\n            attributeFilter: {\n              key: definition.key,\n              operation: definition.operation,\n              value: definition.value\n            }\n          };\n        })\n      }]\n    };\n    const role = await createRole(roleData);\n    fetchRoles(pagination).then(push('/roles'));\n    return role;\n  };\n\n  const onCancel = () => {\n    addNotification({\n      variant: 'warning',\n      title: 'Creating role was canceled by the user',\n      dismissDelay: 8000,\n      dismissable: false\n    });\n    push('/roles');\n  };\n\n  const [ cancelWarningVisible, setcancelWarningVisible ] = useState(false);\n\n  return (\n    <React.Fragment>\n      <Wizard\n        className={ cancelWarningVisible && 'ins-m-wizard__hidden' }\n        isLarge\n        title=\"Add role\"\n        isOpen\n        onClose={ () => setcancelWarningVisible(true) }\n        onNext={ onNext }\n        onSave={ onSubmit }\n        steps={ steps }\n      />\n      <WarningModal\n        type='role'\n        isOpen={ cancelWarningVisible }\n        onModalCancel={ () => setcancelWarningVisible(false) }\n        onConfirmCancel={ onCancel }/>\n    </React.Fragment>\n  );\n};\n\nAddRoleWizard.defaultProps = {\n  users: [],\n  inputValue: '',\n  selectedGroup: undefined,\n  selectedUsers: [],\n  selectedRoles: []\n};\n\nAddRoleWizard.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  addNotification: PropTypes.func.isRequired,\n  createRole: PropTypes.func.isRequired,\n  fetchRoles: PropTypes.func.isRequired,\n  inputValue: PropTypes.string,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired,\n    count: PropTypes.number.isRequired\n  })\n};\n\nconst mapStateToProps = ({ roleReducer: { roles, filterValue, isLoading }}) => ({\n  roles: roles.data,\n  pagination: roles.meta,\n  isLoading,\n  searchFilter: filterValue\n});\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  createRole,\n  fetchRoles\n}, dispatch);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(AddRoleWizard));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextInput,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\n\nconst PermissionInformation = (formData, onHandleChange) => {\n  const { application = '', permission = '', resourceType = ''  } = formData;\n\n  let getFormValues = (values) => {\n    return {\n      application,\n      permission,\n      resourceType,\n      ...values\n    };\n  };\n\n  const handleChange = (values) => {\n    const data = getFormValues(values);\n    const isFormValid = data.application.trim().length > 0 && data.permission.trim().length > 0 &&\n      data.resourceType.trim().length > 0;\n    onHandleChange(data, isFormValid);\n  };\n\n  return (\n    <Stack gutter=\"md\">\n      <StackItem>\n        <Title size=\"xl\">Permission</Title>\n      </StackItem>\n      <StackItem>\n        <TextContent>\n          <Text component={ TextVariants.h6 }>\n              The permission string is made up of the following inputs where it denotes which application and the\n              resource type the permission will be allowed for.\n          </Text>\n        </TextContent>\n      </StackItem>\n      <StackItem>\n        <Form>\n          <FormGroup\n            label=\"Application\"\n            isRequired\n            fieldId=\"application\"\n          >\n            <TextInput\n              aria-describedby=\"application\"\n              id=\"application\"\n              isRequired\n              name=\"application\"\n              onChange={ (_, event) => handleChange({ application: event.currentTarget.value }) }\n              type=\"text\"\n              value={ application }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"Resource type\"\n            isRequired\n            fieldId=\"resource-type\"\n          >\n            <TextInput\n              aria-describedby=\"resource-type\"\n              id=\"resource-type\"\n              isRequired\n              name=\"resource-type\"\n              onChange={ (_, event) => handleChange({ resourceType: event.currentTarget.value }) }\n              type=\"text\"\n              value={ resourceType }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"Permission\"\n            isRequired\n            fieldId=\"permission\"\n          >\n            <TextInput\n              aria-describedby=\"permission\"\n              id=\"permission\"\n              isRequired\n              name=\"permission\"\n              onChange={ (_, event) => handleChange({ permission: event.currentTarget.value }) }\n              type=\"text\"\n              value={ permission }\n            />\n          </FormGroup>\n        </Form>\n      </StackItem>\n    </Stack>\n  );\n};\n\nPermissionInformation.propTypes = {\n  application: PropTypes.string,\n  permission: PropTypes.string,\n  resourceType: PropTypes.string\n};\n\nexport default PermissionInformation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from '@patternfly/react-core';\nimport { Table, TableBody, TableHeader, TableVariant } from '@patternfly/react-table';\n\nconst ResourceDefinitionsTable = (formData, handleChange, editable = false) => {\n  const { resourceDefinitions = []} = formData;\n\n  // Resource definition table columns\n  const columns = [\n    { title: 'Key' },\n    { title: 'Operation' },\n    { title: 'value' },\n    ''\n  ];\n\n  const rows = resourceDefinitions.map(definition => {\n    return {\n      cells: [\n        { title: definition.key },\n        { title: definition.operation },\n        { title: definition.value },\n        {\n          title: editable ?\n            <Button variant=\"link\" isInline onClick={ () => handleChange(definition) }>\n              Remove\n            </Button>\n            : null\n        }\n      ]\n    };\n  });\n\n  return (\n    <Table\n      aria-label=\"Resource definitions\"\n      cells={ columns }\n      rows={ rows }\n      variant={ TableVariant.compact }\n    >\n      <TableHeader />\n      <TableBody />\n    </Table>\n  );\n};\n\nResourceDefinitionsTable.propTypes = {\n  resourceDefinitions: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.number.isRequired,\n    operation: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired\n  }))\n};\n\nexport default ResourceDefinitionsTable;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextInput,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\nimport ResourceDefinitionsTable from './resource-definitions-table';\n\nconst ResourceDefinitions = (formData, handleChange) => {\n  // The current resource definition defined in the page\n  const [ resourceDefinition, setResourceDefinition ] = useState({\n    key: '',\n    operation: '',\n    value: ''\n  });\n  const { resourceDefinitions = []} = formData;\n\n  const hasDuplicates = () => {\n    let result = false;\n    for (let i = 0; i < resourceDefinitions.length; i++) {\n      const definition = resourceDefinitions[i];\n      if (definition.key === resourceDefinition.key && definition.operation === resourceDefinition.operation &&\n          definition.value === resourceDefinition.value) {\n        result = true;\n        break;\n      }\n    }\n\n    return result;\n  };\n\n  // Disable \"Add to definitions\" button if any field is empty\n  let isFormValid = !hasDuplicates() &&\n    resourceDefinition.key.trim().length > 0 &&\n    resourceDefinition.operation.trim().length > 0 &&\n    resourceDefinition.value.trim().length > 0;\n\n  // Add the current resource definition\n  const addDefinition = () => {\n    // Omit duplicates\n    if (hasDuplicates()) {\n      return;\n    }\n\n    const definitions = [\n      ...resourceDefinitions,\n      resourceDefinition\n    ];\n    handleChange({ resourceDefinitions: definitions });\n  };\n\n  const removeDefinition = (resourceDefinition) => {\n    const definitions = [];\n    for (let i = 0; i < resourceDefinitions.length; i++) {\n      const definition = resourceDefinitions[i];\n      if (definition.key === resourceDefinition.key && definition.operation === resourceDefinition.operation &&\n          definition.value === resourceDefinition.value) {\n        continue;\n      }\n\n      definitions.push(definition);\n    }\n\n    handleChange({ resourceDefinitions: definitions });\n  };\n\n  const updateDefinition = (values) => {\n    setResourceDefinition({\n      ...resourceDefinition,\n      ...values\n    });\n  };\n\n  return (\n    <Stack gutter=\"md\">\n      <StackItem>\n        <Title size=\"xl\">Resource definitions</Title>\n      </StackItem>\n      <StackItem>\n        <TextContent>\n          <Text component={ TextVariants.h6 }>\n              If there needs to be more details on the resources the permission is to be used for, it would be detailed\n              here.\n          </Text>\n        </TextContent>\n      </StackItem>\n      <StackItem>\n        <Form>\n          <FormGroup\n            label=\"Key\"\n            fieldId=\"resource-key\"\n          >\n            <TextInput\n              aria-describedby=\"resource-key\"\n              id=\"resource-key\"\n              name=\"resource-key\"\n              onChange={ (_, event) => updateDefinition({ key: event.currentTarget.value }) }\n              type=\"text\"\n              value={ resourceDefinition.key }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"Operation\"\n            fieldId=\"resource-operation\"\n          >\n            <TextInput\n              aria-describedby=\"resource-operation\"\n              id=\"resource-operation\"\n              name=\"resource-operation\"\n              onChange={ (_, event) => updateDefinition({ operation: event.currentTarget.value }) }\n              type=\"text\"\n              value={ resourceDefinition.operation }\n            />\n          </FormGroup>\n          <FormGroup\n            label=\"Value\"\n            fieldId=\"resource-value\"\n          >\n            <TextInput\n              aria-describedby=\"resource-value\"\n              id=\"resource-value\"\n              name=\"resource-value\"\n              onChange={ (_, event) => updateDefinition({ value: event.currentTarget.value }) }\n              type=\"text\"\n              value={ resourceDefinition.value }\n            />\n          </FormGroup>\n        </Form>\n      </StackItem>\n      <StackItem>\n        <Button variant=\"primary\" isDisabled={ !isFormValid } onClick={ addDefinition }>Add to definitions</Button>\n      </StackItem>\n      <StackItem>\n        { new ResourceDefinitionsTable(formData, removeDefinition, true) }\n      </StackItem>\n    </Stack>\n  );\n};\n\nResourceDefinitions.propTypes = {\n  resourceDefinitions: PropTypes.arrayOf(PropTypes.shape({\n    key: PropTypes.number.isRequired,\n    operation: PropTypes.number.isRequired,\n    value: PropTypes.number.isRequired\n  }))\n};\n\nexport default ResourceDefinitions;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Form,\n  FormGroup,\n  Stack,\n  StackItem,\n  TextInput,\n  TextArea,\n  Title\n} from '@patternfly/react-core';\n\nconst RoleInformation = (formData, onHandleChange) => {\n  const { description = '', name = '' } = formData;\n\n  return (\n    <Stack gutter=\"md\">\n      <StackItem>\n        <Title size=\"xl\">Name and description</Title>\n      </StackItem>\n      <StackItem>\n        <Form>\n          <FormGroup\n            label=\"Name\"\n            isRequired\n            fieldId=\"name\"\n          >\n            <TextInput\n              isRequired\n              type=\"text\"\n              id=\"name\"\n              name=\"name\"\n              aria-describedby=\"name\"\n              value={ name }\n              onChange={ (_, event) => onHandleChange({ name: event.currentTarget.value },\n                event.currentTarget.value.trim().length > 0) }\n            />\n          </FormGroup>\n          <FormGroup label=\"Description\" fieldId=\"description\">\n            <TextArea\n              type=\"text\"\n              id=\"description\"\n              name=\"description\"\n              value={ description }\n              onChange={ (_, event) => onHandleChange({ description: event.currentTarget.value }, true) }\n            />\n          </FormGroup>\n        </Form>\n      </StackItem>\n    </Stack>\n  );\n};\n\nRoleInformation.propTypes = {\n  name: PropTypes.string,\n  description: PropTypes.string\n};\n\nexport default RoleInformation;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Stack,\n  StackItem,\n  Text,\n  TextContent,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n  TextVariants,\n  Title\n} from '@patternfly/react-core';\nimport ResourceDefinitionsTable from './resource-definitions-table';\n\nconst SummaryContent = (formData) => {\n  const {\n    application = '',\n    description = '',\n    name = '',\n    permission = '',\n    resourceType = ''\n  } = formData;\n\n  return (\n    <Stack gutter=\"md\">\n      <StackItem>\n        <Title size=\"xl\">Confirm details</Title>\n      </StackItem>\n      <StackItem>\n        <Stack gutter=\"md\">\n          <StackItem>\n            <TextContent>\n              <Text component={ TextVariants.h5 }>\n                  Confirm the details for your source, or click Back to revise\n              </Text>\n            </TextContent>\n          </StackItem>\n          <StackItem>\n            <TextContent>\n              <TextList component={ TextListVariants.dl }>\n                <TextListItem component={ TextListItemVariants.dt }>Name</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>{ name }</TextListItem>\n                <TextListItem component={ TextListItemVariants.dt }>Description</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>{ description }</TextListItem>\n                <TextListItem component={ TextListItemVariants.dt }>Application</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>{ application }</TextListItem>\n                <TextListItem component={ TextListItemVariants.dt }>Resource type</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>{ resourceType }</TextListItem>\n                <TextListItem component={ TextListItemVariants.dt }>Operation</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>{ permission }</TextListItem>\n                <TextListItem component={ TextListItemVariants.dt }>Resource definition</TextListItem>\n                <TextListItem component={ TextListItemVariants.dd }>\n                  { new ResourceDefinitionsTable(formData) }\n                </TextListItem>\n              </TextList>\n            </TextContent>\n          </StackItem>\n        </Stack>\n      </StackItem>\n    </Stack>\n  );\n};\n\nSummaryContent.propTypes = {\n  application: PropTypes.string,\n  description: PropTypes.string,\n  name: PropTypes.string,\n  permission: PropTypes.string,\n  resourceType: PropTypes.string\n};\n\nexport default SummaryContent;\n\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { Modal, Button, Grid, GridItem, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { fetchRoles, fetchRole, removeRole } from '../../redux/actions/role-actions';\nimport { FormItemLoader } from '../../presentational-components/shared/loader-placeholders';\n\nconst RemoveRoleModal = ({\n  history: { goBack, push },\n  match: { params: { id }},\n  removeRole,\n  role,\n  isLoading,\n  fetchRole,\n  fetchRoles\n}) => {\n  useEffect(() => {\n    fetchRole(id);\n  }, []);\n\n  const onSubmit = () => removeRole(id)\n  .then(() => {\n    fetchRoles();\n    push('/roles');\n  });\n\n  const onCancel = () => goBack();\n\n  return (\n    <Modal\n      isOpen\n      isSmall\n      title = { '' }\n      onClose={ onCancel }\n      actions={ [\n        <Button key=\"cancel\" variant=\"secondary\" type=\"button\" onClick={ onCancel }>\n          Cancel\n        </Button>,\n        <Button key=\"submit\" isDisabled={ isLoading  }  variant=\"primary\" type=\"button\" onClick={ onSubmit }>\n          Confirm\n        </Button>\n      ] }\n    >\n      <Grid gutter=\"sm\">\n        <GridItem span={ 5 }>\n          <TextContent>\n            <Text component={ TextVariants.h1 }>\n                Removing Role:\n            </Text>\n          </TextContent>\n        </GridItem>\n        <GridItem span={ 6 }>\n          <TextContent>\n            { !isLoading && <Text component={ TextVariants.h1 }>\n              { role.name }\n            </Text> }\n          </TextContent>\n          { isLoading && <FormItemLoader/> }\n        </GridItem>\n      </Grid>\n    </Modal>\n  );\n};\n\nRemoveRoleModal.defaultProps = {\n  role: {},\n  isLoading: true\n};\n\nRemoveRoleModal.propTypes = {\n  addNotification: PropTypes.func.isRequired,\n  fetchRole: PropTypes.func.isRequired,\n  fetchRoles: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool,\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired\n  }).isRequired,\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  removeRole: PropTypes.func.isRequired,\n  role: PropTypes.object\n};\n\nconst mapStateToProps = ({ roleReducer: { roles, selectedRole, isRecordLoading }}) => ({\n  role: selectedRole,\n  isLoading: isRecordLoading,\n  pagination: roles.meta\n});\n\nconst mapDispatchToProps = (dispatch) => bindActionCreators({\n  addNotification,\n  fetchRole,\n  fetchRoles,\n  removeRole\n}, dispatch);\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(RemoveRoleModal));\n","import React, { Fragment } from 'react';\nimport { DateFormat } from '@redhat-cloud-services/frontend-components';\nimport { Link } from 'react-router-dom';\n\nexport const createRows = (data) => (\n  data.reduce((acc, { uuid, name, description, system, accessCount, groups_in_count: groupsCount, modified }) => ([\n    ...acc,\n    {\n      uuid,\n      system,\n      cells: [\n        <Fragment key={ `${uuid}-name` }>\n          <Link to={ `/roles/detail/${uuid}` }>\n            { name }\n          </Link>\n        </Fragment>,\n        description,\n        <Fragment key={ `${uuid}-accessCount` }>\n          <Link to={ `/roles/detail/${uuid}` }>\n            { accessCount }\n          </Link>\n        </Fragment>,\n        groupsCount,\n        <Fragment key={ `${uuid}-modified` }>\n          <DateFormat date={ modified } type=\"relative\" />\n        </Fragment>\n      ]\n    }\n  ]), [])\n);\n","import React, { Fragment, useState, useEffect } from 'react';\nimport { shallowEqual, useSelector, useDispatch  } from 'react-redux';\nimport { Link, Route, Switch, useHistory } from 'react-router-dom';\nimport { cellWidth, sortable } from '@patternfly/react-table';\nimport { Button, Stack, StackItem } from '@patternfly/react-core';\nimport { createRows } from './role-table-helpers';\nimport { mappedProps } from '../../helpers/shared/helpers';\nimport { fetchRolesWithPolicies } from '../../redux/actions/role-actions';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport AddRoleWizard from './add-role/add-role-wizard';\nimport RemoveRole from './remove-role-modal';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport Role from './role';\n\nconst columns = [\n  { title: 'Name', key: 'name', transforms: [ cellWidth(20), sortable ]},\n  { title: 'Description' },\n  { title: 'Permissions', transforms: [ cellWidth(5) ]},\n  { title: 'Groups', transforms: [ cellWidth(5) ]},\n  { title: 'Last modified', key: 'modified', transforms: [ cellWidth(10), sortable ]}\n];\n\nconst selector = ({ roleReducer: { roles, isLoading }}) => ({\n  roles: roles.data,\n  pagination: roles.meta,\n  userIdentity: roles.identity,\n  userEntitlements: roles.entitlements,\n  isLoading\n});\n\nconst Roles = () => {\n  const [ filterValue, setFilterValue ] = useState('');\n  const [ isCostAdmin, setIsCostAdmin ] = useState(false);\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n  const {\n    roles,\n    isLoading,\n    pagination,\n    userIdentity,\n    userEntitlements\n  } = useSelector(selector, shallowEqual);\n  const fetchData = (options) => dispatch(fetchRolesWithPolicies(options));\n\n  useEffect(() => {\n    fetchData({ ...pagination, name: filterValue });\n    window.insights.chrome.getUserPermissions('cost-management').then(\n      allPermissions => {\n        const permissionList = allPermissions.map(permissions => permissions.permission);\n        setIsCostAdmin(permissionList.includes('cost-management:*:*'));\n      }\n    );\n  }, []);\n\n  const routes = () => <Fragment>\n    <Route exact path=\"/roles/add-role\" component={ AddRoleWizard } />\n    <Route exact path=\"/roles/remove/:id\" component={ RemoveRole } />\n  </Fragment>;\n\n  const actionResolver = ({ system }) => {\n    const userAllowed = insights.chrome.isBeta() && userIdentity && userIdentity.user && userIdentity.user.is_org_admin;\n    return (system || !userAllowed) ? [] : [\n      {\n        title: 'Delete',\n        onClick: (_event, _rowId, role) =>\n          push(`/roles/remove/${role.uuid}`)\n      }\n    ];\n  };\n\n  const toolbarButtons = () => [\n    <Fragment key=\"add-role\">\n      { userEntitlements && userEntitlements.cost_management && window.insights.chrome.isBeta() && isCostAdmin ?\n        <Link to=\"/roles/add-role\" >\n          <Button\n            variant=\"primary\"\n            aria-label=\"Create role\"\n          >\n          Create role\n          </Button>\n        </Link> :\n        <Fragment /> }\n    </Fragment>\n  ];\n\n  const renderRolesList = () =>\n    <Stack>\n      <StackItem>\n        <TopToolbar>\n          <TopToolbarTitle title=\"Roles\" />\n        </TopToolbar>\n      </StackItem>\n      <StackItem>\n        <Section type=\"content\" id={ 'tab-roles' }>\n          <TableToolbarView\n            actionResolver={ actionResolver }\n            columns={ columns }\n            createRows={ createRows }\n            data={ roles }\n            filterValue={ filterValue }\n            fetchData={ (config) => fetchData(mappedProps(config)) }\n            setFilterValue={ ({ name }) => setFilterValue(name) }\n            isLoading={ isLoading }\n            pagination={ pagination }\n            routes={ routes }\n            titlePlural=\"roles\"\n            titleSingular=\"role\"\n            toolbarButtons = { toolbarButtons }\n            filterPlaceholder=\"name\"\n          />\n        </Section>\n      </StackItem>\n    </Stack>;\n\n  return (\n    <Switch>\n      <Route path={ '/roles/detail/:uuid' } render={ props => <Role { ...props }/> } />\n      <Route path={ '/roles' } render={ () => renderRolesList() } />\n    </Switch>\n  );\n};\n\nexport default Roles;\n"],"sourceRoot":""}