(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[348],{19993:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r}),t(70347);const r={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r}),t(25238);const r={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},66042:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>r}),t(87234);const r={bullseye:"pf-v5-l-bullseye"}},55244:(e,o,t)=>{"use strict";o.ns=void 0;var r=t(65353),n=t(12663);o.ns=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return r.__awaiter(void 0,void 0,void 0,(function(){var o,t,s,a,i,c,u,p;return r.__generator(this,(function(d){return o=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"workspacesBasicWorkspace")}(e)?e[0]:["workspacesBasicWorkspace","options"].reduce((function(o,t,n){var s;return r.__assign(r.__assign({},o),((s={})[t]=e[n],s))}),{}),t=o.workspacesBasicWorkspace,s=o.options,a=void 0===s?{}:s,i=new URL("/workspaces/",n.DUMMY_BASE_URL),c=r.__assign({method:"POST"},a),p={},(u={})["Content-Type"]="application/json",(0,n.setSearchParams)(i,p),c.headers=r.__assign(r.__assign({},u),a.headers),[2,{urlObj:i,options:c,serializeData:t}]}))}))},o.ZP=o.ns},47818:(e,o,t)=>{"use strict";o.Ne=void 0;var r=t(65353),n=t(12663);o.Ne=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return r.__awaiter(void 0,void 0,void 0,(function(){var o,t,s,a,i,c,u,p,d;return r.__generator(this,(function(l){return o=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")}(e)?e[0]:["uuid","options"].reduce((function(o,t,n){var s;return r.__assign(r.__assign({},o),((s={})[t]=e[n],s))}),{}),t=o.uuid,s=o.options,a=void 0===s?{}:s,i="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(t))),c=new URL(i,n.DUMMY_BASE_URL),u=r.__assign({method:"DELETE"},a),p={},d={},(0,n.setSearchParams)(c,d),u.headers=r.__assign(r.__assign({},p),a.headers),[2,{urlObj:c,options:u}]}))}))},o.ZP=o.Ne},54667:(e,o,t)=>{"use strict";o.Zo=void 0;var r=t(65353),n=t(12663);o.Zo=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return r.__awaiter(void 0,void 0,void 0,(function(){var o,t,s,a,i,c,u,p,d;return r.__generator(this,(function(l){return o=function(e){return 1===e.length&&!0}(e)?e[0]:["limit","offset","options"].reduce((function(o,t,n){var s;return r.__assign(r.__assign({},o),((s={})[t]=e[n],s))}),{}),t=o.limit,s=o.offset,a=o.options,i=void 0===a?{}:a,c=new URL("/workspaces/",n.DUMMY_BASE_URL),u=r.__assign({method:"GET"},i),p={},d={},void 0!==t&&(d.limit=t),void 0!==s&&(d.offset=s),(0,n.setSearchParams)(c,d),u.headers=r.__assign(r.__assign({},p),i.headers),[2,{urlObj:c,options:u}]}))}))},o.ZP=o.Zo},25034:(e,o,t)=>{"use strict";o.CX=void 0;var r=t(65353),n=t(12663);o.CX=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return r.__awaiter(void 0,void 0,void 0,(function(){var o,t,s,a,i,c,u,p,d,l;return r.__generator(this,(function(_){return o=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")&&Object.prototype.hasOwnProperty.call(e,"workspacesPatchWorkspaceRequest")}(e)?e[0]:["uuid","workspacesPatchWorkspaceRequest","options"].reduce((function(o,t,n){var s;return r.__assign(r.__assign({},o),((s={})[t]=e[n],s))}),{}),t=o.uuid,s=o.workspacesPatchWorkspaceRequest,a=o.options,i=void 0===a?{}:a,c="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(t))),u=new URL(c,n.DUMMY_BASE_URL),p=r.__assign({method:"PATCH"},i),l={},(d={})["Content-Type"]="application/json",(0,n.setSearchParams)(u,l),p.headers=r.__assign(r.__assign({},d),i.headers),[2,{urlObj:u,options:p,serializeData:s}]}))}))},o.ZP=o.CX},26057:(e,o,t)=>{"use strict";o.vc=void 0;var r=t(65353),n=t(12663);o.vc=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return r.__awaiter(void 0,void 0,void 0,(function(){var o,t,s,a,i,c,u,p,d,l;return r.__generator(this,(function(_){return o=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")&&!0}(e)?e[0]:["uuid","includeAncestry","options"].reduce((function(o,t,n){var s;return r.__assign(r.__assign({},o),((s={})[t]=e[n],s))}),{}),t=o.uuid,s=o.includeAncestry,a=o.options,i=void 0===a?{}:a,c="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(t))),u=new URL(c,n.DUMMY_BASE_URL),p=r.__assign({method:"GET"},i),d={},l={},void 0!==s&&(l.include_ancestry=s),(0,n.setSearchParams)(u,l),p.headers=r.__assign(r.__assign({},d),i.headers),[2,{urlObj:u,options:p}]}))}))},o.ZP=o.vc},97270:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>R});var r=t(66029),n=t.n(r),s=t(25387),a=t(86706),i=t(71079),c=t(238),u=t(33366),p=t(26057),d=t(54667),l=t(55244),_=t(25034),f=t(47818),m=t(40930),v=t(75614);const h=c.Z.create();h.interceptors.response.use(null,(e=>{if(e.response&&404===e.response.status)return Promise.resolve({})})),h.interceptors.response.use(u.xH),h.interceptors.response.use(null,u.ub),h.interceptors.response.use(null,u.ud);const g=new m.APIFactory(v.un,{getWorkspace:async(...e)=>{const o=await(0,p.ZP)(...e);return{...o,options:{...o.options,transformResponse:()=>({})}}},createWorkspace:async(...e)=>{const o=await(0,l.ZP)(...e);return{...o,options:{...o.options,transformResponse:()=>({})}}},updateWorkspace:async(...e)=>{const o=await(0,_.ZP)(...e);return{...o,options:{...o.options,transformResponse:()=>({})}}},deleteWorkspace:async(...e)=>{const o=await(0,f.ZP)(...e);return{...o,options:{...o.options,transformResponse:()=>({})}}},listWorkspaces:d.ZP},{axios:h});async function w(){return await g.listWorkspaces()}var b=t(2550),k=t(56756),P=t(72853),y=(t(93302),t(16623)),x=(t(22479),t(84816),t(65612),t(94034),t(66828));(0,r.createContext)({subscribe:()=>()=>null,trigger:()=>null});var E=t(16503);const R=()=>{const e=(0,s.YB)(),o=(0,a.useDispatch)(),t=(0,y.aJ)({matchOption:(e,o)=>e.id===o.id}),{isLoading:c,workspaces:u,error:p}=(0,a.useSelector)((e=>e.workspacesReducer)),[d,l]=(0,r.useState)([]);(0,r.useEffect)((()=>{o({type:i.Zw,payload:w().catch((e=>{throw e}))})}),[o]),(0,r.useEffect)((()=>{u.length>0&&l((e=>{const o={};e.forEach((e=>{o[e.uuid]={id:e.uuid,name:e.name,description:e.description,children:[]}}));const t=[];return e.forEach((e=>{e.parent_id?o[e.parent_id]?.children?.push(o[e.uuid]):t.push(o[e.uuid])})),t})(u))}),[u]);const _=e=>e.map((e=>({row:[e.name,e.description],id:e.id,...e.children&&e.children.length>0?{children:_(e.children)}:{}}))),f=_(d);return n().createElement(n().Fragment,null,n().createElement(k.yW,{title:e.formatMessage(b.Z.workspaces),subtitle:e.formatMessage(b.Z.workspacesSubtitle),linkProps:{label:e.formatMessage(b.Z.workspacesLearnMore),isExternal:!0,href:"#"}}),n().createElement(P.NP,null,c&&n().createElement("p",null,"Loading..."),p&&n().createElement("p",null,"Error: ",p),!c&&!p&&n().createElement(E.ZP,{selection:t},n().createElement(x.ZP,{isTreeTable:!0,"aria-label":"Repositories table",ouiaId:"ouiaId",columns:["Name","Description"],rows:f}))))}},70347:()=>{},25238:()=>{},92084:()=>{},97236:()=>{},87234:()=>{},38299:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/348.e87b1dca60d8cf74b91c588056e993e3.js.map