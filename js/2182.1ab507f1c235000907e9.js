(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[2182,5467,945],{35224:(e,t,a)=>{"use strict";a.d(t,{u:()=>b,D:()=>d});var s=a(65353),i=a(28416),n=a(86478),r=a(38296);const l=e=>{var{className:t,children:a,isLeftAligned:l}=e,o=(0,s.__rest)(e,["className","children","isLeftAligned"]);return i.createElement("div",Object.assign({className:(0,r.css)(n.default.tooltipContent,l&&n.default.modifiers.textAlignLeft,t)},o),a)};l.displayName="TooltipContent";const o=e=>{var{className:t}=e,a=(0,s.__rest)(e,["className"]);return i.createElement("div",Object.assign({className:(0,r.css)(n.default.tooltipArrow,t)},a))};o.displayName="TooltipArrow";var c=a(1774);const m={name:"--pf-v5-c-tooltip--MaxWidth",value:"18.75rem",var:"var(--pf-v5-c-tooltip--MaxWidth)"};var d,p=a(69121);!function(e){e.auto="auto",e.top="top",e.bottom="bottom",e.left="left",e.right="right",e.topStart="top-start",e.topEnd="top-end",e.bottomStart="bottom-start",e.bottomEnd="bottom-end",e.leftStart="left-start",e.leftEnd="left-end",e.rightStart="right-start",e.rightEnd="right-end"}(d||(d={}));let u=1;const b=e=>{var{content:t,position:a="top",trigger:d="mouseenter focus",isVisible:b=!1,isContentLeftAligned:f=!1,enableFlip:g=!0,className:h="",entryDelay:v=300,exitDelay:E=300,appendTo:y=(()=>document.body),zIndex:A=9999,minWidth:_,maxWidth:N=m.value,distance:O=15,aria:k="describedby",flipBehavior:T=["top","right","bottom","left","top","right","bottom"],id:S="pf-tooltip-"+u++,children:I,animationDuration:D=300,triggerRef:x,"aria-live":C=(x?"polite":"off"),onTooltipHidden:L=(()=>{})}=e,w=(0,s.__rest)(e,["content","position","trigger","isVisible","isContentLeftAligned","enableFlip","className","entryDelay","exitDelay","appendTo","zIndex","minWidth","maxWidth","distance","aria","flipBehavior","id","children","animationDuration","triggerRef","aria-live","onTooltipHidden"]);const M=d.includes("mouseenter"),P=d.includes("focus"),U=d.includes("click"),Z="manual"===d,[j,B]=i.useState(!1),R=i.createRef();i.useEffect((()=>{b?F():V()}),[b]);const F=()=>{B(!0)},V=()=>{B(!1)},W={top:n.default.modifiers.top,bottom:n.default.modifiers.bottom,left:n.default.modifiers.left,right:n.default.modifiers.right,"top-start":n.default.modifiers.topLeft,"top-end":n.default.modifiers.topRight,"bottom-start":n.default.modifiers.bottomLeft,"bottom-end":n.default.modifiers.bottomRight,"left-start":n.default.modifiers.leftTop,"left-end":n.default.modifiers.leftBottom,"right-start":n.default.modifiers.rightTop,"right-end":n.default.modifiers.rightBottom},z=N!==m.value,H=i.createElement("div",Object.assign({"aria-live":C,className:(0,r.css)(n.default.tooltip,h),role:"tooltip",id:S,style:{maxWidth:z?N:null},ref:R},w),i.createElement(o,null),i.createElement(l,{isLeftAligned:f},t));return i.createElement(p.Popper,{trigger:"none"!==k&&j?"describedby"===k&&I&&I.props&&!I.props["aria-describedby"]?i.cloneElement(I,{"aria-describedby":S}):"labelledby"===k&&I.props&&!I.props["aria-labelledby"]?i.cloneElement(I,{"aria-labelledby":S}):I:I,triggerRef:x,popper:H,popperRef:R,minWidth:void 0!==_?_:"revert",appendTo:y,isVisible:j,positionModifiers:W,distance:O,placement:a,onMouseEnter:M&&F,onMouseLeave:M&&V,onPopperMouseEnter:M&&F,onPopperMouseLeave:M&&V,onFocus:P&&F,onBlur:P&&V,onDocumentClick:U&&((e,t)=>{j?V():e.target===t&&F()}),onDocumentKeyDown:Z?null:e=>{Z||e.key===c.yu.Escape&&j&&V()},onTriggerEnter:Z?null:e=>{e.key===c.yu.Enter&&(j?V():F())},enableFlip:g,zIndex:A,flipBehavior:T,animationDuration:D,entryDelay:v,exitDelay:E,onHidden:L})};b.displayName="Tooltip"},5964:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CaretDownIcon:()=>n,CaretDownIconConfig:()=>i,default:()=>r});var s=a(40400);const i={name:"CaretDownIcon",height:512,width:320,svgPath:"M31.3 192h257.3c17.8 0 26.7 21.5 14.1 34.1L174.1 354.8c-7.8 7.8-20.5 7.8-28.3 0L17.2 226.1C4.6 213.5 13.5 192 31.3 192z",yOffset:0,xOffset:0},n=(0,s.I)(i),r=n},15493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(28416),i=a.n(s),n=a(62012),r=a(79332),l=a(65353),o=a(5964),c=a(75587),m=a(73699),d=a(41435),p=a(38296),u=a(62472);const b=e=>{var{id:t="",children:a=null,className:i="",isOpen:n=!1,parentRef:r=null,getMenuRef:f=null,isDisabled:g=!1,isPlain:h=!1,isText:v=!1,toggleVariant:E="default",isActive:y=!1,onToggle:A=((e,t)=>{}),icon:_=null,toggleIndicator:N=o.default,splitButtonItems:O,splitButtonVariant:k="checkbox","aria-haspopup":T,ouiaId:S,ouiaSafe:I,ref:D}=e,x=(0,l.__rest)(e,["id","children","className","isOpen","parentRef","getMenuRef","isDisabled","isPlain","isText","toggleVariant","isActive","onToggle","icon","toggleIndicator","splitButtonItems","splitButtonVariant","aria-haspopup","ouiaId","ouiaSafe","ref"]);const C=(0,u.useOUIAProps)(b.displayName,S,I),L=s.createElement(d.Dl.Consumer,null,(({toggleTextClass:e,toggleIndicatorClass:l,toggleIconClass:o})=>s.createElement(c.Z,Object.assign({},x,{id:t,className:i,isOpen:n,parentRef:r,getMenuRef:f,isActive:y,isDisabled:g,isPlain:h,isText:v,toggleVariant:E,onToggle:A,"aria-haspopup":T},C,O&&{isSplitButton:!0,"aria-label":x["aria-label"]||"Select"}),_&&s.createElement("span",{className:(0,p.css)(o)},_),a&&s.createElement("span",{className:N&&(0,p.css)(e)},a),N&&s.createElement("span",{className:(0,p.css)(!O&&l)},s.createElement(N,null)))));return O?s.createElement("div",{className:(0,p.css)(m.Z.dropdownToggle,m.Z.modifiers.splitButton,"action"===k&&m.Z.modifiers.action,"primary"===E&&"action"===k&&m.Z.modifiers.primary,"secondary"===E&&"action"===k&&m.Z.modifiers.secondary,g&&m.Z.modifiers.disabled)},O,L):L};b.displayName="DropdownToggle";var f=a(85044),g=a(39173),h=a(55140),v=a(64380),E=a(15950),y=a(25387),A=a(45697),_=a.n(A),N=a(2550),O=a(78173),k=a(50247);const T=({isOrgAdmin:e,isUserAccessAdmin:t})=>{const a=(0,y.YB)(),s=a.formatMessage(N.Z[e?"orgAdministrator":"userAccessAdmin"]),n=i().createElement("span",null,a.formatMessage(N.Z[e?"orgAdminHint":"userAccessAdminHint"]));return e||t?i().createElement(k.Tooltip,{position:k.TooltipPosition.right,content:n},i().createElement(O.Label,{color:"purple"}," ",s," ")):i().createElement(i().Fragment,null)};T.propTypes={isOrgAdmin:_().bool,isUserAccessAdmin:_().bool};const S=T;var I=a(86601);const D=[{entitlement:"application_services",title:"Application Services",apps:{"Streams for Apache Kafka (beta)":"/","API Management (beta)":"/","Data Science (private beta)":"/"}},{entitlement:"openshift",title:"OpenShift",apps:{clusters:"/",advisor:"/insights/advisor",subscriptions:"/subscriptions","cost management":"/cost-management"},appsIds:["cost-management","subscriptions","ocp-advisor","ocm"]},{entitlement:"rhel",title:"Red Hat Enterprise Linux",apps:{advisor:"/advisor",compliance:"/compliance",drift:"/drift","image builder":"/image-builder",patch:"/patch",vulnerability:"/vulnerability",policies:"/policies",subscriptions:"/subscriptions",repositories:"/content",provisioning:"/provisioning"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance","inventory","notifications","image-builder","subscriptions","content-sources","provisioning"]},{entitlement:"ansible",title:"Ansible Automation Platform",apps:{"automation hub":"/automation-hub","automation services catalog":"/catalog",insights:"/automation-analytics"},appsIds:["catalog","approval","automation-analytics","automation-hub"]}];var x=a(9545),C=a(23539),L=a(72232),w=a(94184),M=a.n(w),P=a(88094);const U=(...e)=>{const{search:t}=(0,n.useLocation)(),a=new URLSearchParams(t);return e.reduce(((e,t)=>({...e,[t]:a.get(t)})),{})},Z=({header:e,entitlements:t,isDisabled:a})=>{const{bundle:s}=U("bundle");return i().createElement(i().Fragment,null,e&&i().createElement(L.Title,{headingLevel:"h3",size:"xl"},e),i().createElement(C.Stack,{className:M()({"pf-v5-u-mt-lg":!e}),hasGutter:!0},t&&D?.map((e=>{const r=t.find((([t])=>e.entitlement===t)),l=e.entitlement;return r?i().createElement(C.StackItem,{key:l,className:"rbac-c-mua-cardWrapper"},i().createElement(n.NavLink,{"aria-label":"card-link",className:M()("rbac-c-mua-bundles__cardlink",{"rbac-c-mua-bundles__cardlink--disabled":a}),to:{pathname:"",search:`bundle=${l}`}},i().createElement(P.Card,{key:e.title,isFlat:a||l!==s,isSelectable:!a,isSelected:!a&&l===s,className:M()("rbac-c-mua-bundles__card",`rbac-c-mua-bundles__card--${e.entitlement}`,{"rbac-c-mua-bundles__card--disabled":a})},i().createElement(P.CardTitle,{className:"rbac-c-mua-bundles__card--header"}," ",e.title),i().createElement(P.CardBody,null,i().createElement(C.Stack,{hasGutter:!0},i().createElement(C.StackItem,{className:"rbac-c-mua-bundles__card--applist"},Object.entries(e.apps||{}).map((([e])=>i().createElement("span",{key:e}," ",e," "))))))))):null}))))};Z.propTypes={header:_().string,entitlements:_().array,isDisabled:_().bool};const j=Z;var B=a(75614);const R=()=>s.Fragment,F=()=>{const{bundle:e}=U("bundle"),t=(e=>{const{pathname:t}=(0,n.useLocation)(),a=(0,n.useNavigate)();return"string"==typeof e&&0!==e.length&&["application_services","openshift","rhel","ansible"].includes(e)?D.find((({entitlement:t})=>t===e))?.appsIds||[]:(a({to:t,search:`bundle=${e=B.Jr}`},{replace:!0}),[])})(e),[r,l]=(0,s.useState)({});(0,s.useEffect)((()=>{Object.prototype.hasOwnProperty.call(r,e)||a(19289)(`./${e}`).then((t=>l((a=>({...a,[e]:t.default}))))).catch(console.log)}),[e]);const o=r[e]||R;return i().createElement(o,{key:e,apps:t})};var V=a(65655);const W=({entitlements:e,isOrgAdmin:t,isUserAccessAdmin:a})=>{const s=(0,y.YB)(),n=Object.entries(e).filter((([,{is_entitled:e}])=>e)),r=Object.entries(e).filter((([,{is_entitled:e}])=>!e)),{bundle:l}=U("bundle"),o=t||a;return i().createElement(V.Z.Provider,{value:o},i().createElement(x.Grid,null,i().createElement(x.GridItem,{className:"pf-m-3-col-on-md rbac-l-myUserAccess-section__cards rbac-m-hide-on-sm"},i().createElement(C.Stack,null,i().createElement(C.StackItem,{"data-testid":"entitle-section",className:"rbac-l-myUserAccess-section__cards--entitled"},i().createElement(j,{entitlements:n})),r.length>0&&i().createElement(C.StackItem,{className:"rbac-l-myUserAccess-section__cards--unentitled"},i().createElement(j,{header:s.formatMessage(N.Z.notSubscribed),entitlements:r,isDisabled:!0})))),i().createElement(x.GridItem,{className:"pf-m-9-col-on-md rbac-l-myUserAccess-section__table"},"application_services"!==l&&i().createElement(L.Title,{headingLevel:"h3",size:"xl"},s.formatMessage(o?N.Z.yourRoles:N.Z.yourPermissions,{name:D.find((({entitlement:e})=>e===l))?.title})),i().createElement(F,null))))};W.propTypes={entitlements:_().object,isOrgAdmin:_().bool,isUserAccessAdmin:_().bool};const z=W,H=()=>{const e=(0,y.YB)(),t=(0,h.Z)(),[a,l]=(0,s.useState)({}),[{bundle:o},c]=(0,n.useSearchParams)(),[m,d]=(0,s.useState)(o),{userAccessAdministrator:p}=(0,s.useContext)(I.Z);(0,s.useEffect)((()=>{t.auth.getUser().then((({identity:e,entitlements:t})=>l({entitlements:t,isOrgAdmin:e?.user?.is_org_admin}))),!o&&c({bundle:B.Jr})}),[]);const u={...a.entitlements,application_services:{is_entitled:!0,is_trial:!1}},A=Object.entries(u).filter((([,{is_entitled:e}])=>e)),[_,O]=(0,s.useState)(!1);return i().createElement(i().Fragment,null,Object.prototype.hasOwnProperty.call(a,"entitlements")&&(Object.prototype.hasOwnProperty.call(a,"isOrgAdmin")||p)?i().createElement(i().Fragment,null,i().createElement(g.Z,{className:"rbac-p-myUserAccess--title sticky",title:i().createElement(i().Fragment,null,i().createElement("span",null," ",e.formatMessage(N.Z.myUserAccess)," "),i().createElement(S,{isOrgAdmin:a.isOrgAdmin,isUserAccessAdmin:p}))}),i().createElement(v.Text,{component:"p",className:"rbac-p-myUserAccess--subtitle"},e.formatMessage(N.Z.selectAppsToViewPermissions)),A&&i().createElement("div",{className:"rbac-p-myUserAccess--dropdown sticky"},i().createElement(r.L,{ouiaId:"mua-bundle-dropdown",toggle:i().createElement(b,{onToggle:()=>O(!_),id:"mua-bundle-dropdown"},m||e.formatMessage(N.Z.chooseSubscriptionEllipsis)),dropdownItems:D.map((e=>i().createElement(n.NavLink,{key:e.entitlement,to:{pathname:"",search:`bundle=${e.entitlement}`}},i().createElement(f.h,{onClick:()=>{d(e.title),O(!1)},component:"button"},e.title)))),isOpen:_})),i().createElement("section",null,i().createElement(z,{entitlements:u,isOrgAdmin:a.isOrgAdmin,isUserAccessAdmin:p}))):i().createElement(E.Spinner,null))}},65655:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});const s=(0,a(28416).createContext)(!1)},19289:(e,t,a)=>{var s={"./MUABundles":[51796,1796],"./MUABundles.scss":[51796,1796],"./__mocks__/rhel":[9116,9116],"./__mocks__/rhel.js":[9116,9116],"./ansible":[47341,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,5600],"./ansible.js":[47341,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,5600],"./application_services":[60989,5376,9222,989],"./application_services.js":[60989,5376,9222,989],"./openshift":[93474,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,4225],"./openshift.js":[93474,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,4225],"./rhel":[93312,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,459],"./rhel.js":[93312,1088,4291,2372,4846,5748,8718,8971,9389,4444,5376,8826,7440,4229,9366,1706,459]};function i(e){if(!a.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],i=t[0];return Promise.all(t.slice(1).map(a.e)).then((()=>a(i)))}i.keys=()=>Object.keys(s),i.id=19289,e.exports=i},45467:()=>{},30187:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2182.058e5a496ce2c34b651a6a37251be605.js.map