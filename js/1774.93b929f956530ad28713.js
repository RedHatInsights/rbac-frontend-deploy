(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[1774],{18905:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(80150),a=r.n(n),s=r(45697),i=r.n(s),o=r(68340),c=r(15265),u=function(e){var t=e.description,r=e.linkTitle;return a().createElement(o.x,{className:"pf-u-mt-0",component:o.q.h7},t,a().createElement(o.x,{component:o.q.a,href:"https://www.".concat(window.insights.chrome.isProd?"":"qa.","redhat.com/wapps/ugc/protected/usermgt/userList.html"),target:"_blank",rel:"noopener noreferrer"},r,a().createElement(c.ZP,null)),".")};u.propTypes={description:i().node,linkTitle:i().node},u.defaultProps={description:"",linkTitle:" user management list "};const l=u},46388:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(67154),a=r.n(n),s=r(6479),i=r.n(s),o=r(80150),c=r.n(o),u=r(43349),l=r(45697),f=r.n(l),p=r(94184),m=r.n(p),d=function(e){var t,r=e.row,n=i()(e,["row"]),s=r.status,o=null==s||null===(t=s.props)||void 0===t?void 0:t["data-is-active"];return c().createElement(u.RowWrapper,a()({className:m()("ins-c-rbac__user-row",{"ins-m-inactive":!o}),row:r},n))};d.propTypes={row:f().shape({status:f().shape({props:f().shape({data:f().shape({isActive:f().bool})})})})};const y=d},24194:(e,t,r)=>{"use strict";r.d(t,{u:()=>l,a:()=>f});var n=r(2006),a=r(59713),s=r.n(a);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var c=(0,r(17940).bn)(),u={Active:"enabled",Inactive:"disabled"},l=function(e){return{type:n.WH,payload:(t=e,r=t.limit,a=t.offset,s=t.orderBy,i=t.filters,l=void 0===i?{}:i,f=t.inModal,p=l.username,m=l.email,d=l.status,y=void 0===d?[]:d,v="-username"===s?"desc":"asc",b=2===y.length?"all":u[y[0]]||"all",c.listPrincipals(r,a,void 0,p,v,m,b).then((function(e){var t=e.data,n=e.meta;return o({data:t,meta:o(o({},n),{},{offset:a,limit:r})},f?{}:{filters:l,pagination:o(o({},n),{},{offset:a,limit:r})})})))};var t,r,a,s,i,l,f,p,m,d,y,v,b},f=function(e){return{type:n.xD,payload:e}}},65630:(e,t,r)=>{"use strict";r.d(t,{i:()=>x,Z:()=>q});var n=r(67154),a=r.n(n),s=r(59713),i=r.n(s),o=r(319),c=r.n(o),u=r(80150),l=r.n(u),f=r(12167),p=r(45697),m=r.n(p),d=r(334),y=r(74418),v=r(60368),b=r(24194),h=r(71355),g=r(69174),O=r(43349),w=r(46388),j=r(48285);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E=r(98614),S=r(36438);function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){i()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var D=[{title:"Org. Administrator",key:"org-admin",transforms:[O.nowrap]},{title:"Username",key:"username",transforms:[O.sortable]},{title:"Email"},{title:"First name",transforms:[O.nowrap]},{title:"Last name",transforms:[O.nowrap]},{title:"Status",transforms:[O.nowrap]}],R=function(e){return function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t?t.reduce((function(t,r){var a=r.username,s=r.is_active,i=r.email,o=r.first_name,f=r.last_name,p=r.is_org_admin;return[].concat(c()(t),[{uuid:a,cells:[p?l().createElement(u.Fragment,null,l().createElement(E.ZP,{key:"yes-icon",className:"pf-u-mr-sm"}),l().createElement("span",{key:"yes"},"Yes")):l().createElement(u.Fragment,null,l().createElement(S.ZP,{key:"no-icon",className:"pf-u-mr-sm"}),l().createElement("span",{key:"no"},"No")),{title:e?l().createElement(d.Link,{to:"/users/detail/".concat(a)},a):a},i,o,f,{title:l().createElement(g._,{key:"status",color:s&&"green"},s?"Active":"Inactive"),props:{"data-is-active":s}}],selected:Boolean(n&&n.find((function(e){return e.uuid===a})))}])}),[]):[]}},L=function(e){var t=e.users,r=e.fetchUsers,n=e.updateUsersFilters,s=e.isLoading,o=e.pagination,p=e.selectedUsers,m=e.setSelectedUsers,b=e.userLinks,h=e.inModal,g=e.props,O=(0,f.useSelector)((function(e){var t=e.userReducer.users;return{limit:h?t.meta.limit:t.pagination.limit||j.he.limit,offset:h?t.meta.offset:t.pagination.offset||j.he.offset}})),P=(0,d.useHistory)(),E=(0,f.useSelector)((function(e){var t=e.userReducer.users.filters;return{username:!h&&(null==t?void 0:t.username)||"",email:!h&&(null==t?void 0:t.email)||"",status:!h&&(null==t?void 0:t.status)||["Active"]}}));(0,u.useEffect)((function(){var e=h?j.he:(0,j.rj)(P,O,!0);E=h?{status:E.status}:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new URLSearchParams(e.location.search),a=t.reduce((function(e,t){var r=n.getAll(t);return k(k({},e),{},i()({},t,r.length>1?r:r[0]))}),{});return Object.keys(r).forEach((function(e){var t=r[e];a=k(k({},a),{},i()({},e,Array.isArray(a[e])?c()(new Set([].concat(c()(a[e]),c()(Array.isArray(t)?t:[t])))):(null==t?void 0:t.length)>0&&t||a[e])),Array.isArray(t)?t.forEach((function(t){return n.getAll(e).includes(t)||n.append(e,t)})):n.get(e)||t&&n.set(e,t)})),e.replace({pathname:e.location.pathname,search:n.toString()}),a}(P,["username","email","status"],E),r(A(A({},(0,y.jl)(A(A({},e),{},{filters:E}))),{},{inModal:h}))}),[]);var S=function(e){h||n(e),E=e};return l().createElement(v.M,a()({columns:D,isSelectable:!0,isCompact:!0,borders:!1,createRows:R(b),data:t,ouiaId:"users-table",fetchData:function(e){var t=Object.prototype.hasOwnProperty.call(e,"status")?e.status:E.status,n=e.username,a=e.email,s=e.count,i=e.limit,o=e.offset,c=e.orderBy;r(A(A({},(0,y.jl)({count:s,limit:i,offset:o,orderBy:c,filters:{username:n,email:a,status:t}})),{},{inModal:h})),h||(0,j.oG)(P,e.limit,e.offset),h||function(e,t){var r=new URLSearchParams(e.location.search);Object.keys(t).forEach((function(e){return r.delete(e)})),Object.keys(t).forEach((function(e){var n=t[e];Array.isArray(n)?n.forEach((function(t){return t&&r.append(e,t)})):n&&r.set(e,n)})),e.replace({pathname:e.location.pathname,search:r.toString()})}(P,{username:n,email:a,status:t})},setFilterValue:function(e){var t=e.username,r=e.email,n=e.status;void 0!==t&&S(A(A({},E),{},{username:t})),void 0!==r&&S(A(A({},E),{},{email:r})),void 0===n||n===E.status||S(A(A({},E),{},{status:n}))},isLoading:s,pagination:o,checkedRows:p,setCheckedItems:function(e){m((function(t){return e(t).map((function(e){var t=e.uuid;return{uuid:t,label:e.username||t}}))}))},sortBy:{index:1,direction:"asc"},rowWrapper:w.Z,titlePlural:"users",titleSingular:"user",filters:[{key:"username",value:E.username,placeholder:"Filter by exact username"},{key:"email",value:E.email,placeholder:"Filter by exact email"},{key:"status",value:E.status,label:"Status",type:"checkbox",items:[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}]}],tableId:"users-list"},g))},_=function(e){var t=e.userReducer,r=t.users,n=t.isUserDataLoading;return{users:r.data&&r.data.map((function(e){return A(A({},e),{},{uuid:e.username})})),pagination:r.meta,isLoading:n}},F=function(e){return{fetchUsers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j.he;e((0,b.u)(t))},updateUsersFilters:function(t){e((0,b.a)(t))},addNotification:function(){return e(h.wN.apply(void 0,arguments))}}};L.propTypes={history:m().shape({goBack:m().func.isRequired,push:m().func.isRequired}),users:m().array,isLoading:m().bool,searchFilter:m().string,fetchUsers:m().func.isRequired,updateUsersFilters:m().func.isRequired,setSelectedUsers:m().func.isRequired,selectedUsers:m().array,pagination:m().shape({limit:m().number.isRequired,offset:m().number,count:m().number}),userLinks:m().bool,props:m().object,inModal:m().bool},L.defaultProps={users:[],selectedUsers:[],setSelectedUsers:function(){},userLinks:!1,inModal:!1};const q=(0,f.connect)(_,F)(L);var x=(0,f.connect)(_,F,(function(e,t,r){return A(A(A(A({},r),e),t),{},{fetchUsers:function(e){return t.fetchUsers(e||j.eX)}})}))(L)}}]);