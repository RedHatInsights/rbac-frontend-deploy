{"version":3,"sources":["webpack:///./src/presentational-components/shared/toolbar.js","webpack:///./src/presentational-components/shared/empty-filter.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/presentational-components/shared/table-toolbar-view.scss","webpack:///./src/helpers/shared/helpers.js","webpack:///./src/redux/actions/role-actions.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/utilities/constants.js","webpack:///./src/helpers/role/role-helper.js","webpack:///./src/presentational-components/shared/table-toolbar-view.scss?4a5b","webpack:///./src/presentational-components/myUserAccess/ResourceDefinitionsButton.js","webpack:///./src/smart-components/myUserAccess/ResourceDefinitionsModal.js","webpack:///./src/smart-components/myUserAccess/MUARolesTable.js","webpack:///./src/helpers/access/access-helper.js","webpack:///./src/redux/actions/access-actions.js","webpack:///./src/smart-components/myUserAccess/MUAAccessTable.js","webpack:///./src/smart-components/myUserAccess/mua-table-helpers.js","webpack:///./src/smart-components/myUserAccess/bundles/cost_management.js"],"names":["paginationBuilder","pagination","fetchData","filterValue","sortBy","itemCount","count","perPage","limit","page","getCurrentPage","offset","onSetPage","_event","name","orderBy","perPageOptions","title","value","onPerPageSelect","bulkSelectBuilder","isLoading","checkedRows","setCheckedItems","data","length","items","onClick","selectedRows","checked","calculateChecked","onSelect","filterConfigBuilder","setFilterValue","titleSingular","filterPlaceholder","filterItems","filters","isFilterable","onShowMore","showMoreTitle","onFilter","onChange","map","key","selected","placeholder","type","groups","label","firstUpperCase","filterValues","id","_e","filterBy","newFilter","Array","isArray","Object","keys","debouncedFetch","reduce","acc","curr","isDisabled","activeFiltersConfigBuilder","options","category","chips","filter","Boolean","onDelete","isAll","deleted","filtersValue","setKeyValue","Toolbar","isSelectable","toolbarButtons","hideFilterChips","PrimaryToolbar","bulkSelect","filterConfig","actionsConfig","actions","activeFiltersConfig","propTypes","PropTypes","bool","array","func","string","oneOfType","arrayOf","shape","number","any","ConditionalFilter","isCollapsible","defaultProps","defaultSettings","undefined","EmptyWithFilter","icon","description","props","EmptyState","variant","EmptyStateVariant","full","EmptyStateIcon","SearchIcon","Title","headingLevel","size","EmptyStateBody","text","Fragment","node","className","TableToolbarView","isCompact","createRows","borders","columns","actionResolver","areActionsDisabled","routes","titlePlural","emptyProps","rowWrapper","isExpandable","onExpand","noData","noDataDescription","useState","opened","openRow","index","direction","sortByState","setSortByState","useEffect","rows","onCollapse","_index","isOpen","uuid","every","PlusCircleIcon","Table","canSelectAll","aria-label","TableVariant","compact","isSelected","_idx","cells","fullWidth","EmptyStatePrimary","Button","colSpan","onSort","e","noBottom","TableToolbar","Pagination","dropDirection","isRequired","exports","___CSS_LOADER_API_IMPORT___","push","module","i","Math","floor","mappedProps","apiProps","entries","debouncePromise","callback","find","row","some","newSelection","arr","findIndex","charAt","toUpperCase","slice","fetchRole","ActionTypes","payload","RoleHelper","fetchRoles","fetchRolesWithPolicies","removeRole","role","meta","notifications","fulfilled","dismissDelay","dismissable","fetchRoleForUser","fetchRoleForPrincipal","fetchRolesForWizard","updateRole","roleId","principalApi","PrincipalApi","axiosInstance","groupApi","GroupApi","roleApi","RoleApi","accessApi","PolicyApi","AccessApi","permissionApi","PermissionApi","getPrincipalApi","getGroupApi","getRoleApi","getAccessApi","getPermissionApi","createRole","a","createRoles","nameMatch","scope","addFields","username","application","listRoles","insights","chrome","auth","getUser","getRole","deleteRole","getRoleAccess","access","api","content","__esModule","default","update","locals","hot","invalidate","oldLocals","accept","b","p","isEqualLocals","dispose","ResourceDefinitionsButton","resourceDefinitions","ResourceDefinitionsModal","handleClose","permission","attributeFilter","setRows","handleFilterValue","isFilter","includes","onClose","config","lazy","cellTransforms","compoundExpand","cellWidth","MUARolesTable","roles","rolesWithAccess","setFilters","apps","showResourceDefinitions","expanded","setExpanded","rdOpen","rdPermission","setRdConfig","join","useCallback","debounce","applicationParam","_rowIndex","colIndex","rowData","accessCount","component","parent","compoundParent","split","fallback","fetchUsers","object","withRouter","connect","roleReducer","dispatch","getPrincipalAccess","MUAAccessTable","hasActiveFilters","useRef","current","useDispatch","useSelector","state","permissions","accessReducer","shallowEqual","AccessHelper","handleRdClick","filteredRows","onRdClick","appName","operation","CostManagementBundle","isOrgAdmin","useContext","OrgAdminContext","setName","setApplication","handleSetFilters","app","createFilter"],"mappings":"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","file":"js/9.js","sourcesContent":["import React from 'react';\nimport { PrimaryToolbar, ConditionalFilter } from '@redhat-cloud-services/frontend-components';\nimport PropTypes from 'prop-types';\nimport { pickBy } from 'lodash';\nimport { getCurrentPage, selectedRows, calculateChecked, debouncedFetch, firstUpperCase } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const paginationBuilder = (pagination = {}, fetchData = () => undefined, filterValue = '', sortBy = '') => ({\n  ...pagination,\n  itemCount: pagination.count,\n  perPage: pagination.limit,\n  page: getCurrentPage(pagination.limit, pagination.offset),\n  onSetPage: (_event, page) => {\n    fetchData({\n      ...pagination,\n      offset: (page - 1) * pagination.limit,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n  perPageOptions: [\n    { title: '5', value: 5 },\n    { title: '10', value: 10 },\n    { title: '20', value: 20 },\n    { title: '50', value: 50 },\n  ],\n  onPerPageSelect: (_event, perPage) => {\n    fetchData({\n      ...pagination,\n      offset: 0,\n      limit: perPage,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n});\n\nexport const bulkSelectBuilder = (isLoading, checkedRows = {}, setCheckedItems = () => undefined, data = []) => ({\n  count: checkedRows.length,\n  items: [\n    {\n      title: 'Select none (0)',\n      onClick: () => {\n        setCheckedItems(() => []);\n      },\n    },\n    {\n      ...(!isLoading && data && data.length > 0\n        ? {\n            title: `Select page (${data.length})`,\n            onClick: () => {\n              setCheckedItems(selectedRows(data, true));\n            },\n          }\n        : {}),\n    },\n  ],\n  checked: calculateChecked(data, checkedRows),\n  onSelect: (value) => {\n    !isLoading && setCheckedItems(selectedRows(data, value));\n  },\n});\n\nexport const filterConfigBuilder = (\n  isLoading,\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  filterValue = '',\n  pagination = {},\n  titleSingular = '',\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy\n) => ({\n  onChange,\n  value,\n  items: [\n    ...(filters && filters.length > 0\n      ? filters.map(({ key, value, selected, placeholder, type = 'text', groups, items }) => ({\n          label: firstUpperCase(key),\n          type,\n          filterValues: {\n            id: `filter-by-${key}`,\n            key: `filter-by-${key}`,\n            placeholder: placeholder ? placeholder : `Filter by ${key}`,\n            value,\n            selected,\n            isFilterable,\n            groups,\n            items,\n            onChange: (_e, filterBy) => {\n              const newFilter =\n                typeof filterBy !== 'string' && !Array.isArray(filterBy) ? Object.keys(pickBy(filterBy[0], (value) => value)) : filterBy;\n              setFilterValue({\n                ...filterValue,\n                ...pagination,\n                offset: 0,\n                [key]: newFilter,\n              });\n              debouncedFetch(() =>\n                fetchData({\n                  ...pagination,\n                  offset: 0,\n                  orderBy: sortBy,\n                  ...filters.reduce(\n                    (acc, curr) => ({\n                      ...acc,\n                      [curr.key]: curr.value,\n                    }),\n                    {}\n                  ),\n                  [key]: newFilter,\n                })\n              );\n            },\n            isDisabled: isLoading,\n            onShowMore,\n            showMoreTitle,\n            onFilter,\n          },\n        }))\n      : [\n          {\n            label: firstUpperCase(filterPlaceholder || titleSingular),\n            type: 'text',\n            filterValues: {\n              id: 'filter-by-string',\n              key: 'filter-by-string',\n              placeholder: `Filter by ${filterPlaceholder || titleSingular}`,\n              value: filterValue,\n              onChange: (_e, value) => {\n                setFilterValue({\n                  ...pagination,\n                  offset: 0,\n                  name: value,\n                });\n                debouncedFetch(() =>\n                  fetchData({\n                    ...pagination,\n                    offset: 0,\n                    name: value,\n                    orderBy: sortBy,\n                  })\n                );\n              },\n              isDisabled: isLoading,\n            },\n          },\n        ]),\n    ...(filterItems || []),\n  ],\n});\n\nexport const activeFiltersConfigBuilder = (\n  filterValue = '',\n  filters,\n  pagination = {},\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  sortBy\n) => ({\n  filters:\n    filters && filters.length > 0\n      ? filters\n          .map(\n            ({ key: type, value: options }) =>\n              options.length !== 0 && {\n                category: firstUpperCase(type),\n                type,\n                chips: Array.isArray(options) ? options.map((filter) => ({ name: filter })) : [{ name: options }],\n              }\n          )\n          .filter(Boolean)\n      : [\n          {\n            name: filterValue,\n          },\n        ],\n  onDelete: (_e, [deleted], isAll) => {\n    const setKeyValue = (value, type, key) => {\n      if (isAll) {\n        return type === 'group' || type === 'checkbox' ? [] : '';\n      }\n\n      if (key !== deleted.type) {\n        return value;\n      }\n\n      if (type === 'checkbox') {\n        return value.filter((value) => value !== deleted.chips[0]?.name);\n      }\n\n      return '';\n    };\n\n    const filtersValue = filters.reduce((acc, { key, value, type }) => ({ ...acc, [key]: setKeyValue(value, type, key) }), {});\n\n    setFilterValue({\n      ...pagination,\n      offset: 0,\n      name: '',\n      ...filtersValue,\n    });\n    fetchData({\n      ...pagination,\n      offset: 0,\n      orderBy: sortBy,\n      name: '',\n      ...filtersValue,\n    });\n  },\n});\n\nconst Toolbar = ({\n  isSelectable,\n  checkedRows,\n  setCheckedItems,\n  isLoading,\n  data,\n  titleSingular,\n  filterValue,\n  setFilterValue,\n  pagination,\n  fetchData,\n  sortBy,\n  toolbarButtons,\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  hideFilterChips,\n}) => (\n  <PrimaryToolbar\n    {...(isSelectable && {\n      bulkSelect: bulkSelectBuilder(isLoading, checkedRows, setCheckedItems, data),\n    })}\n    filterConfig={filterConfigBuilder(\n      isLoading,\n      setFilterValue,\n      fetchData,\n      filterValue,\n      pagination,\n      titleSingular,\n      filterPlaceholder,\n      filterItems,\n      filters,\n      isFilterable,\n      onShowMore,\n      showMoreTitle,\n      onFilter,\n      onChange,\n      value,\n      sortBy\n    )}\n    actionsConfig={{\n      actions: toolbarButtons(),\n    }}\n    {...(!isLoading && {\n      pagination: paginationBuilder(pagination, fetchData, filterValue, sortBy),\n    })}\n    {...((filterValue.length > 0 || (filters && filters.length > 0)) &&\n      !hideFilterChips && {\n        activeFiltersConfig: activeFiltersConfigBuilder(filterValue, filters, pagination, setFilterValue, fetchData, sortBy),\n      })}\n  />\n);\n\nToolbar.propTypes = {\n  isSelectable: PropTypes.bool,\n  checkedRows: PropTypes.array,\n  setCheckedItems: PropTypes.func,\n  isLoading: PropTypes.bool,\n  data: PropTypes.array,\n  titleSingular: PropTypes.string,\n  filterValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  setFilterValue: PropTypes.func,\n  filters: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array]),\n      key: PropTypes.string,\n      placeholder: PropTypes.string,\n    })\n  ),\n  isFilterable: PropTypes.bool,\n  onShowMore: PropTypes.func,\n  showMoreTitle: PropTypes.string,\n  onFilter: PropTypes.func,\n  onChange: PropTypes.func,\n  value: PropTypes.any,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    count: PropTypes.number,\n  }),\n  sortBy: PropTypes.string,\n  filterItems: ConditionalFilter.propTypes.items,\n  filterPlaceholder: PropTypes.string,\n  isCollapsible: PropTypes.bool,\n  fetchData: PropTypes.func,\n  toolbarButtons: PropTypes.func,\n  hideFilterChips: PropTypes.bool,\n};\n\nToolbar.defaultProps = {\n  isCollapsible: false,\n  isSelectable: false,\n  isLoading: false,\n  data: [],\n  titleSingular: '',\n  filterValue: [],\n  pagination: defaultSettings,\n  setCheckedItems: () => undefined,\n  setFilterValue: () => undefined,\n  sortBy: undefined,\n  fetchData: () => undefined,\n  toolbarButtons: () => [],\n  filterItems: [],\n  filters: [],\n  isFilterable: false,\n  hideFilterChips: false,\n};\n\nexport default Toolbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EmptyState, Title, EmptyStateVariant, EmptyStateBody, EmptyStateIcon } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nconst EmptyWithFilter = ({ title, icon, description, actions, ...props }) => (\n  <EmptyState variant={EmptyStateVariant.full} {...props}>\n    <EmptyStateIcon icon={icon || SearchIcon} />\n    <Title headingLevel=\"h5\" size=\"lg\">\n      {title}\n    </Title>\n    <EmptyStateBody>\n      {description.map((text, key) => (\n        <React.Fragment key={key}>\n          {text} <br />\n        </React.Fragment>\n      ))}\n    </EmptyStateBody>\n    {actions}\n  </EmptyState>\n);\n\nEmptyWithFilter.propTypes = {\n  icon: PropTypes.func,\n  title: PropTypes.node,\n  description: PropTypes.node,\n  actions: PropTypes.arrayOf(PropTypes.node),\n  className: PropTypes.string,\n};\n\nexport default EmptyWithFilter;\n","import React, { Fragment, useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { Table, TableHeader, TableBody, TableVariant } from '@patternfly/react-table';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components';\nimport { Button, Pagination, EmptyStatePrimary } from '@patternfly/react-core';\nimport { ListLoader } from './loader-placeholders';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport { selectedRows } from '../../helpers/shared/helpers';\nimport Toolbar, { paginationBuilder } from './toolbar';\nimport EmptyWithAction from './empty-filter';\nimport './table-toolbar-view.scss';\n\nexport const TableToolbarView = ({\n  isCompact,\n  createRows,\n  borders,\n  columns,\n  toolbarButtons,\n  data,\n  actionResolver,\n  areActionsDisabled,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  filterValue,\n  isLoading,\n  setFilterValue,\n  checkedRows,\n  isSelectable,\n  fetchData,\n  setCheckedItems,\n  isCollapsible,\n  emptyProps,\n  filterPlaceholder,\n  rowWrapper,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  isExpandable,\n  onExpand,\n  hideFilterChips,\n  noData,\n  noDataDescription,\n}) => {\n  const [opened, openRow] = useState({});\n  const [sortByState, setSortByState] = useState({ index: undefined, direction: undefined });\n  useEffect(() => {\n    setSortByState({\n      ...sortBy,\n      ...(sortByState.index !== undefined && sortByState),\n    });\n  }, [sortBy]);\n\n  const rows = createRows(data, opened, checkedRows);\n\n  const onCollapse = (_event, _index, isOpen, { uuid }) =>\n    openRow((opened) => ({\n      ...opened,\n      [uuid]: isOpen,\n    }));\n\n  const renderEmpty = () => ({\n    title: (\n      <EmptyWithAction\n        title={`No matching ${titlePlural} found`}\n        description={\n          noData && noDataDescription ? noDataDescription : [`This filter criteria matches no ${titlePlural}.`, `Try changing your filter settings.`]\n        }\n        actions={\n          noData && noDataDescription\n            ? undefined\n            : [\n                <EmptyStatePrimary key=\"clear-filters\">\n                  <Button\n                    variant=\"link\"\n                    onClick={() => {\n                      setFilterValue({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                      fetchData({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                    }}\n                  >\n                    Clear all filters\n                  </Button>\n                </EmptyStatePrimary>,\n              ]\n        }\n      />\n    ),\n    props: {\n      colSpan: columns.length + Boolean(onCollapse),\n    },\n  });\n\n  const renderTable = () => (\n    <Fragment>\n      <Toolbar\n        isSelectable={isSelectable}\n        checkedRows={checkedRows}\n        setCheckedItems={setCheckedItems}\n        isLoading={isLoading || noData}\n        data={data}\n        titleSingular={titleSingular}\n        filterValue={filterValue}\n        setFilterValue={setFilterValue}\n        sortBy={\n          (sortByState.index !== undefined &&\n            sortByState.index - isSelectable >= 0 &&\n            `${sortByState.direction === 'desc' ? '-' : ''}${columns[sortByState.index - isSelectable].key}`) ||\n          undefined\n        }\n        pagination={pagination}\n        fetchData={fetchData}\n        toolbarButtons={toolbarButtons}\n        filterPlaceholder={filterPlaceholder}\n        filters={filters}\n        isFilterable={isFilterable}\n        onShowMore={onShowMore}\n        showMoreTitle={showMoreTitle}\n        onFilter={onFilter}\n        onChange={onChange}\n        value={value}\n        hideFilterChips={hideFilterChips}\n      />\n      {isLoading ? (\n        <ListLoader />\n      ) : (\n        <Table\n          canSelectAll={false}\n          aria-label={`${titlePlural} table`}\n          variant={isCompact ? TableVariant.compact : null}\n          borders={borders}\n          {...(isCollapsible && { onCollapse })}\n          {...(isSelectable &&\n            rows.length > 0 && {\n              onSelect: (_e, isSelected, _idx, { uuid, cells: [name] }) => setCheckedItems(selectedRows([{ uuid, name }], isSelected)),\n            })}\n          {...(isExpandable && { onExpand })}\n          rows={rows.length > 0 ? rows : [{ fullWidth: true, cells: [renderEmpty()] }]}\n          cells={columns}\n          {...(rows.length > 0 && { actionResolver })}\n          areActionsDisabled={areActionsDisabled}\n          rowWrapper={rowWrapper}\n          sortBy={sortByState}\n          onSort={(e, index, direction) => {\n            setSortByState({ index, direction });\n            fetchData({\n              ...pagination,\n              offset: 0,\n              name: filterValue,\n              orderBy: `${direction === 'desc' ? '-' : ''}${columns[index - isSelectable].key}`,\n            });\n          }}\n        >\n          <TableHeader />\n          <TableBody />\n        </Table>\n      )}\n      {!pagination.noBottom && (\n        <TableToolbar>\n          {!isLoading && <Pagination {...paginationBuilder(pagination, fetchData, filterValue)} variant=\"bottom\" dropDirection=\"up\" />}\n        </TableToolbar>\n      )}\n    </Fragment>\n  );\n\n  return (\n    <Fragment>\n      {routes()}\n      {!isLoading && rows.length === 0 && filterValue.length === 0 && filters.every(({ value }) => !value) ? (\n        <EmptyWithAction\n          title={`Configure ${titlePlural}`}\n          icon={PlusCircleIcon}\n          description={[`To configure user access to applications`, `create at least one ${titleSingular}`]}\n          actions={toolbarButtons()[0]}\n          {...emptyProps}\n        />\n      ) : (\n        renderTable()\n      )}\n    </Fragment>\n  );\n};\n\nTableToolbarView.propTypes = {\n  ...Toolbar.propTypes,\n  rowWrapper: propTypes.any,\n  isCompact: propTypes.bool,\n  borders: propTypes.bool,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  titlePlural: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  areActionsDisabled: propTypes.func,\n  pagination: propTypes.shape({\n    noBottom: propTypes.bool,\n  }),\n  isExpandable: propTypes.bool,\n  onExpand: propTypes.func,\n  hideFilterChips: propTypes.bool,\n  noDataDescription: propTypes.arrayOf(propTypes.node),\n};\n\nTableToolbarView.defaultProps = {\n  ...Toolbar.defaultProps,\n  isCompact: false,\n  borders: true,\n  routes: () => null,\n  hideFilterChips: false,\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item{min-width:5rem}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import debouncePromise from '@redhat-cloud-services/frontend-components-utilities/files/debounce';\n\nexport const scrollToTop = () =>\n  document.getElementById('root').scrollTo({\n    behavior: 'smooth',\n    top: 0,\n    left: 0,\n  });\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n\nexport const mappedProps = (apiProps) =>\n  Object.entries(apiProps).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      ...(value && { [key]: value }),\n    }),\n    {}\n  );\n\nexport const debouncedFetch = debouncePromise((callback) => callback());\n\nexport const calculateChecked = (rows = [], selected) => {\n  return (\n    (rows.length !== 0 && rows.every(({ uuid }) => selected.find((row) => row.uuid === uuid))) ||\n    (rows.length !== 0 && rows.some(({ uuid }) => selected.find((row) => row.uuid === uuid)) ? null : false)\n  );\n};\n\nexport const selectedRows = (newSelection, isSelected) => (selected) => {\n  if (!isSelected) {\n    return selected.filter((row) => !newSelection.find(({ uuid }) => uuid === row.uuid));\n  }\n\n  return [...selected, ...newSelection].filter((row, key, arr) => arr.findIndex(({ uuid }) => row.uuid === uuid) === key);\n};\n\nexport const firstUpperCase = (text) => text.charAt(0).toUpperCase() + text.slice(1);\n","import * as ActionTypes from '../action-types';\nimport * as RoleHelper from '../../helpers/role/role-helper';\n\nexport const createRole = (roleData) => ({\n  type: ActionTypes.ADD_ROLE,\n  payload: RoleHelper.createRole(roleData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was added successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not added successfuly.',\n      },\n    },\n  },\n});\n\nexport const fetchRole = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoles = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const fetchRolesWithPolicies = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRolesWithPolicies(options),\n});\n\nexport const removeRole = (role) => ({\n  type: ActionTypes.REMOVE_ROLE,\n  payload: RoleHelper.removeRole(role),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was removed successfully.',\n      },\n    },\n  },\n});\n\nexport const fetchRoleForUser = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_USER,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoleForPrincipal = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_PRINCIPAL,\n  payload: RoleHelper.fetchRoleForPrincipal(apiProps),\n});\n\nexport const fetchRolesForWizard = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES_FOR_WIZARD,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const updateRole = (roleId, data) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.updateRole(roleId, data),\n});\n","import axiosInstance from '@redhat-cloud-services/frontend-components-utilities/files/interceptors';\nimport { GroupApi, PrincipalApi, RoleApi, PolicyApi, AccessApi, PermissionApi } from '@redhat-cloud-services/rbac-client';\nimport { RBAC_API_BASE } from '../../utilities/constants';\n\nconst principalApi = new PrincipalApi(undefined, RBAC_API_BASE, axiosInstance);\nconst groupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\nconst roleApi = new RoleApi(undefined, RBAC_API_BASE, axiosInstance);\nconst policyApi = new PolicyApi(undefined, RBAC_API_BASE, axiosInstance);\nconst accessApi = new AccessApi(undefined, RBAC_API_BASE, axiosInstance);\nconst permissionApi = new PermissionApi(undefined, RBAC_API_BASE, axiosInstance);\n\nexport function getPrincipalApi() {\n  return principalApi;\n}\n\nexport function getGroupApi() {\n  return groupApi;\n}\n\nexport function getRoleApi() {\n  return roleApi;\n}\n\nexport function getPolicyApi() {\n  return policyApi;\n}\n\nexport function getAccessApi() {\n  return accessApi;\n}\n\nexport function getPermissionApi() {\n  return permissionApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n","export const RBAC_API_BASE = `/api/rbac/v1`;\n","import { getRoleApi } from '../shared/user-login';\n\nconst roleApi = getRoleApi();\n\nexport async function createRole(data) {\n  return await roleApi.createRoles(data);\n}\n\nexport function fetchRoles({ limit, offset, name, nameMatch, scope, orderBy, addFields, username, application, options }) {\n  return roleApi.listRoles(limit, offset, name, nameMatch, scope, orderBy, addFields, username, application, options);\n}\n\nexport async function fetchRolesWithPolicies({\n  limit,\n  offset,\n  name,\n  nameMatch,\n  scope = 'account',\n  orderBy,\n  addFields = ['groups_in_count'],\n  username,\n  options,\n}) {\n  return {\n    ...(await roleApi.listRoles(limit, offset, name, nameMatch, scope, orderBy, addFields, username, options)),\n    ...(await insights.chrome.auth.getUser()),\n  };\n}\n\nexport async function fetchRole(uuid) {\n  return await roleApi.getRole(uuid);\n}\n\nexport async function fetchRoleForPrincipal(uuid) {\n  return await roleApi.getRole(uuid, 'principal');\n}\n\nexport async function removeRole(roleId) {\n  return await roleApi.deleteRole(roleId);\n}\n\nexport const updateRole = async (roleId, data) => {\n  const { data: access } = await roleApi.getRoleAccess(roleId);\n  return roleApi.updateRole(roleId, { ...data, access });\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Button } from '@patternfly/react-core';\n\nconst ResourceDefinitionsButton = ({ onClick, access }) => (\n  <Button onClick={onClick} variant=\"link\" isDisabled={access.resourceDefinitions.length === 0}>\n    {access.resourceDefinitions.length || 'N/A'}\n  </Button>\n);\n\nResourceDefinitionsButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  access: PropTypes.shape({ resourceDefinitions: PropTypes.array.isRequired }).isRequired,\n};\n\nexport default ResourceDefinitionsButton;\n","import { Button, Modal } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nconst ResourceDefinitionsModal = ({ isOpen, handleClose, permission, resourceDefinitions }) => {\n  const columns = [''];\n  const [{ rows, pagination, filterValue }, setRows] = useState(() => ({\n    filterValue: '',\n    rows: resourceDefinitions.map(({ attributeFilter: { value } }) => value).slice(0, defaultSettings.limit),\n    pagination: {\n      ...defaultSettings,\n      count: resourceDefinitions.length,\n    },\n  }));\n\n  const handleFilterValue = ({ name = '', limit, offset }, isFilter = false) =>\n    setRows(({ pagination, filterValue }) => {\n      const rows = resourceDefinitions\n        .map(({ attributeFilter: { value } }) => value)\n        .filter((value) => value.includes(name))\n        .slice(offset, limit);\n      return {\n        rows,\n        filterValue: isFilter ? name : filterValue,\n        pagination: {\n          ...pagination,\n          offset: isFilter ? 0 : offset,\n          limit,\n          count: rows.length,\n        },\n      };\n    });\n\n  return (\n    <Modal\n      actions={[\n        <Button key=\"close-action\" variant=\"primary\" onClick={handleClose}>\n          Close\n        </Button>,\n      ]}\n      variant=\"large\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      title=\"Resource definitions\"\n      description={\n        <p>\n          View resource definitions for the <strong>{permission}</strong> permission\n        </p>\n      }\n    >\n      <TableToolbarView\n        columns={columns}\n        data={rows}\n        filterValue={filterValue}\n        setFilterValue={(config) => handleFilterValue(config, true)}\n        pagination={pagination}\n        noData={resourceDefinitions.length === 0}\n        createRows={(data) => data.map((value) => ({ cells: [value] }))}\n        titlePlural=\"Resource definitions\"\n        titleSingular=\"Resource definition\"\n        noDataDescription={[`There are no resource definitions for ${permission} permission`]}\n        fetchData={handleFilterValue}\n      />\n    </Modal>\n  );\n};\n\nResourceDefinitionsModal.propTypes = {\n  isOpen: PropTypes.bool,\n  handleClose: PropTypes.func.isRequired,\n  permission: PropTypes.string.isRequired,\n  resourceDefinitions: PropTypes.arrayOf(\n    PropTypes.shape({\n      attributeFilter: PropTypes.shape({\n        value: PropTypes.string.isRequired,\n      }).isRequired,\n    })\n  ).isRequired,\n};\n\nexport default ResourceDefinitionsModal;\n","import React, { Fragment, useCallback, useEffect, useState, lazy, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { fetchRoles, fetchRoleForPrincipal } from '../../redux/actions/role-actions';\nimport { ListLoader } from '../../presentational-components/shared/loader-placeholders';\n\nconst ResourceDefinitionsModal = lazy(() => import('./ResourceDefinitionsModal'));\n\nimport { Table, TableHeader, TableBody, TableVariant, compoundExpand, cellWidth } from '@patternfly/react-table';\nimport ResourceDefinitionsButton from '../../presentational-components/myUserAccess/ResourceDefinitionsButton';\n\nconst columns = [\n  'Roles',\n  'Description',\n  {\n    title: 'Permissions',\n    cellTransforms: [compoundExpand, cellWidth(20)],\n  },\n];\n\nconst MUARolesTable = ({\n  fetchRoles,\n  fetchRoleForPrincipal,\n  roles,\n  isLoading,\n  rolesWithAccess,\n  filters,\n  setFilters,\n  apps,\n  showResourceDefinitions,\n}) => {\n  const [expanded, setExpanded] = useState({});\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n\n  useEffect(() => {\n    fetchRoles({ limit: 20, offset: 0, scope: 'principal', application: apps.join(',') });\n  }, []);\n\n  const createRows = (data) => {\n    return data?.reduce(\n      (acc, { uuid, name, description, accessCount }, i) => [\n        ...acc,\n        {\n          uuid,\n          cells: [\n            { title: name, props: { component: 'th', isOpen: false } },\n            { title: description, props: { isOpen: false } },\n            { title: accessCount, props: { isOpen: expanded[uuid] === 2 } },\n          ],\n        },\n        {\n          uuid: `${uuid}-groups`,\n          parent: 2 * i,\n          compoundParent: 2,\n          cells: [\n            {\n              props: { colSpan: 4, className: 'pf-m-no-padding' },\n              title: rolesWithAccess?.[uuid] ? (\n                <Table\n                  aria-label=\"Simple Table\"\n                  borders={false}\n                  variant={TableVariant.compact}\n                  cells={['Application', 'Resource type', 'Operation', ...(showResourceDefinitions ? ['Resource definitions'] : [])]}\n                  rows={rolesWithAccess[uuid].access.map((access) => ({\n                    cells: [\n                      ...access.permission.split(':'),\n                      ...(showResourceDefinitions\n                        ? [\n                            <Fragment key=\"rd\">\n                              <ResourceDefinitionsButton\n                                onClick={() =>\n                                  setRdConfig({\n                                    rdOpen: true,\n                                    rdPermission: access.permission,\n                                    resourceDefinitions: access.resourceDefinitions,\n                                  })\n                                }\n                                access={access}\n                              />\n                            </Fragment>,\n                          ]\n                        : []),\n                    ],\n                  }))}\n                >\n                  <TableHeader />\n                  <TableBody />\n                </Table>\n              ) : (\n                <ListLoader />\n              ),\n            },\n          ],\n        },\n      ],\n      []\n    );\n  };\n\n  let debouncedFetch = useCallback(\n    debounce((limit, offset, name, application, addFields) => {\n      const applicationParam = application?.length > 0 ? application : apps;\n      return fetchRoles({ limit, offset, name, application: applicationParam.join(','), addFields });\n    }, 800),\n    []\n  );\n\n  const onExpand = (_event, _rowIndex, colIndex, isOpen, rowData) => {\n    if (!isOpen) {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: colIndex }));\n      // Permissions\n      if (colIndex === 2) {\n        fetchRoleForPrincipal(rowData.uuid);\n      }\n    } else {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: -1 }));\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        filters={filters}\n        columns={columns}\n        isCompact={false}\n        isExpandable={true}\n        onExpand={onExpand}\n        createRows={createRows}\n        data={roles.data}\n        fetchData={({ limit, offset, name, application }) => {\n          debouncedFetch(limit, offset, name, application);\n        }}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={roles.meta}\n        filterPlaceholder=\"role name\"\n        titlePlural=\"roles\"\n        titleSingular=\"role\"\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUARolesTable.propTypes = {\n  fetchRoles: PropTypes.func,\n  fetchRoleForPrincipal: PropTypes.func,\n  fetchUsers: PropTypes.func,\n  roles: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rolesWithAccess: PropTypes.object,\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nconst mapStateToProps = ({ roleReducer: { roles, isLoading, rolesWithAccess } }) => ({\n  roles,\n  isLoading,\n  rolesWithAccess,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchRoles: (apiProps) => dispatch(fetchRoles(apiProps)),\n  fetchRoleForPrincipal: (uuid) => dispatch(fetchRoleForPrincipal(uuid)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MUARolesTable));\n","import { getAccessApi } from '../shared/user-login';\n\nconst accessApi = getAccessApi();\n\nexport async function getPrincipalAccess({ limit, offset, username, application = '' }) {\n  return await accessApi.getPrincipalAccess(application, username, limit, offset);\n}\n","import * as ActionTypes from '../action-types';\nimport * as AccessHelper from '../../helpers/access/access-helper';\n\nexport const getPrincipalAccess = (apiProps) => ({\n  type: ActionTypes.GET_PRINCIPAL_ACCESS,\n  payload: AccessHelper.getPrincipalAccess(apiProps),\n});\n","import React, { Fragment, Suspense, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { getPrincipalAccess } from '../../redux/actions/access-actions';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { createRows } from './mua-table-helpers';\nimport ResourceDefinitionsModal from './ResourceDefinitionsModal';\n\nconst MUAAccessTable = ({ filters, setFilters, apps, hasActiveFilters, showResourceDefinitions }) => {\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n  const { current: columns } = useRef([\n    { title: 'Application' },\n    { title: 'Resource type' },\n    { title: 'Operation' },\n    ...(showResourceDefinitions ? [{ title: 'Resource definitions' }] : []),\n  ]);\n\n  const dispatch = useDispatch();\n  const { permissions, isLoading } = useSelector(\n    (state) => ({\n      permissions: state.accessReducer.access,\n      isLoading: state.accessReducer.isLoading,\n    }),\n    shallowEqual\n  );\n\n  const fetchData = ({ application, ...apiProps }) => {\n    const applicationParam = application?.length > 0 ? application : apps;\n    dispatch(getPrincipalAccess({ application: applicationParam.join(','), ...apiProps }));\n  };\n\n  const handleRdClick = (index) =>\n    setRdConfig({\n      rdOpen: true,\n      rdPermission: permissions.data[index].permission,\n      resourceDefinitions: permissions.data[index].resourceDefinitions,\n    });\n\n  useEffect(() => {\n    fetchData(defaultSettings);\n  }, []);\n\n  const filteredRows = permissions?.data || [];\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        columns={columns}\n        createRows={(data) => createRows(data, showResourceDefinitions, handleRdClick)}\n        data={filteredRows}\n        fetchData={fetchData}\n        filters={filters}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={permissions?.meta}\n        titlePlural=\"permissions\"\n        titleSingular=\"permission\"\n        noData={!isLoading && !hasActiveFilters && filteredRows.length === 0}\n        noDataDescription={['You do not have individual permissions for Red Hat Insights.', 'Contact your Org. Administrator for more information.']}\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUAAccessTable.propTypes = {\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasActiveFilters: PropTypes.bool,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nexport default MUAAccessTable;\n","import React, { Fragment } from 'react';\nimport ResourceDefinitionsButton from '../../presentational-components/myUserAccess/ResourceDefinitionsButton';\n\nexport const createRows = (data, showResourceDefinitions, onRdClick) =>\n  data.reduce((acc, { permission, ...access }, index) => {\n    const [appName, type, operation] = permission.split(':');\n    return [\n      ...acc,\n      {\n        cells: [\n          appName,\n          type,\n          operation,\n          ...(showResourceDefinitions\n            ? [\n                <Fragment key=\"rd\">\n                  <ResourceDefinitionsButton onClick={() => onRdClick(index)} access={access} />\n                </Fragment>,\n              ]\n            : []),\n        ],\n      },\n    ];\n  }, []);\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OrgAdminContext from '../../../utilities/org-admin-context';\nimport MUAAccessTable from '../MUAAccessTable';\nimport MUARolesTable from '../MUARolesTable';\n\nconst createFilter = ({ apps, isOrgAdmin, name = '', application = [] }) => [\n  {\n    key: 'application',\n    value: application,\n    placeholder: 'Filter by application',\n    type: 'checkbox',\n    items: apps.map((app) => ({ label: app, value: app })),\n  },\n  ...(isOrgAdmin\n    ? [\n        {\n          key: 'name',\n          type: 'text',\n          value: name,\n        },\n      ]\n    : []),\n];\n\nconst CostManagementBundle = ({ apps }) => {\n  const isOrgAdmin = useContext(OrgAdminContext);\n  const [name, setName] = useState('');\n  const [application, setApplication] = useState([]);\n  const handleSetFilters = ({ name, application }) => {\n    if (typeof name === 'string') {\n      setName(name);\n    }\n\n    if (application) {\n      setApplication(typeof application === 'string' ? [] : application);\n    }\n  };\n\n  const filters = createFilter({ apps, isOrgAdmin, name, application });\n  return isOrgAdmin ? (\n    <MUARolesTable setFilters={handleSetFilters} filters={filters} apps={apps} showResourceDefinitions />\n  ) : (\n    <MUAAccessTable\n      setFilters={handleSetFilters}\n      filters={filters}\n      apps={apps}\n      hasActiveFilters={name.length > 0 || application.length > 0}\n      showResourceDefinitions\n    />\n  );\n};\n\nCostManagementBundle.propTypes = {\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default CostManagementBundle;\n"],"sourceRoot":""}