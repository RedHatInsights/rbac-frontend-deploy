(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[4268,459],{39173:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(85893),l=a(94184),n=a.n(l),o=a(78956),s=a(6427),i=a(36530),c=function(){return c=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},c.apply(this,arguments)};const u=function(e){var t=e.className,a=e.title,l=e.actionsContent,u=e.ouiaId,m=e.ouiaSafe,d=void 0===m||m,f=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a}(e,["className","title","actionsContent","ouiaId","ouiaSafe"]),p=n()(t),g="RHI/Header",h=(0,s.useOUIAId)(g,u,d);return(0,r.jsxs)(i.Flex,{justifyContent:{default:"justifyContentSpaceBetween"},children:[(0,r.jsx)(i.FlexItem,{children:(0,r.jsx)(o.Title,c({headingLevel:"h1",size:"2xl",className:p,"widget-type":"InsightsPageHeaderTitle","data-ouia-component-type":g,"data-ouia-component-id":h,"data-ouia-safe":d},f,{children:a}))}),l?(0,r.jsx)(i.FlexItem,{children:l}):null]})}},7876:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(85893),l=a(94184),n=a.n(l),o=function(){return o=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},o.apply(this,arguments)};const s=function(e){var t,a=e.type,l=e.children,s=e.className,i=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a}(e,["type","children","className"]),c=n()(s,((t={})["ins-l-".concat(a)]=void 0!==a,t));return(0,r.jsxs)("section",o({},i,{className:c,children:[" ",l," "]}))}},82617:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(66029),l=a.n(r),n=a(45697),o=a.n(n),s=a(62012),i=a(75629),c=a(12849);const u=e=>e?l().createElement(i.Breadcrumb,null,Object.values(e).map(((e,t)=>e.title?l().createElement(i.BreadcrumbItem,{key:e.title,isActive:e.isActive},e.to&&l().createElement(s.NavLink,{end:!0,to:e.to},e.title)||e.title):l().createElement(c.Vj,{key:t})))):null;u.propTypes={breadcrumbs:o().object};const m=u},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(66029),l=a.n(r),n=a(95376),o=a(58826),s=a.n(o);const i=({title:e,icon:t,description:a,actions:r,...o})=>l().createElement(n.EmptyState,{variant:n.EmptyStateVariant.sm,...o},l().createElement(n.EmptyStateHeader,{titleText:l().createElement(l().Fragment,null,e),icon:l().createElement(n.EmptyStateIcon,{icon:t||s()}),headingLevel:"h4"}),l().createElement(n.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>l().createElement(l().Fragment,{key:t},e," ",l().createElement("br",null))))),l().createElement(n.EmptyStateFooter,null,r))},97246:(e,t,a)=>{"use strict";a.d(t,{M:()=>k});var r=a(66029),l=a.n(r),n=a(25387),o=a(45697),s=a.n(o),i=a(2550),c=a(79083),u=a(75863),m=a(21081),d=a(49004),f=a(34844),p=a(15433),g=a(12913),h=a(31055),y=a(93297),b=a(95376),v=a(47826),E=a.n(v),F=a(29301),C=a(68572),S=a(66180);const k=({className:e,isCompact:t,borders:a,columns:o,rows:s,toolbarButtons:v,data:k,actionResolver:I,areActionsDisabled:w,routes:Z,titlePlural:M,titleSingular:B,pagination:O,paginationProps:x,filterValue:P,isLoading:R,emptyFilters:j,setFilterValue:T,checkedRows:A,isSelectable:D,isRowSelectable:L,fetchData:N,setCheckedItems:V,emptyProps:H,filterPlaceholder:U,rowWrapper:q,filters:$,isFilterable:_,onShowMore:W,showMoreTitle:Y,onFilter:Q,onChange:z,value:K,sortBy:G,onSort:X,isExpandable:J,onExpand:ee,hideFilterChips:te,hideHeader:ae,noData:re,noDataDescription:le,ouiaId:ne,tableId:oe,containerRef:se,textFilterRef:ie,toolbarChildren:ce})=>{const ue=(0,n.YB)(),me=(0,c.useFlag)("platform.rbac.itless");return l().createElement("div",{className:e},Z(),!R&&0===s?.length&&0===P?.length&&$.every((({value:e})=>!e))?l().createElement(S.Z,{title:ue.formatMessage(i.Z.configureItems,{items:M}),icon:E(),description:[ue.formatMessage(i.Z.toConfigureUserAccess),ue.formatMessage(i.Z.createAtLeastOneItem,{item:B})],actions:v()[0],...H}):(()=>{const e=`${"desc"===G?.direction?"-":""}${o[G?.index]?.key}`;return l().createElement(r.Fragment,null,l().createElement(C.ZP,{isSelectable:D,isRowSelectable:L,checkedRows:A,setCheckedItems:V,isLoading:R||re,data:k,titleSingular:B,filterValue:P,setFilterValue:T,sortBy:e,pagination:O,paginationProps:x,fetchData:N,toolbarButtons:v,filterPlaceholder:U,filters:$,isFilterable:_,onShowMore:W,showMoreTitle:Y,onFilter:Q,onChange:z,value:K,hideFilterChips:te,tableId:oe,containerRef:se,textFilterRef:ie,toolbarChildren:ce}),R?l().createElement(g.Z,{variant:t?u.B.compact:void 0,rows:O?.limit,columns:o.map((e=>e.title))}):l().createElement(m.i,{canSelectAll:!1,"aria-label":`${M.toLowerCase()} table`,variant:t?u.B.compact:null,borders:a,...D&&s?.length>0&&{onSelect:(e,t,a,{uuid:r,cells:[l],requires:n})=>V((0,F.ZQ)([{uuid:r,name:l,requires:n,...me&&{username:k[a]?.username}}],t))},...J&&{onExpand:ee},rows:s?.length>0?s:[{fullWidth:!0,cells:[{title:l().createElement(S.Z,{title:ue.formatMessage(i.Z.noMatchingItemsFound,{items:M}),description:re&&le?le:[ue.formatMessage(i.Z.filterMatchesNoItems,{items:M}),ue.formatMessage(i.Z.tryChangingFilters)],actions:re&&le?void 0:[l().createElement(b.EmptyStateActions,{key:"clear-filters"},l().createElement(h.Button,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{T(j),N({...O,offset:0,...j||{name:""}})}},ue.formatMessage(i.Z.clearAllFilters)))]}),props:{colSpan:o.length}}]}],cells:o,...s?.length>0&&{actionResolver:I},className:0==s?.length?"ins-c-table-empty-state":"",areActionsDisabled:w,rowWrapper:q,sortBy:G,ouiaId:ne,onSort:(e,t,a,r)=>X(e,t,a,r)},!ae&&l().createElement(d.x,null),l().createElement(f.R,null)),!O.noBottom&&l().createElement(p.Z,null,!R&&l().createElement(y.Pagination,{...(0,C.Wz)(O,N,P,G,x),variant:"bottom",dropDirection:"up"})))})())};k.propTypes={...C.ZP.propTypes,sortBy:s().shape({directions:s().string,index:s().number}),className:s().string,rowWrapper:s().any,isCompact:s().bool,isRowSelectable:s().func,borders:s().bool,emptyFilters:s().object,checkedRows:s().array,columns:s().array.isRequired,rows:s().array.isRequired,titlePlural:s().string,routes:s().func,actionResolver:s().func,areActionsDisabled:s().func,pagination:s().shape({noBottom:s().bool,limit:s().number,offset:s().number,count:s().number}),paginationProps:s().shape({toggleTemplate:s().func,isCompact:s().bool}),isExpandable:s().bool,onExpand:s().func,onSort:s().func,containerRef:s().node,noData:s().bool,hideFilterChips:s().bool,hideHeader:s().bool,noDataDescription:s().arrayOf(s().node),filters:s().array,tableId:s().string.isRequired,toolbarChildren:s().func},k.defaultProps={...C.ZP.defaultProps,emptyFilters:{},isCompact:!1,borders:!0,routes:()=>null,hideFilterChips:!1,checkedRows:[],hideHeader:!1,toolbarChildren:()=>null}},68572:(e,t,a)=>{"use strict";a.d(t,{Wz:()=>f,ZP:()=>b});var r=a(66029),l=a.n(r),n=a(31611),o=a(25387),s=a(45697),i=a.n(s),c=a(2550),u=a(96486),m=a(29301),d=a(74982);const f=(e={},t,a="",r="",l)=>({...l,itemCount:e.count,perPage:e.limit,page:(0,d.wy)(e.limit,e.offset),onSetPage:(l,n)=>{t({...e,offset:(0,d.vE)(n,e.limit),name:a,orderBy:r})},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}],onPerPageSelect:(e,l)=>{t({offset:0,limit:l,name:a,orderBy:r})}}),p=(e,t=[],a=(()=>{}),r=[],l,n=(()=>!0))=>{const s=(0,o.YB)();return{count:t.length,items:[{title:s.formatMessage(c.Z.selectNone),onClick:()=>{a((()=>[]))}},{...!e&&r&&r.length>0?{title:s.formatMessage(c.Z.selectPage,{length:r.filter(n).length}),onClick:()=>{a((0,m.ZQ)(r,!0))}}:{}}],checked:(0,m.um)(r,t,n),onSelect:t=>{!e&&a((0,m.ZQ)(r,t))},id:l}},g=(e,t=(()=>{}),a=(()=>{}),r="",l={},n="",s,i,d,f,p,g,h,y,b,v,E)=>{const F=(0,o.YB)();return{onChange:y,value:b,items:[...d&&d.length>0?d.map((({key:n,label:o,value:s,selected:i,placeholder:y,type:b="text",groups:E,items:C,innerRef:S})=>({label:o||(0,m.RI)(n),type:b??"text",filterValues:{innerRef:S,id:`filter-by-${n}`,key:`filter-by-${n}`,placeholder:y||F.formatMessage(c.Z.filterByKey,{key:n}),value:s,selected:i,..."text"!==b?{isFilterable:f,onShowMore:p,showMoreTitle:g,onFilter:h}:{},groups:E,items:C,onChange:(e,o)=>{const s="string"==typeof o||Array.isArray(o)?o:Object.keys((0,u.pickBy)(o[""],(e=>e)));t({...r,...l,offset:0,[n]:s}),(0,m.Aq)((()=>a({...l,offset:0,orderBy:v,...d.reduce(((e,t)=>({...e,[t.key]:t.value})),{}),[n]:s}))).then((e=>(S?.current?.focus(),e)))},isDisabled:e}}))):[{label:(0,m.RI)(s||n),type:"text",filterValues:{innerRef:E,id:"filter-by-string",key:"filter-by-string",placeholder:F.formatMessage(c.Z.filterByKey,{key:s||n}),value:r,onChange:(e,r)=>{t({...l,offset:0,name:r}),(0,m.Aq)((()=>a({...l,offset:0,name:r,orderBy:v}))).then((e=>(E?.current?.focus(),e)))},isDisabled:e}}],...i||[]]}},h=(e="",t,a={},r=(()=>{}),l=(()=>{}),n)=>({filters:t&&t.length>0?t.map((({key:e,value:t})=>t&&0!==t.length&&{category:(0,m.RI)(e),type:e,chips:Array.isArray(t)?t.map((e=>({name:e}))):[{name:t}]})).filter(Boolean):[{name:e}],onDelete:(e,[o],s)=>{const i=(e,t,a)=>s?"group"===t||"checkbox"===t?[]:"":a!==o.type?e:"checkbox"===t||"group"===t?e.filter((e=>e!==o.chips[0]?.name)):Array.isArray(e)?[]:"",c=t.reduce(((e,{key:t,value:a,type:r})=>({...e,[t]:i(a,r,t)})),{});r({...a,offset:0,name:"",...c}),l({...a,offset:0,orderBy:n,name:"",...c})}}),y=({isSelectable:e,isRowSelectable:t,checkedRows:a,setCheckedItems:r,isLoading:o,data:s,titleSingular:i,filterValue:c,setFilterValue:u,pagination:m,paginationProps:d,fetchData:y,sortBy:b,toolbarButtons:v,filterPlaceholder:E,filterItems:F,filters:C,isFilterable:S,onShowMore:k,showMoreTitle:I,onFilter:w,onChange:Z,value:M,hideFilterChips:B,tableId:O,textFilterRef:x,toolbarChildren:P})=>l().createElement(n.Z,{...e&&{bulkSelect:p(o,a,r,s,O,t)},filterConfig:g(o,u,y,c,m,i,E,F,C,S,k,I,w,Z,M,b,x),actionsConfig:{actions:v()},...!o&&{pagination:f(m,y,c,b,d)},...(c.length>0||C&&C.length>0)&&!B&&{activeFiltersConfig:h(c,C,m,u,y,b)}},P());y.propTypes={isSelectable:i().bool,isRowSelectable:i().func,checkedRows:i().array,setCheckedItems:i().func,isLoading:i().bool,data:i().array,titleSingular:i().string,filterValue:i().oneOfType([i().array,i().string]),setFilterValue:i().func,filters:i().arrayOf(i().shape({value:i().oneOfType([i().string,i().number,i().array]),key:i().string,placeholder:i().string})),isFilterable:i().bool,onShowMore:i().func,showMoreTitle:i().string,onFilter:i().func,onChange:i().func,value:i().any,pagination:i().shape({limit:i().number,offset:i().number,count:i().number}),paginationProps:i().shape({toggleTemplate:i().func,isCompact:i().bool}),sortBy:i().string,filterItems:i().arrayOf(i().object),filterPlaceholder:i().string,isCollapsible:i().bool,fetchData:i().func.isRequired,toolbarButtons:i().func,hideFilterChips:i().bool,tableId:i().string,textFilterRef:i().object,toolbarChildren:i().func},y.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:d.he,setCheckedItems:()=>{},setFilterValue:()=>{},sortBy:void 0,toolbarButtons:()=>[],filterItems:[],filters:[],isFilterable:!1,hideFilterChips:!1,toolbarChildren:()=>null};const b=y},13851:(e,t,a)=>{"use strict";a.d(t,{Q:()=>v,y:()=>E});var r=a(66029),l=a.n(r),n=a(45697),o=a.n(n),s=a(64380),i=a(86304),c=a(12849),u=a(82617),m=a(85893),d=a(94184),f=a.n(d);const p=l().createContext("light");var g=a(6427),h=function(){return h=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var l in t=arguments[a])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},h.apply(this,arguments)};const y=function(e){var t=e.className,a=e.children,r=e.ouiaId,l=e.ouiaSafe,n=void 0===l||l,o=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(r=Object.getOwnPropertySymbols(e);l<r.length;l++)t.indexOf(r[l])<0&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(a[r[l]]=e[r[l]])}return a}(e,["className","children","ouiaId","ouiaSafe"]),s=f()(t,"pf-v5-l-page-header","pf-v5-c-page-header","pf-v5-l-page__main-section","pf-v5-c-page__main-section"),i="RHI/Header",c=(0,g.useOUIAId)(i,r,n);return(0,m.jsx)(p.Consumer,{children:function(e){var t,r;void 0===e&&(e="light");var l=f()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((r={})["pf-m-light"]="light"===e,r));return(0,m.jsx)("section",h({"data-ouia-component-type":i,"data-ouia-component-id":c,"data-ouia-safe":n},o,{className:"".concat(s," ").concat(l),"widget-type":"InsightsPageHeader",children:a}))}})};var b=a(39173);const v=({children:e,breadcrumbs:t})=>l().createElement(r.Fragment,null,t&&l().createElement("section",{className:"pf-v5-c-page__main-breadcrumb"},l().createElement(u.Z,{...t})),l().createElement(y,{className:"rbac-page-header"},e));v.propTypes={children:o().oneOfType([o().arrayOf(o().node),o().node]).isRequired,breadcrumbs:o().array,paddingBottom:o().bool},v.defaultProps={paddingBottom:!1};const E=({title:e,renderTitleTag:t,description:a,children:n})=>l().createElement(r.Fragment,null,l().createElement(i.Flex,null,l().createElement(i.FlexItem,{className:"pf-v5-u-mb-sm"},l().createElement(b.Z,{title:e||l().createElement(c.h2,null),className:"rbac-page-header__title"})),l().createElement(i.FlexItem,{alignSelf:{modifier:"alignSelfCenter"}},t&&t())),a&&l().createElement(s.TextContent,{className:"rbac-page-header__description"},"string"==typeof a?l().createElement(s.Text,{component:s.TextVariants.p},a):a),n);E.propTypes={title:o().node,renderTitleTag:o().func,description:o().node,children:o().oneOfType([o().node,o().arrayOf(o().node)])}},56068:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>U});var r=a(66029),l=a.n(r),n=a(23539),o=a(55140),s=a(25387),i=a(13851),c=a(79083),u=a(7876),m=a(86706),d=a(62012),f=a(29301),p=a(2550),g=a(75863),h=a(5697),y=a(51630),b=a(8128),v=a(15173),E=a(75521),F=a(72449),C=a(15433),S=a(12913),k=a(31055),I=a(93297),w=a(95376),Z=a(47826),M=a.n(Z),B=a(68572),O=a(66180);const x=({columns:e,isSelectable:t,isLoading:a,noData:n,data:o,title:i,filterValue:c,setFilterValue:u,pagination:m,fetchData:d,toolbarButtons:f,filterPlaceholder:Z,filters:M,isFilterable:x,onShowMore:P,showMoreTitle:R,onFilter:j,onChange:T,value:A,hideFilterChips:D,tableId:L,textFilterRef:N,rows:V,sortBy:H,onSort:U,isCompact:q,borders:$,ouiaId:_,noDataDescription:W,emptyFilters:Y})=>{const Q=H?.index?`${"desc"===H?.direction?"-":""}${e[H.index]?.key}`:void 0,z=(0,s.YB)();return l().createElement(r.Fragment,null,l().createElement(B.ZP,{isSelectable:t,isLoading:a||n,data:o,titleSingular:i.singular,filterValue:c,setFilterValue:u,sortBy:Q,pagination:m,fetchData:d,toolbarButtons:f,filterPlaceholder:Z,filters:M,isFilterable:x,onShowMore:P,showMoreTitle:R,onFilter:j,onChange:T,value:A,hideFilterChips:D,tableId:L,textFilterRef:N}),a?l().createElement(S.Z,{variant:q?g.B.compact:void 0,rows:m?.limit,columns:e.map((e=>e.title))}):l().createElement(h.i,{"aria-label":`${i.plural.toLowerCase()} table`,variant:q?g.B.compact:void 0,borders:$,ouiaId:_},l().createElement(y.h,null,l().createElement(b.Tr,null,e.map(((e,t)=>l().createElement(v.Th,{key:t,sort:e?.sortable?{columnIndex:t,sortBy:H,onSort:U}:void 0},e.title))))),l().createElement(E.p,null,V?.length>0?V?.map(((t,a)=>l().createElement(b.Tr,{key:a},t.cells.map(((t,a)=>l().createElement(F.Td,{key:a,dataLabel:e[a].title},function(e){return"object"==typeof e&&void 0!==e.title}(t)?t.title:t)))))):l().createElement(b.Tr,null,l().createElement(F.Td,{colSpan:e.length},l().createElement(O.Z,{title:z.formatMessage(p.Z.noMatchingItemsFound,{items:i.plural}),description:n&&W?W:[z.formatMessage(p.Z.filterMatchesNoItems,{items:i.plural}),z.formatMessage(p.Z.tryChangingFilters)],actions:n&&W?void 0:[l().createElement(w.EmptyStateActions,{key:"clear-filters"},l().createElement(k.Button,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{u(Y),d({...m,offset:0,...Y||{name:""}})}},z.formatMessage(p.Z.clearAllFilters)))]}))))),!m.noBottom&&l().createElement(C.Z,null,!a&&l().createElement(I.Pagination,{...(0,B.Wz)(m,d,c,Q),variant:"bottom",dropDirection:"up"})))},P=({isCompact:e=!1,borders:t,columns:a,rows:n,data:o,toolbarButtons:i,title:c,pagination:u,filterValue:m,isLoading:d,emptyFilters:f,setFilterValue:g,isSelectable:h=!1,fetchData:y,emptyProps:b,filterPlaceholder:v,filters:E,isFilterable:F,onShowMore:C,showMoreTitle:S,onFilter:k,onChange:I,value:w,sortBy:Z,onSort:B,hideFilterChips:P,noData:R,noDataDescription:j,ouiaId:T,tableId:A,textFilterRef:D})=>{const L=(0,s.YB)();return l().createElement(r.Fragment,null,!d&&0===n?.length&&0===m?.length&&E.every((({value:e})=>!e))?l().createElement(O.Z,{title:L.formatMessage(p.Z.configureItems,{items:c.plural}),icon:M(),description:[L.formatMessage(p.Z.toConfigureUserAccess),L.formatMessage(p.Z.createAtLeastOneItem,{item:c.singular})],actions:!!i&&i()[0],..."object"==typeof b?b:{}}):l().createElement(x,{columns:a,isSelectable:h,isLoading:d,noData:R,data:o,title:c,filterValue:m,setFilterValue:g,pagination:u,fetchData:y,toolbarButtons:i,filterPlaceholder:v,filters:E,isFilterable:F,onShowMore:C,showMoreTitle:S,onFilter:k,onChange:I,value:w,hideFilterChips:P,tableId:A,textFilterRef:D,rows:n,sortBy:Z,onSort:B,isCompact:e,borders:t,ouiaId:T,noDataDescription:j,emptyFilters:f}))};var R=a(60063),j=a(24869),T=a(74982),A=a(23340),D=a(86601),L=a(39820);const N=({userLinks:e,usesMetaInURL:t,props:a})=>{const n=(0,s.YB)(),o=(0,d.useNavigate)(),i=(0,d.useLocation)(),c=(0,m.useDispatch)(),{orgAdmin:u}=(0,r.useContext)(D.Z),g=(0,r.useRef)(null),h=(0,m.useSelector)((({userReducer:{users:e}})=>({limit:(t?e.pagination.limit:e.meta.limit)??(u?T.HE:T.he).limit,offset:(t?e.pagination.offset:e.meta.offset)??(u?T.HE:T.he).offset,count:(t?e.pagination.count:e.meta.count)??0,redirected:t&&e.pagination.redirected,itemCount:0}))),{users:y,isLoading:b,stateFilters:v}=(0,m.useSelector)((({userReducer:{users:{data:e,filters:t={}},isUserDataLoading:a}})=>({users:e?.map?.((e=>({...e,uuid:e.username}))),isLoading:a,stateFilters:i.search.length>0||Object.keys(t).length>0?t:{status:["Active"]}}))),E=(0,r.useCallback)((e=>c((0,R.uh)(e))),[c]),F=(0,r.useCallback)((e=>c((0,R.an)(e))),[c]),C=[{title:n.formatMessage(p.Z.orgAdministrator),key:"org-admin"},{title:n.formatMessage(p.Z.username),key:"username",sortable:!0},{title:n.formatMessage(p.Z.email)},{title:n.formatMessage(p.Z.firstName)},{title:n.formatMessage(p.Z.lastName)},{title:n.formatMessage(p.Z.status)}],[S,k]=(0,r.useState)({index:1,direction:"asc"}),[I,w]=(0,r.useState)(t?v:{username:"",email:"",status:[n.formatMessage(p.Z.active)]});return(0,r.useEffect)((()=>{t&&(0,T.oG)(i,o,h.limit,h.offset)}),[h.offset,h.limit,h.count,h.redirected]),(0,r.useEffect)((()=>{const{limit:e,offset:a}=(0,T.rj)(i,o,h),r=t?(0,A.aX)(i,o,["username","email","status"],I):{status:I.status};void 0===r.status||Array.isArray(r.status)||(r.status=[r.status]),w(r),E({...(0,f.jl)({limit:e,offset:a,filters:r}),usesMetaInURL:t})}),[]),(0,r.useEffect)((()=>{t&&((0,T.Zc)(i)||(0,T.oG)(i,o,h.limit,h.offset),Object.values(I).some((e=>e?.length>0))&&!(0,A.qF)(i,Object.keys(I))&&(0,A.aX)(i,o,Object.keys(I),I))})),l().createElement(P,{isSelectable:!1,isCompact:!1,borders:!1,columns:C,rows:(0,L.H)(e,y,n),sortBy:S,onSort:(e,a,r)=>{const l=`${"desc"===r?"-":""}${C[a].key}`;k({index:a,direction:r}),E({...h,filters:I,usesMetaInURL:t,orderBy:l})},ouiaId:"users-table",fetchData:e=>{const a=Object.prototype.hasOwnProperty.call(e,"status")?e.status:I.status,{username:r,email:l,count:n,limit:s,offset:c,orderBy:u}=e;Promise.resolve(E({...(0,f.jl)({count:n,limit:s,offset:c,orderBy:u,filters:{username:r,email:l,status:a}}),usesMetaInURL:t})).then((()=>{null!==g&&null!==g.current&&g.current.focus()})),(0,T.oG)(i,o,s||0,c||0),t&&(0,A.MS)(i,o,{username:r,email:l,status:a})},emptyFilters:{username:"",email:"",status:[]},setFilterValue:({username:e,email:a,status:r})=>{var l;l={username:void 0===e?I.username:e,email:void 0===a?I.email:a,status:void 0===r||r===I.status?I.status:r},t&&F(l),w({username:"",...l})},isLoading:b,pagination:h,rowWrapper:j.Z,title:{singular:n.formatMessage(p.Z.user),plural:n.formatMessage(p.Z.users).toLowerCase()},filters:[{key:"username",value:"object"==typeof I?.username||void 0===I?.username?"":I.username,placeholder:n.formatMessage(p.Z.filterByKey,{key:n.formatMessage(p.Z.username).toLowerCase()}),innerRef:g},{key:"email",value:I.email||"",placeholder:n.formatMessage(p.Z.filterByKey,{key:n.formatMessage(p.Z.email).toLowerCase()}),innerRef:g},{key:"status",value:I.status||[],label:n.formatMessage(p.Z.status),type:"checkbox",items:[{label:n.formatMessage(p.Z.active),value:"Active"},{label:n.formatMessage(p.Z.inactive),value:"Inactive"}]}],tableId:"users-list",...a})};var V=a(12),H=a(68397);const U=()=>{const e=(0,s.YB)(),t=(0,r.useContext)(D.Z),{appNavClick:a}=(0,o.Z)(),m=(0,c.useFlag)("platform.rbac.itless"),d=l().createElement(V.Z,{linkDescription:e.formatMessage(p.Z.addNewUsersText)});(0,r.useEffect)((()=>{a({id:"users",secondaryNav:!0})}),[]);const f={userLinks:t.userAccessAdministrator||t.orgAdmin,props:{isSelectable:!!m&&(t.userAccessAdministrator||t.orgAdmin),isCompact:!1},usesMetaInURL:!0};return l().createElement(n.Stack,null,l().createElement(n.StackItem,null,l().createElement(i.Q,null,l().createElement(i.y,{title:e.formatMessage(p.Z.users),description:d}))),l().createElement(n.StackItem,null,l().createElement(u.Z,{type:"content",id:"users"},m?l().createElement(H.Z,{...f}):l().createElement(N,{...f}))))}},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4268.f9abb535eceb45d9bc4f7dd47602a998.js.map