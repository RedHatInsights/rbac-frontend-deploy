(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[817,5467,459,209],{59775:(e,t,a)=>{"use strict";a.d(t,{c:()=>c});var r=a(65353),s=a(28416),n=a(11924),l=a(11888),o=a(38296),i=a(41724);const c=e=>{var{children:t=null,className:a="",label:c,labelInfo:m,labelIcon:u,isRequired:d=!1,isInline:p=!1,hasNoPaddingTop:f=!1,isStack:g=!1,fieldId:h,role:y}=e,b=(0,r.__rest)(e,["children","className","label","labelInfo","labelIcon","isRequired","isInline","hasNoPaddingTop","isStack","fieldId","role"]);const E="group"===y||"radiogroup"===y,v=E?"span":"label",S=s.createElement(s.Fragment,null,s.createElement(v,Object.assign({className:(0,o.css)(n.default.formLabel)},!E&&{htmlFor:h}),s.createElement("span",{className:(0,o.css)(n.default.formLabelText)},c),d&&s.createElement("span",{className:(0,o.css)(n.default.formLabelRequired),"aria-hidden":"true"}," ",l.t))," ",s.isValidElement(u)&&u);return s.createElement(i.w,null,(e=>s.createElement("div",Object.assign({className:(0,o.css)(n.default.formGroup,a)},y&&{role:y},E&&{"aria-labelledby":`${h||e}-legend`},b),c&&s.createElement("div",Object.assign({className:(0,o.css)(n.default.formGroupLabel,m&&n.default.modifiers.info,f&&n.default.modifiers.noPaddingTop)},E&&{id:`${h||e}-legend`}),m&&s.createElement(s.Fragment,null,s.createElement("div",{className:(0,o.css)(n.default.formGroupLabelMain)},S),s.createElement("div",{className:(0,o.css)(n.default.formGroupLabelInfo)},m)),!m&&S),s.createElement("div",{className:(0,o.css)(n.default.formGroupControl,p&&n.default.modifiers.inline,g&&n.default.modifiers.stack)},t))))};c.displayName="FormGroup"},45469:(e,t,a)=>{"use strict";a.d(t,{Kx:()=>p,f:()=>r,lW:()=>s});var r,s,n=a(65353),l=a(28416),o=a(12455),i=a(38296),c=a(80164),m=a(1774),u=a(49644);!function(e){e.horizontal="horizontal",e.vertical="vertical",e.both="both"}(r||(r={})),function(e){e.default="default",e.plain="plain"}(s||(s={}));class d extends l.Component{constructor(e){super(e),this.inputRef=l.createRef(),this.setAutoHeight=e=>{const t=e.parentElement;t.style.setProperty("height","inherit");const a=window.getComputedStyle(e),r=parseInt(a.getPropertyValue("border-top-width"))+parseInt(a.getPropertyValue("padding-top"))+e.scrollHeight+parseInt(a.getPropertyValue("padding-bottom"))+parseInt(a.getPropertyValue("border-bottom-width"));t.style.setProperty("height",`${r}px`)},this.handleChange=e=>{const t=e.currentTarget;this.props.autoResize&&c.Nq&&this.setAutoHeight(t),this.props.onChange&&this.props.onChange(e,t.value)},e.id||e["aria-label"]||console.error("TextArea: TextArea requires either an id or aria-label to be specified")}componentDidMount(){const e=this.props.innerRef||this.inputRef;if(this.props.autoResize&&c.Nq){const t=e.current;this.setAutoHeight(t)}}render(){const e=this.props,{className:t,value:a,validated:r,isRequired:s,isDisabled:d,readOnlyVariant:p,resizeOrientation:f,innerRef:g,disabled:h,autoResize:y,onChange:b,onBlur:E,onFocus:v}=e,S=(0,n.__rest)(e,["className","value","validated","isRequired","isDisabled","readOnlyVariant","resizeOrientation","innerRef","disabled","autoResize","onChange","onBlur","onFocus"]),Z=`resize${(0,c.kC)(f)}`,k=["success","error","warning"].includes(r);return l.createElement("span",{className:(0,i.css)(o.Z.formControl,p&&o.Z.modifiers.readonly,"plain"===p&&o.Z.modifiers.plain,f&&o.Z.modifiers[Z],d&&o.Z.modifiers.disabled,k&&o.Z.modifiers[r],t)},l.createElement("textarea",Object.assign({onChange:this.handleChange,onFocus:v,onBlur:E},"string"!=typeof this.props.defaultValue&&{value:a},{"aria-invalid":r===m.LD.error,required:s,disabled:d||h,readOnly:!!p,ref:g||this.inputRef},S)),k&&l.createElement("span",{className:(0,i.css)(o.Z.formControlUtilities)},l.createElement(u.J,{status:r})))}}d.displayName="TextArea",d.defaultProps={innerRef:l.createRef(),className:"",isRequired:!1,isDisabled:!1,validated:"default",resizeOrientation:"both","aria-label":null};const p=l.forwardRef(((e,t)=>l.createElement(d,Object.assign({},e,{innerRef:t}))));p.displayName="TextArea"},23340:(e,t,a)=>{"use strict";a.d(t,{MS:()=>n,aX:()=>r,qF:()=>s});const r=(e,t,a,r={})=>{const s=new URLSearchParams(e.search);let n=a.reduce(((e,t)=>{const a=s.getAll(t);return{...e,[t]:a.length>1?a:a[0]}}),{});return Object.keys(r).forEach((e=>{const t=r[e];n={...n,[e]:Array.isArray(n[e])?[...new Set([...n[e],...Array.isArray(t)?t:[t]])]:t?.length>0&&t||n[e]},Array.isArray(t)?t.forEach((t=>s.getAll(e).includes(t)||s.append(e,t))):s.get(e)||t&&s.set(e,t)})),t({pathname:e.pathname,search:s.toString()},{replace:!0}),n},s=(e,t)=>{const a=new URLSearchParams(e.search);return t.some((e=>a.get(e)))},n=(e,t,a)=>{const r=new URLSearchParams(e.search);Object.keys(a).forEach((e=>r.delete(e))),Object.keys(a).forEach((e=>{const t=a[e];Array.isArray(t)?t.forEach((t=>t&&r.append(e,t))):t&&r.set(e,t)})),t({pathname:e.pathname,search:r.toString()},{replace:!0})}},84414:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n});var r=a(62012),s=a(64756);const n=e=>{const t=(0,r.useNavigate)();return(a,r)=>t((0,s.n)(a,e),r)}},12:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(28416),s=a.n(r),n=a(25387),l=a(45697),o=a.n(l),i=a(64380),c=a(44282),m=a.n(c),u=a(86601),d=a(2550),p=a(55140);const f=({linkDescription:e,linkTitle:t})=>{const a=(0,n.YB)(),l=(0,p.Z)(),o=l.getEnvironment(),c=l.isProd()?"":`${o}.`,{orgAdmin:f}=(0,r.useContext)(u.Z);return f?s().createElement(i.Text,{className:"pf-v5-u-mt-0",component:i.TextVariants.h7},`${a.formatMessage(d.Z.usersDescription)} `,e,s().createElement(i.Text,{component:i.TextVariants.a,href:`https://www.${c}redhat.com/wapps/ugc/protected/usermgt/userList.html`,target:"_blank",rel:"noopener noreferrer"},t,s().createElement(m(),null)),"."):s().createElement(i.Text,{className:"pf-v5-u-mt-0",component:i.TextVariants.h7},`${a.formatMessage(d.Z.usersDescription)} `)};f.propTypes={linkDescription:o().node,linkTitle:o().node},f.defaultProps={linkDescription:"",linkTitle:" user management list "};const g=f},24869:(e,t,a)=>{"use strict";a.d(t,{Z:()=>u});var r=a(28416),s=a.n(r),n=a(55573),l=a(45697),o=a.n(l),i=a(94184),c=a.n(i);const m=({row:e,...t})=>{const{status:a}=e,r=a?.props?.["data-is-active"];return s().createElement(n.e,{className:c()("rbac__user-row",{"ins-m-inactive":!r}),row:e,...t})};m.propTypes={row:o().shape({status:o().shape({props:o().shape({"data-is-active":o().bool,data:o().shape({isActive:o().bool})})})})};const u=m},66180:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(28416),s=a.n(r),n=a(95376),l=a(58826),o=a.n(l);const i=({title:e,icon:t,description:a,actions:r,...l})=>s().createElement(n.EmptyState,{variant:n.EmptyStateVariant.sm,...l},s().createElement(n.EmptyStateHeader,{titleText:s().createElement(s().Fragment,null,e),icon:s().createElement(n.EmptyStateIcon,{icon:t||o()}),headingLevel:"h4"}),s().createElement(n.EmptyStateBody,{className:"pf-v5-u-mb-md"},a.map(((e,t)=>s().createElement(s().Fragment,{key:t},e," ",s().createElement("br",null))))),s().createElement(n.EmptyStateFooter,null,r))},97246:(e,t,a)=>{"use strict";a.d(t,{M:()=>k});var r=a(28416),s=a.n(r),n=a(25387),l=a(45697),o=a.n(l),i=a(2550),c=a(75863),m=a(21081),u=a(49004),d=a(34844),p=a(15433),f=a(31055),g=a(93297),h=a(95376),y=a(12849),b=a(47826),E=a.n(b),v=a(29301),S=a(68572),Z=a(66180);const k=({isCompact:e,borders:t,columns:a,rows:l,toolbarButtons:o,data:b,actionResolver:k,areActionsDisabled:R,routes:x,titlePlural:C,titleSingular:M,pagination:T,paginationProps:w,filterValue:F,isLoading:I,emptyFilters:B,setFilterValue:N,checkedRows:P,isSelectable:L,isRowSelectable:q,fetchData:A,setCheckedItems:D,emptyProps:G,filterPlaceholder:O,rowWrapper:V,filters:_,isFilterable:j,onShowMore:z,showMoreTitle:H,onFilter:U,onChange:W,value:$,sortBy:Y,onSort:K,isExpandable:X,onExpand:Q,hideFilterChips:J,hideHeader:ee,noData:te,noDataDescription:ae,ouiaId:re,tableId:se,containerRef:ne,textFilterRef:le})=>{const oe=(0,n.YB)();return s().createElement(r.Fragment,null,x(),!I&&0===l?.length&&0===F?.length&&_.every((({value:e})=>!e))?s().createElement(Z.Z,{title:oe.formatMessage(i.Z.configureItems,{items:C}),icon:E(),description:[oe.formatMessage(i.Z.toConfigureUserAccess),oe.formatMessage(i.Z.createAtLeastOneItem,{item:M})],actions:o()[0],...G}):(()=>{const n=`${"desc"===Y?.direction?"-":""}${a[Y?.index]?.key}`;return s().createElement(r.Fragment,null,s().createElement(S.ZP,{isSelectable:L,isRowSelectable:q,checkedRows:P,setCheckedItems:D,isLoading:I||te,data:b,titleSingular:M,filterValue:F,setFilterValue:N,sortBy:n,pagination:T,paginationProps:w,fetchData:A,toolbarButtons:o,filterPlaceholder:O,filters:_,isFilterable:j,onShowMore:z,showMoreTitle:H,onFilter:U,onChange:W,value:$,hideFilterChips:J,tableId:se,containerRef:ne,textFilterRef:le}),I?s().createElement(y.Wi,{isCompact:e,items:T?.limit}):s().createElement(m.i,{canSelectAll:!1,"aria-label":`${C.toLowerCase()} table`,variant:e?c.B.compact:null,borders:t,...L&&l?.length>0&&{onSelect:(e,t,a,{uuid:r,cells:[s],requires:n})=>D((0,v.ZQ)([{uuid:r,name:s,requires:n}],t))},...X&&{onExpand:Q},rows:l?.length>0?l:[{fullWidth:!0,cells:[{title:s().createElement(Z.Z,{title:oe.formatMessage(i.Z.noMatchingItemsFound,{items:C}),description:te&&ae?ae:[oe.formatMessage(i.Z.filterMatchesNoItems,{items:C}),oe.formatMessage(i.Z.tryChangingFilters)],actions:te&&ae?void 0:[s().createElement(h.EmptyStateActions,{key:"clear-filters"},s().createElement(f.Button,{variant:"link",ouiaId:"clear-filters-button",onClick:()=>{N(B),A({...T,offset:0,...B||{name:""}})}},oe.formatMessage(i.Z.clearAllFilters)))]}),props:{colSpan:a.length}}]}],cells:a,...l?.length>0&&{actionResolver:k},className:0==l?.length?"ins-c-table-empty-state":"",areActionsDisabled:R,rowWrapper:V,sortBy:Y,ouiaId:re,onSort:(e,t,a,r)=>K(e,t,a,r)},!ee&&s().createElement(u.x,null),s().createElement(d.R,null)),!T.noBottom&&s().createElement(p.Z,null,!I&&s().createElement(g.Pagination,{...(0,S.Wz)(T,A,F,Y,w),variant:"bottom",dropDirection:"up"})))})())};k.propTypes={...S.ZP.propTypes,sortBy:o().shape({directions:o().string,index:o().number}),rowWrapper:o().any,isCompact:o().bool,isRowSelectable:o().func,borders:o().bool,emptyFilters:o().object,checkedRows:o().array,columns:o().array.isRequired,rows:o().array.isRequired,titlePlural:o().string,routes:o().func,actionResolver:o().func,areActionsDisabled:o().func,pagination:o().shape({noBottom:o().bool,limit:o().number,offset:o().number,count:o().number}),paginationProps:o().shape({toggleTemplate:o().func,isCompact:o().bool}),isExpandable:o().bool,onExpand:o().func,onSort:o().func,containerRef:o().node,noData:o().bool,hideFilterChips:o().bool,hideHeader:o().bool,noDataDescription:o().arrayOf(o().node),filters:o().array,tableId:o().string.isRequired},k.defaultProps={...S.ZP.defaultProps,emptyFilters:{},isCompact:!1,borders:!0,routes:()=>null,hideFilterChips:!1,checkedRows:[],hideHeader:!1}},68572:(e,t,a)=>{"use strict";a.d(t,{Wz:()=>p,ZP:()=>b});var r=a(28416),s=a.n(r),n=a(31611),l=a(25387),o=a(45697),i=a.n(o),c=a(2550),m=a(96486),u=a(29301),d=a(74982);const p=(e={},t,a="",r="",s)=>({...s,itemCount:e.count,perPage:e.limit,page:(0,d.wy)(e.limit,e.offset),onSetPage:(s,n)=>{t({...e,offset:(0,d.vE)(n,e.limit),name:a,orderBy:r})},perPageOptions:[{title:"5",value:5},{title:"10",value:10},{title:"20",value:20},{title:"50",value:50},{title:"100",value:100}],onPerPageSelect:(e,s)=>{t({offset:0,limit:s,name:a,orderBy:r})}}),f=(e,t=[],a=(()=>{}),r=[],s,n=(()=>!0))=>{const o=(0,l.YB)();return{count:t.length,items:[{title:o.formatMessage(c.Z.selectNone),onClick:()=>{a((()=>[]))}},{...!e&&r&&r.length>0?{title:o.formatMessage(c.Z.selectPage,{length:r.filter(n).length}),onClick:()=>{a((0,u.ZQ)(r,!0))}}:{}}],checked:(0,u.um)(r,t,n),onSelect:t=>{!e&&a((0,u.ZQ)(r,t))},id:s}},g=(e,t=(()=>{}),a=(()=>{}),r="",s={},n="",o,i,d,p,f,g,h,y,b,E,v)=>{const S=(0,l.YB)();return{onChange:y,value:b,items:[...d&&d.length>0?d.map((({key:n,label:l,value:o,selected:i,placeholder:y,type:b="text",groups:v,items:Z,innerRef:k})=>({label:l||(0,u.RI)(n),type:b??"text",filterValues:{innerRef:k,id:`filter-by-${n}`,key:`filter-by-${n}`,placeholder:y||S.formatMessage(c.Z.filterByKey,{key:n}),value:o,selected:i,..."text"!==b?{isFilterable:p,onShowMore:f,showMoreTitle:g,onFilter:h}:{},groups:v,items:Z,onChange:(e,l)=>{const o="string"==typeof l||Array.isArray(l)?l:Object.keys((0,m.pickBy)(l[""],(e=>e)));t({...r,...s,offset:0,[n]:o}),(0,u.Aq)((()=>a({...s,offset:0,orderBy:E,...d.reduce(((e,t)=>({...e,[t.key]:t.value})),{}),[n]:o}))).then((e=>(k?.current?.focus(),e)))},isDisabled:e}}))):[{label:(0,u.RI)(o||n),type:"text",filterValues:{innerRef:v,id:"filter-by-string",key:"filter-by-string",placeholder:S.formatMessage(c.Z.filterByKey,{key:o||n}),value:r,onChange:(e,r)=>{t({...s,offset:0,name:r}),(0,u.Aq)((()=>a({...s,offset:0,name:r,orderBy:E}))).then((e=>(v?.current?.focus(),e)))},isDisabled:e}}],...i||[]]}},h=(e="",t,a={},r=(()=>{}),s=(()=>{}),n)=>({filters:t&&t.length>0?t.map((({key:e,value:t})=>t&&0!==t.length&&{category:(0,u.RI)(e),type:e,chips:Array.isArray(t)?t.map((e=>({name:e}))):[{name:t}]})).filter(Boolean):[{name:e}],onDelete:(e,[l],o)=>{const i=(e,t,a)=>o?"group"===t||"checkbox"===t?[]:"":a!==l.type?e:"checkbox"===t||"group"===t?e.filter((e=>e!==l.chips[0]?.name)):Array.isArray(e)?[]:"",c=t.reduce(((e,{key:t,value:a,type:r})=>({...e,[t]:i(a,r,t)})),{});r({...a,offset:0,name:"",...c}),s({...a,offset:0,orderBy:n,name:"",...c})}}),y=({isSelectable:e,isRowSelectable:t,checkedRows:a,setCheckedItems:r,isLoading:l,data:o,titleSingular:i,filterValue:c,setFilterValue:m,pagination:u,paginationProps:d,fetchData:y,sortBy:b,toolbarButtons:E,filterPlaceholder:v,filterItems:S,filters:Z,isFilterable:k,onShowMore:R,showMoreTitle:x,onFilter:C,onChange:M,value:T,hideFilterChips:w,tableId:F,textFilterRef:I})=>s().createElement(n.Z,{...e&&{bulkSelect:f(l,a,r,o,F,t)},filterConfig:g(l,m,y,c,u,i,v,S,Z,k,R,x,C,M,T,b,I),actionsConfig:{actions:E()},...!l&&{pagination:p(u,y,c,b,d)},...(c.length>0||Z&&Z.length>0)&&!w&&{activeFiltersConfig:h(c,Z,u,m,y,b)}});y.propTypes={isSelectable:i().bool,isRowSelectable:i().func,checkedRows:i().array,setCheckedItems:i().func,isLoading:i().bool,data:i().array,titleSingular:i().string,filterValue:i().oneOfType([i().array,i().string]),setFilterValue:i().func,filters:i().arrayOf(i().shape({value:i().oneOfType([i().string,i().number,i().array]),key:i().string,placeholder:i().string})),isFilterable:i().bool,onShowMore:i().func,showMoreTitle:i().string,onFilter:i().func,onChange:i().func,value:i().any,pagination:i().shape({limit:i().number,offset:i().number,count:i().number}),paginationProps:i().shape({toggleTemplate:i().func,isCompact:i().bool}),sortBy:i().string,filterItems:i().arrayOf(i().object),filterPlaceholder:i().string,isCollapsible:i().bool,fetchData:i().func.isRequired,toolbarButtons:i().func,hideFilterChips:i().bool,tableId:i().string,textFilterRef:i().object},y.defaultProps={isCollapsible:!1,isSelectable:!1,isLoading:!1,data:[],titleSingular:"",filterValue:[],pagination:d.he,setCheckedItems:()=>{},setFilterValue:()=>{},sortBy:void 0,toolbarButtons:()=>[],filterItems:[],filters:[],isFilterable:!1,hideFilterChips:!1};const b=y},87767:(e,t,a)=>{"use strict";a.d(t,{Z:()=>m});var r=a(31055),s=a(28416),n=a.n(s),l=a(45697),o=a.n(l),i=(a(27361),a(48880));o().oneOfType([o().string,o().func,o().object]),o().func.isRequired,o().node.isRequired,o().bool,o().func.isRequired,o().node.isRequired,o().func.isRequired;const c=({renderNextButton:e,disableBack:t,handlePrev:a,buttonLabels:{cancel:l,back:o},context:c})=>{const m=(0,i.default)(),{success:u,error:d,submitting:p}=(0,s.useContext)(c);return u||void 0===d||d||p?null:n().createElement(s.Fragment,null,e(),n().createElement(r.Button,{type:"button",variant:"secondary",isDisabled:t,onClick:a},o),n().createElement(r.Button,{type:"button",variant:"link",onClick:m.onCancel},l))};c.propTypes={disableBack:o().bool,handlePrev:o().func.isRequired,handleNext:o().func.isRequired,nextStep:o().oneOfType([o().string,o().shape({when:o().string.isRequired,stepMapper:o().object.isRequired}),o().func]),buttonLabels:o().shape({submit:o().node.isRequired,cancel:o().node.isRequired,back:o().node.isRequired,next:o().node.isRequired}).isRequired,context:o().object.isRequired,renderNextButton:o().func};const m=c},45030:(e,t,a)=>{"use strict";a.d(t,{R:()=>f});var r=a(28416),s=a.n(r),n=a(45697),l=a.n(n),o=a(94229),i=a(31055),c=a(18444),m=a(70214),u=a.n(m),d=a(25387),p=a(2550);const f=({type:e,isOpen:t,onModalCancel:a,onModalConfirm:r,customTitle:n,customDescription:l,customPrimaryButtonTitle:m,customSecondaryButtonTitle:f})=>{const g=(0,d.YB)();return s().createElement(o.Modal,{"data-testid":"warning-modal",title:s().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},s().createElement(c.Icon,{size:"lg",className:"pf-v5-u-mr-md"},s().createElement(u(),{className:"rbac-c-wizard__cancel-warning-header--icon"})),n||g.formatMessage(p.Z.exitItemCreation,{item:e})),variant:o.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:t,onClose:a,actions:[s().createElement(i.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:r},m??g.formatMessage(p.Z.exit)),s().createElement(i.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:a},f??g.formatMessage(p.Z.stay))]},s().createElement("span",null,l||g.formatMessage(p.Z.discardedInputsWarning)," "))};f.propTypes={type:l().string,customTitle:l().node,customDescription:l().node,customPrimaryButtonTitle:l().string,customSecondaryButtonTitle:l().string,isOpen:l().bool,onModalCancel:l().func,onModalConfirm:l().func}},56640:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var r=a(28416),s=a.n(r),n=a(31055),l=a(95376),o=a(70363),i=a(36345),c=a.n(i),m=a(25387),u=a(45697),d=a.n(u),p=a(2550);const f=({context:e,title:t,text:a})=>{const i=(0,m.YB)(),{jumpToStep:u}=(0,r.useContext)(o.default),{setWizardError:d}=(0,r.useContext)(e);return s().createElement(l.EmptyState,{variant:l.EmptyStateVariant.lg},s().createElement(l.EmptyStateHeader,{titleText:s().createElement(s().Fragment,null,t),icon:s().createElement(l.EmptyStateIcon,{color:"red",icon:c()}),headingLevel:"h4"}),s().createElement(l.EmptyStateBody,null,a),s().createElement(l.EmptyStateFooter,null,s().createElement(n.Button,{onClick:()=>{d(void 0),u(0)},variant:"primary"},i.formatMessage(p.Z.returnToStepNumber,{number:1}))))};f.propTypes={context:d().object.isRequired,title:d().string.isRequired,text:d().string.isRequired};const g=f},86294:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AddGroupWizardContext:()=>ne,default:()=>ue,mapperExtension:()=>ie,onCancel:()=>ce});var r=a(28416),s=a.n(r),n=a(45697),l=a.n(n),o=a(86706),i=a(25387),c=a(9820),m=a(71355),u=a(51912),d=a(67850),p=a(8340),f=a(45030),g=a(64124),h=a(96354),y=a(48880),b=a(74503),E=a(15950),v=a(72232),S=a(95359),Z=a(56640),k=a(2550);const R=({formFields:e})=>{const t=(0,i.YB)(),{submitting:a,error:n,setWizardError:l}=(0,r.useContext)(ne),{getState:o}=(0,y.default)();return(0,r.useEffect)((()=>{l(void 0),(0,S.B)(o().values["group-name"]).then((()=>l(!1))).catch((()=>l(!0)))}),[]),void 0===n||a?s().createElement(b.Bullseye,null,s().createElement(E.Spinner,{className:"pf-v5-u-mt-xl",size:"xl"})):!0===n?s().createElement(Z.Z,{context:ne,title:t.formatMessage(k.Z.groupNameTakenTitle),text:t.formatMessage(k.Z.groupNameTakenText)}):s().createElement(s().Fragment,null,s().createElement(v.Title,{headingLevel:"h1",size:"xl",className:"pf-v5-u-mb-lg"},t.formatMessage(k.Z.reviewDetails)),[[{...e?.[0]?.[0]}]])};R.propTypes={formFields:l().array};const x=R;var C=a(87767),M=a(60167),T=a(2034),w=a(77044),F=a(29301),I=a(16987),B=a(56591),N=a(23539),P=a(81169),L=a(92607),q=a(45469),A=a(59775);const D=e=>{const t=(0,i.YB)(),{input:a}=(0,P.Z)(e),n=(0,y.default)(),{"group-name":l,"group-description":o}=n.getState().values,[c,m]=(0,r.useState)(l||""),[u,d]=(0,r.useState)(),[p,f]=(0,r.useState)(o),g=e=>{a.onChange(void 0),(0,S.L)(e).then((()=>{a.onChange(e),d(void 0)})).catch((e=>{d(e),a.onChange(void 0)})),m(e)};(0,r.useEffect)((()=>{c?.length>0&&g(c)}),[]);const h=((e,t)=>void 0===e||t||e?.length>150?"error":"default")(c,u),b=(e=>e?.length>150?"error":"default")(p);return s().createElement(N.Stack,{hasGutter:!0},s().createElement(N.StackItem,{className:"rbac-l-stack__item-summary"},s().createElement(A.c,{label:t.formatMessage(k.Z.groupName),isRequired:!0},s().createElement(L.oi,{value:c,type:"text",validated:h,onBlur:()=>""===c&&m(void 0),onChange:(e,t)=>g(t),"aria-label":"Group name"}),"error"===h&&s().createElement(I.FormHelperText,null,s().createElement(B.HelperText,null,s().createElement(B.HelperTextItem,{variant:h},c?u:t.formatMessage(k.Z.required)))))),s().createElement(N.StackItem,null,s().createElement(A.c,{label:t.formatMessage(k.Z.groupDescription)},s().createElement(q.Kx,{value:p,validated:b,onChange:(e,t)=>{f(t),n.change("group-description",t)},"aria-label":"Group description",resizeOrientation:"vertical"}),"error"===b&&s().createElement(I.FormHelperText,null,s().createElement(B.HelperText,{variant:b},s().createElement(B.HelperTextItem,null,t.formatMessage(k.Z.maxCharactersWarning,{number:150})))))))};D.propTypes={name:l().string,description:l().string,groups:l().array};const G=D;var O=a(64380),V=a(87285);const _=e=>{const t=(0,i.YB)(),[a,n]=(0,r.useState)([]),{input:l}=(0,P.Z)(e),o=(0,y.default)();return(0,r.useEffect)((()=>{n(o.getState().values["roles-list"]||[])}),[]),(0,r.useEffect)((()=>{l.onChange(a),o.change("roles-list",a)}),[a]),s().createElement(r.Fragment,null,s().createElement(N.Stack,{hasGutter:!0},s().createElement(N.StackItem,null,s().createElement(O.TextContent,null,s().createElement(O.Text,null,t.formatMessage(k.Z.selectRolesForGroupText)))),s().createElement(N.StackItem,null,s().createElement(I.FormGroup,{fieldId:"select-role"},s().createElement(V.Z,{selectedRoles:a,setSelectedRoles:n,rolesExcluded:!1})))))};_.propTypes={selectedRoles:l().array,setSelectedRoles:l().func,title:l().string,description:l().string};const j=_;var z=a(88094),H=a(10113),U=a(12);const W=e=>{const[t,a]=(0,r.useState)([]),{input:n}=(0,P.Z)(e),l=(0,i.YB)(),o=(0,y.default)();return(0,r.useEffect)((()=>{a(o.getState().values["users-list"]||[])}),[]),(0,r.useEffect)((()=>{n.onChange(t),o.change("users-list",t)}),[t]),s().createElement(r.Fragment,null,s().createElement(I.Form,null,s().createElement(N.Stack,{hasGutter:!0},s().createElement(N.StackItem,null,s().createElement(O.TextContent,null,s().createElement(U.Z,{linkDescription:l.formatMessage(k.Z.toManageUsersText)}))),s().createElement(N.StackItem,null,s().createElement(I.FormGroup,{fieldId:"select-user"},s().createElement(z.Card,null,s().createElement(H.Z,{selectedUsers:t,setSelectedUsers:a,displayNarrow:!0})))))))};W.propTypes={selectedUsers:l().array,setSelectedUsers:l().func,title:l().string,description:l().string};const $=W;var Y=a(9545);const K=()=>{const e=(0,i.YB)(),t=(0,y.default)(),{"group-name":a,"group-description":r,"users-list":n,"roles-list":l}=t.getState().values;return s().createElement("div",{className:"rbac"},s().createElement(N.Stack,{hasGutter:!0},s().createElement(N.StackItem,null,s().createElement(N.Stack,{hasGutter:!0},s().createElement(N.StackItem,{className:"rbac-l-stack__item-summary"},s().createElement(Y.Grid,null,s().createElement(Y.GridItem,{md:3},s().createElement(O.Text,{component:O.TextVariants.h4,className:"rbac-bold-text"},e.formatMessage(k.Z.groupName))),s().createElement(Y.GridItem,{md:9},s().createElement(O.Text,{component:O.TextVariants.p},a))),s().createElement(Y.Grid,null,s().createElement(Y.GridItem,{md:3},s().createElement(O.Text,{component:O.TextVariants.h4,className:"rbac-bold-text"},e.formatMessage(k.Z.groupDescription))),s().createElement(Y.GridItem,{md:9},s().createElement(O.Text,{component:O.TextVariants.p},r))),s().createElement(Y.Grid,null,s().createElement(Y.GridItem,{md:3},s().createElement(O.Text,{component:O.TextVariants.h4,className:"rbac-bold-text"},e.formatMessage(k.Z.roles))),s().createElement(Y.GridItem,{md:9},l.map(((e,t)=>s().createElement(O.Text,{className:"pf-v5-u-mb-0",key:t},e.label))))),s().createElement(Y.Grid,null,s().createElement(Y.GridItem,{md:3},s().createElement(O.Text,{component:O.TextVariants.h4,className:"rbac-bold-text"},e.formatMessage(k.Z.members))),s().createElement(Y.GridItem,{md:9},n.map(((e,t)=>s().createElement(O.Text,{className:"pf-v5-u-mb-0",key:t},e.label))))))))))};K.propTypes={name:l().string,description:l().string,groups:l().array};const X=K;var Q=a(31055),J=a(95376),ee=a(71214),te=a.n(ee);const ae=({onClose:e})=>{const t=(0,i.YB)(),{setHideForm:a,setWizardSuccess:n}=(0,r.useContext)(ne);return s().createElement(J.EmptyState,{variant:J.EmptyStateVariant.lg},s().createElement(J.EmptyStateHeader,{titleText:s().createElement(s().Fragment,null,t.formatMessage(k.Z.groupCreatedSuccessfully)),icon:s().createElement(J.EmptyStateIcon,{className:"pf-v5-u-mt-xl",color:"green",icon:te()}),headingLevel:"h4"}),s().createElement(J.EmptyStateFooter,null,s().createElement(Q.Button,{onClick:e,variant:"primary"},t.formatMessage(k.Z.exit)),s().createElement(J.EmptyStateActions,null,s().createElement(Q.Button,{onClick:()=>{a(!1),n(!1)},variant:"link"},t.formatMessage(k.Z.createAnotherGroup)))))};var re=a(84414),se=a(14289);const ne=(0,r.createContext)({success:!1,submitting:!1,error:void 0,setHideForm:e=>null,setWizardSuccess:e=>null}),le=e=>s().createElement(d.ZP,{...e,showFormControls:!1}),oe=({Content:e,...t})=>s().createElement(e,{...t});oe.propTypes={Content:l().elementType.isRequired};const ie={description:oe,"set-name":G,"set-roles":j,"set-users":$,"summary-content":X},ce=(e,t,a)=>r=>{a(r),Object.keys(r).length>0?t(!0):e()},me=({postMethod:e,pagination:t,filters:a,orderBy:n})=>{const l=(0,o.useDispatch)(),d=(0,i.YB)(),y=(0,r.useRef)(document.createElement("div")),b=(0,r.useRef)((e=>{const t=(0,i.Sn)(),a=(0,i.dp)({locale:M.S,messages:T},t);return{fields:[{component:"wizard",name:"wizard",isDynamic:!0,inModal:!0,showTitles:!0,title:a.formatMessage(k.Z.createGroup),container:e,fields:[{name:"name-and-description",nextStep:"add-roles",title:a.formatMessage(k.Z.nameAndDescription),fields:[{component:"set-name",name:"group-name",validate:[{type:g.Z.REQUIRED}]},{component:h.Z.TEXTAREA,name:"group-description",hideField:!0,validate:[{type:g.Z.MAX_LENGTH,threshold:150}]}]},{name:"add-roles",nextStep:"add-users",title:a.formatMessage(k.Z.addRoles),fields:[{component:"set-roles",name:"roles-list"}]},{name:"add-users",nextStep:"review",title:a.formatMessage(k.Z.addMembers),fields:[{component:"set-users",name:"users-list"}]},{name:"review",title:a.formatMessage(k.Z.reviewDetails),buttons:e=>s().createElement(C.Z,{...e,context:ne}),StepTemplate:x,fields:[{component:"summary-content",name:"summary-content"}]}]}]}})(y.current)),E=(0,re.Z)(),[v,S]=(0,r.useState)({}),[Z,R]=(0,r.useState)({success:!1,submitting:!1,error:void 0,hideForm:!1}),I=()=>{l((0,m.addNotification)({variant:"warning",title:d.formatMessage(k.Z.addingGroupTitle),dismissDelay:8e3,description:d.formatMessage(k.Z.addingGroupCanceledDescription)})),E({pathname:se.Z.groups.link,search:(0,F.GT)({page:1,per_page:t.limit,...a})})},B=e=>R((t=>({...t,canceled:e}))),N=()=>{R((e=>({...e,success:!1,hideForm:!1}))),e({limit:t.limit,offset:0,orderBy:n,filters:{}}),E({pathname:se.Z.groups.link,search:(0,F.GT)({page:1,per_page:t.limit})})};return s().createElement(ne.Provider,{value:{...Z,setWizardError:e=>R((t=>({...t,error:e}))),setWizardSuccess:e=>R((t=>({...t,success:e}))),setHideForm:e=>R((t=>({...t,hideForm:e})))}},s().createElement(f.R,{type:"group",isOpen:Z.canceled,onModalCancel:()=>{y.current.hidden=!1,B(!1)},onModalConfirm:I}),Z.hideForm?Z.success?s().createElement(c.e,{isOpen:!0,title:d.formatMessage(k.Z.createGroup),onClose:N,steps:[{name:"success",component:s().createElement(ae,{onClose:N}),isFinishedStep:!0}]}):null:s().createElement(u.Z,{schema:b.current,container:y,subscription:{values:!0},FormTemplate:le,componentMapper:{...p.ZP,...ie},onSubmit:e=>{R((e=>({...e,submitting:!0})));const t={name:e["group-name"],description:e["group-description"],user_list:e["users-list"].map((e=>({username:e.label}))),roles_list:e["roles-list"].map((e=>e.uuid))};l((0,w.Rp)(t)).then((()=>{R((e=>({...e,submitting:!1,success:!0,hideForm:!0})))}))},initialValues:v,onCancel:ce(I,(()=>{y.current.hidden=!0,B(!0)}),S)}))};me.propTypes={postMethod:l().func,pagination:l().shape({limit:l().number.isRequired}).isRequired,filters:l().object.isRequired,orderBy:l().string};const ue=me},87285:(e,t,a)=>{"use strict";a.d(t,{Z:()=>b});var r=a(28416),s=a.n(r),n=a(45697),l=a.n(n),o=a(25387),i=a(86706),c=a(7732),m=a(55140),u=a(74982),d=a(29301),p=a(97246),f=a(13563),g=a(77044),h=a(2550);const y=({selectedRoles:e,setSelectedRoles:t,rolesExcluded:a,groupId:n})=>{const l=(0,o.YB)(),y=(0,m.Z)(),b=(0,i.useDispatch)(),E=(0,r.useRef)(null),{roles:v,pagination:S,isLoading:Z,groupId:k,filters:R}=(0,i.useSelector)(a?({groupReducer:{selectedGroup:{addRoles:{roles:e,pagination:t,loaded:a},uuid:r}}})=>({roles:e,pagination:t||{...u.eX,count:e?.length},isLoading:!a,groupId:n||r}):({roleReducer:{roles:e,isLoading:t}})=>({roles:e.data,pagination:e.meta,isLoading:t,filters:e.filters}),i.shallowEqual),{current:x}=(0,r.useRef)([{title:l.formatMessage(h.Z.name),key:"display_name",...a?{orderBy:"name"}:{transforms:[c.p]}},{title:l.formatMessage(h.Z.description)}]),[C,M]=(0,r.useState)(""),[T,w]=(0,r.useState)({index:1,direction:"asc"}),F=(0,r.useCallback)(((e,t)=>b(a?(0,g.nr)(e,t):(0,f.Kt)((0,d.jl)({...t,chrome:y})))),[a]),I=`${"desc"===T?.direction?"-":""}${x[T?.index].key}`,B=((e,t=[])=>e?e.reduce(((e,{uuid:a,display_name:r,name:s,description:n})=>[...e,{uuid:a,cells:[r||s,n],selected:Boolean(t&&t.find((e=>e.uuid===a)))}]),[]):[])(v,e);return(0,r.useEffect)((()=>{F(k,{...S,orderBy:I})}),[]),s().createElement(p.M,{isSelectable:!0,isCompact:!0,borders:!1,columns:x,rows:B,sortBy:T,onSort:(e,t,a,r)=>{const s=`${"desc"===a?"-":""}${x[r?t-1:t].key}`;w({index:t,direction:a}),((e,t)=>{const{name:a,count:r,limit:s,offset:n,orderBy:l}=t;F(e,(0,d.jl)({count:r,limit:s,offset:n,orderBy:l,filters:{display_name:a}}))})(k,{...S,offset:0,orderBy:s,...R?.length>0?{...R.reduce(((e,t)=>({...e,[t.key]:t.value})),{})}:{name:C}})},data:v,filterValue:C,filterPlaceholder:l.formatMessage(h.Z.roleName).toLowerCase(),fetchData:e=>F(k,{...e,filters:{display_name:e.name}}),setFilterValue:({name:e})=>M(e),isLoading:Z,ouiaId:"roles-table",pagination:S,checkedRows:e,setCheckedItems:e=>{t((t=>e(t).map((({uuid:e,name:t,label:a})=>({uuid:e,label:a||t})))))},titlePlural:l.formatMessage(h.Z.roles).toLowerCase(),titleSingular:l.formatMessage(h.Z.role),tableId:"roles-list",textFilterRef:E})};y.propTypes={canSort:l().bool,setSelectedRoles:l().func.isRequired,selectedRoles:l().array,rolesExcluded:l().bool.isRequired,groupId:l().string},y.defaultProps={roles:[],pagination:u.eX,canSort:!0};const b=y},10113:(e,t,a)=>{"use strict";a.d(t,{Z:()=>Z});var r=a(28416),s=a.n(r),n=a(86706),l=a(45697),o=a.n(l),i=a(62012),c=a(25387),m=a(46818),u=a(7732),d=a(29301),p=a(2981),f=a(97246),g=a(24869),h=a(86601),y=a(74982),b=a(23340),E=a(2550),v=a(39820);const S=({selectedUsers:e,setSelectedUsers:t,userLinks:a,usesMetaInURL:l,displayNarrow:o,props:S})=>{const Z=(0,c.YB)(),k=(0,i.useNavigate)(),R=(0,i.useLocation)(),x=(0,n.useDispatch)(),{orgAdmin:C}=(0,r.useContext)(h.Z),M=(0,r.useRef)(null);let T=(0,n.useSelector)((({userReducer:{users:e}})=>({limit:(l?e.pagination.limit:e.meta.limit)??(C?y.HE:y.he).limit,offset:(l?e.pagination.offset:e.meta.offset)??(C?y.HE:y.he).offset,count:l?e.pagination.count:e.meta.count,redirected:l&&e.pagination.redirected})));const{users:w,isLoading:F,stateFilters:I}=(0,n.useSelector)((({userReducer:{users:{data:e,filters:t={}},isUserDataLoading:a}})=>({users:e?.map?.((e=>({...e,uuid:e.username}))),isLoading:a,stateFilters:R.search.length>0||Object.keys(t).length>0?t:{status:["Active"]}}))),B=(0,r.useCallback)((e=>x((0,p.u)(e))),[x]),N=(0,r.useCallback)((e=>x((0,p.a)(e))),[x]),P=[{title:Z.formatMessage(o?E.Z.orgAdmin:E.Z.orgAdministrator),key:"org-admin",transforms:[m.P8]},{title:Z.formatMessage(E.Z.username),key:"username",transforms:[u.p]},{title:Z.formatMessage(E.Z.email)},{title:Z.formatMessage(E.Z.firstName),transforms:[m.P8]},{title:Z.formatMessage(E.Z.lastName),transforms:[m.P8]},{title:Z.formatMessage(E.Z.status),transforms:[m.P8]}],[L,q]=(0,r.useState)({index:1,direction:"asc"}),[A,D]=(0,r.useState)(l?I:{username:"",email:"",status:[Z.formatMessage(E.Z.active)]});return(0,r.useEffect)((()=>{l&&(0,y.oG)(R,k,T.limit,T.offset)}),[T.offset,T.limit,T.count,T.redirected]),(0,r.useEffect)((()=>{const{limit:e,offset:t}=(0,y.rj)(R,k,T),a=l?(0,b.aX)(R,k,["username","email","status"],A):{status:A.status};D(a),B({...(0,d.jl)({limit:e,offset:t,filters:a}),usesMetaInURL:l})}),[]),(0,r.useEffect)((()=>{l&&((0,y.Zc)(R)||(0,y.oG)(R,k,T.limit,T.offset),Object.values(A).some((e=>e?.length>0))&&!(0,b.qF)(R,Object.keys(A))&&(0,b.aX)(R,k,Object.keys(A),A))})),s().createElement(f.M,{isCompact:!0,isSelectable:!0,borders:!1,columns:P,rows:(0,v.H)(a,w,Z,e,!0),sortBy:L,onSort:(e,t,a)=>{const r=`${"desc"===a?"-":""}${P[t].key}`;q({index:t,direction:a}),B({...T,filters:A,usesMetaInURL:l,orderBy:r})},data:w,ouiaId:"users-table",fetchData:e=>{const t=Object.prototype.hasOwnProperty.call(e,"status")?e.status:A.status,{username:a,email:r,count:s,limit:n,offset:o,orderBy:i}=e;B({...(0,d.jl)({count:s,limit:n,offset:o,orderBy:i,filters:{username:a,email:r,status:t}}),usesMetaInURL:l}).then((()=>{M?.current?.focus()})),l&&(0,b.MS)(R,k,{username:a,email:r,status:t})},emptyFilters:{username:"",email:"",status:""},setFilterValue:({username:e,email:t,status:a})=>{var r;r={username:void 0===e?A.username:e,email:void 0===t?A.email:t,status:void 0===a||a===A.status?A.status:a},l&&N(r),D({username:"",...r})},isLoading:F,pagination:T,checkedRows:e,setCheckedItems:e=>{t((t=>e(t).map((({uuid:e,username:t})=>({uuid:e,label:t||e})))))},rowWrapper:g.Z,titlePlural:Z.formatMessage(E.Z.users).toLowerCase(),titleSingular:Z.formatMessage(E.Z.user),filters:[{key:"username",value:A.username,placeholder:Z.formatMessage(E.Z.filterByKey,{key:Z.formatMessage(E.Z.username).toLowerCase()}),innerRef:M},{key:"email",value:A.email,placeholder:Z.formatMessage(E.Z.filterByKey,{key:Z.formatMessage(E.Z.email).toLowerCase()}),innerRef:M},{key:"status",value:A.status,label:Z.formatMessage(E.Z.status),type:"checkbox",items:[{label:Z.formatMessage(E.Z.active),value:"Active"},{label:Z.formatMessage(E.Z.inactive),value:"Inactive"}]}],tableId:"users-list",...S})};S.propTypes={displayNarrow:o().bool,users:o().array,searchFilter:o().string,setSelectedUsers:o().func.isRequired,selectedUsers:o().array,userLinks:o().bool,props:o().object,usesMetaInURL:o().bool},S.defaultProps={displayNarrow:!1,users:[],selectedUsers:[],setSelectedUsers:()=>{},userLinks:!1,usesMetaInURL:!1};const Z=S},95359:(e,t,a)=>{"use strict";a.d(t,{B:()=>c,L:()=>m});var r=a(94504),s=a(47625),n=a(60167),l=a(25387),o=a(2550),i=a(2034);const c=async(e,t,a)=>{const s=(0,l.Sn)(),c=(0,l.dp)({locale:n.S,messages:i},s);if(!e)return;if(e.length>150)throw c.formatMessage(o.Z.maxCharactersWarning,{number:150});const m=await(0,r.bt)({limit:10,offset:0,filters:{name:e},nameMatch:"exact"}).catch((e=>{console.error(e)}));if(a?m?.data?.some((e=>e[t]!==a)):m?.data?.length>0)throw c.formatMessage(o.Z.nameAlreadyTaken)},m=(0,s.Z)(((e,t,a)=>c(e,t,a)))},39820:(e,t,a)=>{"use strict";a.d(t,{H:()=>p});var r=a(28416),s=a.n(r),n=a(78173),l=a(91693),o=a.n(l),i=a(77029),c=a.n(i),m=a(2550),u=a(14289),d=a(64756);const p=(e,t=[],a,l=[],i=!1)=>t?.reduce(((t,{username:p,is_active:f,email:g,first_name:h,last_name:y,is_org_admin:b})=>[...t,{uuid:p,cells:[b?s().createElement(r.Fragment,null,s().createElement(o(),{key:"yes-icon",className:"pf-v5-u-mr-sm"}),s().createElement("span",{key:"yes"},a.formatMessage(m.Z.yes))):s().createElement(r.Fragment,null,s().createElement(c(),{key:"no-icon",className:"pf-v5-u-mr-sm"}),s().createElement("span",{key:"no"},a.formatMessage(m.Z.no))),{title:e?s().createElement(d.Z,{to:u.Z["user-detail"].link.replace(":username",p)},p.toString()):p.toString()},g,h,y,{title:s().createElement(n.Label,{key:"status",color:f?"green":"grey"},a.formatMessage(f?m.Z.active:m.Z.inactive)),props:{"data-is-active":f}}],selected:!!i&&Boolean(l?.find?.((({uuid:e})=>e===p)))}]),[])},47625:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(99166);const s=(e,t=250,a={onlyResolvesLast:!1})=>(0,r.Z)(e,t,a)},82472:()=>{},97890:()=>{},17657:()=>{},22972:()=>{},43389:()=>{},45467:()=>{},70347:()=>{},32857:()=>{},28992:()=>{},80897:()=>{},90479:()=>{},78752:()=>{},21626:()=>{},8572:()=>{},98379:()=>{},25238:()=>{},91993:()=>{},54994:()=>{},44690:()=>{},37494:()=>{},67761:()=>{},49854:()=>{},40209:()=>{},87234:()=>{}}]);
//# sourceMappingURL=../sourcemaps/817.31313ce347c16a81ef19c86a20e46b5a.js.map