{"version":3,"sources":["webpack:///./src/presentational-components/shared/toolbar.js","webpack:///./src/presentational-components/shared/empty-filter.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/presentational-components/shared/table-toolbar-view.scss","webpack:///./src/redux/actions/role-actions.js","webpack:///./src/helpers/shared/helpers.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/utilities/constants.js","webpack:///./src/helpers/role/role-helper.js","webpack:///./src/presentational-components/shared/table-toolbar-view.scss?4a5b","webpack:///./src/presentational-components/myUserAccess/ResourceDefinitionsLink.js","webpack:///./src/smart-components/myUserAccess/ResourceDefinitionsModal.js","webpack:///./src/smart-components/myUserAccess/CommonBundleView.js","webpack:///./src/smart-components/myUserAccess/bundles/insights.js","webpack:///./src/smart-components/myUserAccess/MUARolesTable.js","webpack:///./src/helpers/access/access-helper.js","webpack:///./src/redux/actions/access-actions.js","webpack:///./src/smart-components/myUserAccess/MUAAccessTable.js","webpack:///./src/smart-components/myUserAccess/mua-table-helpers.js","webpack:///./src/smart-components/myUserAccess/bundles/subscriptions.js"],"names":["paginationBuilder","pagination","fetchData","filterValue","sortBy","itemCount","count","perPage","limit","page","getCurrentPage","offset","onSetPage","_event","name","orderBy","perPageOptions","title","value","onPerPageSelect","bulkSelectBuilder","isLoading","checkedRows","setCheckedItems","data","length","items","onClick","selectedRows","checked","calculateChecked","onSelect","filterConfigBuilder","setFilterValue","titleSingular","filterPlaceholder","filterItems","filters","isFilterable","onShowMore","showMoreTitle","onFilter","onChange","map","key","selected","placeholder","type","groups","label","firstUpperCase","filterValues","id","_e","filterBy","newFilter","Array","isArray","Object","keys","debouncedFetch","reduce","acc","curr","isDisabled","activeFiltersConfigBuilder","options","category","chips","filter","Boolean","onDelete","isAll","deleted","filtersValue","setKeyValue","Toolbar","isSelectable","toolbarButtons","hideFilterChips","PrimaryToolbar","bulkSelect","filterConfig","actionsConfig","actions","activeFiltersConfig","propTypes","PropTypes","bool","array","func","string","oneOfType","arrayOf","shape","number","any","ConditionalFilter","isCollapsible","defaultProps","defaultSettings","undefined","EmptyWithFilter","icon","description","props","EmptyState","variant","EmptyStateVariant","full","EmptyStateIcon","SearchIcon","Title","headingLevel","EmptyStateBody","text","Fragment","node","className","TableToolbarView","isCompact","createRows","borders","columns","actionResolver","areActionsDisabled","routes","titlePlural","emptyProps","rowWrapper","isExpandable","onExpand","hideHeader","noData","noDataDescription","ouiaId","useState","opened","openRow","index","direction","sortByState","setSortByState","useEffect","rows","onCollapse","_index","isOpen","uuid","every","PlusCircleIcon","Table","canSelectAll","aria-label","TableVariant","compact","isSelected","_idx","cells","fullWidth","EmptyStatePrimary","Button","colSpan","onSort","e","noBottom","TableToolbar","Pagination","dropDirection","directions","isRequired","exports","___CSS_LOADER_API_IMPORT___","push","module","i","createRole","roleData","ActionTypes","payload","RoleHelper","meta","notifications","rejected","dismissDelay","dismissable","fetchRole","apiProps","fetchRoles","fetchRolesWithPolicies","removeRole","role","fulfilled","fetchRoleForUser","fetchRoleForPrincipal","fetchRolesForWizard","updateRole","roleId","useCustomAccess","removeRolePermissions","permissionsToRemove","Math","floor","mappedProps","entries","debouncePromise","callback","find","row","newSelection","arr","findIndex","charAt","toUpperCase","slice","principalApi","PrincipalApi","axiosInstance","groupApi","GroupApi","roleApi","RoleApi","accessApi","PolicyApi","AccessApi","permissionApi","PermissionApi","costApi","BaseAPI","getPrincipalApi","getGroupApi","getRoleApi","getAccessApi","getPermissionApi","getCostApi","getResourceTypes","axios","get","getResource","path","a","createRoles","nameMatch","scope","addFields","username","application","permission","listRoles","insights","chrome","auth","getUser","getRole","deleteRole","getRoleAccess","access","newRole","item","includes","api","content","__esModule","default","update","locals","hot","invalidate","oldLocals","accept","b","p","isEqualLocals","dispose","ResourceDefinitionsLink","resourceDefinitions","ResourceDefinitionsModal","handleClose","attributeFilter","setRows","handleFilterValue","isFilter","onClose","config","CommonBundleView","apps","isOrgAdmin","useContext","OrgAdminContext","setName","setPermission","setApplication","handleSetFilters","app","createFilter","MUARolesTable","setFilters","MUAAccessTable","hasActiveFilters","InsightsBundle","lazy","transforms","sortable","cellTransforms","compoundExpand","cellWidth","roles","rolesWithAccess","showResourceDefinitions","expanded","setExpanded","rdOpen","rdPermission","setRdConfig","join","useCallback","debounce","applicationParam","_rowIndex","colIndex","rowData","display_name","accessCount","component","parent","compoundParent","split","fallback","fetchUsers","object","withRouter","connect","roleReducer","dispatch","getPrincipalAccess","useRef","current","useDispatch","useSelector","state","permissions","accessReducer","shallowEqual","AccessHelper","handleRdClick","filteredRows","onRdClick","appName","operation"],"mappings":"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","file":"js/8.91ebd252c171582f98c3.js","sourcesContent":["import React from 'react';\nimport { PrimaryToolbar, ConditionalFilter } from '@redhat-cloud-services/frontend-components';\nimport PropTypes from 'prop-types';\nimport { pickBy } from 'lodash';\nimport { getCurrentPage, selectedRows, calculateChecked, debouncedFetch, firstUpperCase } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nexport const paginationBuilder = (pagination = {}, fetchData = () => undefined, filterValue = '', sortBy = '') => ({\n  ...pagination,\n  itemCount: pagination.count,\n  perPage: pagination.limit,\n  page: getCurrentPage(pagination.limit, pagination.offset),\n  onSetPage: (_event, page) => {\n    fetchData({\n      ...pagination,\n      offset: (page - 1) * pagination.limit,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n  perPageOptions: [\n    { title: '5', value: 5 },\n    { title: '10', value: 10 },\n    { title: '20', value: 20 },\n    { title: '50', value: 50 },\n  ],\n  onPerPageSelect: (_event, perPage) => {\n    fetchData({\n      ...pagination,\n      offset: 0,\n      limit: perPage,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n});\n\nexport const bulkSelectBuilder = (isLoading, checkedRows = [], setCheckedItems = () => undefined, data = []) => ({\n  count: checkedRows.length,\n  items: [\n    {\n      title: 'Select none (0)',\n      onClick: () => {\n        setCheckedItems(() => []);\n      },\n    },\n    {\n      ...(!isLoading && data && data.length > 0\n        ? {\n            title: `Select page (${data.length})`,\n            onClick: () => {\n              setCheckedItems(selectedRows(data, true));\n            },\n          }\n        : {}),\n    },\n  ],\n  checked: calculateChecked(data, checkedRows),\n  onSelect: (value) => {\n    !isLoading && setCheckedItems(selectedRows(data, value));\n  },\n});\n\nexport const filterConfigBuilder = (\n  isLoading,\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  filterValue = '',\n  pagination = {},\n  titleSingular = '',\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy\n) => ({\n  onChange,\n  value,\n  items: [\n    ...(filters && filters.length > 0\n      ? filters.map(({ key, value, selected, placeholder, type = 'text', groups, items }) => ({\n          label: firstUpperCase(key),\n          type,\n          filterValues: {\n            id: `filter-by-${key}`,\n            key: `filter-by-${key}`,\n            placeholder: placeholder ? placeholder : `Filter by ${key}`,\n            value,\n            selected,\n            ...(type !== 'text' ? { isFilterable, onShowMore, showMoreTitle, onFilter } : {}),\n            groups,\n            items,\n            onChange: (_e, filterBy) => {\n              const newFilter =\n                typeof filterBy !== 'string' && !Array.isArray(filterBy) ? Object.keys(pickBy(filterBy[0], (value) => value)) : filterBy;\n              setFilterValue({\n                ...filterValue,\n                ...pagination,\n                offset: 0,\n                [key]: newFilter,\n              });\n              debouncedFetch(() =>\n                fetchData({\n                  ...pagination,\n                  offset: 0,\n                  orderBy: sortBy,\n                  ...filters.reduce(\n                    (acc, curr) => ({\n                      ...acc,\n                      [curr.key]: curr.value,\n                    }),\n                    {}\n                  ),\n                  [key]: newFilter,\n                })\n              );\n            },\n            isDisabled: isLoading,\n          },\n        }))\n      : [\n          {\n            label: firstUpperCase(filterPlaceholder || titleSingular),\n            type: 'text',\n            filterValues: {\n              id: 'filter-by-string',\n              key: 'filter-by-string',\n              placeholder: `Filter by ${filterPlaceholder || titleSingular}`,\n              value: filterValue,\n              onChange: (_e, value) => {\n                setFilterValue({\n                  ...pagination,\n                  offset: 0,\n                  name: value,\n                });\n                debouncedFetch(() =>\n                  fetchData({\n                    ...pagination,\n                    offset: 0,\n                    name: value,\n                    orderBy: sortBy,\n                  })\n                );\n              },\n              isDisabled: isLoading,\n            },\n          },\n        ]),\n    ...(filterItems || []),\n  ],\n});\n\nexport const activeFiltersConfigBuilder = (\n  filterValue = '',\n  filters,\n  pagination = {},\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  sortBy\n) => ({\n  filters:\n    filters && filters.length > 0\n      ? filters\n          .map(\n            ({ key: type, value: options }) =>\n              options &&\n              options.length !== 0 && {\n                category: firstUpperCase(type),\n                type,\n                chips: Array.isArray(options) ? options.map((filter) => ({ name: filter })) : [{ name: options }],\n              }\n          )\n          .filter(Boolean)\n      : [\n          {\n            name: filterValue,\n          },\n        ],\n  onDelete: (_e, [deleted], isAll) => {\n    const setKeyValue = (value, type, key) => {\n      if (isAll) {\n        return type === 'group' || type === 'checkbox' ? [] : '';\n      }\n\n      if (key !== deleted.type) {\n        return value;\n      }\n\n      if (type === 'checkbox' || type === 'group') {\n        return value.filter((value) => value !== deleted.chips[0]?.name);\n      }\n\n      return Array.isArray(value) ? [] : '';\n    };\n\n    const filtersValue = filters.reduce((acc, { key, value, type }) => ({ ...acc, [key]: setKeyValue(value, type, key) }), {});\n    setFilterValue({\n      ...pagination,\n      offset: 0,\n      name: '',\n      ...filtersValue,\n    });\n    fetchData({\n      ...pagination,\n      offset: 0,\n      orderBy: sortBy,\n      name: '',\n      ...filtersValue,\n    });\n  },\n});\n\nconst Toolbar = ({\n  isSelectable,\n  checkedRows,\n  setCheckedItems,\n  isLoading,\n  data,\n  titleSingular,\n  filterValue,\n  setFilterValue,\n  pagination,\n  fetchData,\n  sortBy,\n  toolbarButtons,\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  hideFilterChips,\n}) => (\n  <PrimaryToolbar\n    {...(isSelectable && {\n      bulkSelect: bulkSelectBuilder(isLoading, checkedRows, setCheckedItems, data),\n    })}\n    filterConfig={filterConfigBuilder(\n      isLoading,\n      setFilterValue,\n      fetchData,\n      filterValue,\n      pagination,\n      titleSingular,\n      filterPlaceholder,\n      filterItems,\n      filters,\n      isFilterable,\n      onShowMore,\n      showMoreTitle,\n      onFilter,\n      onChange,\n      value,\n      sortBy\n    )}\n    actionsConfig={{\n      actions: toolbarButtons(),\n    }}\n    {...(!isLoading && {\n      pagination: paginationBuilder(pagination, fetchData, filterValue, sortBy),\n    })}\n    {...((filterValue.length > 0 || (filters && filters.length > 0)) &&\n      !hideFilterChips && {\n        activeFiltersConfig: activeFiltersConfigBuilder(filterValue, filters, pagination, setFilterValue, fetchData, sortBy),\n      })}\n  />\n);\n\nToolbar.propTypes = {\n  isSelectable: PropTypes.bool,\n  checkedRows: PropTypes.array,\n  setCheckedItems: PropTypes.func,\n  isLoading: PropTypes.bool,\n  data: PropTypes.array,\n  titleSingular: PropTypes.string,\n  filterValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  setFilterValue: PropTypes.func,\n  filters: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array]),\n      key: PropTypes.string,\n      placeholder: PropTypes.string,\n    })\n  ),\n  isFilterable: PropTypes.bool,\n  onShowMore: PropTypes.func,\n  showMoreTitle: PropTypes.string,\n  onFilter: PropTypes.func,\n  onChange: PropTypes.func,\n  value: PropTypes.any,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    count: PropTypes.number,\n  }),\n  sortBy: PropTypes.string,\n  filterItems: ConditionalFilter.propTypes.items,\n  filterPlaceholder: PropTypes.string,\n  isCollapsible: PropTypes.bool,\n  fetchData: PropTypes.func,\n  toolbarButtons: PropTypes.func,\n  hideFilterChips: PropTypes.bool,\n};\n\nToolbar.defaultProps = {\n  isCollapsible: false,\n  isSelectable: false,\n  isLoading: false,\n  data: [],\n  titleSingular: '',\n  filterValue: [],\n  pagination: defaultSettings,\n  setCheckedItems: () => undefined,\n  setFilterValue: () => undefined,\n  sortBy: undefined,\n  fetchData: () => undefined,\n  toolbarButtons: () => [],\n  filterItems: [],\n  filters: [],\n  isFilterable: false,\n  hideFilterChips: false,\n};\n\nexport default Toolbar;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, Title } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\nconst EmptyWithFilter = ({ title, icon, description, actions, ...props }) => (\n  <EmptyState variant={EmptyStateVariant.full} {...props}>\n    <EmptyStateIcon icon={icon || SearchIcon} />\n    <Title headingLevel=\"h4\">{title}</Title>\n    <EmptyStateBody>\n      {description.map((text, key) => (\n        <React.Fragment key={key}>\n          {text} <br />\n        </React.Fragment>\n      ))}\n    </EmptyStateBody>\n    {actions}\n  </EmptyState>\n);\n\nEmptyWithFilter.propTypes = {\n  icon: PropTypes.func,\n  title: PropTypes.node,\n  description: PropTypes.node,\n  actions: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf(PropTypes.node)]),\n  className: PropTypes.string,\n};\n\nexport default EmptyWithFilter;\n","import React, { Fragment, useState, useEffect } from 'react';\nimport propTypes from 'prop-types';\nimport { Table, TableHeader, TableBody, TableVariant } from '@patternfly/react-table';\nimport { TableToolbar } from '@redhat-cloud-services/frontend-components';\nimport { Button, Pagination, EmptyStatePrimary } from '@patternfly/react-core';\nimport { ListLoader } from './loader-placeholders';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport { selectedRows } from '../../helpers/shared/helpers';\nimport Toolbar, { paginationBuilder } from './toolbar';\nimport EmptyWithAction from './empty-filter';\nimport './table-toolbar-view.scss';\n\nexport const TableToolbarView = ({\n  isCompact,\n  createRows,\n  borders,\n  columns,\n  toolbarButtons,\n  data,\n  actionResolver,\n  areActionsDisabled,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  filterValue,\n  isLoading,\n  setFilterValue,\n  checkedRows,\n  isSelectable,\n  fetchData,\n  setCheckedItems,\n  isCollapsible,\n  emptyProps,\n  filterPlaceholder,\n  rowWrapper,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  isExpandable,\n  onExpand,\n  hideFilterChips,\n  hideHeader,\n  noData,\n  noDataDescription,\n  ouiaId,\n}) => {\n  const [opened, openRow] = useState({});\n  const [sortByState, setSortByState] = useState({ index: undefined, direction: undefined });\n  useEffect(() => {\n    setSortByState({\n      ...sortBy,\n      ...(sortByState.index !== undefined && sortByState),\n    });\n  }, [sortBy]);\n\n  const rows = createRows(data, opened, checkedRows);\n\n  const onCollapse = (_event, _index, isOpen, { uuid }) =>\n    openRow((opened) => ({\n      ...opened,\n      [uuid]: isOpen,\n    }));\n\n  const renderEmpty = () => ({\n    title: (\n      <EmptyWithAction\n        title={`No matching ${titlePlural} found`}\n        description={\n          noData && noDataDescription ? noDataDescription : [`This filter criteria matches no ${titlePlural}.`, `Try changing your filter settings.`]\n        }\n        actions={\n          noData && noDataDescription\n            ? undefined\n            : [\n                <EmptyStatePrimary key=\"clear-filters\">\n                  <Button\n                    variant=\"link\"\n                    ouiaId=\"clear-filters-button\"\n                    onClick={() => {\n                      setFilterValue({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                      fetchData({\n                        ...pagination,\n                        offset: 0,\n                        name: '',\n                      });\n                    }}\n                  >\n                    Clear all filters\n                  </Button>\n                </EmptyStatePrimary>,\n              ]\n        }\n      />\n    ),\n    props: {\n      colSpan: columns.length + Boolean(onCollapse),\n    },\n  });\n\n  const renderTable = () => (\n    <Fragment>\n      <Toolbar\n        isSelectable={isSelectable}\n        checkedRows={checkedRows}\n        setCheckedItems={setCheckedItems}\n        isLoading={isLoading || noData}\n        data={data}\n        titleSingular={titleSingular}\n        filterValue={filterValue}\n        setFilterValue={setFilterValue}\n        sortBy={\n          (sortByState.index !== undefined &&\n            sortByState.index - isSelectable >= 0 &&\n            `${sortByState.direction === 'desc' ? '-' : ''}${columns[sortByState.index - isSelectable].key}`) ||\n          undefined\n        }\n        pagination={pagination}\n        fetchData={fetchData}\n        toolbarButtons={toolbarButtons}\n        filterPlaceholder={filterPlaceholder}\n        filters={filters}\n        isFilterable={isFilterable}\n        onShowMore={onShowMore}\n        showMoreTitle={showMoreTitle}\n        onFilter={onFilter}\n        onChange={onChange}\n        value={value}\n        hideFilterChips={hideFilterChips}\n      />\n      {isLoading ? (\n        <ListLoader />\n      ) : (\n        <Table\n          canSelectAll={false}\n          aria-label={`${titlePlural} table`}\n          variant={isCompact ? TableVariant.compact : null}\n          borders={borders}\n          {...(isCollapsible && { onCollapse })}\n          {...(isSelectable &&\n            rows.length > 0 && {\n              onSelect: (_e, isSelected, _idx, { uuid, cells: [name] }) => setCheckedItems(selectedRows([{ uuid, name }], isSelected)),\n            })}\n          {...(isExpandable && { onExpand })}\n          rows={rows.length > 0 ? rows : [{ fullWidth: true, cells: [renderEmpty()] }]}\n          cells={columns}\n          {...(rows.length > 0 && { actionResolver })}\n          areActionsDisabled={areActionsDisabled}\n          rowWrapper={rowWrapper}\n          sortBy={sortByState}\n          ouiaId={ouiaId}\n          onSort={(e, index, direction) => {\n            setSortByState({ index, direction });\n            fetchData({\n              ...pagination,\n              offset: 0,\n              name: filterValue,\n              orderBy: `${direction === 'desc' ? '-' : ''}${columns[index - isSelectable].key}`,\n            });\n          }}\n        >\n          {!hideHeader && <TableHeader />}\n          <TableBody />\n        </Table>\n      )}\n      {!pagination.noBottom && (\n        <TableToolbar>\n          {!isLoading && <Pagination {...paginationBuilder(pagination, fetchData, filterValue)} variant=\"bottom\" dropDirection=\"up\" />}\n        </TableToolbar>\n      )}\n    </Fragment>\n  );\n\n  return (\n    <Fragment>\n      {routes()}\n      {!isLoading && rows.length === 0 && filterValue.length === 0 && filters.every(({ value }) => !value) ? (\n        <EmptyWithAction\n          title={`Configure ${titlePlural}`}\n          icon={PlusCircleIcon}\n          description={[`To configure user access to applications`, `create at least one ${titleSingular}`]}\n          actions={toolbarButtons()[0]}\n          {...emptyProps}\n        />\n      ) : (\n        renderTable()\n      )}\n    </Fragment>\n  );\n};\n\nTableToolbarView.propTypes = {\n  ...Toolbar.propTypes,\n  sortBy: propTypes.shape({\n    directions: propTypes.string,\n    index: propTypes.number,\n  }),\n  rowWrapper: propTypes.any,\n  isCompact: propTypes.bool,\n  borders: propTypes.bool,\n  checkedRows: propTypes.array,\n  createRows: propTypes.func.isRequired,\n  columns: propTypes.array.isRequired,\n  titlePlural: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  areActionsDisabled: propTypes.func,\n  pagination: propTypes.shape({\n    noBottom: propTypes.bool,\n  }),\n  isExpandable: propTypes.bool,\n  onExpand: propTypes.func,\n  hideFilterChips: propTypes.bool,\n  hideHeader: propTypes.bool,\n  noDataDescription: propTypes.arrayOf(propTypes.node),\n};\n\nTableToolbarView.defaultProps = {\n  ...Toolbar.defaultProps,\n  isCompact: false,\n  borders: true,\n  routes: () => null,\n  hideFilterChips: false,\n  checkedRows: [],\n  hideHeader: false,\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pf-l-toolbar.rbac-table__toolbar .pf-l-toolbar__item{min-width:5rem}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import * as ActionTypes from '../action-types';\nimport * as RoleHelper from '../../helpers/role/role-helper';\n\nexport const createRole = (roleData) => ({\n  type: ActionTypes.ADD_ROLE,\n  payload: RoleHelper.createRole(roleData),\n  meta: {\n    notifications: {\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not added successfuly.',\n      },\n    },\n  },\n});\n\nexport const fetchRole = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoles = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const fetchRolesWithPolicies = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRolesWithPolicies(options),\n});\n\nexport const removeRole = (role) => ({\n  type: ActionTypes.REMOVE_ROLE,\n  payload: RoleHelper.removeRole(role),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was removed successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed removing role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not removed successfuly.',\n      },\n    },\n  },\n});\n\nexport const fetchRoleForUser = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_USER,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoleForPrincipal = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_PRINCIPAL,\n  payload: RoleHelper.fetchRoleForPrincipal(apiProps),\n});\n\nexport const fetchRolesForWizard = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES_FOR_WIZARD,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const updateRole = (roleId, data, useCustomAccess) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.updateRole(roleId, data, useCustomAccess),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was updated successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed updating role',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The role was not updated successfuly.',\n      },\n    },\n  },\n});\n\nexport const removeRolePermissions = (role, permissionsToRemove) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.removeRolePermissions(role, permissionsToRemove),\n});\n","import debouncePromise from '@redhat-cloud-services/frontend-components-utilities/files/debounce';\n\nexport const scrollToTop = () =>\n  document.getElementById('root').scrollTo({\n    behavior: 'smooth',\n    top: 0,\n    left: 0,\n  });\n\nexport const getCurrentPage = (limit = 1, offset = 0) => Math.floor(offset / limit) + 1;\n\nexport const getNewPage = (page = 1, offset) => (page - 1) * offset;\n\nexport const mappedProps = (apiProps) =>\n  Object.entries(apiProps).reduce(\n    (acc, [key, value]) => ({\n      ...acc,\n      ...(value && { [key]: value }),\n    }),\n    {}\n  );\n\nexport const debouncedFetch = debouncePromise((callback) => callback());\n\nexport const calculateChecked = (rows = [], selected) => {\n  return (rows.length !== 0 && rows.every(({ uuid }) => selected.find((row) => row.uuid === uuid))) || (selected.length > 0 ? null : false);\n};\n\nexport const selectedRows = (newSelection, isSelected) => (selected) => {\n  if (!isSelected) {\n    return selected.filter((row) => !newSelection.find(({ uuid }) => uuid === row.uuid));\n  }\n\n  return [...selected, ...newSelection].filter((row, key, arr) => arr.findIndex(({ uuid }) => row.uuid === uuid) === key);\n};\n\nexport const firstUpperCase = (text) => text.charAt(0).toUpperCase() + text.slice(1);\n","/* eslint-disable no-unused-vars */\nimport axiosInstance from '@redhat-cloud-services/frontend-components-utilities/files/interceptors';\nimport { GroupApi, PrincipalApi, RoleApi, PolicyApi, AccessApi, PermissionApi } from '@redhat-cloud-services/rbac-client';\nimport { BaseAPI } from '@redhat-cloud-services/rbac-client/dist/base';\n\nimport { RBAC_API_BASE, COST_API_BASE } from '../../utilities/constants';\n\nconst principalApi = new PrincipalApi(undefined, RBAC_API_BASE, axiosInstance);\nconst groupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\nconst roleApi = new RoleApi(undefined, RBAC_API_BASE, axiosInstance);\nconst policyApi = new PolicyApi(undefined, RBAC_API_BASE, axiosInstance);\nconst accessApi = new AccessApi(undefined, RBAC_API_BASE, axiosInstance);\nconst permissionApi = new PermissionApi(undefined, RBAC_API_BASE, axiosInstance);\nconst costApi = new BaseAPI(undefined, COST_API_BASE, axiosInstance);\n\nexport function getPrincipalApi() {\n  return principalApi;\n}\n\nexport function getGroupApi() {\n  return groupApi;\n}\n\nexport function getRoleApi() {\n  return roleApi;\n}\n\nexport function getPolicyApi() {\n  return policyApi;\n}\n\nexport function getAccessApi() {\n  return accessApi;\n}\n\nexport function getPermissionApi() {\n  return permissionApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nexport function getCostApi() {\n  return {\n    getResourceTypes: () => costApi.axios.get(`${COST_API_BASE}/resource-types/`),\n    getResource: (path) => costApi.axios.get(`${path}`),\n  };\n}\n","export const RBAC_API_BASE = `/api/rbac/v1`;\nexport const COST_API_BASE = `/api/cost-management/v1`;\n","import { getRoleApi } from '../shared/user-login';\n\nconst roleApi = getRoleApi();\n\nexport async function createRole(data) {\n  return await roleApi.createRoles(data);\n}\n\nexport function fetchRoles({ limit, offset, name, nameMatch, scope, orderBy, addFields, username, application, permission, options }) {\n  return roleApi.listRoles(limit, offset, name, nameMatch, scope, orderBy, addFields, username, application, permission, options);\n}\n\nexport async function fetchRolesWithPolicies({\n  limit,\n  offset,\n  name,\n  nameMatch,\n  scope = 'account',\n  orderBy,\n  addFields = ['groups_in_count'],\n  username,\n  options,\n  permission,\n  application,\n}) {\n  return {\n    ...(await roleApi.listRoles(limit, offset, name, nameMatch, scope, orderBy, addFields, username, application, permission, options)),\n    ...(await insights.chrome.auth.getUser()),\n  };\n}\n\nexport async function fetchRole(uuid) {\n  return await roleApi.getRole(uuid);\n}\n\nexport async function fetchRoleForPrincipal(uuid) {\n  return await roleApi.getRole(uuid, 'principal');\n}\n\nexport async function removeRole(roleId) {\n  return await roleApi.deleteRole(roleId);\n}\n\nexport const updateRole = async (roleId, data, useCustomAccess) => {\n  const { data: access } = await roleApi.getRoleAccess(roleId);\n  return roleApi.updateRole(roleId, useCustomAccess ? { ...data, access } : data);\n};\n\nexport const removeRolePermissions = async (role, permissionsToRemove) => {\n  const { data: access } = await roleApi.getRoleAccess(role.uuid);\n  const newRole = { ...role, access: access.filter((item) => !permissionsToRemove.includes(item.permission)) };\n  return roleApi.updateRole(role.uuid, { ...newRole });\n};\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js!./table-toolbar-view.scss\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ResourceDefinitionsLink = ({ onClick, access }) => {\n  return access.resourceDefinitions.length === 0 ? (\n    <span>N/A</span>\n  ) : (\n    <a\n      onClick={() => {\n        onClick();\n        return false;\n      }}\n    >\n      {access.resourceDefinitions.length}\n    </a>\n  );\n};\n\nResourceDefinitionsLink.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  access: PropTypes.shape({ resourceDefinitions: PropTypes.array.isRequired }).isRequired,\n};\n\nexport default ResourceDefinitionsLink;\n","import { Button, Modal } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { defaultSettings } from '../../helpers/shared/pagination';\n\nconst ResourceDefinitionsModal = ({ isOpen, handleClose, permission, resourceDefinitions }) => {\n  const columns = [''];\n  const [{ rows, pagination, filterValue }, setRows] = useState(() => ({\n    filterValue: '',\n    rows: resourceDefinitions.map(({ attributeFilter: { value } }) => value).slice(0, defaultSettings.limit),\n    pagination: {\n      ...defaultSettings,\n      count: resourceDefinitions.length,\n    },\n  }));\n\n  const handleFilterValue = ({ name = '', limit, offset }, isFilter = false) =>\n    setRows(({ pagination, filterValue }) => {\n      const rows = resourceDefinitions\n        .map(({ attributeFilter: { value } }) => value)\n        .filter((value) => value.includes(name))\n        .slice(offset, limit);\n      return {\n        rows,\n        filterValue: isFilter ? name : filterValue,\n        pagination: {\n          ...pagination,\n          offset: isFilter ? 0 : offset,\n          limit,\n          count: rows.length,\n        },\n      };\n    });\n\n  return (\n    <Modal\n      actions={[\n        <Button key=\"close-action\" variant=\"primary\" onClick={handleClose}>\n          Close\n        </Button>,\n      ]}\n      variant=\"large\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      title=\"Resource definitions\"\n      description={\n        <p>\n          View resource definitions for the <strong>{permission}</strong> permission\n        </p>\n      }\n    >\n      <TableToolbarView\n        columns={columns}\n        data={rows}\n        filterValue={filterValue}\n        setFilterValue={(config) => handleFilterValue(config, true)}\n        pagination={pagination}\n        ouiaId=\"resource-definition-table\"\n        noData={resourceDefinitions.length === 0}\n        createRows={(data) => data.map((value) => ({ cells: [value] }))}\n        titlePlural=\"Resource definitions\"\n        titleSingular=\"Resource definition\"\n        noDataDescription={[`There are no resource definitions for ${permission} permission`]}\n        fetchData={handleFilterValue}\n      />\n    </Modal>\n  );\n};\n\nResourceDefinitionsModal.propTypes = {\n  isOpen: PropTypes.bool,\n  handleClose: PropTypes.func.isRequired,\n  permission: PropTypes.string.isRequired,\n  resourceDefinitions: PropTypes.arrayOf(\n    PropTypes.shape({\n      attributeFilter: PropTypes.shape({\n        value: PropTypes.string.isRequired,\n      }).isRequired,\n    })\n  ).isRequired,\n};\n\nexport default ResourceDefinitionsModal;\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OrgAdminContext from '../../utilities/org-admin-context';\nimport MUAAccessTable from './MUAAccessTable';\nimport MUARolesTable from './MUARolesTable';\n\nexport const createFilter = ({ apps, isOrgAdmin, name = '', application = [], permission = '' }) => [\n  {\n    key: 'application',\n    value: application,\n    placeholder: 'Filter by application',\n    type: 'checkbox',\n    items: apps.map((app) => ({ label: app, value: app })),\n  },\n  ...(isOrgAdmin\n    ? [\n        {\n          key: 'name',\n          type: 'text',\n          value: name,\n        },\n        {\n          key: 'permission',\n          value: permission,\n          placeholder: 'Filter by permission',\n          type: 'text',\n        },\n      ]\n    : []),\n];\n\nconst CommonBundleView = ({ apps }) => {\n  const isOrgAdmin = useContext(OrgAdminContext);\n  const [name, setName] = useState('');\n  const [permission, setPermission] = useState('');\n  const [application, setApplication] = useState([]);\n  const handleSetFilters = ({ name, application, permission }) => {\n    if (typeof name === 'string') {\n      setName(name);\n    }\n\n    if (typeof permission === 'string') {\n      setPermission(permission);\n    }\n\n    if (application) {\n      setApplication(typeof application === 'string' ? [] : application);\n    }\n  };\n\n  const filters = createFilter({ apps, isOrgAdmin, name, application, permission });\n  return isOrgAdmin ? (\n    <MUARolesTable setFilters={handleSetFilters} filters={filters} apps={apps} />\n  ) : (\n    <MUAAccessTable setFilters={handleSetFilters} filters={filters} apps={apps} hasActiveFilters={name.length > 0 || application.length > 0} />\n  );\n};\n\nCommonBundleView.propTypes = {\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default CommonBundleView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CommonBundleView from '../CommonBundleView';\n\nconst InsightsBundle = ({ apps }) => <CommonBundleView apps={apps} />;\n\nInsightsBundle.propTypes = {\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default InsightsBundle;\n","import React, { Fragment, useCallback, useEffect, useState, lazy, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nimport debounce from 'lodash/debounce';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { fetchRoles, fetchRoleForPrincipal } from '../../redux/actions/role-actions';\nimport { ListLoader } from '../../presentational-components/shared/loader-placeholders';\n\nconst ResourceDefinitionsModal = lazy(() => import('./ResourceDefinitionsModal'));\n\nimport { Table, TableHeader, TableBody, TableVariant, compoundExpand, cellWidth, sortable } from '@patternfly/react-table';\nimport ResourceDefinitionsLink from '../../presentational-components/myUserAccess/ResourceDefinitionsLink';\n\nconst columns = [\n  {\n    title: 'Roles',\n    key: 'display_name',\n    transforms: [sortable],\n  },\n  'Description',\n  {\n    title: 'Permissions',\n    cellTransforms: [compoundExpand, cellWidth(20)],\n  },\n];\n\nconst MUARolesTable = ({\n  fetchRoles,\n  fetchRoleForPrincipal,\n  roles,\n  isLoading,\n  rolesWithAccess,\n  filters,\n  setFilters,\n  apps,\n  showResourceDefinitions,\n}) => {\n  const [expanded, setExpanded] = useState({});\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n\n  useEffect(() => {\n    fetchRoles({ limit: 20, offset: 0, orderBy: 'display_name', scope: 'principal', application: apps.join(',') });\n  }, []);\n\n  const createRows = (data) => {\n    return data?.reduce(\n      (acc, { uuid, display_name, name, description, accessCount }, i) => [\n        ...acc,\n        {\n          uuid,\n          cells: [\n            { title: display_name || name, props: { component: 'th', isOpen: false } },\n            { title: description, props: { isOpen: false } },\n            { title: accessCount, props: { isOpen: expanded[uuid] === 2 } },\n          ],\n        },\n        {\n          uuid: `${uuid}-groups`,\n          parent: 2 * i,\n          compoundParent: 2,\n          cells: [\n            {\n              props: { colSpan: 4, className: 'pf-m-no-padding' },\n              title: rolesWithAccess?.[uuid] ? (\n                <Table\n                  ouiaId=\"permissions-in-role-nested-table\"\n                  aria-label=\"Simple Table\"\n                  borders={false}\n                  variant={TableVariant.compact}\n                  cells={['Application', 'Resource type', 'Operation', ...(showResourceDefinitions ? ['Resource definitions'] : [])]}\n                  rows={rolesWithAccess[uuid].access.map((access) => ({\n                    cells: [\n                      ...access.permission.split(':'),\n                      ...(showResourceDefinitions\n                        ? [\n                            <Fragment key=\"rd\">\n                              <ResourceDefinitionsLink\n                                onClick={() =>\n                                  setRdConfig({\n                                    rdOpen: true,\n                                    rdPermission: access.permission,\n                                    resourceDefinitions: access.resourceDefinitions,\n                                  })\n                                }\n                                access={access}\n                              />\n                            </Fragment>,\n                          ]\n                        : []),\n                    ],\n                  }))}\n                >\n                  <TableHeader />\n                  <TableBody />\n                </Table>\n              ) : (\n                <ListLoader />\n              ),\n            },\n          ],\n        },\n      ],\n      []\n    );\n  };\n\n  let debouncedFetch = useCallback(\n    debounce((limit, offset, name, application, permission, orderBy) => {\n      const applicationParam = application?.length > 0 ? application : apps;\n      return fetchRoles({ limit, offset, scope: 'principal', orderBy, name, application: applicationParam.join(','), permission });\n    }, 800),\n    []\n  );\n\n  const onExpand = (_event, _rowIndex, colIndex, isOpen, rowData) => {\n    if (!isOpen) {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: colIndex }));\n      // Permissions\n      if (colIndex === 2) {\n        fetchRoleForPrincipal(rowData.uuid);\n      }\n    } else {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: -1 }));\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        filters={filters}\n        columns={columns}\n        isCompact={false}\n        isExpandable={true}\n        onExpand={onExpand}\n        createRows={createRows}\n        ouiaId=\"roles-table\"\n        data={roles.data}\n        fetchData={({ limit, offset, name, application, permission, orderBy = 'display_name' }) => {\n          debouncedFetch(limit, offset, name, application, permission, orderBy);\n        }}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={roles.meta}\n        filterPlaceholder=\"role name\"\n        titlePlural=\"roles\"\n        titleSingular=\"role\"\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUARolesTable.propTypes = {\n  fetchRoles: PropTypes.func,\n  fetchRoleForPrincipal: PropTypes.func,\n  fetchUsers: PropTypes.func,\n  roles: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rolesWithAccess: PropTypes.object,\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nconst mapStateToProps = ({ roleReducer: { roles, isLoading, rolesWithAccess } }) => ({\n  roles,\n  isLoading,\n  rolesWithAccess,\n});\nconst mapDispatchToProps = (dispatch) => ({\n  fetchRoles: (apiProps) => dispatch(fetchRoles(apiProps)),\n  fetchRoleForPrincipal: (uuid) => dispatch(fetchRoleForPrincipal(uuid)),\n});\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(MUARolesTable));\n","import { getAccessApi } from '../shared/user-login';\n\nconst accessApi = getAccessApi();\n\nexport async function getPrincipalAccess({ limit, offset, username, application = '' }) {\n  return await accessApi.getPrincipalAccess(application, username, limit, offset);\n}\n","import * as ActionTypes from '../action-types';\nimport * as AccessHelper from '../../helpers/access/access-helper';\n\nexport const getPrincipalAccess = (apiProps) => ({\n  type: ActionTypes.GET_PRINCIPAL_ACCESS,\n  payload: AccessHelper.getPrincipalAccess(apiProps),\n});\n","import React, { Fragment, Suspense, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { getPrincipalAccess } from '../../redux/actions/access-actions';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { createRows } from './mua-table-helpers';\nimport ResourceDefinitionsModal from './ResourceDefinitionsModal';\n\nconst MUAAccessTable = ({ filters, setFilters, apps, hasActiveFilters, showResourceDefinitions }) => {\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n  const { current: columns } = useRef([\n    { title: 'Application' },\n    { title: 'Resource type' },\n    { title: 'Operation' },\n    ...(showResourceDefinitions ? [{ title: 'Resource definitions' }] : []),\n  ]);\n\n  const dispatch = useDispatch();\n  const { permissions, isLoading } = useSelector(\n    (state) => ({\n      permissions: state.accessReducer.access,\n      isLoading: state.accessReducer.isLoading,\n    }),\n    shallowEqual\n  );\n\n  const fetchData = ({ application, ...apiProps }) => {\n    const applicationParam = application?.length > 0 ? application : apps;\n    dispatch(getPrincipalAccess({ application: applicationParam.join(','), ...apiProps }));\n  };\n\n  const handleRdClick = (index) =>\n    setRdConfig({\n      rdOpen: true,\n      rdPermission: permissions.data[index].permission,\n      resourceDefinitions: permissions.data[index].resourceDefinitions,\n    });\n\n  useEffect(() => {\n    fetchData(defaultSettings);\n  }, []);\n\n  const filteredRows = permissions?.data || [];\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        columns={columns}\n        createRows={(data) => createRows(data, showResourceDefinitions, handleRdClick)}\n        data={filteredRows}\n        fetchData={fetchData}\n        filters={filters}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={permissions?.meta}\n        ouiaId=\"permissions-table\"\n        titlePlural=\"permissions\"\n        titleSingular=\"permission\"\n        noData={!isLoading && !hasActiveFilters && filteredRows.length === 0}\n        noDataDescription={['You do not have individual permissions for Red Hat Insights.', 'Contact your Org. Administrator for more information.']}\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUAAccessTable.propTypes = {\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasActiveFilters: PropTypes.bool,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nexport default MUAAccessTable;\n","import React, { Fragment } from 'react';\nimport ResourceDefinitionsLink from '../../presentational-components/myUserAccess/ResourceDefinitionsLink';\n\nexport const createRows = (data, showResourceDefinitions, onRdClick) =>\n  data.reduce((acc, { permission, ...access }, index) => {\n    const [appName, type, operation] = permission.split(':');\n    return [\n      ...acc,\n      {\n        cells: [\n          appName,\n          type,\n          operation,\n          ...(showResourceDefinitions\n            ? [\n                <Fragment key=\"rd\">\n                  <ResourceDefinitionsLink onClick={() => onRdClick(index)} access={access} />\n                </Fragment>,\n              ]\n            : []),\n        ],\n      },\n    ];\n  }, []);\n","export { default } from './insights';\n"],"sourceRoot":""}