(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{757:function(e,t,n){"use strict";var a=n(0),s=Object(a.createContext)(!1);t.a=s},802:function(e,t,n){(t=n(4)(!1)).push([e.i,".page__myUserAccess .pf-c-page-header{box-shadow:var(--pf-global--BoxShadow--md);position:relative}.page__myUserAccess .pf-c-page-header .ins-p-myUserAccess--subtitle span{display:block}.page__myUserAccess .pf-c-page-header .pf-c-title{display:flex;align-items:center}.page__myUserAccess .pf-c-page-header .pf-c-title .pf-c-label{margin-left:var(--pf-global--spacer--md)}.page__myUserAccess .ins-l-myUserAccess-split{display:grid;grid-template-columns:1fr 2fr;column-gap:24px;background:white}.page__myUserAccess .ins-l-myUserAccess-split .ins-l-myUserAccess-section .pf-c-title{margin-top:15px}.page__myUserAccess .ins-l-myUserAccess-split .ins-l-myUserAccess-section:first-of-type{border-right:1px solid var(--pf-global--BorderColor--100)}.page__myUserAccess .ins-l-myUserAccess-section{height:calc(100vh - 111px - 76px);overflow-x:auto}.page__myUserAccess .ins-l-myUserAccess-section .pf-c-title{margin-bottom:var(--pf-global--spacer--md)}\n",""]),e.exports=t},803:function(e,t,n){(t=n(4)(!1)).push([e.i,".ins-c-mua-bundles__card--header{font-weight:300}.ins-c-mua-bundles__card--body{color:var(--pf-global--Color--200)}.ins-c-mua-bundles__card--applist{display:flex;flex-direction:column;color:var(--pf-global--Color--400)}.ins-c-mua-bundles__card--applist span{text-transform:capitalize;width:max-content}.ins-c-mua-bundles__card--applist span+span{margin-top:var(--pf-global--spacer--sm)}.ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist{display:grid;grid-template-columns:auto auto;gap:var(--pf-global--spacer--sm)}.ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist span{margin-top:0}.ins-c-mua-bundles__card--disabled{background:var(--pf-global--disabled-color--300);cursor:not-allowed}.ins-c-mua-bundles__card+.ins-c-mua-bundles__card{margin-top:var(--pf-global--spacer--md)}.ins-l-myUserAccess-section__cards--unentitled .pf-c-title{border-top:1px solid var(--pf-global--BorderColor--100);padding-top:var(--pf-global--spacer--md)}.ins-c-mua-bundles__cardlink{color:inherit}.ins-c-mua-bundles__cardlink:hover{text-decoration:none}\n",""]),e.exports=t},920:function(e,t,n){var a=n(5),s=n(802);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1},i=a(s,r);if(!s.locals||e.hot.invalidate){var c=s.locals;e.hot.accept(802,(function(){"string"==typeof(s=(s=n(802)).__esModule?s.default:s)&&(s=[[e.i,s,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,s.locals)?(c=s.locals,i(s)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=s.locals||{}},921:function(e,t,n){var a=n(5),s=n(803);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var r={insert:"head",singleton:!1},i=a(s,r);if(!s.locals||e.hot.invalidate){var c=s.locals;e.hot.accept(803,(function(){"string"==typeof(s=(s=n(803)).__esModule?s.default:s)&&(s=[[e.i,s,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(c,s.locals)?(c=s.locals,i(s)):e.hot.invalidate()}))}e.hot.dispose((function(){i()})),e.exports=s.locals||{}},922:function(e,t,n){var a={"./MUABundles":[804,7,4],"./MUABundles.scss":[804,7,4],"./__mocks__/insights":[829,9,11],"./__mocks__/insights.js":[829,9,11],"./ansible":[830,9,0,1,2,3,6],"./ansible.js":[830,9,0,1,2,3,6],"./cost_management":[831,9,0,1,2,3,9],"./cost_management.js":[831,9,0,1,2,3,9],"./insights":[736,9,0,1,2,3,10],"./insights.js":[736,9,0,1,2,3,10],"./migrations":[832,9,0,1,2,3,7],"./migrations.js":[832,9,0,1,2,3,7],"./openshift":[833,9,0,4,12],"./openshift.js":[833,9,0,4,12],"./subscriptions":[834,9,0,1,2,3,8],"./subscriptions.js":[834,9,0,1,2,3,8]};function s(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],s=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(s,t[1])}))}s.keys=function(){return Object.keys(a)},s.id=922,e.exports=s},925:function(e,t,n){"use strict";n.r(t);var a=n(713),s=n.n(a),r=n(0),i=n.n(r),c=n(171),l=n(421),o=n(422),p=n(706),u=n(31),m=n.n(u),d=n(672),f=n(77),b=function(e){var t=e.isOrgAdmin;return i.a.createElement(i.a.Fragment,null,t?i.a.createElement(f.Tooltip,{position:f.TooltipPosition.right,content:i.a.createElement("span",null," You can manage other users' permissions with 'User access' ")},i.a.createElement(d.Label,{color:"purple"}," Org. Administrator ")):i.a.createElement(d.Label,{color:"purple"}," User "))};b.propTypes={isOrgAdmin:m.a.bool};var g=b,h=(n(920),n(659)),y=n(660),_=n(161),v=n(158),O=n(89),E=n.n(O),j=n(123),A=n(428),U=n(705),w=n(438),x=[{entitlement:"insights",title:"Red Hat Insights",apps:{dashboard:"/dashboard",patch:"/patch",advisor:"/advisor",drift:"/drift",vulnerability:"/vulnerability",policies:"/policies",compliance:"/compliance"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance"]},{entitlement:"openshift",title:"Red Hat Openshift Cluster Manager",apps:{"cluster manager":"/"}},{entitlement:"ansible",title:"Red Hat Ansible Automation Platform",apps:{"automation analytics":"/automation-analytics","automation hub":"/automation-hub","automation services catalog":"/catalog"},appsIds:["catalog","approval","automation-analytics","automation-hub"]},{entitlement:"cost_management",title:"Cost Management",apps:{"cost management":"/"},appsIds:["cost-management"]},{entitlement:"migrations",title:"Migration Services",apps:{"migration analytics":"/migration-analytics"},appsIds:["migration-analytics"]},{entitlement:"subscriptions",title:"Subscription Watch",apps:{"Red Hat Enterprise Linux":"/rhel-sw","Red Hat OpenShift":"/openshift-sw"},appsIds:["subscriptions"]}],P=n(12),k=n.n(P),S=n(39);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(){for(var e=Object(S.h)(),t=e.search,n=new URLSearchParams(t),a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return s.reduce((function(e,t){return C(C({},e),{},k()({},t,n.get(t)))}),{})},T=function(e){var t=e.header,n=e.entitlements,a=e.isDisabled,r=D("bundle").bundle;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.Title,{headingLevel:"h3",size:"xl"},t),i.a.createElement(h.Stack,{hasGutter:!0},n&&(null==n?void 0:n.map((function(e){var t=s()(e,1)[0],n=x.find((function(e){return e.entitlement===t}));return n?i.a.createElement(y.StackItem,{key:t},i.a.createElement(v.c,{className:"ins-c-mua-bundles__cardlink",to:{pathname:j.a["my-user-access"],search:"bundle=".concat(t)}},i.a.createElement(A.Card,{key:n.title,isFlat:a||t!==r,isSelectable:!a,isSelected:!a&&t===r,className:E()("ins-c-mua-bundles__card","ins-c-mua-bundles__card--".concat(n.entitlement),{"ins-c-mua-bundles__card--disabled":a})},i.a.createElement(U.CardTitle,{className:"ins-c-mua-bundles__card--header"}," ",n.title),i.a.createElement(w.CardBody,null,i.a.createElement(h.Stack,{hasGutter:!0},i.a.createElement(y.StackItem,{className:"ins-c-mua-bundles__card--applist"},Object.entries(n.apps||{}).map((function(e){var t=s()(e,1)[0];return i.a.createElement("span",{key:t}," ",t," ")})))))))):null})))))};T.propTypes={header:m.a.string,entitlements:m.a.array,isDisabled:m.a.bool};var I=T,M=(n(921),function(e){var t,n=Object(S.g)(),a=n.push,s=n.location.pathname;return"string"!=typeof e||0===e.length?(a({to:s,search:"bundle=".concat(x[0].entitlement)}),[]):((null===(t=x.find((function(t){return t.entitlement===e})))||void 0===t?void 0:t.appsIds)||[]).sort((function(e,t){return e.localeCompare(t,"en-US")}))});function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){return r.Fragment},R=function(){var e=D("bundle").bundle,t=M(e),a=Object(r.useState)({}),c=s()(a,2),l=c[0],o=c[1];Object(r.useEffect)((function(){Object.prototype.hasOwnProperty.call(l,e)||n(922)("./".concat(e)).then((function(t){return o((function(n){return H(H({},n),{},k()({},e,t.default))}))})).catch(console.log)}),[e]);var p=l[e]||L;return i.a.createElement(p,{key:e,apps:t})},B=n(757),z=function(e){var t=e.entitlements,n=e.isOrgAdmin,a=Object.entries(t).filter((function(e){return s()(e,2)[1].is_entitled})),r=Object.entries(t).filter((function(e){return!s()(e,2)[1].is_entitled}));return i.a.createElement(B.a.Provider,{value:n},i.a.createElement("section",{className:"ins-l-myUserAccess-section ins-l-myUserAccess-section__cards"},i.a.createElement(h.Stack,{hasGutter:!0,className:"pf-u-pr-lg pf-u-pl-lg"},i.a.createElement(y.StackItem,{className:"ins-l-myUserAccess-section__cards--entitled"},i.a.createElement(I,{header:"Your organization's subscriptions",entitlements:a})),r.length>0&&i.a.createElement(y.StackItem,{className:"ins-l-myUserAccess-section__cards--unentitled"},i.a.createElement(I,{header:"Not subscribed",entitlements:r,isDisabled:!0})))),i.a.createElement("section",{className:"ins-l-myUserAccess-section ins-l-myUserAccess-section__table"},i.a.createElement(_.Title,{headingLevel:"h3",size:"xl"},"Your ",n?"roles":"permissions"),i.a.createElement(R,null)))};z.propTypes={entitlements:m.a.object,isOrgAdmin:m.a.bool};var G=z;t.default=function(){var e=Object(r.useState)({}),t=s()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){insights.chrome.auth.getUser().then((function(e){var t,n=e.identity,s=e.entitlements;return a({entitlements:s,isOrgAdmin:null==n||null===(t=n.user)||void 0===t?void 0:t.is_org_admin})}))}),[]),i.a.createElement(i.a.Fragment,null,Object.prototype.hasOwnProperty.call(n,"entitlements")&&Object.prototype.hasOwnProperty.call(n,"isOrgAdmin")?i.a.createElement(i.a.Fragment,null,i.a.createElement(c.PageHeader,null,i.a.createElement(o.TextContent,null,i.a.createElement(c.PageHeaderTitle,{title:i.a.createElement(i.a.Fragment,null,i.a.createElement("span",null," My User Access "),i.a.createElement(g,{isOrgAdmin:n.isOrgAdmin}))}),i.a.createElement(l.Text,{component:"p",className:"ins-p-myUserAccess--subtitle"},i.a.createElement("span",null,"Understand your Red Hat access by exploring your organization's entitlements and your individual user roles.")))),i.a.createElement("section",{className:"ins-l-myUserAccess-split"},i.a.createElement(G,{entitlements:n.entitlements,isOrgAdmin:n.isOrgAdmin}))):i.a.createElement(p.Spinner,null))}}}]);
//# sourceMappingURL=19.js.map