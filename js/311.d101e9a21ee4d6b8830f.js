"use strict";(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[311],{89168:(e,t,n)=>{n.d(t,{bt:()=>d,yi:()=>f,mD:()=>b,Rp:()=>h,gg:()=>E,m:()=>Z,C$:()=>P,nV:()=>T,HA:()=>S,Wj:()=>x,V8:()=>C});var r=n(4942),i=n(29439),o=n(15861),a=n(87757),s=n.n(a),c=n(61338);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(0,n(89400).tP)();function d(e){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)(s().mark((function e(t){var n,r,o,a,l,d,m,f,v,b,y,h,g,E,O,Z,w,P,j,T,R;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,o=t.offset,a=t.nameMatch,l=t.scope,d=t.username,m=t.filters,f=void 0===m?{}:m,v=t.uuid,b=t.roleNames,y=t.roleDiscriminator,h=t.orderBy,g=t.options,E=t.inModal,O=void 0===E||E,e.next=3,Promise.all([p.listGroups(r,o,f.name,a,l,d,v,b,y,h,g),insights.chrome.auth.getUser()]);case 3:if(Z=e.sent,w=(0,i.Z)(Z,2),P=w[0],j=w[1],T=(0,c._V)(o,null==P||null===(n=P.meta)||void 0===n?void 0:n.count),o=T?o:(0,c.Vh)(P.meta.count,r),!T){e.next=13;break}e.t0=P,e.next=16;break;case 13:return e.next=15,p.listGroups(r,o,f.name,a,l,d,v,b,y,h,g);case 15:e.t0=e.sent;case 16:return R=e.t0,e.abrupt("return",u(u(u({},R),O?{}:{filters:f,pagination:u(u({},null==R?void 0:R.meta),{},{offset:o,limit:r,redirected:!T})}),j));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getGroup(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.updateGroup(t.uuid,t);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(s().mark((function e(t){var n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.createGroup(t);case 2:return n=e.sent,r=n,t.user_list&&t.user_list.length>0&&(r=p.addPrincipalToGroup(n.uuid,{principals:t.user_list})),t.roles_list&&t.roles_list.length>0&&(r=p.addRoleToGroup(n.uuid,{roles:t.roles_list})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){return O.apply(this,arguments)}function O(){return(O=(0,o.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return p.deleteGroup(e)})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deletePrincipalFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t){return j.apply(this,arguments)}function j(){return(j=(0,o.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.addPrincipalToGroup(t,{principals:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return R.apply(this,arguments)}function R(){return(R=(0,o.Z)(s().mark((function e(t,n,r){var i,o,a,c,l,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.limit,o=r.offset,a=r.name,c=r.description,l=u.length>3&&void 0!==u[3]?u[3]:{},e.next=4,p.listRolesForGroup(t,n,void 0,a,c,void 0,i,o,"display_name",l);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.deleteRoleFromGroup(t,n.join(","));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return D.apply(this,arguments)}function D(){return(D=(0,o.Z)(s().mark((function e(t,n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.addRoleToGroup(t,{roles:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e,t){return I.apply(this,arguments)}function I(){return(I=(0,o.Z)(s().mark((function e(t,n){var r,i=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]?i[2]:{},e.next=3,p.getPrincipalsFromGroup(t,n,r.limit,r.offset,r.orderBy);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},67115:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(92950);const i=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},1227:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(29439),i=n(92950),o=n.n(i),a=n(45697),s=n.n(a),c=n(69957),l=n(97066),u=function(e){var t=e.title,n=e.text,a=e.onClose,s=e.onSubmit,u=e.isOpen,p=e.confirmButtonLabel,d=e.withCheckbox,m=(0,i.useState)(!1),f=(0,r.Z)(m,2),v=f[0],b=f[1];return o().createElement(l.Modal,{className:"rbac",title:o().createElement("div",null,o().createElement(c.ZP,{className:"ins-m-alert rbac-c__delete-icon"})," ",t),isOpen:u,variant:l.ModalVariant.small,onClose:a,actions:[o().createElement(l.Button,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:d&&!v,variant:"danger",onClick:s},p),o().createElement(l.Button,{key:"cancel",ouiaId:"secondary-cancel-button",variant:"link",onClick:a},"Cancel")]},o().createElement(l.Split,{hasGutter:!0},o().createElement(l.SplitItem,{isFilled:!0},o().createElement(l.Stack,{hasGutter:!0},o().createElement(l.TextContent,null,n)))),d?o().createElement(l.Checkbox,{isChecked:v,onChange:function(){return b(!v)},label:"I understand, and I want to continue.",id:"remove-modal-check",className:"pf-u-mt-lg"}):null)};u.propTypes={text:s().any,title:s().string,confirmButtonLabel:s().string,onSubmit:s().func,onClose:s().func,isOpen:s().bool,withCheckbox:s().bool},u.defaultProps={withCheckbox:!1};const p=u},29215:(e,t,n)=>{n.d(t,{R:()=>m,A:()=>d});var r=n(36580),i=n(15861),o=n(87757),a=n.n(o),s=(0,n(89400).i$)();function c(e){return l.apply(this,arguments)}function l(){return(l=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getResourceTypes(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return(p=(0,i.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.getResource(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){return{type:r.s6,payload:c(e)}},m=function(e){return{type:r.ZX,payload:u(e)}}},19756:(e,t,n)=>{n.d(t,{bt:()=>s,WD:()=>c,yi:()=>l,Rp:()=>u,mD:()=>p,gg:()=>d,dy:()=>m,tz:()=>f,nV:()=>v,nd:()=>b,nr:()=>y,Wj:()=>h,W3:()=>g});var r=n(36580),i=n(89168),o=n(11107),a=function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"group uuid validation"===n.source)return{error:o.VG};throw e},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r.eb,payload:i.bt(e)}},c=function(e){return{type:r.kL,payload:i.bt({limit:1,filters:{name:(null==e?void 0:e.length)>0?e:"default"},nameMatch:"partial"})}},l=function(e){return{type:r._h,payload:i.yi(e).catch(a)}},u=function(e){return{type:r.Po,payload:i.Rp(e).catch((function(e){var t,n=(null==e||null===(t=e.errors)||void 0===t?void 0:t[0])||{};if("400"===n.status&&"name"===n.source)return{error:!0};throw{message:n.detail,description:n.source}}))}},p=function(e){return{type:r.t3,payload:i.mD(e),meta:{notifications:{fulfilled:{variant:"success",title:"Success updating group",dismissDelay:8e3,dismissable:!1,description:"The group was updated successfully."},rejected:{variant:"danger",title:"Failed updating group",dismissDelay:8e3,dismissable:!1,description:"The group was not updated successfuly."}}}}},d=function(e){return{type:r.v9,payload:i.gg(e),meta:{notifications:{fulfilled:{variant:"success",dismissDelay:8e3,dismissable:!1,title:e.length>1?"Groups deleted successfully":"Group deleted successfully"},rejected:{variant:"danger",dismissDelay:8e3,dismissable:!1,title:e.length>1?"There was an error deleting the groups. Please try again.":"There was an error deleting the group. Please try again."}}}}},m=function(e,t){return{type:r.Nr,payload:i.C$(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding members to group",dismissDelay:8e3,dismissable:!1,description:"The members were not added successfully."}}}}},f=function(e,t){return{type:r.b9,payload:i.m(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing members from group",dismissDelay:8e3,dismissable:!1,description:"The members were not removed successfully."}}}}},v=function(e,t,n){return{type:r.XS,payload:i.nV(e,!1,t,n).catch(a)}},b=function(e,t,n){return{type:r.Vh,payload:i.V8(e,t,n).catch(a)}},y=function(e,t,n){return{type:r.as,payload:i.nV(e,!0,t,n).catch(a)}},h=function(e,t){return{type:r.fG,payload:i.Wj(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully added to the group."},rejected:{variant:"danger",title:"Failed adding roles to group",dismissDelay:8e3,dismissable:!1,description:"The roles were not added successfully."}}}}},g=function(e,t){return{type:r.Yc,payload:i.HA(e,t),meta:{notifications:{fulfilled:{variant:"success",title:"Success removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were successfully removed from the group."},rejected:{variant:"danger",title:"Failed removing roles from group",dismissDelay:8e3,dismissable:!1,description:"The roles were not removed successfully."}}}}}},40483:(e,t,n)=>{n.d(t,{Z:()=>w});var r=n(4942),i=n(45987),o=n(87462),a=n(92950),s=n.n(a),c=n(45697),l=n.n(c),u=n(76429),p=n(67850),d=n(48880),m=n(74219),f=n(57820),v=n(16396),b=n(4853),y=["ModalProps","saveLabel","cancelLabel","alert"];function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var g="modal-form",E=function(e){return s().createElement(b.l,(0,o.Z)({},e,{id:g}))},O=function(e){var t=e.saveLabel,n=e.cancelLabel,r=(0,d.default)().onCancel;return s().createElement(u.Z,null,(function(e){var i=e.pristine,o=e.invalid,a=e.validating,c=e.submitting;return s().createElement("div",{className:"pf-c-form"},s().createElement(f.W,{className:"pf-u-mt-0"},s().createElement(v.Button,{ouiaId:"primary-save-button",variant:"primary",form:g,type:"submit",isDisabled:i||a||c||o},t),s().createElement(v.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:r,id:"cancel-modal"},n)))}))};O.propTypes={saveLabel:l().node,cancelLabel:l().node},O.defaultProps={saveLabel:"Save",cancelLabel:"Cancel"};var Z=function(e){var t=e.ModalProps,n=e.saveLabel,r=e.cancelLabel,a=e.alert,c=(0,i.Z)(e,y);return s().createElement(m.Modal,(0,o.Z)({},t,{footer:s().createElement(O,{saveLabel:n,cancelLabel:r})}),null==a?void 0:a(),s().createElement(p.ZP,(0,o.Z)({},c,{showFormControls:!1,FormWrapper:E})))};Z.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ModalProps:l().object},O.propTypes);const w=Z},36457:(e,t,n)=>{n.d(t,{Z:()=>x});var r=n(87462),i=n(4942),o=n(45987),a=n(92950),s=n.n(a),c=n(45697),l=n.n(c),u=n(93433),p=n(97066),d=["input","options","isReadOnly","isDisabled","isRequired"],m=["label","isRequired","helperText","meta","description","hideLabel"],f=function(e){var t=e.input,n=e.options,i=e.isReadOnly,a=e.isDisabled,c=e.isRequired,l=(0,o.Z)(e,d);return s().createElement(p.FormSelect,(0,r.Z)({},t,l,{isDisabled:a||i}),function(e,t,n){if(t&&n)return e;var r=(0,u.Z)(e);return r.find((function(e){return void 0===e.value}))?(0,u.Z)(r):[{label:n?"Please choose":"None"}].concat((0,u.Z)(r))}(n,t.value,c).map((function(e){return s().createElement(p.FormSelectOption,(0,r.Z)({key:e.value||e.label},e,{label:e.label.toString()}))})))};f.propTypes={input:l().object.isRequired,options:l().arrayOf(l().shape({value:l().any,label:l().string.isRequired})).isRequired,isReadOnly:l().bool,isDisabled:l().bool,isRequired:l().bool,FieldProvider:l().any};var v=function(e){var t=e.label,n=e.isRequired,i=e.helperText,a=e.meta,c=e.description,l=e.hideLabel,u=(0,o.Z)(e,m),d=a.error,v=a.touched&&d;return s().createElement(p.FormGroup,{isRequired:n,label:!l&&t,fieldId:u.id,isValid:!v,helperText:i,helperTextInvalid:a.error},c&&s().createElement(p.TextContent,null,s().createElement(p.Text,{component:p.TextVariants.small},c)),s().createElement(f,(0,r.Z)({label:t,isValid:!v,isRequired:n},u)))};v.propTypes={componentType:l().string,label:l().string,isRequired:l().bool,helperText:l().string,meta:l().object,description:l().string,hideLabel:l().bool};const b=v;var y=n(41609),h=n.n(y),g=n(48880),E=n(76429),O=function(e){var t=e.dirtyFieldsSinceLastSubmit,n=e.submitSucceeded,r=e.pristine,i=(0,g.default)().onCancel,o=h()(t)||!n&&r;return s().createElement(p.ActionGroup,{className:"pf-u-mt-0"},s().createElement(p.Button,{ouiaId:"primary-submit-button",type:"submit",isDisabled:o,variant:"primary"},"Save"),s().createElement(p.Button,{ouiaId:"secondary-cancel-button",variant:"link",onClick:function(){return i()}},"Cancel"))};O.propTypes={dirtyFieldsSinceLastSubmit:l().shape((0,i.Z)({},l().string,l().oneOfType([l().string,l().number,l().bool]))),submitSucceeded:l().bool,pristine:l().bool,onCancel:l().func};const Z=function(e){return s().createElement(E.Z,{subscription:{pristine:!0,submitSucceeded:!0,dirtyFieldsSinceLastSubmit:!0}},(function(t){return s().createElement(O,(0,r.Z)({},t,e))}))};var w=n(67850),P=n(65412),j=n(75747),T=n(86758),R=n(96354),S=["formTemplateProps"],k=function(e){var t,n=e.formTemplateProps,a=(0,o.Z)(e,S);return s().createElement(T.Z,(0,r.Z)({componentMapper:(t={},(0,i.Z)(t,R.Z.TEXT_FIELD,P.Z),(0,i.Z)(t,R.Z.TEXTAREA,j.Z),(0,i.Z)(t,R.Z.SELECT,b),t),FormTemplate:function(e){return s().createElement(w.ZP,(0,r.Z)({},n,e,{FormButtons:Z}))}},a))};k.propTypes={formTemplateProps:l().object};const x=k},73943:(e,t,n)=>{n.d(t,{R:()=>l});var r=n(92950),i=n.n(r),o=n(45697),a=n.n(o),s=n(97066),c=n(69957),l=function(e){var t=e.type,n=e.isOpen,r=e.onModalCancel,o=e.onConfirmCancel,a=e.customTitle,l=e.customDescription;return i().createElement(s.Modal,{title:i().createElement("span",{className:"rbac-c-wizard__cancel-warning-header"},i().createElement(c.ZP,{size:"md",className:"rbac-c-wizard__cancel-warning-header--icon"}),a||"Exit ".concat(t," creation?")),variant:s.ModalVariant.small,className:"rbac rbac-c-wizard__cancel-warning",isOpen:n,onClose:r,actions:[i().createElement(s.Button,{ouiaId:"primary-exit-button",key:"confirm",variant:"primary",onClick:o},"Exit"),i().createElement(s.Button,{ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:r},"Stay")]},i().createElement("span",null,l||"All inputs will be discarded."," "))};l.propTypes={type:a().string,customTitle:a().node,customDescription:a().node,isOpen:a().bool,onModalCancel:a().func,onConfirmCancel:a().func}},94852:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(4942),i=n(93433),o=n(29439),a=n(92950),s=n.n(a),c=n(45697),l=n.n(c),u=n(97066),p=n(48880),d=n(55795),m=n(77782);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t,n,r,c=e.formFields,l=(0,p.default)(),f=(0,a.useState)(l.getState().values["add-permissions-table"]||[]),b=(0,o.Z)(f,2),y=b[0],h=b[1],g=(0,a.useContext)(m.r$).rolePermissions,E=(null===(t=l.getState().values)||void 0===t||null===(n=t["copy-base-role"])||void 0===n||null===(r=n.applications)||void 0===r?void 0:r.filter((function(e){return!(null!=y&&y.find((function(t){return t.uuid.includes(e)})))})))||[],O=c[0][0];return s().createElement("div",{className:"rbac"},y.length>0?s().createElement("div",{className:"rbac-c-selected-chips"},s().createElement(u.ChipGroup,{categoryName:"Selected permissions"},y.reduce((function(e,t){return[t].concat((0,i.Z)(e))}),[]).map((function(e){var t=e.uuid;return s().createElement(u.Chip,{key:t,color:"blue",isTruncated:!0,onClick:function(){return h(y.filter((function(e){return e.uuid!==t})))}},t)})))):null,s().createElement(u.Title,{headingLevel:"h1",size:"xl",className:"rbac-c-add-permission-title"},"Add permissions"),s().createElement(u.TextContent,null,s().createElement(u.Text,null,"Select permissions to add to your role",0!==E.length&&s().createElement(u.Popover,{headerContent:"Custom roles only support granular permissions",bodyContent:"Wildcard permissions (for example, approval:*:*) aren’t included in this table and can’t be added to your custom role."},s().createElement(u.Button,{variant:"link"},"Why am I not seeing all of my permissions? ",s().createElement(d.ZP,null))))),[[v(v({},O),{},{props:v(v({},O.props),{},{selectedPermissions:y,setSelectedPermissions:h,isInExistingRole:function(e){return null==g?void 0:g.some((function(t){return t.permission===e}))}})})]])};b.propTypes={formFields:l().array};const y=b},94487:(e,t,n)=>{n.d(t,{Z:()=>V});var r=n(87462),i=n(4942),o=n(93433),a=n(29439),s=n(45987),c=n(18446),l=n.n(c),u=n(92950),p=n.n(u),d=n(45697),m=n.n(d),f=n(45237),v=n(41693),b=n(48880),y=n(48623),h=n(41800),g=n(36580),E=n(15861),O=n(87757),Z=n.n(O),w=(0,n(89400).Y3)();function P(e,t,n,r,i,o,a,s){return j.apply(this,arguments)}function j(){return(j=(0,E.Z)(Z().mark((function e(t,n,r,i,o,a,s,c){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.listPermissions(t,n,r,i,o,a,s,c);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n,r,i,o,a){return R.apply(this,arguments)}function R(){return(R=(0,E.Z)(Z().mark((function e(t,n,r,i,o,a,s){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.listPermissionOptions(t,n,r,i,o,a,s);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S={application:g.KD,resource_type:g.vf,verb:g.E2},k=n(29215),x=n(28090),D=n(97066),C=n(6877),I=["row"],L=function(e){var t=e.row,n=(0,s.Z)(e,I);return t.disableSelection?p().createElement(D.Tooltip,{content:t.disabledContent,exitDelay:1500,entryDelay:1500},p().createElement(C.RowWrapper,(0,r.Z)({className:"rbac-c-disabled-row",row:t},n))):p().createElement(C.RowWrapper,(0,r.Z)({row:t},n))};L.propTypes={props:m().object,row:m().object};var F=["selectedPermissions","setSelectedPermissions","isInExistingRole"];function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=["Application","Resource type","Operation"],G=function(e){var t=e.permissionReducer,n=t.permission,r=t.isLoading,i=t.options,o=i.application,a=i.operation,s=i.resource,c=t.expandSplats,l=t.isLoadingExpandSplats,u=e.roleReducer,p=u.isRecordLoading,d=u.selectedRole,m=e.costReducer.resourceTypes;return{permissions:n.data.map((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.application,n=e.resource_type,r=e.verb,i=e.permission;return{application:t,resource:n,operation:r,uuid:i}})),pagination:n.meta,isLoading:r||p,baseRole:d,applicationOptions:o.data.filter((function(e){return"*"!==e})),resourceOptions:s.data.filter((function(e){return"*"!==e})),operationOptions:a.data.filter((function(e){return"*"!==e})),expandedPermissions:c.data.map((function(e){return e.permission})),isLoadingExpandSplats:l,resourceTypes:m.data}},A=function(e){var t=e.selectedPermissions,n=e.setSelectedPermissions,c=e.isInExistingRole,d=(0,s.Z)(e,F),m=(0,f.useDispatch)(),E=function(e){return m((n=(t=e).limit,r=t.offset,i=t.orderBy,o=t.application,a=t.resourceType,s=t.verb,c=t.permission,u=void 0===(l=t.exclude_globals)||l,p=t.options,{type:g.wI,payload:P(n,r,i,o,a,s,c,u,p)}));var t,n,r,i,o,a,s,c,l,u,p},O=function(e){return m((n=(t=e).field,r=t.limit,i=t.offset,o=t.application,a=t.resourceType,s=t.verb,c=t.options,{type:S[n],payload:T(n,r,i,o,a,s,c)}));var t,n,r,i,o,a,s,c},Z=(0,f.useSelector)(G,f.shallowEqual),w=Z.permissions,j=Z.isLoading,R=Z.pagination,D=Z.baseRole,C=Z.applicationOptions,I=Z.resourceOptions,_=Z.operationOptions,A=Z.expandedPermissions,V=Z.isLoadingExpandSplats,B=Z.resourceTypes,q=(0,v.Z)(d).input,z=(0,b.default)(),W=(0,u.useState)({applications:[],resources:[],operations:[]}),H=(0,a.Z)(W,2),X=H[0],K=H[1],$=z.getState().values["role-type"],Y=(0,u.useState)(!1),U=(0,a.Z)(Y,2),Q=U[0],J=U[1],ee=(0,u.useState)(""),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ie=(0,u.useState)(),oe=(0,a.Z)(ie,2),ae=oe[0],se=oe[1],ce=function(e){return B.find((function(t){var n;return t.value===(null===(n=e.split(":"))||void 0===n?void 0:n[1])}))},le=(0,u.useCallback)((0,y.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"application",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),2e3),[]),ue=(0,u.useCallback)((0,y.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"resource_type",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),2e3),[]),pe=(0,u.useCallback)((0,y.Z)((function(e){var t=e.applications,n=e.resources,r=e.operations;return O({field:"verb",limit:50,application:t.join(),resourceType:n.join(),verb:r.join()})}),2e3),[]);(0,u.useEffect)((function(){var e,t=null===(e=z.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid;return"copy"===$&&t&&m((0,x.fp)(t)),m((0,k.A)()),z.change("has-cost-resources",!1),E(R),O({field:"application",limit:50}),O({field:"resource_type",limit:50}),O({field:"verb",limit:50}),function(){return m({type:g.e0,payload:{data:[]}})}}),[]),(0,u.useEffect)((function(){ue(X),pe(X)}),[X.applications]),(0,u.useEffect)((function(){le(X),pe(X)}),[X.resources]),(0,u.useEffect)((function(){le(X),ue(X)}),[X.operations]),(0,u.useEffect)((function(){q.onChange(t)}),[t]),(0,u.useEffect)((function(){var e;if(!(!D||"copy"!==$||z.getState().values["base-permissions-loaded"]||t.length>0||(null===(e=z.getState().values["copy-base-role"])||void 0===e?void 0:e.uuid)!==(null==D?void 0:D.uuid)||V||j)){var r,i,a,s,c,l,u,p,d,f,v,b,y,h=(null==D?void 0:D.access)||[];if(0===A.length&&void 0===V){var E=(0,o.Z)(new Set(h.map((function(e){return e.permission.split(":")[0]}))));m((a=void 0===(i=(r={application:E.join()}).limit)?1e3:i,c=void 0===(s=r.offset)?0:s,l=r.orderBy,u=r.application,p=r.resourceType,d=r.verb,f=r.permission,b=void 0===(v=r.exclude_globals)||v,y=r.options,{type:g.e,payload:P(a,c,l,u,p,d,f,b,y)}))}else{var O=h.map((function(e){return e.permission.replace("*",".*")}));n((function(){return A.filter((function(e){return"cost-management"!==e.split(":")[0]||0!==(ce(e)||{count:0}).count})).filter((function(e){return O.some((function(t){return e.match(t)}))})).map((function(e){return{uuid:e}}))})),z.change("base-permissions-loaded",!0)}}}),[w,D]);var de=function(e){return e.reduce((function(e,t){return{"":M(M({},null==e?void 0:e[""]),{},(0,i.Z)({},t,!0))}}),{"":{}})},me={applications:(0,o.Z)(C).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}})),resources:(0,o.Z)(I).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}})),operations:(0,o.Z)(_).filter((function(e){return e.includes(ne)})).map((function(e){return{label:e,value:e}}))},fe={label:p().createElement("div",null," No results found"),isDisabled:!0},ve=me[Object.keys(me)[ae||0]].length>10;return p().createElement("div",{className:"rbac-c-permissions-table"},p().createElement(h.M,(0,r.Z)({columns:N,isSelectable:!0,isCompact:!0,borders:!1,createRows:function(e){return e.map((function(e){var n=e.application,r=e.resource,i=e.operation,o=e.uuid;return{uuid:"".concat(n,":").concat(r,":").concat(i),cells:[{title:n},r,i],selected:Boolean(t&&t.find((function(e){return e.uuid===o}))),disableSelection:"cost-management"===n&&0===(ce(o)||{count:0}).count||c(o),disabledContent:c(o)?p().createElement("div",null,"This permission is already added into this role."):p().createElement("div",null,"To add this permission to your role and define specific resources for it, at least one data source must be connected."," ",p().createElement("a",{href:"./settings/sources"},"Configure sources for Cost Management"))}}))},data:w,filterValue:"",noData:0===(null==w?void 0:w.length),noDataDescription:["Adjust your filters and try again. Note: Applications that only have wildcard           permissions (for example, compliance:*:*) aren’t included in this table and can’t be           added to your custom role."],fetchData:function(e){var t=e.limit,n=e.offset,r=e.applications,i=e.resources,o=e.operations;E({limit:t,offset:n,application:(r||X.applications).join(),resourceType:(i||X.resources).join(),verb:(o||X.operations).join()})},setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;K(M(M(M(M({},X),t?{applications:t}:X.applications),n?{resources:n}:X.resources),r?{operations:r}:X.operations))},isLoading:j||V,pagination:M(M({},R),{},{count:R.count}),checkedRows:t,setCheckedItems:function(e){var r=e(t).filter((function(e){var t,n=e.uuid;return"cost-management"!==e.application||(null===(t=ce(n))||void 0===t?void 0:t.count)>0})).map((function(e){return{uuid:e.uuid}}));n(l()(r,t)?[]:r)},titlePlural:"permissions",titleSingular:"permission",showMoreTitle:Q?"See less":"See more",onFilter:function(e){return re(e)},onShowMore:ve?function(){J((function(){return!Q}))}:void 0,onChange:function(e,t){re(""),se(t)},value:ae,filters:[{key:"applications",value:X.applications,placeholder:"Filter by application",type:"group",selected:de(X.applications),groups:[{type:me.applications.length>0?"checkbox":"plain",items:me.applications.length>0?(0,o.Z)(me.applications).slice(0,Q?void 0:10):[fe]}]},{key:"resources",value:X.resources,placeholder:"Filter by resource type",type:"group",selected:de(X.resources),groups:[{type:me.resources.length>0?"checkbox":"plain",items:me.resources.length>0?(0,o.Z)(me.resources).slice(0,Q?void 0:10):[fe]}]},{key:"operations",value:X.operations,placeholder:"Filter by operation",type:"group",selected:de(X.operations),groups:[{type:me.operations.length>0?"checkbox":"plain",items:me.operations.length>0?(0,o.Z)(me.operations).slice(0,Q?void 0:10):[fe]}]}],isFilterable:!0,rowWrapper:L,tableId:"add-role-permissions"},d)))};A.propTypes={selectedPermissions:m().array,setSelectedPermissions:m().func,isInExistingRole:m().func};const V=A},64105:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(29439),i=n(93433),o=n(4942),a=n(92950),s=n.n(a),c=n(45237),l=n(97066),u=n(41693),p=n(48880),d=n(29215);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.costReducer,n=t.resourceTypes,r=t.isLoading,i=t.loadingResources,o=t.resources;return{resourceTypes:n.data,resources:o,isLoading:r,isLoadingResources:i>0}},b=function(e,t){var n=e[t.key];switch(t.type){case"toggle":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{isOpen:!n.isOpen})));case"select":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:n.selected.includes(t.selection)?n.selected.filter((function(e){return e!==t.selection})):[].concat((0,i.Z)(n.selected),[t.selection])})));case"selectAll":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:n.options.map((function(e){return e.value}))})));case"clear":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{selected:[]})));case"setOptions":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{options:t.options,filteredOptions:t.options})));case"setFilter":return f(f({},e),{},(0,o.Z)({},t.key,f(f({},n),{},{filteredOptions:n.options.filter((function(e){return e.value.includes(t.filtervalue)}))})));default:return e}};const y=function(e){var t=(0,c.useDispatch)(),n=(0,c.useSelector)(v,c.shallowEqual),m=n.resourceTypes,y=n.isLoading,h=n.isLoadingResources,g=n.resources,E=(0,u.Z)(e).input,O=(0,p.default)(),Z=O.getState().values["add-permissions-table"].filter((function(e){return e.uuid.split(":")[0].includes("cost-management")})),w=(0,a.useReducer)(b,Z.reduce((function(e,t){return f(f({},e),{},(0,o.Z)({},t.uuid,{selected:[],options:[],filteredOptions:[],isOpen:!1}))}),{})),P=(0,r.Z)(w,2),j=P[0],T=P[1];return(0,a.useEffect)((function(){(O.getState().values["resource-definitions"]||[]).map((function(e){var t=e.permission;return e.resources.map((function(e){return Z.find((function(e){return(null==e?void 0:e.uuid)===t}))&&T({type:"select",selection:e,key:t})}))})),t((0,d.A)(undefined)),O.change("has-cost-resources",!0)}),[]),(0,a.useEffect)((function(){y||(0,i.Z)(new Set(Z.map((function(e){var t;return null===(t=m.find((function(t){var n;return t.value===(null===(n=e.uuid.split(":"))||void 0===n?void 0:n[1])})))||void 0===t?void 0:t.path})))).filter((function(e){return e})).map((function(e){return n=e,t((0,d.R)(n));var n}))}),[m]),(0,a.useEffect)((function(){h||Z.map((function(e){return T({type:"setOptions",key:e.uuid,options:g[(t=e.uuid,null===(n=m.find((function(e){var n;return e.value===(null===(n=t.split(":"))||void 0===n?void 0:n[1])})))||void 0===n||null===(r=n.path.split("/"))||void 0===r?void 0:r[5])]||[]});var t,n,r}))}),[h]),(0,a.useEffect)((function(){var e=Object.entries(j).map((function(e){var t=(0,r.Z)(e,2);return{permission:t[0],resources:t[1].selected}}));E.onChange(e),O.change("resource-definitions",e)}),[j]),s().createElement(l.Grid,{hasGutter:!0},s().createElement(l.GridItem,{md:4,className:"ins-m-hide-on-sm"},s().createElement(l.Text,{component:l.TextVariants.h4,className:"rbac-bold-text"},"Permissions")),s().createElement(l.GridItem,{md:8,className:"ins-m-hide-on-sm"},s().createElement(l.Text,{component:l.TextVariants.h4,className:"rbac-bold-text"},"Resource definitions")),Z.map((function(e){var t=e.uuid,n=j[t].filteredOptions;return s().createElement(s().Fragment,null,s().createElement(l.GridItem,{md:4,sm:12},s().createElement(l.Tooltip,{content:s().createElement("div",null,t)},s().createElement(l.FormGroup,{label:t.replace(/^cost-management:/,""),isRequired:!0}))),s().createElement(l.GridItem,{md:8,sm:12},s().createElement(l.Select,{className:"rbac-m-cost-resource-select",variant:l.SelectVariant.checkbox,typeAheadAriaLabel:"Select a state",onToggle:function(e){T({type:"setFilter",key:t,filtervalue:""}),function(e,t){T({type:"toggle",key:e,isOpen:t})}(t,e)},onSelect:function(e,r){!function(e,t,n,r){T(n?{type:"selectAll",selection:t,key:r}:{type:"select",selection:t,key:r})}(0,r,r==="Select All (".concat(n.length,")"),t)},onClear:function(){return T({type:"clear",key:t})},selections:j[t].selected,isOpen:j[t].isOpen,onFilter:function(e){return e&&T({type:"setFilter",key:t,filtervalue:e.target.value})},"aria-labelledby":t,placeholderText:"Select resources",hasInlineFilter:!0},[s().createElement(l.SelectOption,{key:0,value:"Select All (".concat(n.length,")")})].concat((0,i.Z)(n.map((function(e,t){return s().createElement(l.SelectOption,{key:t+1,value:e.value})})))))))})))}},77782:(e,t,n)=>{n.d(t,{r$:()=>M,ZP:()=>G});var r=n(93433),i=n(15861),o=n(4942),a=n(29439),s=n(87462),c=n(87757),l=n.n(c),u=n(92950),p=n.n(u),d=n(45237),m=n(97066),f=n(48880);var v=n(45697),b=n.n(v),y=n(68778),h=n(334),g=n(28090),E=function(e){var t=e.currentRoleID,n=(0,d.useDispatch)();return p().createElement(p().Fragment,null,p().createElement(m.EmptyState,null,p().createElement(m.EmptyStateIcon,{color:"green",icon:y.ZP}),p().createElement(m.Title,{headingLevel:"h4",size:"lg"},"You have successfully added permissions to the role"),p().createElement(m.EmptyStateBody,null),p().createElement(h.Link,{to:"/roles/detail/".concat(t)},p().createElement(m.Button,{onClick:function(){return n((0,g.fp)(t))}},"Exit"))))};const O=E;E.propTypes={currentRoleID:b().string.isRequired};var Z=n(73943),w=n(86758),P=n(67850),j=n(76349),T=n(94487),R=n(64105),S=n(94852);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=function(e){var t,n=e.formFields;return(0,u.useContext)(M).submitting?p().createElement(m.Bullseye,null,p().createElement(m.Spinner,{size:"xl"})):p().createElement("div",{className:"rbac"},[[x({},null==n||null===(t=n[0])||void 0===t?void 0:t[0])]])};D.propTypes={formFields:b().array};const C=D;function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(e){return p().createElement(P.ZP,(0,s.Z)({},e,{showFormControls:!1}))},_={"add-permissions-table":T.Z,"cost-resources":R.Z,review:function(){var e=(0,f.default)().getState().values,t=e["role-name"],n=e["role-description"],r=e["add-permissions-table"],i=e["resource-definitions"],o=e["has-cost-resources"];return p().createElement(m.Stack,{hasGutter:!0},p().createElement(m.StackItem,null,p().createElement(m.TextContent,null,p().createElement(m.Title,{headingLevel:"h1",size:"xl",className:"pf-u-mb-sm"},"Review details"))),p().createElement(m.StackItem,{className:"rbac-l-stack__item-summary"},p().createElement(m.Grid,{hasGutter:!0},p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Role name")),p().createElement(m.GridItem,{span:9},p().createElement(m.Text,{component:m.TextVariants.p},t)),p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Role description")),p().createElement(m.GridItem,{span:9},p().createElement(m.Text,{component:m.TextVariants.p},n)),p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Added permissions")),p().createElement(m.GridItem,{span:9},p().createElement(m.TextContent,{component:m.TextVariants.p},r.map((function(e,t){return p().createElement(m.Text,{key:t}," ",e.uuid," ")})))),o&&p().createElement(p().Fragment,null,p().createElement(m.GridItem,{span:3},p().createElement(m.Text,{className:"pf-c-title",component:m.TextVariants.h6},"Resource definitions")),p().createElement(m.GridItem,{span:9},p().createElement(m.TextContent,{component:m.TextVariants.p},i.map((function(e){return e.resources.map((function(e,t){return p().createElement(m.Text,{key:t}," ",e," ")}))}))))))))}},M=(0,u.createContext)({success:!1,submitting:!1,error:void 0}),N=function(e){var t=e.role,n=(0,u.useState)(!1),o=(0,a.Z)(n,2),s=o[0],c=o[1],f=(0,u.useState)(""),v=(0,a.Z)(f,2),b=v[0],y=v[1],E=(0,u.useState)({}),P=(0,a.Z)(E,2),T=P[0],R=P[1],k=(0,h.useHistory)(),x=(0,d.useDispatch)(),D=(0,u.useState)({success:!1,submitting:!1,error:void 0,hideForm:!1}),I=(0,a.Z)(D,2),N=I[0],G=I[1],A=(0,u.useRef)(document.createElement("div"));(0,u.useEffect)((function(){R(function(e){return{fields:[{component:"wizard",name:"wizard",isDynamic:!0,inModal:!0,showTitles:!0,crossroads:["role-type"],title:"Add permissions",container:e,fields:[{name:"add-permissions",title:"Add permissions",StepTemplate:S.Z,nextStep:function(e){var t=e.values;return t&&t["add-permissions-table"]&&t["add-permissions-table"].some((function(e){return e.uuid.split(":")[0].includes("cost-management")}))?"cost-resources-definition":"review"},fields:[{component:"add-permissions-table",name:"add-permissions-table"}]},{name:"cost-resources-definition",title:"Define Cost Management resources",nextStep:"review",fields:[{component:"plain-text",name:"text-description",label:p().createElement("p",null,"Specify where you would like to apply each cost permission selected in the previous step, using the dropdown below.")},{component:"cost-resources",name:"cost-resources",validate:[function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((function(e){return e.resources.length>0}))?void 0:"You need to assign at least one resource to each permission."}]}]},{name:"review",title:"Review details",StepTemplate:C,fields:[{component:"review",name:"review"}]}]}]}}(A.current))}),[]),(0,u.useEffect)((function(){y(t.uuid)})),(0,u.useEffect)((function(){A.current.hidden=s}),[s]);var V=function(){k.push("/roles/detail/".concat(t.uuid))},B=function(){var e=(0,i.Z)(l().mark((function e(n){var i,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=n["add-permissions-table"],o=n["cost-resources"],a=L(L({},t),{},{access:[].concat((0,r.Z)(t.access),(0,r.Z)(i.map((function(e){var t=e.uuid;return{permission:t,resourceDefinitions:null!=o&&o.find((function(e){return e.permission===t}))?[{attributeFilter:{key:"cost-management.".concat(t.split(":")[1]),operation:"in",value:null==o?void 0:o.find((function(e){return e.permission===t})).resources}}]:[]}})))),accessCount:t.accessCount+i.length}),G((function(e){return L(L({},e),{},{submitting:!0})})),x((0,g.ul)(b,a)).then((function(){return G((function(e){return L(L({},e),{},{submitting:!1,success:!0,hideForm:!0})}))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p().createElement(M.Provider,{value:L(L({},N),{},{setWizardError:function(e){return G((function(t){return L(L({},t),{},{error:e})}))},setWizardSuccess:function(e){return G((function(t){return L(L({},t),{},{success:e})}))},setHideForm:function(e){return G((function(t){return L(L({},t),{},{hideForm:e})}))},rolePermissions:t.access})},p().createElement(Z.R,{type:"Permission",isOpen:s,onModalCancel:function(){return c(!1)},onConfirmCancel:V}),N.hideForm?p().createElement(m.Wizard,{title:"Add permissions",isOpen:!0,steps:[{name:"success",component:new O({currentRoleID:b}),isFinishedStep:!0}]}):p().createElement(w.Z,{container:A,schema:T,subscription:{values:!0},FormTemplate:F,initialValues:{"role-type":"create","role-name":t.display_name,"role-description":t.description},componentMapper:L(L({},j.ZP),_),onSubmit:B,onCancel:function(e){var t;e&&(null===(t=e["add-permissions-table"])||void 0===t?void 0:t.length)>0?c(!0):V()}}))};N.defaultProps={role:{}},N.propTypes={role:b().object};const G=N},88040:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(87462),i=n(29439),o=n(92950),a=n.n(o),s=n(45697),c=n.n(s),l=n(96354),u=n(64124),p=n(40483),d=n(36457),m=n(67115),f=n(334),v=n(45237),b=n(76254),y=n(71355),h=n(43115),g=n(57666),E=n(28090),O=function(e,t,n){return e.length<150?(0,h.vd)({name:e}).then((function(r){var i=r.data;if(0!==i.length&&i.some((function(r){return r[t]!==n&&r.display_name===e})))throw"Role with this name already exists."})):Promise.reject("Can have maximum of 150 characters.")},Z=function(e){return{fields:[{name:"name",component:l.Z.TEXT_FIELD,label:"Name",isRequired:!0,validate:[{type:"validate-role-name",id:e,idKey:"uuid",validationPromise:O}]},{name:"description",component:l.Z.TEXTAREA,label:"Description",validate:[{type:u.Z.MAX_LENGTH,threshold:150}]}]}},w=(0,g.Z)((function(e,t,n,r){return e&&0!==e.length?r(e,t,n):Promise.reject("Required")})),P=function(e){var t=e.routeMatch,n=e.cancelRoute,s=e.submitRoute,c=void 0===s?n:s,l=e.afterSubmit,u=(0,m.Z)(),g=(0,f.useRouteMatch)(t).params.id,O=(0,f.useHistory)(),P=O.replace,j=O.push,T=(0,v.useDispatch)(),R={"validate-role-name":function(e){var t=e.idKey,n=e.id,r=e.validationPromise;return function(e){return w(e,t,n,r)}}},S=(0,v.useSelector)((function(e){return(0,b.z)(e,g)})),k=(0,o.useState)(S),x=(0,i.Z)(k,2),D=x[0],C=x[1],I=function(){T((0,y.wN)({variant:"warning",dismissDelay:8e3,dismissable:!1,title:"Editing role",description:"Edit role was canceled by the user."})),P(n)};return(0,o.useEffect)((function(){!D&&(0,h.fp)(g).then((function(e){u.current&&C(e)}))}),[g]),D?a().createElement(d.Z,{schema:Z(g),initialValues:D,onSubmit:function(e){return T((0,E.sZ)(g,{name:e.name,display_name:e.name,description:e.description})).then((function(){l(),j(c)}))},onCancel:I,validatorMapper:R,FormTemplate:function(e){return a().createElement(p.Z,(0,r.Z)({},e,{ModalProps:{onClose:I,isOpen:!0,variant:"small",title:"Edit role information"}}))}}):null};P.propTypes={routeMatch:c().string.isRequired,cancelRoute:c().oneOfType([c().string,c().shape({pathname:c().string.isRequired,search:c().string,hash:c().string})]).isRequired,submitRoute:c().oneOfType([c().string,c().shape({pathname:c().string.isRequired,search:c().string,hash:c().string})]),afterSubmit:c().func.isRequired};const j=P},13063:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(29439),i=n(92950),o=n.n(i),a=n(45697),s=n.n(a),c=n(45237),l=n(334),u=n(69957),p=n(97066),d=n(83215),m=n(28090),f=n(43115),v=n(67115),b=n(76254),y=function(e){var t=e.routeMatch,n=e.cancelRoute,a=e.submitRoute,s=void 0===a?n:a,y=e.afterSubmit,h=(0,v.Z)(),g=(0,l.useRouteMatch)(t).params.id,E=(0,c.useSelector)((function(e){return(0,b.B)(e,g)})),O=(0,i.useState)(!0),Z=(0,r.Z)(O,2),w=Z[0],P=Z[1],j=(0,i.useState)(E),T=(0,r.Z)(j,2),R=T[0],S=T[1],k=(0,c.useDispatch)(),x=(0,l.useHistory)(),D=x.push,C=x.replace;(0,i.useEffect)((function(){!R&&(0,f.fp)(g).then((function(e){h.current&&S(e.display_name)})).catch((function(e){var t,n;return k((0,d.wN)({variant:"danger",title:"Could not get role",description:null==e||null===(t=e.errors)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.detail}))}))}),[]);var I=function(){return C(n)};return R?o().createElement(p.Modal,{className:"rbac","aria-label":"remove-role",header:o().createElement(p.TextContent,null,o().createElement(p.Split,{hasGutter:!0},o().createElement(p.SplitItem,null,o().createElement(u.ZP,{size:"lg",style:{fill:"#f0ab00"}})),o().createElement(p.SplitItem,null,o().createElement(p.Text,{component:"h1"},"Delete role?")))),isOpen:!0,variant:"small",onClose:I,actions:[o().createElement(p.Button,{isDisabled:w,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:function(){return k((0,m.l5)(g)).then((function(){return D(s),y()}))}},"Confirm"),o().createElement(p.Button,{key:"cancel",variant:"link",type:"button",onClick:I},"Cancel")]},o().createElement(p.TextContent,null,o().createElement(p.Text,{component:p.TextVariants.p},"The ",o().createElement("strong",null,R)," role will be removed from any group it’s in, and members in the groups will no longer be granted the permissions in the role."),o().createElement(p.Checkbox,{id:"remove-role-checkbox",label:"I understand that this action cannot be undone.",isChecked:!w,onChange:function(){return P((function(e){return!e}))}}))):null};y.propTypes={routeMatch:s().string.isRequired,cancelRoute:s().oneOfType([s().string,s().shape({pathname:s().string.isRequired,search:s().string,hash:s().string})]).isRequired,submitRoute:s().oneOfType([s().string,s().shape({pathname:s().string.isRequired,search:s().string,hash:s().string})]),afterSubmit:s().func.isRequired};const h=y},76254:(e,t,n)=>{n.d(t,{z:()=>r,B:()=>i});var r=function(e,t){var n=e.roleReducer,r=n.roles,i=void 0===r?{data:[]}:r,o=n.selectedRole;return(null==o?void 0:o.uuid)===t?o:i.data.find((function(e){return e.uuid===t}))},i=function(e,t){var n;return null===(n=r(e,t))||void 0===n?void 0:n.display_name}},95311:(e,t,n)=>{n.d(t,{Z:()=>re});var r,i=n(93433),o=n(4942),a=n(29439),s=n(92950),c=n.n(s),l=n(45697),u=n.n(l),p=n(334),d=n(45237),m=n(97066),f=n(39173),v=n(4682),b=n(28090),y=n(38376),h=n(19571),g=n(41800),E=n(45987),O=n(64107),Z=n(11107),w=n(61338),P=n(85564),j=n.n(P),T=["count"],R=["type"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x={pagination:w.he,selectedPermissions:[],showRemoveModal:!1,confirmDelete:function(){return null},deleteInfo:{},filters:{applications:[],resources:[],operations:[]},isToggled:!1,resources:[],operations:[]},D="SET_PAGINATION",C="SELECT_PERMISSIONS",I="SHOW_REMOVE_MODAL",L="SUBMIT_REMOVE_MODAL",F="INITIATE_REMOVE_PERMISSION",_="SET_FILTERS",M="SET_TOGGLED",N="INITIALIZE_ROLE",G=(r={},(0,o.Z)(r,D,(function(e,t){return k(k({},e),{},{pagination:k(k({},e.pagination),t)})})),(0,o.Z)(r,C,(function(e,t){var n=t.selection;return k(k({},e),{},{selectedPermissions:n})})),(0,o.Z)(r,I,(function(e,t){var n=t.showRemoveModal;return k(k({},e),{},{showRemoveModal:n})})),(0,o.Z)(r,L,(function(e){return k(k({},e),{},{selectedPermissions:[],showRemoveModal:!1})})),(0,o.Z)(r,F,(function(e,t){var n=t.confirmDelete,r=t.deleteInfo;return k(k({},e),{},{confirmDelete:n,showRemoveModal:!0,deleteInfo:r})})),(0,o.Z)(r,_,(function(e,t){return k(k({},e),{},{filters:k(k({},e.filters),t)})})),(0,o.Z)(r,M,(function(e){return k(k({},e),{},{isToggled:!e.isToggled})})),(0,o.Z)(r,N,(function(e,t){var n=t.count,r=(0,E.Z)(t,T);return k(k(k({},e),r),{},{pagination:k(k({},e.pagination),{},{count:n})})})),r),A=function(e,t){var n=t.type,r=(0,E.Z)(t,R);return G[n]?G[n](e,r):e},V=n(6877),B=n(77782),q=n(1227);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=[{title:"Application"},{title:"Resource type"},{title:"Operation"},{title:"Resource definitions",transforms:[(0,V.info)({popover:"Resource definitions only apply to Cost Management permissions",ariaLabel:"Resource definitions only apply to Cost Management permissions"})]},{title:"Last commit",transforms:[(0,V.cellWidth)(15)]}],X=function(e,t,n){return n?c().createElement("p",null,"The ",c().createElement("b",null," ","".concat(e))," selected permissions will no longer be granted through the ",c().createElement("b",null,"".concat(t.name))," role."):c().createElement("p",null,"The ",c().createElement("b",null,"".concat(e))," permission will no longer be granted through the ",c().createElement("b",null," ","".concat(t.name))," role.")};const K=function(){var e=(0,d.useSelector)((function(e){return{role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading}}),d.shallowEqual),t=e.role,n=e.isRecordLoading,r=(0,p.useHistory)(),l=(0,s.useReducer)(A,x),u=(0,a.Z)(l,2),f=u[0],y=f.pagination,h=f.selectedPermissions,E=f.showRemoveModal,w=f.confirmDelete,P=f.deleteInfo,T=f.filters,R=f.isToggled,S=f.resources,k=f.operations,G=u[1],V=(0,s.useState)(!0),z=(0,a.Z)(V,2),K=z[0],$=z[1],Y=(0,d.useDispatch)();(0,s.useEffect)((function(){var e;if(Object.keys(t).length>0){var n=Object.entries(t.access.reduce((function(e,t){var n=e.resources,r=e.operations,o=t.permission.split(":"),s=(0,a.Z)(o,3),c=s[1],l=s[2];return{resources:n.includes(c)?n:[].concat((0,i.Z)(n),[c]),operations:r.includes(l)?r:[].concat((0,i.Z)(r),[l])}}),{resources:[],operations:[]})).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return W(W({},e),{},(0,o.Z)({},r,i.map((function(e){return{label:e,value:e}}))))}),{}),r=n.resources,s=n.operations;G({type:N,resources:r,operations:s,count:t.access?t.access.length:0})}$(null==t||null===(e=t.access)||void 0===e?void 0:e.find((function(e){return e.permission.includes("cost-management")})))}),[t]);var U,Q,J=t&&t.access?(t.access||[]).filter((function(e){var t=e.permission.split(":"),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2],s=T.applications,c=T.resources,l=T.operations;return(!(s.length>0)||s.includes(r))&&(!(c.length>0)||c.includes(i))&&(!(l.length>0)||l.includes(o))})).map((function(e){return W(W({uuid:e.permission},e),{},{modified:t.modified})})):[],ee=function(e){var n=e.reduce((function(e,t){return[].concat((0,i.Z)(e),[t.uuid])}),[]);return Y((0,b.lq)(t,n)).then((function(){Y((0,b.fp)(t.uuid)),G({type:C,selection:[]})}))},te=function(e){return e.reduce((function(e,t){return{"":W(W({},null==e?void 0:e[""]),{},(0,o.Z)({},t,!0))}}),{"":{}})},ne={label:c().createElement("div",null," No results found"),isDisabled:!0},re=W({access:[],applications:[]},t),ie=Object.values({applications:re.applications,operations:k,resources:S}).find((function(e){return e.length>10}));return c().createElement("section",{className:"pf-c-page__main-section rbac-c-role__permissions"},E&&c().createElement(q.Z,{text:P.text,title:P.title,isOpen:E,confirmButtonLabel:P.confirmButtonLabel,onClose:function(){return G({type:I,showRemoveModal:!1})},onSubmit:function(){w(),G({type:L})}}),c().createElement(g.M,{columns:K?H:H.filter((function(e){return"Resource definitions"!==e.title})),createRows:(U=K,Q=null==t?void 0:t.uuid,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.resourceDefinitions,o=t.permission,l=t.modified,u=o.split(":"),d=(0,a.Z)(u,3),m=d[0],f=d[1],v=d[2];return[].concat((0,i.Z)(e),[{uuid:o,cells:[m,f,v].concat((0,i.Z)(U?[o.includes("cost-management")&&r.length>0?c().createElement(s.Fragment,{key:"resource-definitions"},c().createElement(p.Link,{to:"/roles/detail/".concat(Q,"/permission/").concat(o)},j()(r.map((function(e){return e.attributeFilter.value}))).length)):c().createElement("span",{className:"rbac-c-text__disabled"},"N/A")]:[]),[c().createElement(s.Fragment,{key:"".concat(m,"-modified")},c().createElement(O.Z,{date:l,type:(0,Z.mh)(l)}))]),selected:Boolean(null==n?void 0:n.find((function(e){return e.uuid===o})))}])}),[])}),actionResolver:t.system?void 0:function(){return[{title:"Remove",onClick:function(e,n,r){return G({type:F,confirmDelete:function(){return ee([r])},deleteInfo:{title:"Remove permission?",text:X(r.uuid,t,!1),confirmButtonLabel:"Remove permission"}})}}]},data:J.slice(y.offset,y.offset+y.limit),filterValue:"",ouiaId:"role-permissions-table",fetchData:function(e){var t=e.limit,n=e.offset;return G({type:D,limit:t,offset:n})},isSelectable:!t.system,setCheckedItems:function(e){G({type:C,selection:e(h).map((function(e){return{uuid:e.uuid}}))})},checkedRows:h,onShowMore:ie?function(){G({type:M})}:void 0,setFilterValue:function(e){var t=e.applications,n=e.resources,r=e.operations;G(W(W(W({type:_},t?{applications:t}:T.applications),n?{resources:n}:T.resources),r?{operations:r}:T.operations))},toolbarButtons:function(){return[c().createElement(p.Link,{to:"/roles/detail/".concat(t.uuid,"/role-add-permission"),key:"role-add-permission",className:"ins-m-hide-on-sm"},c().createElement(m.Button,{variant:"primary","aria-label":"Add Permission"},"Add permissions")),{label:"Add Permission",props:{className:"ins-m-hide-on-md"},onClick:function(){r.push("/roles/detail/".concat(t.uuid,"/role-add-permission"))}},{label:"Remove",props:{isDisabled:!h.length>0},onClick:function(){var e=h.length>1;G({type:F,confirmDelete:function(){return ee((0,i.Z)(h))},deleteInfo:{title:e?"Remove permissions?":"Remove permission?",text:X(e?h.length:h[0].uuid,t,h.length>1),confirmButtonLabel:e?"Remove permissions":"Remove permission"}})}}]},isLoading:n,pagination:W(W({},y),{},{count:J.length}),titlePlural:"permissions",titleSingular:"permission",routes:function(){return c().createElement(p.Route,{exact:!0,path:v.Z["role-add-permission"]},c().createElement(B.ZP,{isOpen:!0,role:t}))},emptyProps:{title:"There are no permissions in this role",description:["To configure user access to applications,","add at least one permission to this role.",""]},filters:[{key:"applications",value:0===T.applications.length?"":T.applications,placeholder:"Filter by application",type:"group",selected:te(T.applications),groups:[{type:re.applications.length>0?"checkbox":"plain",items:re.applications.length>0?re.applications.slice(0,R?void 0:10).map((function(e){return{label:e,value:e}})):[ne]}]},{key:"resources",value:0===T.resources.length?"":T.resources,placeholder:"Filter by resource type",type:"group",selected:te(T.resources),groups:[{type:S.length>0?"checkbox":"plain",items:S.length>0?S.slice(0,R?void 0:10):[ne]}]},{key:"operations",value:0===T.operations.length?"":T.operations,placeholder:"Filter by operation",type:"group",selected:te(T.operations),groups:[{type:k.length>0?"checkbox":"plain",items:k.length>0?k.slice(0,R?void 0:10):[ne]}]}]}))};var $=n(19756),Y=n(13063),U=n(88040),Q=n(67643),J=n(16796);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e){var t=e.onDelete,n=(0,p.useHistory)(),r=(0,s.useState)(!1),o=(0,a.Z)(r,2),l=o[0],u=o[1],g=(0,p.useParams)(),E=g.uuid,O=g.groupUuid,P=(0,d.useSelector)((function(e){var t,n,r,i,o,a,s,c;return te(te({role:e.roleReducer.selectedRole,isRecordLoading:e.roleReducer.isRecordLoading},O&&{group:e.groupReducer.selectedGroup}),{},{rolesPagination:(null===(t=e.roleReducer)||void 0===t||null===(n=t.roles)||void 0===n?void 0:n.pagination)||w.he,rolesFilters:(null===(r=e.roleReducer)||void 0===r||null===(i=r.roles)||void 0===i?void 0:i.filters)||{},groupsPagination:(null===(o=e.groupReducer)||void 0===o||null===(a=o.groups)||void 0===a?void 0:a.pagination)||w.he,groupsFilters:(null===(s=e.groupReducer)||void 0===s||null===(c=s.groups)||void 0===c?void 0:c.filters)||{}})}),d.shallowEqual),j=P.role,T=P.group,R=P.isRecordLoading,S=P.rolesPagination,k=P.rolesFilters,x=P.groupsPagination,D=P.groupsFilters,C=(0,d.useSelector)((function(e){return e.roleReducer.error!==Z.VG})),I=(0,d.useSelector)((function(e){return e.groupReducer.error!==Z.VG})),L=(0,d.useDispatch)(),F=function(){L((0,b.fp)(E)),O&&L((0,$.yi)(O))};(0,s.useEffect)((function(){return F(),insights.chrome.appObjectId(E),function(){return insights.chrome.appObjectId(void 0)}}),[E,O]);var _=function(){return[O?{title:"Groups",to:(0,Z.zk)(v.Z.groups,x,D)}:{title:"Roles",to:(0,Z.zk)(v.Z.roles,S,k)}].concat((0,i.Z)(O&&I?T?[{title:T&&T.name,to:"/groups/detail/".concat(O,"/roles"),isLoading:T&&T.loaded}]:[void 0]:I||!O?[]:[{title:"Invalid group",isActive:!0}]),(0,i.Z)(I||!O?[{title:R?void 0:C?(null==j?void 0:j.display_name)||(null==j?void 0:j.name):"Invalid role",isActive:!0}]:[]))},M=!R&&j?j.display_name||j.name:void 0,N=!R&&j?j.description:void 0,G=[c().createElement(m.DropdownItem,{component:c().createElement(p.Link,{onClick:function(){return u(!1)},to:v.Z["role-detail-edit"].replace(":id",E)},"Edit"),key:"edit-role"}),c().createElement(m.DropdownItem,{component:c().createElement(p.Link,{onClick:t,to:v.Z["role-detail-remove"].replace(":id",E)},"Delete"),className:"rbac-c-role__action",key:"delete-role"})];return c().createElement(s.Fragment,null,!I&&O||!C?c().createElement(s.Fragment,null,c().createElement("section",{className:"pf-c-page__main-breadcrumb pf-u-pb-md"},c().createElement(J.Z,_())),c().createElement(Q.Z,{title:"".concat(I?"Role":"Group"," not found"),description:["".concat(I?"Role":"Group"," with ID ").concat(I?E:O," does not exist.")],actions:[c().createElement(m.Button,{key:"back-button",className:"pf-u-mt-xl",ouiaId:"back-button",variant:"primary","aria-label":"Back to previous page",onClick:function(){return n.goBack()}},"Back to previous page")]})):c().createElement(s.Fragment,null,c().createElement(y.Q,{breadcrumbs:_()},c().createElement(m.Level,null,c().createElement(m.LevelItem,null,c().createElement(f.Z,{title:M||c().createElement(h.h2,null),className:"rbac-page-header__title"})),!R&&j&&!j.system&&c().createElement(m.LevelItem,null,c().createElement(m.Dropdown,{ouiaId:"role-title-actions-dropdown",toggle:c().createElement(m.KebabToggle,{onToggle:function(e){return u(e)},id:"role-actions-dropdown"}),isOpen:l,isPlain:!0,position:"right",dropdownItems:G}))),N&&c().createElement(m.TextContent,{className:"rbac-page-header__description"},c().createElement(m.Text,{component:"p"},N))),R||!j?c().createElement(h.Wi,null):c().createElement(K,null),c().createElement(p.Route,{path:v.Z["role-detail-remove"]},!R&&c().createElement(Y.Z,{afterSubmit:function(){L((0,b.Kt)(te(te({},S),{},{offset:0,filters:k,inModal:!1})))},cancelRoute:v.Z["role-detail"].replace(":uuid",E),submitRoute:(0,Z.zk)(v.Z.roles,te(te({},S),{},{offset:0}),k),routeMatch:v.Z["role-detail-remove"]})),c().createElement(p.Route,{path:v.Z["role-detail-edit"]},!R&&c().createElement(U.Z,{afterSubmit:F,cancelRoute:v.Z["role-detail"].replace(":uuid",E),routeMatch:v.Z["role-detail-edit"]}))))};ne.propTypes={onDelete:u().func};const re=ne},57666:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(99166);const i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onlyResolvesLast:!1};return(0,r.Z)(e,t,n)}}}]);
//# sourceMappingURL=../sourcemaps/311.3d3f2c7b41d236159c1747fcba478b13.js.map