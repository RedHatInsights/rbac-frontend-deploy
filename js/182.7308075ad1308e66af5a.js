(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[182],{10115:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".pf-c-tabs.ins-rbac-page-header__tabs{padding:0 var(--pf-c-page__main-section--PaddingRight) 0 var(--pf-c-page__main-section--PaddingLeft);background:white}\n",""]),e.exports=t},70465:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-m-wizard__hidden{display:none}\n",""]),e.exports=t},49869:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-rbac__default-group-info-icon{color:var(--pf-global--info-color--100)}\n",""]),e.exports=t},53916:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".pf-c-table tbody tr.ins-c-rbac__group-default .pf-c-table__check:first-of-type input{display:none}.pf-c-question-circle-icon{color:var(--pf-global--palette--black-600);margin-left:var(--pf-global--spacer--sm);cursor:pointer}.pf-c-question-circle-icon.icon-active{color:var(--pf-global--palette--blue-400)}.pf-c-popover{min-width:350px}\n",""]),e.exports=t},77842:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".delete-group-warning-icon{color:var(--pf-global--warning-color--100)}\n",""]),e.exports=t},90102:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-button__add-role-disabled:hover{text-decoration:none}\n",""]),e.exports=t},45182:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>zt});var r=n(59713),o=n.n(r),a=n(319),i=n.n(a),l=n(63038),u=n.n(l),c=n(80150),s=n.n(c),d=n(47194),p=n(12460),m=n(47173),f=n(49739),g=n(83826),h=n(87757),b=n.n(h),v=n(48926),E=n.n(v),y=n(70983),R=n(14890),O=n(45697),_=n.n(O),w=n(77583),D=n(71355),j=n(14726),C=n(89531),k=n(77802),S=n(50693),x=n(16475),P=n(68340),G=n(68774),L=n(60485),N=function(e){var t=e.values?e.values:{name:"",description:""},n=t.name,r=t.description,o=e.selectedUsers?e.selectedUsers:[],a=e.selectedRoles?e.selectedRoles:[];return s().createElement(c.Fragment,null,s().createElement(f.K,{hasGutter:!0},s().createElement(g.v,null,s().createElement(f.K,{hasGutter:!0},s().createElement(g.v,null,s().createElement(G.D,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},"Review details"))),s().createElement(g.v,{className:"ins-c-rbac__summary"},s().createElement(S.r,null,s().createElement(x.P,{md:3},s().createElement(P.x,{component:P.q.h4,className:"ins-c-rbac__bold-text"},"Group name")),s().createElement(x.P,{md:9},s().createElement(P.x,{component:P.q.p},n))),s().createElement(S.r,null,s().createElement(x.P,{md:3},s().createElement(P.x,{component:P.q.h4,className:"ins-c-rbac__bold-text"},"Group description")),s().createElement(x.P,{md:9},s().createElement(P.x,{component:P.q.p},r))),s().createElement(S.r,null,s().createElement(x.P,{md:3},s().createElement(P.x,{component:P.q.h4,className:"ins-c-rbac__bold-text"},"Roles")),s().createElement(x.P,{md:9},s().createElement(P.x,{component:P.q.p},a.map((function(e,t){return s().createElement(P.x,{className:"pf-u-mb-0",key:t},e.label)}))))),s().createElement(S.r,null,s().createElement(x.P,{md:3},s().createElement(P.x,{component:P.q.h4,className:"ins-c-rbac__bold-text"},"Members")),s().createElement(x.P,{md:9},s().createElement(P.x,{component:P.q.p},o.map((function(e,t){return s().createElement(P.x,{className:"pf-u-mb-0",key:t},e.label)}))))))))))};N.propTypes={name:_().string,description:_().string,groups:_().array};const q=N;var T=n(83115),A=n(59775),M=n(92607),F=n(45469),I=n(54526),U=n(39379),B=function(){var e=E()(b().mark((function e(t){var n,r;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,(0,I.bt)({limit:10,offset:0,name:t,nameMatch:"exact"}).catch((function(e){console.error(e)}));case 4:return r=e.sent,e.abrupt("return",(null==r||null===(n=r.data)||void 0===n?void 0:n.length)<=0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=(0,U.Z)(B),Z=function(e,t,n,r,o,a){var i;return s().createElement(c.Fragment,null,s().createElement(f.K,{hasGutter:!0},s().createElement(g.v,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},"Name and description")),s().createElement(g.v,null,s().createElement(T.l,null,s().createElement(A.c,{label:"Group name",isRequired:!0,fieldId:"group-name",helperTextInvalid:(null===(i=e.name)||void 0===i?void 0:i.trim().length)>0&&!o?"This group name already exists. Please input a unique group name.":"Required value",validated:r||void 0===e.name?"success":"error"},s().createElement(M.oi,{isRequired:!0,type:"text",id:"group-name",name:"group-name","aria-describedby":"group-name",value:e.name,validated:r||void 0===e.name?"default":"error",onChange:function(r,o){var i=o.currentTarget.value;t({name:i}),a(!0),E()(b().mark((function t(){var r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=void 0!==e.name,!t.t0){t.next=5;break}return t.next=4,z(i);case 4:t.t0=t.sent;case 5:r=t.t0,n(i.trim().length>0&&r),a(!1);case 8:case"end":return t.stop()}}),t)})))()}})),s().createElement(A.c,{label:"Group description",fieldId:"group-description"},s().createElement(F.Kx,{type:"text",id:"group-description",name:"group-description",value:e.description,onChange:function(e,n){return t({description:n.currentTarget.value})}}))))))};Z.propTypes={name:_().string,description:_().string};const K=Z;var V=n(32203),H=n(30159),W=n(94961),X=(n(33172),function(e){var t=e.selectedUsers,n=e.setSelectedUsers,r=e.title,o=e.description;return s().createElement(c.Fragment,null,s().createElement(T.l,null,s().createElement(f.K,{hasGutter:!0},r&&s().createElement(g.v,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},r)),s().createElement(g.v,null,s().createElement(G.D,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},"Add members"),s().createElement(W.Z,{description:o||"These are all of the users in your Red Hat organization. To manage users, go to your"}))),s().createElement(g.v,null,s().createElement(A.c,{fieldId:"select-user"},s().createElement(V.Z,null,s().createElement(H.i,{selectedUsers:t,setSelectedUsers:n})))))))});X.propTypes={selectedUsers:_().array,setSelectedUsers:_().func,title:_().string,description:_().string};const J=X;var Q=n(12830),$=n(71410),Y=n(17721);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e?e.reduce((function(e,t){var r=t.uuid,o=t.display_name,a=t.name,l=t.description;return[].concat(i()(e),[{uuid:r,cells:[o||a,l],selected:Boolean(n&&n.find((function(e){return e.uuid===r})))}])}),[]):[]},re=function(e){var t=e.roles,n=e.fetchRoles,r=e.isLoading,o=e.pagination,a=e.selectedRoles,i=e.canSort,l=e.setSelectedRoles,d=(0,c.useState)(""),m=u()(d,2),f=m[0],g=m[1],h=(0,c.useRef)([te({title:"Name",key:"display_name"},i?{transforms:[p.sortable]}:{orderBy:"name"}),{title:"Description"}]).current;return(0,c.useEffect)((function(){n({orderBy:"display_name"})}),[]),s().createElement(Y.M,{columns:h,isSelectable:!0,isCompact:!0,borders:!1,createRows:ne,data:t,filterValue:f,fetchData:function(e){return n((0,Q.jl)(e))},setFilterValue:function(e){var t=e.name;return g(t)},isLoading:r,ouiaId:"roles-table",pagination:o,checkedRows:a,setCheckedItems:function(e){l((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role"})};re.propTypes={history:_().shape({goBack:_().func.isRequired,push:_().func.isRequired}),roles:_().array,isLoading:_().bool,searchFilter:_().string,fetchRoles:_().func.isRequired,setSelectedRoles:_().func.isRequired,selectedRoles:_().array,pagination:_().shape({limit:_().number.isRequired,offset:_().number.isRequired,count:_().number}),canSort:_().bool},re.defaultProps={roles:[],pagination:$.eX,canSort:!0};const oe=(0,y.connect)((function(e){var t=e.roleReducer,n=t.roles,r=t.isLoading;return{roles:n.data,pagination:n.meta,isLoading:r}}),(function(e){return{fetchRoles:function(t){e((0,C.Kt)((0,Q.jl)(t)))},addNotification:function(){return e(D.addNotification.apply(void 0,arguments))}}}))(re);var ae=(0,y.connect)((function(e){var t=e.groupReducer.selectedGroup,n=t.addRoles.roles;return{roles:n,pagination:t.addRoles.pagination||te(te({},$.he),{},{count:n&&n.length}),isLoading:!t.addRoles.loaded,groupId:t.uuid}}),(function(e){return{fetchRoles:function(t,n){e((0,j.nr)(t,n))},addNotification:function(){return e(D.addNotification.apply(void 0,arguments))}}}),(function(e,t,n){return te(te(te(te({},n),e),t),{},{canSort:!1,fetchRoles:function(n){return t.fetchRoles(e.groupId,n)}})}))(re),ie=function(e){var t=e.selectedRoles,n=e.setSelectedRoles,r=e.title,o=e.description;return s().createElement(c.Fragment,null,s().createElement(T.l,null,s().createElement(f.K,{hasGutter:!0},r&&s().createElement(g.v,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},r)),s().createElement(g.v,null,s().createElement(G.D,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},"Add roles"),s().createElement(P.x,null,o||"Select one or more roles to add to this group."))),s().createElement(g.v,null,s().createElement(A.c,{fieldId:"select-role"},s().createElement(V.Z,null,s().createElement(oe,{selectedRoles:t,setSelectedRoles:n})))))))};ie.propTypes={selectedRoles:_().array,setSelectedRoles:_().func,title:_().string,description:_().string};const le=ie;var ue=n(2485),ce=n(9947),se=n(38424),de=n(75106),pe=n(43047),me=n(3428),fe=function(e){var t=e.setHideFooter;return(0,c.useEffect)((function(){return t(!0),function(){t(!1)}})),s().createElement(ce.u,{variant:ce.I.small},s().createElement(se.k,{color:me.ZP.value,icon:pe.ZP}),s().createElement(L.D,{headingLevel:"h4"},"Group name already taken"),s().createElement(de.B,null,"Please return to Step 1: Group information and choose a unique name for your group."),s().createElement(m.zx,{variant:"primary",onClick:function(){return document.getElementsByClassName("pf-c-wizard__nav-link")[0].click()}},"Return to Step 1"))};fe.propTypes={setHideFooter:_().func};const ge=fe;function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(36127);var ve=function(e){var t=e.addNotification,n=e.addGroup,r=e.postMethod,o=e.closeUrl,a=(0,c.useState)([]),i=u()(a,2),l=i[0],p=i[1],m=(0,c.useState)([]),f=u()(m,2),g=f[0],h=f[1],v=(0,c.useState)({}),y=u()(v,2),R=y[0],O=y[1],_=(0,c.useState)(!1),D=u()(_,2),j=D[0],C=D[1],k=(0,c.useState)(!1),S=u()(k,2),x=S[0],P=S[1],G=(0,c.useState)(!1),L=u()(G,2),N=L[0],T=L[1],A=(0,d.useHistory)(),M=[{name:"Name and description",component:new K(R,(function(e){O(be(be({},R),e))}),C,j,N,T),enableNext:j&&!N},{name:"Add roles",component:new le({formData:R,selectedRoles:g,setSelectedRoles:h}),canJumpTo:j&&!N},{name:"Add members",component:new J({formData:R,selectedUsers:l,setSelectedUsers:p}),canJumpTo:j&&!N},{name:"Review details",component:j?new q({values:R,selectedUsers:l,selectedRoles:g,setHideFooter:P}):s().createElement(ge,{setHideFooter:P}),nextButtonText:"Confirm",enableNext:j&&!N,canJumpTo:j&&!N}],F=function(){var e=E()(b().mark((function e(){var a,i,u;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=be(be({},R),{},{user_list:l?l.map((function(e){return{username:e.label}})):void 0,roles_list:g?g.map((function(e){return e.uuid})):void 0}),e.next=3,n(i);case 3:!0===(null==(u=e.sent)||null===(a=u.value)||void 0===a?void 0:a.error)?C(!1):(r(),t({variant:"success",title:"Success adding group",dismissDelay:8e3,dismissable:!1,description:"The group was added successfully."}),A.push(o));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){t({variant:"warning",title:"Adding group",dismissDelay:8e3,dismissable:!1,description:"Adding group was canceled by the user."}),A.push("/groups")},U=(0,c.useState)(!1),B=u()(U,2),z=B[0],Z=B[1];return s().createElement(s().Fragment,null,s().createElement(w.e,{className:z&&"ins-m-wizard__hidden",title:"Create group",description:"To give users access permissions, create a group and add roles and members to it.",isOpen:!0,onClose:function(){Object.values(R).filter(Boolean).length>0||g.length>0||l.length>0?Z(!0):I()},onSave:F,steps:M,footer:x?s().createElement("div",null):void 0}),s().createElement(ue.R,{type:"group",isOpen:z,onModalCancel:function(){return Z(!1)},onConfirmCancel:I}))};ve.defaultProps={users:[],inputValue:"",selectedUsers:[],selectedRoles:[],closeUrl:"/groups",postMethod:function(){}},ve.propTypes={addGroup:_().func.isRequired,addNotification:_().func.isRequired,fetchGroup:_().func.isRequired,inputValue:_().string,selectedUsers:_().array,match:_().object,postMethod:_().func,closeUrl:_().string};const Ee=(0,y.connect)((function(e){var t=e.roleReducer,n=t.roles.meta,r=t.filterValue;return{pagination:n,isLoading:t.isLoading,searchFilter:r}}),(function(e){return(0,R.bindActionCreators)({addNotification:D.addNotification,addGroup:j.Rp,fetchGroup:j.yi,fetchRoles:C.vd,fetchUsers:k.u},e)}))(ve);var ye=n(87242),Re=n(24154),Oe=n(73559),_e=n(80236),we=n(72389);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){var t=e.addNotification,n=e.updateGroup,r=e.postMethod,o=e.closeUrl,a=e.isOpen,i=e.group,l=e.onClose,p=(0,c.useState)(void 0),m=u()(p,2),f=m[0],g=m[1],h=(0,d.useHistory)(),b=(0,d.useRouteMatch)("/groups/edit/:id"),v=function(e){g(e)};(0,c.useEffect)((function(){b&&(0,j.yi)(b.params.id).payload.then((function(e){return v(e)})).catch((function(){return v(void 0)}))}),[]),(0,c.useEffect)((function(){g(i)}),[i]);var E=function(){t({variant:"warning",dismissDelay:8e3,dismissable:!1,title:f?"Editing group":"Adding group",description:f?"Edit group was canceled by the user.":"Adding group was canceled by the user."}),l(),h.push(o)},y={fields:[{name:"name",label:"Name",component:ye.Z.TEXT_FIELD,validate:[{type:Re.Z.REQUIRED}]},{name:"description",label:"Description",component:ye.Z.TEXTAREA}]};return s().createElement(_e.u,{variant:_e.v.medium,title:"Edit group's information",isOpen:a,onClose:E},f?s().createElement(we.Z,{schema:y,schemaType:"mozilla",onCancel:E,onSubmit:function(e){var t=je({},e);r?n(t).then((function(){return r()})).then(h.push(o)):n(t).then((function(){return h.push(o)}))},formContainer:"modal",initialValues:je({},f)}):s().createElement(Oe.O,null))};Ce.defaultProps={closeUrl:"/groups",onClose:function(){return null},onSubmit:function(){return null}},Ce.propTypes={addNotification:_().func.isRequired,fetchGroup:_().func.isRequired,inputValue:_().string,updateGroup:_().func.isRequired,postMethod:_().func,closeUrl:_().string,isOpen:_().bool,group:_().object,onClose:_().func};const ke=(0,y.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return(0,R.bindActionCreators)({addNotification:D.addNotification,updateGroup:j.mD,fetchGroup:j.yi},e)}))(Ce);var Se=n(93149),xe=n(69957),Pe=n(55917),Ge=(n(10325),function(e){var t=e.removeGroups,n=e.group,r=e.isLoading,o=e.fetchGroup,a=e.groupsUuid,i=e.isModalOpen,l=e.postMethod,p=e.closeUrl;(0,c.useEffect)((function(){1===a.length&&o(a[0].uuid)}),[]);var f=(0,d.useHistory)(),g=(0,c.useState)(!1),h=u()(g,2),b=h[0],v=h[1],E=a.length>1,y=function(){return f.goBack()};return s().createElement(_e.u,{isOpen:i,variant:_e.v.small,title:s().createElement(P.x,null,s().createElement(xe.ZP,{className:"delete-group-warning-icon"}),"  ",E?"Delete groups?":"Delete group?"),onClose:y,actions:[s().createElement(m.zx,{key:"submit",isDisabled:!b,variant:"danger",type:"button",onClick:function(){var e=a.map((function(e){return e.uuid}));t(e).then((function(){return l(e)})).then(f.push(p))}},E?"Delete groups":"Delete group"),s().createElement(m.zx,{key:"cancel",variant:"link",type:"button",onClick:y},"Cancel")]},s().createElement(G.D,null,E?s().createElement(P.x,null,"Deleting these ",s().createElement("b",null,a.length)," groups removes all roles from the members inside the group."):r?s().createElement(Pe.Z0,null):s().createElement(P.x,null,"Deleting the ",s().createElement("b",null,n.name)," group removes all roles from the members inside the group."))," ",s().createElement(Se.X,{isChecked:b,onChange:function(){return v(!b)},label:"I understand that this action cannot be undone.",id:"delete-group-check"}))});Ge.defaultProps={isModalOpen:!1,group:{},groupsUuid:[],isLoading:!0,closeUrl:"/groups"},Ge.propTypes={isModalOpen:_().bool,removeGroups:_().func.isRequired,fetchGroup:_().func.isRequired,postMethod:_().func,isLoading:_().bool,group:_().object,groupsUuid:_().array,closeUrl:_().string};const Le=(0,y.connect)((function(e){var t=e.groupReducer.selectedGroup;return{group:t,isLoading:!t.loaded}}),(function(e){return(0,R.bindActionCreators)({fetchGroup:j.yi,removeGroups:j.gg},e)}))(Ge);var Ne=n(89478),qe=n(91290),Te=n(37377),Ae=n(94184),Me=n.n(Ae),Fe=function(e){var t=e.uuid,n=(0,c.useState)(!1),r=u()(n,2),o=r[0],a=r[1],i=(0,c.useRef)(null);return s().createElement("span",{ref:i,key:"".concat(t,"-popover"),id:"default-group-popover"},s().createElement(Te.J,{zIndex:"110",position:"right",isVisible:o,shouldClose:function(){return a(!1)},hideOnOutsideClick:!0,bodyContent:"This group contains the roles that all users in your organization inherit by default.",appendTo:i.current},s().createElement(qe.ZP,{onClick:function(){return a(!o)},className:Me()("pf-c-question-circle-icon",{"icon-active":o})})))};Fe.propTypes={uuid:_().string.isRequired};var Ie=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.uuid,o=t.name,a=t.roleCount,l=t.principalCount,u=t.modified,p=t.platform_default;return[].concat(i()(e),[{uuid:r,isPlatformDefault:p,cells:[s().createElement(c.Fragment,{key:r},s().createElement("div",{className:"pf-m-inline-flex"},s().createElement(d.Link,{key:"".concat(r,"-link"),to:"/groups/detail/".concat(r)},o),p&&s().createElement(Fe,{uuid:r}))),a,l,s().createElement(c.Fragment,{key:"".concat(r,"-modified")},s().createElement(Ne.t,{date:u,type:"relative"}))],selected:Boolean(n&&n.find((function(e){return e.uuid===r})))}])}),[])},Ue=n(67154),Be=n.n(Ue),ze=n(90832),Ze=n(48099),Ke=(n(11284),function(e){var t=e.history.push,n=e.location.pathname,r=e.tabItems,o=e.isHeader,a=r.find((function(e){var t=e.name;return n.includes(t)}));return s().createElement(ze.m,{className:o?"ins-rbac-page-header__tabs":"",activeKey:a?a.eventKey:0,onSelect:function(e,n){return t(r[n].name)}},r.map((function(e){return s().createElement(Ze.O,{title:e.title,key:e.eventKey,eventKey:e.eventKey,name:e.name})})))});Ke.propTypes={location:_().shape({pathname:_().string.isRequired}),history:_().shape({push:_().func.isRequired}),tabItems:_().array.isRequired,isHeader:_().bool};const Ve=(0,d.withRouter)(Ke);var He=n(37671),We=n(69174),Xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.reduce((function(e,t){var r=t.is_active,o=t.username,a=t.email,l=t.first_name,u=t.last_name;return[].concat(i()(e),[{uuid:o,username:o,cells:[{title:s().createElement(We._,{color:r&&"green"},r?"Active":"Inactive"),props:{data:{isActive:r}}},o,a,u,l],selected:n.find((function(e){return e.uuid===o}))}])}),[])},Je=n(62394),Qe=n(52643),$e=function(e){var t=e.history.push,n=e.match.params.uuid,r=e.addNotification,o=e.closeUrl,a=e.addMembersToGroup,i=e.fetchMembersForGroup,l=(0,c.useState)([]),d=u()(l,2),p=d[0],h=d[1],b=function(){r({variant:"warning",title:"Adding member".concat(p.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(p.length>1?"s":""," to group was canceled by the user.")}),t(o)};return s().createElement(_e.u,{title:"Add members",variant:_e.v.medium,isOpen:!0,actions:[s().createElement(m.zx,{key:"confirm",ouiaId:"primary-confirm-button",isDisabled:0===p.length,variant:"primary",onClick:function(){var e=p.map((function(e){return{username:e.label}}));e.length>0&&(r({variant:"info",title:"Adding member".concat(e.length>1?"s":""," to group"),dismissDelay:8e3,dismissable:!1,description:"Adding member".concat(e.length>1?"s":""," to group initiated.")}),a(n,e).then((function(){return i(n)}))),t(o)}},"Add to group"),s().createElement(m.zx,{id:"add-groups-cancel",ouiaId:"secondary-cancel-button",key:"cancel",variant:"link",onClick:b},"Cancel")],onClose:b},s().createElement(f.K,{hasGutter:!0},s().createElement(g.v,null,s().createElement(G.D,null,s().createElement(W.Z,{description:"These are all of the users in your Red Hat organization. To manage users, go to your"}))),s().createElement(g.v,null,s().createElement(H.i,{selectedUsers:p,setSelectedUsers:h}))))};$e.defaultProps={users:[],inputValue:"",closeUrl:"/groups",selectedUsers:[]},$e.propTypes={history:_().shape({goBack:_().func.isRequired,push:_().func}).isRequired,addGroup:_().func.isRequired,addNotification:_().func.isRequired,fetchData:_().func.isRequired,fetchMembersForGroup:_().func.isRequired,inputValue:_().string,users:_().array,selectedUsers:_().array,match:_().object,closeUrl:_().string,addMembersToGroup:_().func.isRequired};const Ye=(0,d.withRouter)((0,y.connect)((function(e){return{isLoading:e.groupReducer.isLoading}}),(function(e){return(0,R.bindActionCreators)({addNotification:D.addNotification,addGroup:j.Rp,addMembersToGroup:j.dy,fetchMembersForGroup:j.nd},e)}))($e));var et=n(31158),tt=n(83341),nt=n(33723),rt=n(60306);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=[{title:"Status",transforms:[p.nowrap]},{title:"Username"},{title:"Email"},{title:"Last name"},{title:"First name"}],lt=function(e){var t=e.groupReducer,n=t.groups,r=t.selectedGroup;return{principals:r.members.data,pagination:r.members.meta,userIdentity:n.identity,groupName:r.name,platform_default:r.platform_default,isLoading:r.members.isLoading}},ut=function(e,t,n){return n?s().createElement("p",null,"These ",s().createElement("b",null," ","".concat(e))," members will lose all the roles associated with the ",s().createElement("b",null,"".concat(t))," group."):s().createElement("p",null,s().createElement("b",null,"".concat(e))," will lose all the roles associated with the ",s().createElement("b",null," ","".concat(t))," group.")};const ct=function(){var e=(0,c.useState)(""),t=u()(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),a=u()(o,2),l=a[0],p=a[1],f=(0,c.useState)(!1),g=u()(f,2),h=g[0],b=g[1],v=(0,c.useState)((function(){return null})),E=u()(v,2),R=E[0],O=E[1],_=(0,c.useState)({}),w=u()(_,2),D=w[0],C=w[1],k=(0,d.useParams)().uuid,S=(0,y.useSelector)(lt,y.shallowEqual),x=S.principals,L=S.pagination,N=S.groupName,q=S.userIdentity,T=S.isLoading,A=S.platform_default,M=(0,y.useDispatch)(),F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:L;M((0,j.nd)(k,e,t))};(0,c.useEffect)((function(){F()}),[]);var I=function(e){return M((0,j.tz)(k,e)).then((function(){p([]),F(void 0,at(at({},L),{},{offset:0}))}))},U=(0,d.useHistory)();return s().createElement(c.Fragment,null,s().createElement(tt.Z,{text:D.text,title:D.title,confirmButtonLabel:D.confirmButtonLabel,isOpen:h,onClose:function(){return b(!1)},onSubmit:function(){b(!1),R()}}),s().createElement(et.$,{type:"content",id:"tab-principals"},A?s().createElement(V.Z,null,s().createElement(Je.e,null,s().createElement(Qe.b,null,s().createElement(G.D,null,s().createElement(P.x,{component:P.q.h1},"All users in this organization are members of this group."))))):s().createElement(Y.M,{data:(x||[]).map((function(e){return at(at({},e),{},{uuid:e.username})})),isSelectable:q&&q.user&&q.user.is_org_admin,createRows:Xe,columns:it,routes:function(){return s().createElement(c.Fragment,null,s().createElement(d.Route,{path:rt._j.dZ,render:function(e){return s().createElement(Ye,Be()({fetchData:F,closeUrl:"/groups/detail/".concat(k,"/members")},e))}}))},actionResolver:function(){return q&&q.user&&q.user.is_org_admin?[{title:"Remove",onClick:function(e,t,n){O((function(){return function(){return I([n.username.title])}})),C({title:"Remove member?",text:ut(n.username.title,N,!1),confirmButtonLabel:"Remove member"}),b(!0)}}]:null},filterPlaceholder:"username",titlePlural:"members",titleSingular:"member",ouiaId:"members-table",pagination:L,filterValue:n,fetchData:function(e){var t=e.limit,n=e.offset,r=e.name;return F(r,{limit:t,offset:n})},setFilterValue:function(e){var t=e.name;return r(t)},checkedRows:l,isLoading:T,rowWrapper:nt.Z,setCheckedItems:function(e){p((function(t){return e(t)}))},toolbarButtons:function(){return i()(q&&q.user&&q.user.is_org_admin?[s().createElement(d.Link,{to:"/groups/detail/".concat(k,"/members/add_members"),key:"remove-from-group",className:"pf-m-visible-on-md"},s().createElement(m.zx,{variant:"primary","aria-label":"Add member"},"Add member")),{label:"Add member",props:{className:"pf-m-hidden-on-md"},onClick:function(){U.push("/groups/detail/".concat(k,"/members/add_members"))}},{label:"Remove",props:{isDisabled:!l||!l.length>0,variant:"danger"},onClick:function(){var e=l.length>1,t=e?"Remove members?":"Remove member?";O((function(){return function(){return I(l.map((function(e){return e.uuid})))}})),C({title:t,confirmButtonLabel:t,text:ut(e?l.length:l[0].uuid,N,e)}),b(!0)}}]:[])},emptyProps:{title:"There are no members in this group",description:["Add a user to configure user access.",""]}})))};var st=n(35224),dt=function(e){var t=e.isOpen,n=e.onClose,r=e.onSubmit;return s().createElement(tt.Z,{text:s().createElement(G.D,null,s().createElement(P.x,null,"Once you edit the ",s().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name will change to ",s().createElement("b",null,"Custom default access"),".")),title:"Warning",withCheckbox:!0,isOpen:t,confirmButtonLabel:"Continue",onClose:n,onSubmit:r})};dt.propTypes={onSubmit:_().func,onClose:_().func,isOpen:_().bool};const pt=dt;var mt=function(e){var t=e.history.push,n=e.match.params.uuid,r=e.selectedRoles,o=e.setSelectedRoles,a=e.title,i=e.closeUrl,l=e.addRolesToGroup,d=e.name,p=e.isDefault,h=e.isChanged,b=e.addNotification,v=e.onDefaultGroupChanged,E=e.fetchRolesForGroup,y=(0,c.useState)(!0),R=u()(y,2),O=R[0],_=R[1],w=function(){b({variant:"warning",title:"Adding roles to group",dismissDelay:8e3,dismissable:!1,description:"Adding roles to group was canceled by the user."}),t(i)};return p&&!h&&O?s().createElement(pt,{isOpen:O,onClose:w,onSubmit:function(){return _(!1)}}):s().createElement(_e.u,{title:"Add roles to group",variant:_e.v.medium,isOpen:!0,onClose:function(){w(),_(!0)},actions:[s().createElement(m.zx,{"aria-label":"Save",ouiaId:"primary-save-button",variant:"primary",key:"confirm",isDisabled:0===r.length,onClick:function(){var e=r.map((function(e){return e.uuid}));return l(n,e,E),p&&!h&&v(!0),t(i)}},"Add to group"),s().createElement(m.zx,{"aria-label":"Cancel",ouiaId:"secondary-cancel-button",variant:"link",key:"cancel",onClick:w},"Cancel")]},s().createElement(f.K,{hasGutter:!0},a&&s().createElement(g.v,null,s().createElement(L.D,{headingLevel:"h4",size:"xl"},a)),s().createElement(g.v,null,s().createElement(G.D,null,s().createElement(P.x,{component:P.q.p},"This role list has been filtered to only show roles that are not currently in ",s().createElement("b",null," ",d),"."))),s().createElement(g.v,null,s().createElement(V.Z,null,s().createElement(ae,{selectedRoles:r,setSelectedRoles:o})))))};mt.propTypes={history:_().shape({push:_().any,goBack:_().func.isRequired}).isRequired,match:_().shape({params:_().object.isRequired}).isRequired,selectedRoles:_().array,setSelectedRoles:_().func,addRolesToGroup:_().func,closeUrl:_().string,title:_().string,name:_().string,isDefault:_().bool,isChanged:_().bool,addNotification:_().func,onDefaultGroupChanged:_().func,fetchRolesForGroup:_().func};const ft=mt;var gt=function(e){var t=e.title,n=e.text,r=e.onClose,o=e.onSubmit,a=e.isOpen,i=e.confirmButtonLabel,l=e.isDefault,d=e.isChanged,p=(0,c.useState)(!0),m=u()(p,2),f=m[0],g=m[1];return l&&!d&&f?s().createElement(pt,{isOpen:f&&a,onClose:function(){r()},onSubmit:function(){g(!1)}}):s().createElement(tt.Z,{text:n,title:t,isOpen:a,confirmButtonLabel:i,onClose:function(){r(),g(!0)},onSubmit:function(){o()}})};gt.propTypes={text:_().node,title:_().node,confirmButtonLabel:_().string,onSubmit:_().func,onClose:_().func,isOpen:_().bool,isDefault:_().bool,isChanged:_().bool},gt.defaultProps={isDefault:!1,isChanged:!1};const ht=gt;function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(22886);var Et=[{title:"Name",orderBy:"name"},{title:"Description"},{title:"Last modified"}],yt=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return t?t.reduce((function(t,n){var o=n.uuid,a=n.display_name,l=n.name,u=n.description,p=n.modified;return[].concat(i()(t),[{uuid:o,title:a||l,cells:[s().createElement(c.Fragment,{key:"".concat(o,"-name")},s().createElement(d.Link,{to:"/groups/detail/".concat(e,"/roles/detail/").concat(o)},a||l)),u,s().createElement(c.Fragment,{key:"".concat(o,"-modified")},s().createElement(Ne.t,{date:p,type:"relative"}))],selected:Boolean(r&&r.find((function(e){return e.uuid===o})))}])}),[]):[]},Rt=function(e){var t=e.roles,n=e.fetchRoles,r=e.removeRoles,o=e.addRoles,a=e.fetchRolesForGroup,l=e.isLoading,p=e.pagination,f=e.match.params.uuid,g=e.userIdentity,h=e.name,b=e.isDefault,v=e.isChanged,E=e.onDefaultGroupChanged,y=e.fetchAddRolesForGroup,R=e.disableAddRoles,O=e.addNotification,_=(0,c.useState)(""),w=u()(_,2),D=w[0],j=w[1],C=(0,c.useState)(""),k=u()(C,2),S=k[0],x=k[1],P=(0,c.useState)([]),G=u()(P,2),L=G[0],N=G[1],q=(0,c.useState)([]),T=u()(q,2),A=T[0],M=T[1],F=(0,c.useState)(!1),I=u()(F,2),U=I[0],B=I[1],z=(0,c.useState)((function(){return null})),Z=u()(z,2),K=Z[0],V=Z[1],H=(0,c.useState)({}),W=u()(H,2),X=W[0],J=W[1];(0,c.useEffect)((function(){a(p)(f)}),[]),(0,c.useEffect)((function(){y(f)}),[t]);var Q=function(e,t,n){return s().createElement("p",null,"Members in the ",s().createElement("b",null,e)," group will lose the permissions in ",n?"these":"the",s().createElement("b",null," ",t)," role",n?"s":"",".")},$=(0,d.useHistory)();return s().createElement(s().Fragment,null,s().createElement(ht,{text:X.text,title:X.title,isOpen:U,isChanged:v,isDefault:b,confirmButtonLabel:X.confirmButtonLabel,onClose:function(){return B(!1)},onSubmit:function(){B(!1),K(),N([]),E(b&&!v)}}),s().createElement(et.$,{type:"content",id:"tab-roles"},s().createElement(Y.M,{columns:Et,isSelectable:g&&g.user&&g.user.is_org_admin,createRows:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yt.apply(void 0,[f].concat(t))},data:t,filterValue:S,fetchData:function(e){a(e)(f)},setFilterValue:function(e){var t=e.name,n=e.description;void 0!==t&&x(t),void 0!==n&&j(n)},isLoading:l,pagination:p,checkedRows:L,setCheckedItems:function(e){N((function(t){return e(t).map((function(e){var t=e.uuid,n=e.name;return{uuid:t,label:e.label||n}}))}))},titlePlural:"roles",titleSingular:"role",toolbarButtons:function(){return i()(g&&g.user&&g.user.is_org_admin?[s().createElement(d.Link,{className:"pf-m-visible-on-md ins-c-button__add-role".concat(R&&"-disabled"),to:"/groups/detail/".concat(f,"/roles/add_roles"),key:"add-to-group"},(e=R,n=s().createElement(m.zx,{variant:"primary","aria-label":"Add role",isAriaDisabled:e},"Add role"),e?s().createElement(st.u,{content:"All available roles have already been added to the group"},n):n)),{label:"Add role",props:{isDisabled:R,className:"pf-m-hidden-on-md"},onClick:function(){$.push("/groups/detail/".concat(f,"/roles/add_roles"))}},{label:"Remove",props:{isDisabled:!L||!L.length>0,variant:"danger"},onClick:function(){var e=L.length>1;V((function(){return function(){return r(f,L.map((function(e){return e.uuid})),(function(){return a(vt(vt({},p),{},{offset:0}))(f)}))}})),J({title:e?"Remove roles?":"Remove role?",confirmButtonLabel:L.length>1?"Remove roles":"Remove role",text:Q(h,e?L.length:t.find((function(e){return e.uuid===L[0].uuid})).name,e)}),B(!0)}}]:[]);var e,n},actionResolver:function(){return i()(g&&g.user&&g.user.is_org_admin?[{title:"Remove",onClick:function(e,t,n){V((function(){return function(){return r(f,[n.uuid],(function(){return a(vt(vt({},p),{},{offset:0}))(f)}))}})),J({title:"Remove role?",confirmButtonLabel:"Remove role",text:Q(h,n.title,!1)}),B(!0)}}]:[])},routes:function(){return s().createElement(c.Fragment,null,s().createElement(d.Route,{path:rt._j.Pc,render:function(e){return s().createElement(ft,Be()({fetchData:n,fetchRolesForGroup:function(){return a(vt(vt({},p),{},{offset:0}))(f)},selectedRoles:A,setSelectedRoles:M,closeUrl:"/groups/detail/".concat(f,"/roles"),addRolesToGroup:o,name:h,isDefault:b,isChanged:v,addNotification:O,onDefaultGroupChanged:E},e))}}))},ouiaId:"roles-table",emptyProps:{title:"There are no roles in this group",description:["Add a role to configure user access.",""]},filters:[{key:"name",value:S},{key:"description",value:D}]})))},Ot=function(e,t){return e.payload.then(t),e};Rt.propTypes={history:_().shape({goBack:_().func.isRequired,push:_().func.isRequired}),roles:_().array,isLoading:_().bool,searchFilter:_().string,fetchRoles:_().func.isRequired,fetchRolesForGroup:_().func.isRequired,fetchAddRolesForGroup:_().func.isRequired,selectedRoles:_().array,addRoles:_().func,name:_().string,removeRoles:_().func,pagination:_().shape({limit:_().number.isRequired,offset:_().number.isRequired,count:_().number}),match:_().shape({params:_().object.isRequired}).isRequired,userIdentity:_().shape({user:_().shape({is_org_admin:_().bool})}),isDefault:_().bool,isChanged:_().bool,onDefaultGroupChanged:_().func,disableAddRoles:_().bool.isRequired,addNotification:_().func},Rt.defaultProps={roles:[],pagination:$.eX,selectedRoles:[],userIdentity:{}};const _t=(0,y.connect)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.groups,o=n.roles;return{roles:o,pagination:n.pagination||vt(vt({},$.he),{},{count:o&&o.length}),isLoading:!n.loaded,userIdentity:r.identity,name:n.name,isDefault:n.platform_default,isChanged:!n.system,disableAddRoles:!(n.addRoles.pagination&&n.addRoles.pagination.count>0)}}),(function(e){return{fetchRoles:function(t){e((0,C.vd)((0,Q.jl)(t)))},addRoles:function(t,n,r){return e(Ot((0,j.Wj)(t,n),r))},removeRoles:function(t,n,r){return e(Ot((0,j.W3)(t,n),r))},fetchRolesForGroup:function(t){return function(n,r){return e((0,j.nV)(n,t,r))}},fetchAddRolesForGroup:function(t){return e((0,j.nr)(t,{},{}))},addNotification:function(){return e(D.addNotification.apply(void 0,arguments))},fetchGroup:function(t){return e((0,j.yi)(t))}}}))(Rt);var wt=n(43547),Dt=n(56715),jt=n(79851),Ct=n(34512),kt=n(84457),St=n(56787),xt=n(94024),Pt=n(53688),Gt=(n(54202),function(e){var t=e.match.params.uuid,n=e.group,r=e.fetchGroup,o=e.isFetching,a=[{eventKey:0,title:"Roles",name:"/groups/detail/".concat(t,"/roles")},{eventKey:1,title:"Members",name:"/groups/detail/".concat(t,"/members")}],i=(0,c.useState)(!1),l=u()(i,2),p=l[0],m=l[1],f=(0,c.useState)(!1),g=u()(f,2),h=g[0],b=g[1],v=function(e){r(e)},E=(0,y.useDispatch)(),R=(0,d.useLocation)();(0,c.useEffect)((function(){return v(t),insights.chrome.appObjectId(t),function(){return insights.chrome.appObjectId(void 0)}}),[]);var O,_=[s().createElement(kt.h,{component:s().createElement(d.Link,{to:(R.pathname.includes("members")?rt._j.Rx:rt._j.Xi).replace(":uuid",t)},"Edit"),key:"edit-group"}),s().createElement(kt.h,{component:s().createElement(d.Link,{to:(R.pathname.includes("members")?rt._j.Se:rt._j.ub).replace(":uuid",t)},"Delete"),className:"ins-c-group__action",key:"delete-group"})];return s().createElement(c.Fragment,null,s().createElement(He.Q,{breadcrumbs:[{title:"Groups",to:"/groups"},{title:o?void 0:n.name,isActive:!0}]},s().createElement(jt.P,{hasGutter:!0},s().createElement(Ct.J,{isFilled:!0},s().createElement(He.y,{title:!o&&n?s().createElement(c.Fragment,null,n.platform_default&&!n.system?(O=n.name,s().createElement("div",{style:{display:"inline-flex"}},O,s().createElement("div",{className:"pf-u-ml-sm"},s().createElement(Te.J,{"aria-label":"default-group-icon",bodyContent:s().createElement("div",null,"Now that you have edited the ",s().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name has changed to ",s().createElement("b",null,"Custom default access"),".")},s().createElement(Pt.ZP,{className:"ins-c-rbac__default-group-info-icon"}))))):n.name):void 0,description:!o&&n?n.description:void 0})),s().createElement(Ct.J,null,n.platform_default?null:s().createElement(St.L,{ouiaId:"group-title-actions-dropdown",toggle:s().createElement(xt.a,{onToggle:function(e){return m(e)},id:"group-actions-dropdown"}),isOpen:p,isPlain:!0,position:"right",dropdownItems:_}))),h?s().createElement(wt.b,{variant:"info",isInline:!0,title:"Default access group has changed",action:s().createElement(Dt.g,{onClose:function(){return b(!1)}}),className:"pf-u-mb-lg pf-u-mt-sm"},"Now that you have edited the ",s().createElement("b",null,"Default access")," group, the system will no longer update it with new default access roles. The group name has changed to ",s().createElement("b",null,"Custom default access"),"."):null),s().createElement(Ve,{isHeader:!0,tabItems:a}),s().createElement(d.Route,{path:[rt._j.ub,rt._j.Se],render:function(e){return s().createElement(Le,Be()({},e,{postMethod:function(){E((0,j.bt)())},isModalOpen:!0,groupsUuid:[n]}))}}),s().createElement(d.Route,{path:[rt._j.Xi,rt._j.Rx],render:function(e){return s().createElement(ke,Be()({},e,{isOpen:!0,group:n,closeUrl:"group/detail/".concat(t),postMethod:function(){v(t)}}))}}),s().createElement(d.Route,{path:rt._j.mh,render:function(e){return s().createElement(_t,Be()({},e,{onDefaultGroupChanged:b}))}}),s().createElement(d.Route,{path:rt._j.C1,component:ct}),s().createElement(d.Route,{render:function(){return s().createElement(d.Redirect,{to:"/groups/detail/".concat(t,"/roles")})}}),!n&&s().createElement(Pe.Wi,null))});Gt.propTypes={location:_().shape({pathname:_().string.isRequired}),history:_().shape({push:_().func.isRequired}),match:_().object,group:_().shape({uuid:_().string,name:_().string,description:_().string,platform_default:_().bool,system:_().bool}),isFetching:_().bool,fetchGroup:_().func},Gt.defaultProps={isFetching:!1};const Lt=(0,y.connect)((function(e){var t=e.groupReducer,n=t.selectedGroup,r=t.isRecordLoading,o=t.isRecordRolesLoading;return{group:n,isFetching:r||o}}),(function(e){return(0,R.bindActionCreators)({fetchGroup:j.yi},e)}))(Gt);var Nt=n(93537),qt=n(6479),Tt=n.n(qt),At=function(e){var t=e.className,n=e.row,r=Tt()(e,["className","row"]);return s().createElement(p.RowWrapper,Be()({className:Me()(t,{"ins-c-rbac__group-default":n.isPlatformDefault}),row:n},r))};At.propTypes={row:_().shape({isPlatformDefault:_().bool}),className:_().string};const Mt=At;n(82414);var Ft=n(6562);function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=[{title:"Name",key:"name",transforms:[p.sortable]},{title:"Roles"},{title:"Members"},{title:"Last modified",key:"modified",transforms:[p.sortable]}];const zt=function(){var e=(0,c.useState)(""),t=u()(e,2),n=t[0],r=t[1],o=(0,c.useState)([]),a=u()(o,2),l=a[0],p=a[1],h=(0,c.useState)([]),b=u()(h,2),v=b[0],E=b[1],R=(0,y.useDispatch)(),O=(0,y.useSelector)((function(e){var t,r,o=e.groupReducer,a=o.groups,l=o.isLoading,u=o.systemGroup;return{groups:[].concat(i()((null==u||null===(t=u.name)||void 0===t?void 0:t.match(new RegExp(n,"i")))?[u]:[]),i()((null==a||null===(r=a.data)||void 0===r?void 0:r.filter((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.platform_default;return!t})))||[])),pagination:a.meta,userIdentity:a.identity,isLoading:l,systemGroup:u}}),y.shallowEqual),_=O.groups,w=O.pagination,D=O.userIdentity,C=O.isLoading;(0,c.useEffect)((function(){insights.chrome.appNavClick({id:"groups",secondaryNav:!0}),R((0,j.bt)(Ut(Ut({},w),{},{name:n}))),R((0,j.WD)(n))}),[]);var k=(0,d.useHistory)(),S=function(e){p((function(t){return e(t).filter((function(e){return!e.platform_default})).map((function(e){return{uuid:e.uuid,label:e.name}}))}))},x=function(){return s().createElement(c.Fragment,null,s().createElement(d.Route,{exact:!0,path:rt._j.BC},s().createElement(Ee,{postMethod:function(e){R((0,j.bt)(e)),r("")}})),s().createElement(d.Route,{exact:!0,path:rt._j.M5.E},s().createElement(ke,{postMethod:function(e){R((0,j.bt)(e)),r("")},isOpen:!0})),s().createElement(d.Route,{exact:!0,path:rt._j.jz},s().createElement(Le,{postMethod:function(e){R((0,j.bt)()),p(l.filter((function(t){return!e.includes(t.uuid)}))),r("")},isModalOpen:!0,groupsUuid:v})))},P=function(e){return e.isPlatformDefault||!(D&&D.user&&D.user.is_org_admin)?null:[{title:"Edit",onClick:function(e,t,n){k.push("/groups/edit/".concat(n.uuid))}},{title:"Delete",onClick:function(e,t,n){E([n]),k.push(rt._j.jz)}}]},G=function(){return i()(D&&D.user&&D.user.is_org_admin?[s().createElement(d.Link,{to:rt._j.BC,key:"add-group",className:"pf-m-visible-on-md"},s().createElement(m.zx,{ouiaId:"create-group-button",variant:"primary","aria-label":"Create group"},"Create group")),{label:"Create group",props:{className:"pf-m-hidden-on-md"},onClick:function(){k.push(rt._j.BC)}},{label:"Edit",props:{isDisabled:!(1===l.length)},onClick:function(){return k.push("/groups/edit/".concat(l[0].uuid))}},{label:"Delete",props:{isDisabled:!l.length>0},onClick:function(){E(l),k.push(rt._j.jz)}}]:[])};return s().createElement(d.Switch,null,s().createElement(Ft.Z,{pageAction:"role-detail",path:rt._j.T1,render:function(e){return s().createElement(Nt.Z,e)}}),s().createElement(Ft.Z,{pageAction:"group-detail",path:rt._j.fe,render:function(e){return s().createElement(Lt,e)}}),s().createElement(Ft.Z,{pageAction:"group-list",path:rt._j.Xx,render:function(){return s().createElement(f.K,null,s().createElement(g.v,null,s().createElement(He.Q,{paddingBottom:!0},s().createElement(He.y,{title:"Groups"}))),s().createElement(g.v,null,s().createElement(et.$,{type:"content",id:"tab-groups"},s().createElement(Y.M,{data:_.map((function(e){return e.platform_default?Ut(Ut({},e),{},{principalCount:"All"}):e})),createRows:Ie,columns:Bt,isSelectable:D&&D.user&&D.user.is_org_admin,checkedRows:l,setCheckedItems:S,routes:x,actionResolver:P,titlePlural:"groups",titleSingular:"group",ouiaId:"groups-table",pagination:w,filterValue:n,fetchData:function(e){return R((0,j.bt)(e))},setFilterValue:function(e){var t=e.name;return r(t)},toolbarButtons:G,isLoading:C,filterPlaceholder:"name",rowWrapper:Mt}))))}}))}},11284:(e,t,n)=>{var r=n(93379),o=n(10115);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(10115,(function(){"string"==typeof(o=(o=n(10115)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},36127:(e,t,n)=>{var r=n(93379),o=n(70465);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(70465,(function(){"string"==typeof(o=(o=n(70465)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},54202:(e,t,n)=>{var r=n(93379),o=n(49869);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(49869,(function(){"string"==typeof(o=(o=n(49869)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},82414:(e,t,n)=>{var r=n(93379),o=n(53916);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(53916,(function(){"string"==typeof(o=(o=n(53916)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},10325:(e,t,n)=>{var r=n(93379),o=n(77842);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(77842,(function(){"string"==typeof(o=(o=n(77842)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}},22886:(e,t,n)=>{var r=n(93379),o=n(90102);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.id,o,""]]);var a=r(o,{insert:"head",singleton:!1});if(!o.locals||e.hot.invalidate){var i=o.locals;e.hot.accept(90102,(function(){"string"==typeof(o=(o=n(90102)).__esModule?o.default:o)&&(o=[[e.id,o,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,o.locals)?(i=o.locals,a(o)):e.hot.invalidate()}))}e.hot.dispose((function(){a()})),e.exports=o.locals||{}}}]);
//# sourceMappingURL=182.7308075ad1308e66af5a.js.map