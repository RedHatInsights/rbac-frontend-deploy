"use strict";(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[5781],{84414:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(62012),r=n(64756);const l=e=>{const t=(0,a.useNavigate)();return(n,a)=>t((0,r.n)(n,e),a)}},55781:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var a=n(28416),r=n.n(a),l=n(45697),s=n.n(l),o=n(86706),i=n(62012),c=n(25387),u=n(70214),m=n.n(u),d=n(31055),h=n(94269),p=n(94229),g=n(64380),b=n(57043),f=n(18444),E=n(83215),k=n(13563),v=n(19443),R=n(76181),C=n(84414),y=n(2550);const x=({cancelRoute:e,submitRoute:t=e,afterSubmit:n,isLoading:l})=>{const s=(0,c.YB)(),{roleId:u}=(0,i.useParams)(),x=u.split(","),S=(0,o.useSelector)((e=>1===x.length?(0,R.B)(e,x[0]):x.length)),[T,Z]=(0,a.useState)(!0),[B,q]=(0,a.useState)(S),I=(0,o.useDispatch)(),M=(0,C.Z)();(0,a.useEffect)((()=>{x&&S?q(S):x&&1===x.length&&(0,v.fp)(x[0]).then((e=>q(e.display_name))).catch((e=>I((0,E.wN)({variant:"danger",title:"Could not get role",description:e?.errors?.[0]?.detail}))))}),[S,x]);const w=()=>M(e,{replace:!0});return B?l?null:r().createElement(p.Modal,{className:"rbac","aria-label":"remove-role",header:r().createElement(g.TextContent,null,r().createElement(b.Split,{hasGutter:!0},r().createElement(b.SplitItem,null,r().createElement(f.Icon,{size:"lg"},r().createElement(m(),{style:{fill:"#f0ab00"}}))),r().createElement(b.SplitItem,null,r().createElement(g.Text,{component:"h1"},s.formatMessage(y.Z.deleteRoleQuestion))))),isOpen:!0,variant:"small",onClose:w,actions:[r().createElement(d.Button,{isDisabled:T,key:"submit",variant:"danger",type:"button",id:"confirm-delete-portfolio",onClick:()=>{Promise.all(x.map((e=>I((0,k.l5)(e))))).then((()=>n())),M(t)}},s.formatMessage(y.Z.confirm)),r().createElement(d.Button,{key:"cancel",variant:"link",type:"button",onClick:w},s.formatMessage(y.Z.cancel))]},r().createElement(g.TextContent,null,r().createElement(g.Text,{component:g.TextVariants.p},r().createElement(c._H,{...y.Z.roleWilBeRemovedWithPermissions,values:{strong:e=>r().createElement("strong",null,e),name:B,count:x.length}})),r().createElement(h.Checkbox,{id:"remove-role-checkbox",role:"checkbox","aria-label":"Confirm role removal",name:"remove-role-checkbox",label:s.formatMessage(y.Z.understandActionIrreversible),isChecked:!T,onChange:()=>Z((e=>!e))}))):null};x.propTypes={cancelRoute:s().oneOfType([s().string,s().shape({pathname:s().string.isRequired,search:s().string,hash:s().string})]).isRequired,submitRoute:s().oneOfType([s().string,s().shape({pathname:s().string.isRequired,search:s().string,hash:s().string})]),afterSubmit:s().func.isRequired,isLoading:s().bool.isRequired};const S=x},76181:(e,t,n)=>{n.d(t,{B:()=>r,z:()=>a});const a=(e,t)=>{const{roleReducer:{roles:n={data:[]},selectedRole:a}}=e;return a?.uuid===t?a:n.data.find((({uuid:e})=>e===t))},r=(e,t)=>a(e,t)?.display_name}}]);
//# sourceMappingURL=../sourcemaps/5781.16836ea8300c7377746b84ea932ef360.js.map