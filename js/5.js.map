{"version":3,"sources":["webpack:///./src/smart-components/group/add-group/users-list.js","webpack:///./src/helpers/user/user-helper.js","webpack:///./src/redux/actions/user-actions.js","webpack:///./src/smart-components/user/users.js"],"names":["columns","title","key","transforms","sortable","createRows","data","expanded","checkedRows","reduce","acc","username","email","first_name","last_name","uuid","cells","selected","Boolean","find","row","UsersList","users","fetchUsers","isLoading","pagination","selectedUsers","setSelectedUsers","props","useState","filterValue","setFilterValue","useEffect","isSelectable","isCompact","borders","fetchData","config","mappedProps","name","toggleTemplate","firstIndex","lastIndex","setCheckedItems","newSelection","map","label","sortBy","index","direction","filterPlaceholder","titlePlural","titleSingular","propTypes","history","PropTypes","shape","goBack","func","isRequired","push","array","bool","searchFilter","string","limit","number","offset","count","object","defaultProps","defaultCompactSettings","connect","userReducer","isUserDataLoading","meta","dispatch","apiProps","addNotification","principalApi","getPrincipalApi","type","ActionTypes","payload","sortOrder","orderBy","listPrincipals","then","Users","isProd","window","insights","chrome","description","component","TextVariants","a","href","paddingBottm","id"],"mappings":"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","file":"js/5.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { mappedProps } from '../../../helpers/shared/helpers';\nimport { defaultCompactSettings } from '../../../helpers/shared/pagination';\nimport { TableToolbarView } from '../../../presentational-components/shared/table-toolbar-view';\nimport { fetchUsers } from '../../../redux/actions/user-actions';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { sortable } from '@patternfly/react-table';\n\nconst columns = [\n  { title: 'Username', key: 'username', transforms: [ sortable ]},\n  { title: 'Email' },\n  { title: 'First name' },\n  { title: 'Last name' }\n];\n\nconst createRows = (data, expanded, checkedRows = []) => {\n  return data ? data.reduce((acc, { username, email, first_name, last_name }) => ([\n    ...acc, {\n      uuid: username,\n      cells: [ username, email, first_name, last_name ],\n      selected: Boolean(checkedRows && checkedRows.find(row => row.uuid === username))\n    }\n  ]), []) : [];\n};\n\nconst UsersList = ({ users, fetchUsers, isLoading, pagination, selectedUsers, setSelectedUsers, props }) => {\n  const [ filterValue, setFilterValue ] = useState('');\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const setCheckedItems = (newSelection) => {\n    setSelectedUsers((users) => {\n      return newSelection(users).map(({ uuid, name, username, label }) => ({ uuid, label: label || name || username }));\n    });\n  };\n\n  return <TableToolbarView\n    columns={ columns }\n    isSelectable={ true }\n    isCompact={ true }\n    borders={ false }\n    createRows={ createRows }\n    data={ users }\n    filterValue={ filterValue }\n    fetchData={ (config) => fetchUsers(mappedProps(config)) }\n    setFilterValue={ ({ name }) => setFilterValue(name) }\n    isLoading={ isLoading }\n    pagination={ {\n      ...pagination,\n      // eslint-disable-next-line react/display-name, react/prop-types\n      toggleTemplate: ({ firstIndex, lastIndex }) => <b>{ `${firstIndex} - ${lastIndex}` }</b>\n    } }\n    checkedRows={ selectedUsers }\n    setCheckedItems={ setCheckedItems }\n    sortBy={ {\n      index: 0,\n      direction: 'asc'\n    } }\n    filterPlaceholder=\"username\"\n    titlePlural=\"users\"\n    titleSingular=\"user\"\n    { ...props }\n  />;\n};\n\nconst mapStateToProps = ({ userReducer: { users, isUserDataLoading }}) => {\n  return {\n    users: users.data && users.data.map(data => ({ ...data, uuid: data.username })),\n    pagination: users.meta,\n    isLoading: isUserDataLoading\n  };};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUsers: (apiProps = { limit: 10, offset: 0 }) => {\n      dispatch(fetchUsers(mappedProps(apiProps)));\n    },\n    addNotification: (...props) => dispatch(addNotification(...props))\n  };\n};\n\nUsersList.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired\n  }),\n  users: PropTypes.array,\n  isLoading: PropTypes.bool,\n  searchFilter: PropTypes.string,\n  fetchUsers: PropTypes.func.isRequired,\n  setSelectedUsers: PropTypes.func.isRequired,\n  selectedUsers: PropTypes.array,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number,\n    count: PropTypes.number\n  }),\n  props: PropTypes.object\n};\n\nUsersList.defaultProps = {\n  users: [],\n  pagination: defaultCompactSettings,\n  selectedUsers: [],\n  setSelectedUsers: () => undefined\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);\n","import { getPrincipalApi } from '../shared/user-login';\n\nconst principalApi = getPrincipalApi();\n\nexport function fetchUsers({ limit, offset, name, orderBy }) {\n  const sortOrder = orderBy === '-username' ? ('desc') : ('asc');\n  return principalApi.listPrincipals(limit, offset, name, sortOrder).then(({ data, meta }) => {\n    return {\n      data,\n      meta: {\n        ...meta,\n        offset,\n        limit\n      }\n    };\n  });\n}\n","import * as ActionTypes from '../action-types';\nimport * as UserHelper from '../../helpers/user/user-helper';\n\nexport const fetchUsers = (apiProps) => ({\n  type: ActionTypes.FETCH_USERS,\n  payload: UserHelper.fetchUsers(apiProps)\n});\n\n","import React from 'react';\nimport { Stack, StackItem, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport UsersList from '../group/add-group/users-list';\n\nconst Users = () => {\n  const isProd = window.insights.chrome.isProd;\n  const description = (<TextContent>\n    <Text>\n    These are the users in your organization. To add new users to your organization, go to{ ' ' }\n      <Text\n        component={ TextVariants.a }\n        href={ `https://www.${isProd ? '' : 'qa.'}redhat.com/wapps/ugc/protected/usermgt/userList.html` }>\n      user management list.\n      </Text>\n    </Text>\n  </TextContent>);\n\n  return (\n    <Stack >\n      <StackItem>\n        <TopToolbar paddingBottm={ false }>\n          <TopToolbarTitle\n            title=\"Users\"\n            description={ description }\n          />\n        </TopToolbar>\n      </StackItem>\n      <StackItem>\n        <Section type=\"content\" id={ 'users' }>\n          <UsersList\n            props={ {\n              isSelectable: false,\n              isCompact: false\n            } }\n          />\n        </Section>\n      </StackItem>\n    </Stack >\n  );\n};\n\nUsers.propTypes = {\n\n};\n\nUsers.defaultProps = {\n\n};\n\nexport default Users;\n"],"sourceRoot":""}