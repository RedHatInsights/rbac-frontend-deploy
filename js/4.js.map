{"version":3,"sources":["webpack:///./src/helpers/user/user-helper.js","webpack:///./src/redux/actions/user-actions.js","webpack:///./src/smart-components/group/add-group/users-list.js","webpack:///./src/smart-components/user/users.js"],"names":["principalApi","getPrincipalApi","fetchUsers","limit","offset","name","listPrincipals","then","data","meta","isLast","length","currData","slice","count","Infinity","apiProps","type","ActionTypes","payload","UserHelper","columns","title","orderBy","createRows","expanded","checkedRows","reduce","acc","username","email","first_name","last_name","uuid","cells","selected","Boolean","find","row","UsersList","users","isLoading","pagination","selectedUsers","setSelectedUsers","props","useState","filterValue","setFilterValue","useEffect","setCheckedItems","newSelection","map","label","config","mappedProps","noBottom","toggleTemplate","firstIndex","lastIndex","mapStateToProps","userReducer","isUserDataLoading","mapDispatchToProps","dispatch","addNotification","propTypes","history","PropTypes","shape","goBack","func","isRequired","push","array","bool","searchFilter","string","number","object","defaultProps","defaultCompactSettings","undefined","connect","Users","isProd","window","insights","chrome","description","TextVariants","a","isSelectable","isCompact"],"mappings":"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","file":"js/4.js","sourcesContent":["import { getPrincipalApi } from '../shared/user-login';\n\nconst principalApi = getPrincipalApi();\n\nexport function fetchUsers({ limit, offset, name }) {\n  return principalApi.listPrincipals(limit + 1, offset, name).then(({ data, meta }) => {\n    const isLast = !data || data.length <= limit;\n    const currData = data.slice(0, limit);\n    return {\n      data: currData,\n      meta: {\n        ...meta,\n        offset,\n        limit,\n        count: meta.count === null ? (!isLast ? Infinity : ((offset || 0) + currData.length)) : meta.count\n      }\n    };\n  });\n}\n","import * as ActionTypes from '../action-types';\nimport * as UserHelper from '../../helpers/user/user-helper';\n\nexport const fetchUsers = (apiProps) => ({\n  type: ActionTypes.FETCH_USERS,\n  payload: UserHelper.fetchUsers(apiProps)\n});\n\n","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { mappedProps } from '../../../helpers/shared/helpers';\nimport { defaultCompactSettings } from '../../../helpers/shared/pagination';\nimport { TableToolbarView } from '../../../presentational-components/shared/table-toolbar-view';\nimport { fetchUsers } from '../../../redux/actions/user-actions';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\n\nconst columns = [\n  { title: 'Username', orderBy: 'name' },\n  { title: 'Email' },\n  { title: 'First name' },\n  { title: 'Last name' }\n];\n\nconst createRows = (data, expanded, checkedRows = []) => {\n  return data ? data.reduce((acc, { username, email, first_name, last_name }) => ([\n    ...acc, {\n      uuid: username,\n      cells: [ username, email, first_name, last_name ],\n      selected: Boolean(checkedRows && checkedRows.find(row => row.uuid === username))\n    }\n  ]), []) : [];\n};\n\nconst UsersList = ({ users, fetchUsers, isLoading, pagination, selectedUsers, setSelectedUsers, props }) => {\n  const [ filterValue, setFilterValue ] = useState('');\n\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n\n  const setCheckedItems = (newSelection) => {\n    setSelectedUsers((users) => {\n      return newSelection(users).map(({ uuid, name, username, label }) => ({ uuid, label: label || name || username }));\n    });\n  };\n\n  return <TableToolbarView\n    columns={ columns }\n    isSelectable={ true }\n    isCompact={ true }\n    borders={ false }\n    createRows={ createRows }\n    data={ users }\n    filterValue={ filterValue }\n    fetchData={ (config) => fetchUsers(mappedProps(config)) }\n    setFilterValue={ ({ name }) => setFilterValue(name) }\n    isLoading={ isLoading }\n    pagination={ {\n      ...pagination,\n      noBottom: true,\n      // eslint-disable-next-line react/display-name, react/prop-types\n      toggleTemplate: ({ firstIndex, lastIndex }) => <b>{ `${firstIndex} - ${lastIndex}` }</b>\n    } }\n    checkedRows={ selectedUsers }\n    setCheckedItems={ setCheckedItems }\n    filterPlaceholder=\"username\"\n    titlePlural=\"users\"\n    titleSingular=\"user\"\n    { ...props }\n  />;\n};\n\nconst mapStateToProps = ({ userReducer: { users, isUserDataLoading }}) => {\n  return {\n    users: users.data && users.data.map(data => ({ ...data, uuid: data.username })),\n    pagination: users.meta,\n    isLoading: isUserDataLoading\n  };};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchUsers: (apiProps = { limit: 10, offset: 0 }) => {\n      dispatch(fetchUsers(mappedProps(apiProps)));\n    },\n    addNotification: (...props) => dispatch(addNotification(...props))\n  };\n};\n\nUsersList.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired\n  }),\n  users: PropTypes.array,\n  isLoading: PropTypes.bool,\n  searchFilter: PropTypes.string,\n  fetchUsers: PropTypes.func.isRequired,\n  setSelectedUsers: PropTypes.func.isRequired,\n  selectedUsers: PropTypes.array,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number.isRequired,\n    count: PropTypes.number\n  }),\n  props: PropTypes.object\n};\n\nUsersList.defaultProps = {\n  users: [],\n  pagination: defaultCompactSettings,\n  selectedUsers: [],\n  setSelectedUsers: () => undefined\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);\n","import React from 'react';\nimport { Stack, StackItem, Text, TextContent, TextVariants } from '@patternfly/react-core';\nimport { TopToolbar, TopToolbarTitle } from '../../presentational-components/shared/top-toolbar';\nimport { Section } from '@redhat-cloud-services/frontend-components';\nimport UsersList from '../group/add-group/users-list';\n\nconst Users = () => {\n  const isProd = window.insights.chrome.isProd;\n  const description = (<TextContent>\n    <Text>\n    These are the users in your organization. To add new users to your organization, go to{ ' ' }\n      <Text\n        component={ TextVariants.a }\n        href={ `https://www.${isProd ? '' : 'qa.'}redhat.com/wapps/ugc/protected/usermgt/userList.html` }>\n      user management list.\n      </Text>\n    </Text>\n  </TextContent>);\n\n  return (\n    <Stack >\n      <StackItem>\n        <TopToolbar paddingBottm={ false }>\n          <TopToolbarTitle\n            title=\"Users\"\n            description={ description }\n          />\n        </TopToolbar>\n      </StackItem>\n      <StackItem>\n        <Section type=\"content\" id={ 'users' }>\n          <UsersList\n            props={ {\n              isSelectable: false,\n              isCompact: false\n            } }\n          />\n        </Section>\n      </StackItem>\n    </Stack >\n  );\n};\n\nUsers.propTypes = {\n\n};\n\nUsers.defaultProps = {\n\n};\n\nexport default Users;\n"],"sourceRoot":""}