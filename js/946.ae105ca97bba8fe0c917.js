(self.webpackChunkinsights_rbac_frontend=self.webpackChunkinsights_rbac_frontend||[]).push([[946],{54762:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-c-mua-bundles__card--header{font-weight:300}.ins-c-mua-bundles__card--body{color:var(--pf-global--Color--200)}.ins-c-mua-bundles__card--applist{display:flex;flex-direction:column;color:var(--pf-global--Color--400)}.ins-c-mua-bundles__card--applist span{text-transform:capitalize}.ins-c-mua-bundles__card--applist span+span{margin-top:var(--pf-global--spacer--sm)}.ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist{display:grid;grid-template-columns:auto auto;gap:var(--pf-global--spacer--sm)}.ins-c-mua-bundles__card--insights .ins-c-mua-bundles__card--applist span{margin-top:0}.ins-c-mua-bundles__card--disabled{background:var(--pf-global--disabled-color--300)}.ins-c-mua-bundles__card+.ins-c-mua-bundles__card{margin-top:var(--pf-global--spacer--md)}.ins-c-mua-bundles__cardlink{color:inherit}.ins-c-mua-bundles__cardlink:hover{text-decoration:none}.ins-c-mua-bundles__cardlink--disabled{pointer-events:none}\n",""]),e.exports=t},41140:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".ins-l-myUserAccess-section__cards--unentitled .pf-c-title{border-top:1px solid var(--pf-global--BorderColor--100);padding-top:var(--pf-global--spacer--md)}.ins-l-myUserAccess-section__cards--unentitled .ins-c-mua-cardWrapper{cursor:not-allowed}\n",""]),e.exports=t},358:(e,t,n)=>{(t=n(23645)(!1)).push([e.id,".page__myUserAccess .ins-p-myUserAccess--title{display:flex;align-items:center;background-color:var(--pf-global--BackgroundColor--100);padding:var(--pf-global--spacer--md)}.page__myUserAccess .ins-p-myUserAccess--title .pf-c-label{margin-left:var(--pf-global--spacer--md)}.page__myUserAccess .ins-p-myUserAccess--subtitle{position:relative;background-color:var(--pf-global--BackgroundColor--100);box-shadow:var(--pf-global--BoxShadow--md-bottom);padding:0 var(--pf-global--spacer--md);padding-bottom:var(--pf-global--spacer--md)}.page__myUserAccess .ins-p-myUserAccess--dropdown{display:none}.page__myUserAccess .ins-l-myUserAccess-section__cards,.page__myUserAccess .ins-l-myUserAccess-section__table{background-color:var(--pf-global--BackgroundColor--100);height:calc(100vh - 111px - 70px);padding:0 var(--pf-global--spacer--lg);overflow-x:auto}.page__myUserAccess .ins-l-myUserAccess-section__cards h3,.page__myUserAccess .ins-l-myUserAccess-section__table h3{padding:var(--pf-global--spacer--lg) 0}.page__myUserAccess .ins-l-myUserAccess-section__cards{border-right:1px solid var(--pf-global--BorderColor--100)}@media only screen and (max-width: 768px){.page__myUserAccess .sticky{position:sticky;position:-webkit-sticky;background-color:var(--pf-global--BackgroundColor--100);height:60px;width:100%;z-index:200}.page__myUserAccess .ins-p-myUserAccess--title{padding:var(--pf-global--spacer--xl) var(--pf-global--spacer--lg) var(--pf-global--spacer--md) var(--pf-global--spacer--lg);top:0}.page__myUserAccess .ins-p-myUserAccess--subtitle{box-shadow:none;padding:0 var(--pf-global--spacer--lg) var(--pf-global--spacer--lg) var(--pf-global--spacer--lg);background-color:var(--pf-global--BackgroundColor--100)}.page__myUserAccess .ins-p-myUserAccess--dropdown{display:block;padding:0 var(--pf-global--spacer--lg);top:60px}.page__myUserAccess .ins-l-myUserAccess-section__table{height:auto;margin:var(--pf-global--spacer--md)}.page__myUserAccess .ins-l-myUserAccess-section__table>.pf-c-title{display:none}}\n",""]),e.exports=t},63946:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var s=n(63038),a=n.n(s),r=n(80150),i=n.n(r),c=n(68433),l=n(68340),o=n(2372),p=n(45697),d=n.n(p),u=n(69174),m=n(35224),g=function(e){return e.isOrgAdmin?i().createElement(m.u,{position:m.D.right,content:i().createElement("span",null," You can manage other users' permissions with 'User access' ")},i().createElement(u._,{color:"purple"}," Org. Administrator ")):i().createElement(i().Fragment,null)};g.propTypes={isOrgAdmin:d().bool};const f=g;n(52181);var b=n(50693),_=n(16475),h=n(49739),y=n(83826),v=n(60485),O=n(47194),A=n(94184),E=n.n(A),U=n(60306),w=n(32203),j=n(70),k=n(62394),x=[{entitlement:"insights",title:"Insights",apps:{dashboard:"/dashboard",patch:"/patch",advisor:"/advisor",drift:"/drift",vulnerability:"/vulnerability",policies:"/policies",compliance:"/compliance"},appsIds:["dashboard","patch","advisor","drift","vulnerability","policies","compliance","inventory"]},{entitlement:"openshift",title:"Openshift Cluster Manager",apps:{"cluster manager":"/"}},{entitlement:"ansible",title:"Ansible Automation Platform",apps:{"automation analytics":"/automation-analytics","automation hub":"/automation-hub","automation services catalog":"/catalog"},appsIds:["catalog","approval","automation-analytics","automation-hub"]},{entitlement:"cost_management",title:"Cost Management",apps:{"cost management":"/"},appsIds:["cost-management"]},{entitlement:"migrations",title:"Migration Services",apps:{"migration analytics":"/migration-analytics"},appsIds:["migration-analytics"]},{entitlement:"subscriptions",title:"Subscription Watch",apps:{"Red Hat Enterprise Linux":"/rhel-sw","Red Hat OpenShift":"/openshift-sw"},appsIds:["subscriptions"]}],P=n(59713),N=n.n(P);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const S=function(){for(var e=(0,O.useLocation)(),t=e.search,n=new URLSearchParams(t),s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return a.reduce((function(e,t){return D(D({},e),{},N()({},t,n.get(t)))}),{})};n(81972);var M=function(e){var t=e.header,n=e.entitlements,s=e.isDisabled,r=S("bundle").bundle;return i().createElement(i().Fragment,null,i().createElement(v.D,{headingLevel:"h3",size:"xl"},t),i().createElement(h.K,{hasGutter:!0},n&&(null==n?void 0:n.map((function(e){var t=a()(e,1)[0],n=x.find((function(e){return e.entitlement===t}));return n?i().createElement(y.v,{key:t,className:"ins-c-mua-cardWrapper"},i().createElement(O.NavLink,{className:E()("ins-c-mua-bundles__cardlink",{"ins-c-mua-bundles__cardlink--disabled":s}),to:{pathname:U._j.d$,search:"bundle=".concat(t)}},i().createElement(w.Z,{key:n.title,isFlat:s||t!==r,isSelectable:!s,isSelected:!s&&t===r,className:E()("ins-c-mua-bundles__card","ins-c-mua-bundles__card--".concat(n.entitlement),{"ins-c-mua-bundles__card--disabled":s})},i().createElement(j.l,{className:"ins-c-mua-bundles__card--header"}," ",n.title),i().createElement(k.e,null,i().createElement(h.K,{hasGutter:!0},i().createElement(y.v,{className:"ins-c-mua-bundles__card--applist"},Object.entries(n.apps||{}).map((function(e){var t=a()(e,1)[0];return i().createElement("span",{key:t}," ",t," ")})))))))):null})))))};M.propTypes={header:d().string,entitlements:d().array,isDisabled:d().bool};const B=M;n(94871);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){return r.Fragment};const z=function(){var e=S("bundle").bundle,t=function(e){var t,n=(0,O.useHistory)(),s=n.push,a=n.location.pathname;return"string"!=typeof e||0===e.length?(s({to:a,search:"bundle=".concat(x[0].entitlement)}),[]):((null===(t=x.find((function(t){return t.entitlement===e})))||void 0===t?void 0:t.appsIds)||[]).sort((function(e,t){return e.localeCompare(t,"en-US")}))}(e),s=(0,r.useState)({}),c=a()(s,2),l=c[0],o=c[1];(0,r.useEffect)((function(){Object.prototype.hasOwnProperty.call(l,e)||n(19289)("./".concat(e)).then((function(t){return o((function(n){return I(I({},n),{},N()({},e,t.default))}))})).catch(console.log)}),[e]);var p=l[e]||L;return i().createElement(p,{key:e,apps:t})};var T=n(52192),H=function(e){var t,n=e.entitlements,s=e.isOrgAdmin,r=Object.entries(n).filter((function(e){return a()(e,2)[1].is_entitled})),c=Object.entries(n).filter((function(e){return!a()(e,2)[1].is_entitled})),l=S("bundle").bundle;return i().createElement(T.Z.Provider,{value:s},i().createElement(b.r,null,i().createElement(_.P,{className:"pf-m-3-col-on-md ins-l-myUserAccess-section__cards ins-m-hide-on-sm"},i().createElement(h.K,null,i().createElement(y.v,{className:"ins-l-myUserAccess-section__cards--entitled"},i().createElement(B,{header:"Your organization's subscriptions",entitlements:r})),c.length>0&&i().createElement(y.v,{className:"ins-l-myUserAccess-section__cards--unentitled"},i().createElement(B,{header:"Not subscribed",entitlements:c,isDisabled:!0})))),i().createElement(_.P,{className:"pf-m-9-col-on-md ins-l-myUserAccess-section__table"},i().createElement(v.D,{headingLevel:"h3",size:"xl"},"Your ".concat(null===(t=x.find((function(e){return e.entitlement===l})))||void 0===t?void 0:t.title," ").concat(s?"roles":"permissions")),i().createElement(z,null))))};H.propTypes={entitlements:d().object,isOrgAdmin:d().bool};const K=H,R=function(){var e=(0,r.useState)({}),t=a()(e,2),n=t[0],s=t[1];return(0,r.useEffect)((function(){insights.chrome.auth.getUser().then((function(e){var t,n=e.identity,a=e.entitlements;return s({entitlements:a,isOrgAdmin:null==n||null===(t=n.user)||void 0===t?void 0:t.is_org_admin})}))}),[]),i().createElement(i().Fragment,null,Object.prototype.hasOwnProperty.call(n,"entitlements")&&Object.prototype.hasOwnProperty.call(n,"isOrgAdmin")?i().createElement(i().Fragment,null,i().createElement(c.B,{className:"ins-p-myUserAccess--title sticky",title:i().createElement(i().Fragment,null,i().createElement("span",null," My User Access "),i().createElement(f,{isOrgAdmin:n.isOrgAdmin}))}),i().createElement(l.x,{component:"p",className:"ins-p-myUserAccess--subtitle"},"Select from your organization's subscriptions below to discover your individual application-specific roles and permissions."),i().createElement("div",{className:"ins-p-myUserAccess--dropdown sticky"},i().createElement("div",{className:"pf-c-dropdown pf-m-expanded"},i().createElement("button",{className:"pf-c-dropdown__toggle",type:"button"},i().createElement("span",{className:"pf-c-dropdown__toggle-text"},"Choose a subscription..."),i().createElement("span",{className:"pf-c-dropdown__toggle-icon"},i().createElement("i",{className:"fas fa-caret-down"}))))),i().createElement("section",null,i().createElement(K,{entitlements:n.entitlements,isOrgAdmin:n.isOrgAdmin}))):i().createElement(o.$,null))}},52192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});const s=(0,n(80150).createContext)(!1)},81972:(e,t,n)=>{var s=n(93379),a=n(54762);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=s(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var i=a.locals;e.hot.accept(54762,(function(){"string"==typeof(a=(a=n(54762)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,a.locals)?(i=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},94871:(e,t,n)=>{var s=n(93379),a=n(41140);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=s(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var i=a.locals;e.hot.accept(41140,(function(){"string"==typeof(a=(a=n(41140)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,a.locals)?(i=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},52181:(e,t,n)=>{var s=n(93379),a=n(358);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.id,a,""]]);var r=s(a,{insert:"head",singleton:!1});if(!a.locals||e.hot.invalidate){var i=a.locals;e.hot.accept(358,(function(){"string"==typeof(a=(a=n(358)).__esModule?a.default:a)&&(a=[[e.id,a,""]]),function(e,t){if(!e&&t||e&&!t)return!1;var n;for(n in e)if(e[n]!==t[n])return!1;for(n in t)if(!e[n])return!1;return!0}(i,a.locals)?(i=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},19289:(e,t,n)=>{var s={"./MUABundles":[58755,7,755],"./MUABundles.scss":[58755,7,755],"./__mocks__/insights":[47051,9,51],"./__mocks__/insights.js":[47051,9,51],"./ansible":[63691,9,410,252,725,279,694,171,154,691],"./ansible.js":[63691,9,410,252,725,279,694,171,154,691],"./cost_management":[44401,9,410,252,725,279,694,171,401],"./cost_management.js":[44401,9,410,252,725,279,694,171,401],"./insights":[73154,9,410,252,725,279,694,171,154],"./insights.js":[73154,9,410,252,725,279,694,171,154],"./migrations":[63115,9,410,252,725,279,694,171,154,115],"./migrations.js":[63115,9,410,252,725,279,694,171,154,115],"./openshift":[87434,9,410,755,434],"./openshift.js":[87434,9,410,755,434],"./subscriptions":[54304,9,410,252,725,279,694,171,154,304],"./subscriptions.js":[54304,9,410,252,725,279,694,171,154,304]};function a(e){if(!n.o(s,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=s[e],a=t[0];return Promise.all(t.slice(2).map(n.e)).then((()=>n.t(a,16|t[1])))}a.keys=()=>Object.keys(s),a.id=19289,e.exports=a}}]);
//# sourceMappingURL=946.ae105ca97bba8fe0c917.js.map