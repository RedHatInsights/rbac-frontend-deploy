(self.webpackChunkrbac=self.webpackChunkrbac||[]).push([[348],{16503:(e,t,n)=>{"use strict";n.d(t,{V:()=>u,Z:()=>d});var r=n(66029),o=n.n(r),a=n(49739),s=n(83826),i=n(93302),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};const l=e=>{var{children:t,ouiaId:n="DataView"}=e,r=c(e,["children","ouiaId"]);return o().createElement(a.K,Object.assign({"data-ouia-component-id":`${n}-stack}`},r),o().Children.map(t,((e,t)=>o().createElement(s.v,{"data-ouia-component-id":`${n}-stack-item-${t}`},e))))},u=e=>{var{children:t,selection:n}=e,r=c(e,["children","selection"]);return o().createElement(i.nw,{selection:n},o().createElement(l,Object.assign({},r),t))},d=u},66828:(e,t,n)=>{"use strict";n.d(t,{H9:()=>u,ZP:()=>d,XW:()=>c,r8:()=>i,d_:()=>l});var r=n(66029),o=n.n(r),a=n(84816),s=n(94034);const i=e=>null!=e&&"object"==typeof e&&"cell"in e,c=e=>null!=e&&"object"==typeof e&&"cell"in e,l=e=>null!=e&&"object"==typeof e&&"row"in e,u=e=>e.isTreeTable?o().createElement(a.o,Object.assign({},e)):o().createElement(s.w,Object.assign({},e)),d=u},94034:(e,t,n)=>{"use strict";n.d(t,{w:()=>p});var r=n(66029),o=n.n(r),a=n(5697),s=n(75521),i=n(8128),c=n(72449),l=n(93302),u=n(65612),d=n(66828);const p=e=>{var{columns:t,rows:n,ouiaId:p="DataViewTableBasic",emptyState:m=null}=e,f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["columns","rows","ouiaId","emptyState"]);const{selection:v}=(0,l.Vv)(),{onSelect:g,isSelected:b,isSelectDisabled:h}=null!=v?v:{},_=(0,r.useMemo)((()=>Boolean(g&&b)),[g,b]);return o().createElement(a.i,Object.assign({"aria-label":"Data table",ouiaId:p},f),o().createElement(u.i,{columns:t,ouiaId:p}),o().createElement(s.p,null,(null==n?void 0:n.length)>0?n.map(((e,t)=>{var n;const r=(0,d.d_)(e);return o().createElement(i.Tr,Object.assign({key:t,ouiaId:`${p}-tr-${t}`},r&&(null!==(n=null==e?void 0:e.props)&&void 0!==n?n:{})),_&&o().createElement(c.Td,{key:`select-${t}`,select:{rowIndex:t,onSelect:(t,n)=>{null==g||g(n,r?e:[e])},isSelected:(null==b?void 0:b(e))||!1,isDisabled:(null==h?void 0:h(e))||!1}}),(r?e.row:e).map(((e,n)=>{var r;const a=(0,d.XW)(e);return o().createElement(c.Td,Object.assign({key:n},a&&(null!==(r=null==e?void 0:e.props)&&void 0!==r?r:{}),{"data-ouia-component-id":`${p}-td-${t}-${n}`}),a?e.cell:e)})))})):o().createElement(i.Tr,{key:"empty",ouiaId:`${p}-tr-empty`},o().createElement(c.Td,{colSpan:t.length+Number(_)},m))))}},65612:(e,t,n)=>{"use strict";n.d(t,{i:()=>u});var r=n(66029),o=n.n(r),a=n(15173),s=n(51630),i=n(8128),c=n(93302),l=n(66828);const u=e=>{var{isTreeTable:t=!1,columns:n,ouiaId:u="DataViewTableHeader"}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["isTreeTable","columns","ouiaId"]);const{selection:p}=(0,c.Vv)(),{onSelect:m,isSelected:f}=null!=p?p:{},v=(0,r.useMemo)((()=>[m&&f&&!t?o().createElement(a.Th,{key:"row-select",screenReaderText:"Data selection table header cell"}):null,...n.map(((e,t)=>{var n;return o().createElement(a.Th,Object.assign({key:t},(0,l.r8)(e)&&(null!==(n=null==e?void 0:e.props)&&void 0!==n?n:{}),{"data-ouia-component-id":`${u}-th-${t}`}),(0,l.r8)(e)?e.cell:e)}))]),[n,u,m,f,t]);return o().createElement(s.h,Object.assign({"data-ouia-component-id":`${u}-thead`},d),o().createElement(i.Tr,{ouiaId:`${u}-tr-head`},v))}},84816:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var r=n(66029),o=n.n(r),a=n(71305),s=n(72449),i=n(5697),c=n(75521),l=n(8128),u=n(93302),d=n(65612),p=n(66828);const m=e=>e.children&&e.children.length?e.children.flatMap(m):[e],f=e=>{var{columns:t,rows:n,emptyState:f=null,leafIcon:v=null,expandedIcon:g=null,collapsedIcon:b=null,ouiaId:h="DataViewTableTree"}=e,_=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["columns","rows","emptyState","leafIcon","expandedIcon","collapsedIcon","ouiaId"]);const{selection:y}=(0,u.Vv)(),{onSelect:w,isSelected:O,isSelectDisabled:E}=null!=y?y:{},[P,k]=o().useState([]),[S,j]=o().useState([]),x=(0,r.useMemo)((()=>{const e=([t,...n],r=1,i=1,c=0,l=!1)=>{var u,d,f,_;if(!t)return[];const y=P.includes(t.id),x=S.includes(t.id),I=O&&((e,t)=>{let n=!0,r=!1;for(const o of m(e)){const e=!!(null==t?void 0:t(o));if(r||(r=e),n&&(n=e),!n&&r)return null}return n})(t,O);let T=v;t.children&&(T=y?g:b);const R={onCollapse:()=>k((e=>{const n=e.filter((e=>e!==t.id));return y?n:[...n,t.id]})),onToggleRowDetails:()=>j((e=>{const n=e.filter((e=>e!==t.id));return x?n:[...n,t.id]})),onCheckChange:(null==E?void 0:E(t))||!w?void 0:(e,n)=>null==w?void 0:w(n,m(t)),rowIndex:c,props:{isExpanded:y,isDetailsExpanded:x,isHidden:l,"aria-level":r,"aria-posinset":i,"aria-setsize":null!==(d=null===(u=t.children)||void 0===u?void 0:u.length)&&void 0!==d?d:0,isChecked:I,checkboxId:`checkbox_id_${null===(f=t.id)||void 0===f?void 0:f.toLowerCase().replace(/\s+/g,"_")}`,icon:T}},$=(null===(_=t.children)||void 0===_?void 0:_.length)?e(t.children,r+1,1,c+1,!y||l):[];return[o().createElement(a.k,{key:t.id,row:{props:R.props},ouiaId:`${h}-tr-${c}`},t.row.map(((e,t)=>{var n;const r=(0,p.XW)(e);return o().createElement(s.Td,Object.assign({key:t,treeRow:0===t?R:void 0},r&&(null!==(n=null==e?void 0:e.props)&&void 0!==n?n:{}),{"data-ouia-component-id":`${h}-td-${c}-${t}`}),r?e.cell:e)}))),...$,...e(n,r,i+1,c+1+$.length,l)]};return e(n)}),[n,P,S,v,g,b,O,w,E,h]);return o().createElement(i.i,Object.assign({isTreeTable:!0,"aria-label":"Data table",ouiaId:h},_),o().createElement(d.i,{isTreeTable:!0,columns:t,ouiaId:h}),o().createElement(c.p,null,x.length>0?x:o().createElement(l.Tr,{key:"empty",ouiaId:`${h}-tr-empty`},o().createElement(s.Td,{colSpan:t.length},f))))}},22479:(e,t,n)=>{"use strict";n.d(t,{u:()=>c});var r=n(66029),o=n.n(r),a=n(84812),s=n(39841),i=n(33094);const c=e=>{var{className:t,ouiaId:n="DataViewToolbar",bulkSelect:r,actions:c=null,pagination:l,children:u}=e,d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["className","ouiaId","bulkSelect","actions","pagination","children"]);return o().createElement(a.o,Object.assign({ouiaId:n,className:t},d),o().createElement(s.c,null,r&&o().createElement(i.E,{"data-ouia-component-id":`${n}-bulk-select`},r),c,l&&o().createElement(i.E,{variant:i.A.pagination,"data-ouia-component-id":`${n}-pagination`},l),u))}},16623:(e,t,n)=>{"use strict";n.d(t,{p8:()=>a,aJ:()=>s});var r,o=n(66029);!function(e){e.PAGE="page",e.PER_PAGE="perPage"}(r||(r={}));const a=({page:e=1,perPage:t,searchParams:n,setSearchParams:a,pageParam:s=r.PAGE,perPageParam:i=r.PER_PAGE})=>{const[c,l]=(0,o.useState)({page:parseInt((null==n?void 0:n.get(s))||`${e}`),perPage:parseInt((null==n?void 0:n.get(i))||`${t}`)}),u=(e,t)=>{if(n&&a){const r=new URLSearchParams(n);r.set(s,`${e}`),r.set(i,`${t}`),a(r)}};return(0,o.useEffect)((()=>{u(c.page,c.perPage)}),[]),(0,o.useEffect)((()=>{const e=parseInt((null==n?void 0:n.get(s))||`${c.page}`),t=parseInt((null==n?void 0:n.get(i))||`${c.perPage}`);e===c.page&&t===c.perPage||l({page:e,perPage:t})}),[null==n?void 0:n.toString()]),Object.assign(Object.assign({},c),{onPerPageSelect:(e,t)=>{u(1,t),l({perPage:t,page:1})},onSetPage:(e,t)=>{u(t,c.perPage),l((e=>Object.assign(Object.assign({},e),{page:t})))}})},s=({matchOption:e,initialSelected:t=[]})=>{const[n,r]=(0,o.useState)(t);return{selected:n,onSelect:(t,n)=>{r(t&&n?t=>{const r=[...t];return(Array.isArray(n)?n:[n]).forEach((n=>!t.some((t=>e(t,n)))&&r.push(n))),r}:n?t=>t.filter((t=>!(Array.isArray(n)?n:[n]).some((n=>e(n,t))))):[])},isSelected:t=>Boolean(n.find((n=>e(n,t))))}}},93302:(e,t,n)=>{"use strict";n.d(t,{nw:()=>s,Vv:()=>i});var r=n(66029),o=n.n(r);const a=(0,r.createContext)({selection:void 0}),s=({children:e,selection:t})=>o().createElement(a.Provider,{value:{selection:t}},e),i=()=>(0,r.useContext)(a)},19993:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r}),n(70347);const r={backdrop:"pf-v5-c-backdrop",backdropOpen:"pf-v5-c-backdrop__open"}},62702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r}),n(25238);const r={button:"pf-v5-c-button",modalBox:"pf-v5-c-modal-box",modalBoxBody:"pf-v5-c-modal-box__body",modalBoxClose:"pf-v5-c-modal-box__close",modalBoxDescription:"pf-v5-c-modal-box__description",modalBoxFooter:"pf-v5-c-modal-box__footer",modalBoxHeader:"pf-v5-c-modal-box__header",modalBoxHeaderMain:"pf-v5-c-modal-box__header-main",modalBoxTitle:"pf-v5-c-modal-box__title",modalBoxTitleIcon:"pf-v5-c-modal-box__title-icon",modalBoxTitleText:"pf-v5-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",custom:"pf-m-custom",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-v5-theme-dark"}},66042:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r}),n(87234);const r={bullseye:"pf-v5-l-bullseye"}},71305:(e,t,n)=>{"use strict";n.d(t,{k:()=>l});var r=n(65353),o=n(66029),a=n(38296),s=n(78632),i=n(78108),c=n(8128);const l=e=>{var{className:t,rowProps:n,row:l}=e,u=(0,r.__rest)(e,["className","rowProps","row"]);const{"aria-level":d,"aria-posinset":p,"aria-setsize":m,isExpanded:f,isDetailsExpanded:v,isHidden:g}=l.props;return o.createElement(c.Tr,Object.assign({"aria-level":d,"aria-posinset":p,"aria-setsize":m,"aria-expanded":!!f,isHidden:g,className:(0,a.css)(t,f&&s.Z.modifiers.expanded,v&&i.Z.modifiers.treeViewDetailsExpanded)},u))};l.displayName="TreeRowWrapper"},55244:(e,t,n)=>{"use strict";t.ns=void 0;var r=n(65353),o=n(12663);t.ns=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.__awaiter(void 0,void 0,void 0,(function(){var t,n,a,s,i,c,l,u;return r.__generator(this,(function(d){return t=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"workspacesBasicWorkspace")}(e)?e[0]:["workspacesBasicWorkspace","options"].reduce((function(t,n,o){var a;return r.__assign(r.__assign({},t),((a={})[n]=e[o],a))}),{}),n=t.workspacesBasicWorkspace,a=t.options,s=void 0===a?{}:a,i=new URL("/workspaces/",o.DUMMY_BASE_URL),c=r.__assign({method:"POST"},s),u={},(l={})["Content-Type"]="application/json",(0,o.setSearchParams)(i,u),c.headers=r.__assign(r.__assign({},l),s.headers),[2,{urlObj:i,options:c,serializeData:n}]}))}))},t.ZP=t.ns},47818:(e,t,n)=>{"use strict";t.Ne=void 0;var r=n(65353),o=n(12663);t.Ne=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.__awaiter(void 0,void 0,void 0,(function(){var t,n,a,s,i,c,l,u,d;return r.__generator(this,(function(p){return t=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")}(e)?e[0]:["uuid","options"].reduce((function(t,n,o){var a;return r.__assign(r.__assign({},t),((a={})[n]=e[o],a))}),{}),n=t.uuid,a=t.options,s=void 0===a?{}:a,i="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(n))),c=new URL(i,o.DUMMY_BASE_URL),l=r.__assign({method:"DELETE"},s),u={},d={},(0,o.setSearchParams)(c,d),l.headers=r.__assign(r.__assign({},u),s.headers),[2,{urlObj:c,options:l}]}))}))},t.ZP=t.Ne},54667:(e,t,n)=>{"use strict";t.Zo=void 0;var r=n(65353),o=n(12663);t.Zo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.__awaiter(void 0,void 0,void 0,(function(){var t,n,a,s,i,c,l,u,d;return r.__generator(this,(function(p){return t=function(e){return 1===e.length&&!0}(e)?e[0]:["limit","offset","options"].reduce((function(t,n,o){var a;return r.__assign(r.__assign({},t),((a={})[n]=e[o],a))}),{}),n=t.limit,a=t.offset,s=t.options,i=void 0===s?{}:s,c=new URL("/workspaces/",o.DUMMY_BASE_URL),l=r.__assign({method:"GET"},i),u={},d={},void 0!==n&&(d.limit=n),void 0!==a&&(d.offset=a),(0,o.setSearchParams)(c,d),l.headers=r.__assign(r.__assign({},u),i.headers),[2,{urlObj:c,options:l}]}))}))},t.ZP=t.Zo},25034:(e,t,n)=>{"use strict";t.CX=void 0;var r=n(65353),o=n(12663);t.CX=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.__awaiter(void 0,void 0,void 0,(function(){var t,n,a,s,i,c,l,u,d,p;return r.__generator(this,(function(m){return t=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")&&Object.prototype.hasOwnProperty.call(e,"workspacesPatchWorkspaceRequest")}(e)?e[0]:["uuid","workspacesPatchWorkspaceRequest","options"].reduce((function(t,n,o){var a;return r.__assign(r.__assign({},t),((a={})[n]=e[o],a))}),{}),n=t.uuid,a=t.workspacesPatchWorkspaceRequest,s=t.options,i=void 0===s?{}:s,c="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(n))),l=new URL(c,o.DUMMY_BASE_URL),u=r.__assign({method:"PATCH"},i),p={},(d={})["Content-Type"]="application/json",(0,o.setSearchParams)(l,p),u.headers=r.__assign(r.__assign({},d),i.headers),[2,{urlObj:l,options:u,serializeData:a}]}))}))},t.ZP=t.CX},26057:(e,t,n)=>{"use strict";t.vc=void 0;var r=n(65353),o=n(12663);t.vc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.__awaiter(void 0,void 0,void 0,(function(){var t,n,a,s,i,c,l,u,d,p;return r.__generator(this,(function(m){return t=function(e){return 1===e.length&&Object.prototype.hasOwnProperty.call(e,"uuid")&&!0}(e)?e[0]:["uuid","includeAncestry","options"].reduce((function(t,n,o){var a;return r.__assign(r.__assign({},t),((a={})[n]=e[o],a))}),{}),n=t.uuid,a=t.includeAncestry,s=t.options,i=void 0===s?{}:s,c="/workspaces/{uuid}/".replace("{".concat("uuid","}"),encodeURIComponent(String(n))),l=new URL(c,o.DUMMY_BASE_URL),u=r.__assign({method:"GET"},i),d={},p={},void 0!==a&&(p.include_ancestry=a),(0,o.setSearchParams)(l,p),u.headers=r.__assign(r.__assign({},d),i.headers),[2,{urlObj:l,options:u}]}))}))},t.ZP=t.vc},97270:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(66029),o=n.n(r),a=n(25387),s=n(86706),i=n(71079),c=n(238),l=n(33366),u=n(26057),d=n(54667),p=n(55244),m=n(25034),f=n(47818),v=n(40930),g=n(75614);const b=c.Z.create();b.interceptors.response.use(null,(e=>{if(e.response&&404===e.response.status)return Promise.resolve({})})),b.interceptors.response.use(l.xH),b.interceptors.response.use(null,l.ub),b.interceptors.response.use(null,l.ud);const h=new v.APIFactory(g.un,{getWorkspace:async(...e)=>{const t=await(0,u.ZP)(...e);return{...t,options:{...t.options,transformResponse:()=>({})}}},createWorkspace:async(...e)=>{const t=await(0,p.ZP)(...e);return{...t,options:{...t.options,transformResponse:()=>({})}}},updateWorkspace:async(...e)=>{const t=await(0,m.ZP)(...e);return{...t,options:{...t.options,transformResponse:()=>({})}}},deleteWorkspace:async(...e)=>{const t=await(0,f.ZP)(...e);return{...t,options:{...t.options,transformResponse:()=>({})}}},listWorkspaces:d.ZP},{axios:b});async function _(){return await h.listWorkspaces()}var y=n(2550),w=n(56756),O=n(34685),E=(n(93302),n(16623)),P=(n(22479),n(84816),n(65612),n(94034),n(66828));(0,r.createContext)({subscribe:()=>()=>null,trigger:()=>null});var k=n(16503);const S=()=>{const e=(0,a.YB)(),t=(0,s.useDispatch)(),n=(0,E.aJ)({matchOption:(e,t)=>e.id===t.id}),{isLoading:c,workspaces:l,error:u}=(0,s.useSelector)((e=>e.workspacesReducer)),[d,p]=(0,r.useState)([]);(0,r.useEffect)((()=>{t({type:i.Zw,payload:_().catch((e=>{throw e}))})}),[t]),(0,r.useEffect)((()=>{l.length>0&&p((e=>{const t={};e.forEach((e=>{t[e.uuid]={id:e.uuid,name:e.name,description:e.description,children:[]}}));const n=[];return e.forEach((e=>{e.parent_id?t[e.parent_id]?.children?.push(t[e.uuid]):n.push(t[e.uuid])})),n})(l))}),[l]);const m=e=>e.map((e=>({row:[e.name,e.description],id:e.id,...e.children&&e.children.length>0?{children:m(e.children)}:{}}))),f=m(d);return o().createElement(o().Fragment,null,o().createElement(w.yW,{title:e.formatMessage(y.Z.workspaces),subtitle:e.formatMessage(y.Z.workspacesSubtitle),linkProps:{label:e.formatMessage(y.Z.workspacesLearnMore),isExternal:!0,href:"#"}}),o().createElement(O.PageSection,null,c&&o().createElement("p",null,"Loading..."),u&&o().createElement("p",null,"Error: ",u),!c&&!u&&o().createElement(k.Z,{selection:n},o().createElement(P.ZP,{isTreeTable:!0,"aria-label":"Repositories table",ouiaId:"ouiaId",columns:["Name","Description"],rows:f}))))}},70347:()=>{},25238:()=>{},92084:()=>{},97236:()=>{},87234:()=>{},38299:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/348.c27dbeb6edeb9b3a3dea32dea26ab25c.js.map