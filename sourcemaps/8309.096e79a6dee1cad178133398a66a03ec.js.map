{"version":3,"file":"js/8309.cff9f0f085a4eb83603d.js","mappings":"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","sources":["webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/helpers/role/role-helper.js","webpack:///./src/helpers/shared/user-login.js","webpack:///./src/redux/actions/role-actions.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport ErroReducerCatcher from './presentational-components/shared/ErrorReducerCatcher';\nimport PermissionsContext from './utilities/permissions-context';\nimport { AppPlaceholder } from './presentational-components/shared/loader-placeholders';\nimport { updateGroupsFilters } from './redux/actions/group-actions';\nimport { updateRolesFilters } from './redux/actions/role-actions';\nimport { updateUsersFilters } from './redux/actions/user-actions';\nimport { groupsInitialState } from './redux/reducers/group-reducer';\nimport { rolesInitialState } from './redux/reducers/role-reducer';\nimport { usersInitialState } from './redux/reducers/user-reducer';\nimport useUserData from './hooks/useUserData';\nimport Routing from './Routing';\n\nimport './App.scss';\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const userData = useUserData();\n\n  useEffect(() => {\n    return () => {\n      dispatch(updateUsersFilters(usersInitialState.users.filters));\n      dispatch(updateGroupsFilters(groupsInitialState.groups.filters));\n      dispatch(updateRolesFilters(rolesInitialState.roles.filters));\n    };\n  }, []);\n\n  if (!userData.ready) {\n    return <AppPlaceholder />;\n  }\n\n  return (\n    <PermissionsContext.Provider value={{ ...userData }}>\n      <ErroReducerCatcher>\n        <section style={{ marginLeft: 0, padding: 0 }}>\n          <Routing />\n        </section>\n      </ErroReducerCatcher>\n    </PermissionsContext.Provider>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport { Provider } from 'react-redux';\nimport registry, { RegistryContext } from './utilities/store';\nimport App from './App';\nimport { IntlProvider } from 'react-intl';\nimport messages from './locales/data.json';\n\nexport const locale = 'en';\n\nconst InsightsRbac = () => (\n  <IntlProvider locale={locale} messages={messages[locale]}>\n    <RegistryContext.Provider\n      value={{\n        getRegistry: () => registry,\n      }}\n    >\n      <Provider store={registry.getStore()}>\n        <App />\n      </Provider>\n    </RegistryContext.Provider>\n  </IntlProvider>\n);\n\nexport default InsightsRbac;\n","import { getLastPageOffset, isOffsetValid } from '../shared/pagination';\nimport { getRoleApi } from '../shared/user-login';\n\nconst roleApi = getRoleApi();\n\nexport async function createRole(data) {\n  return await roleApi.createRoles(data);\n}\n\nexport function fetchRoles({\n  limit,\n  offset,\n  name,\n  displayName,\n  nameMatch,\n  scope,\n  orderBy = 'display_name',\n  addFields,\n  username,\n  application,\n  permission,\n  options,\n}) {\n  return roleApi.listRoles(\n    limit,\n    offset,\n    name,\n    undefined,\n    displayName,\n    nameMatch,\n    scope,\n    orderBy,\n    addFields,\n    username,\n    application,\n    permission,\n    options\n  );\n}\n\nexport async function fetchRolesWithPolicies({\n  limit,\n  offset,\n  filters = {},\n  nameMatch,\n  scope = 'account',\n  orderBy = 'display_name',\n  addFields = ['groups_in_count', 'groups_in', 'access'],\n  username,\n  options,\n  permission,\n  application,\n  usesMetaInURL = false,\n  chrome,\n}) {\n  const roles = await roleApi.listRoles(\n    limit,\n    offset,\n    filters.name,\n    undefined,\n    filters.display_name,\n    nameMatch,\n    scope,\n    orderBy,\n    addFields,\n    username,\n    application,\n    permission,\n    options\n  );\n\n  const isPaginationValid = isOffsetValid(offset, roles?.meta?.count);\n  offset = isPaginationValid ? offset : getLastPageOffset(roles.meta.count, limit);\n  let { data, meta } = isPaginationValid\n    ? roles\n    : await roleApi.listRoles(\n        limit,\n        offset,\n        filters.name,\n        undefined,\n        undefined,\n        nameMatch,\n        scope,\n        orderBy,\n        addFields,\n        username,\n        application,\n        permission,\n        options\n      );\n\n  return {\n    data,\n    meta,\n    ...(usesMetaInURL\n      ? {\n          filters,\n          pagination: {\n            ...meta,\n            offset,\n            limit,\n            redirected: !isPaginationValid,\n          },\n        }\n      : {}),\n    ...(await chrome?.auth?.getUser()),\n  };\n}\n\nexport async function fetchRole(uuid) {\n  return await roleApi.getRole(uuid);\n}\n\nexport async function fetchRoleForPrincipal(uuid) {\n  return await roleApi.getRole(uuid, 'principal');\n}\n\nexport async function removeRole(roleId) {\n  return await roleApi.deleteRole(roleId);\n}\n\nexport const updateRole = async (roleId, data, useCustomAccess) => {\n  const { data: access } = await roleApi.getRoleAccess(roleId);\n  return roleApi.updateRole(roleId, useCustomAccess ? { ...data, access } : data);\n};\n\nexport const removeRolePermissions = async (role, permissionsToRemove) => {\n  const { data: access } = await roleApi.getRoleAccess(role.uuid);\n  const newRole = { ...role, access: access.filter((item) => !permissionsToRemove.includes(item.permission)) };\n  return roleApi.updateRole(role.uuid, { ...newRole });\n};\n\nexport const patchRole = async (roleId, data) => {\n  return roleApi.patchRole(roleId, data);\n};\n","/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport axios from 'axios';\nimport {\n  authInterceptor,\n  responseDataInterceptor,\n  interceptor401,\n  interceptor500,\n  errorInterceptor,\n} from '@redhat-cloud-services/frontend-components-utilities/interceptors';\nimport { GroupApi, PrincipalApi, RoleApi, PolicyApi, AccessApi, PermissionApi } from '@redhat-cloud-services/rbac-client';\nimport { HostsApi } from '@redhat-cloud-services/host-inventory-client';\nimport { BaseAPI } from '@redhat-cloud-services/rbac-client/dist/base';\n\nimport { RBAC_API_BASE, COST_API_BASE, INVENTORY_API_BASE } from '../../utilities/constants';\nimport registry from '../../utilities/store';\nimport { API_ERROR } from '../../redux/action-types';\n\nconst interceptor403 = (error) => {\n  const store = registry.getStore();\n\n  if (error.response && error.response.status === 403) {\n    store.dispatch({ type: API_ERROR, payload: 403 });\n  }\n\n  throw error;\n};\n\nconst axiosInstance = axios.create();\naxiosInstance.interceptors.request.use(authInterceptor);\naxiosInstance.interceptors.response.use(responseDataInterceptor);\n\naxiosInstance.interceptors.response.use(null, interceptor401);\naxiosInstance.interceptors.response.use(null, interceptor403);\naxiosInstance.interceptors.response.use(null, interceptor500);\naxiosInstance.interceptors.response.use(null, errorInterceptor);\n\nconst principalApi = new PrincipalApi(undefined, RBAC_API_BASE, axiosInstance);\nconst groupApi = new GroupApi(undefined, RBAC_API_BASE, axiosInstance);\nconst roleApi = new RoleApi(undefined, RBAC_API_BASE, axiosInstance);\nconst policyApi = new PolicyApi(undefined, RBAC_API_BASE, axiosInstance);\nconst accessApi = new AccessApi(undefined, RBAC_API_BASE, axiosInstance);\nconst permissionApi = new PermissionApi(undefined, RBAC_API_BASE, axiosInstance);\nconst costApi = new BaseAPI(undefined, COST_API_BASE, axiosInstance);\nconst inventoryApi = new HostsApi(undefined, INVENTORY_API_BASE, axiosInstance);\n\nexport function getPrincipalApi() {\n  return principalApi;\n}\n\nexport function getGroupApi() {\n  return groupApi;\n}\n\nexport function getRoleApi() {\n  return roleApi;\n}\n\nexport function getPolicyApi() {\n  return policyApi;\n}\n\nexport function getAccessApi() {\n  return accessApi;\n}\n\nexport function getPermissionApi() {\n  return permissionApi;\n}\n\nexport function getAxiosInstance() {\n  return axiosInstance;\n}\n\nexport function getCostApi() {\n  return {\n    getResourceTypes: () => costApi.axios.get(`${COST_API_BASE}/resource-types/`),\n    getResource: (path) => costApi.axios.get(`${path}?limit=20000`),\n  };\n}\n\nexport const getInventoryGroupsApi = () => {\n  return {\n    getInventoryGroups: () => inventoryApi.axios.get(`${INVENTORY_API_BASE}/groups?per_page=100`),\n  };\n};\n","import * as ActionTypes from '../action-types';\nimport * as RoleHelper from '../../helpers/role/role-helper';\nimport { BAD_UUID } from '../../helpers/shared/helpers';\nimport { createIntl, createIntlCache } from 'react-intl';\nimport messages from '../../Messages';\nimport providerMessages from '../../locales/data.json';\nimport { locale } from '../../AppEntry';\n\nexport const createRole = (roleData) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    type: ActionTypes.ADD_ROLE,\n    payload: RoleHelper.createRole(roleData),\n    meta: {\n      notifications: {\n        rejected: (payload) => ({\n          variant: 'danger',\n          title: intl.formatMessage(messages.createRoleErrorTitle),\n          dismissDelay: 8000,\n          description: payload?.errors?.[0]?.detail || intl.formatMessage(messages.createRoleErrorDescription),\n        }),\n      },\n    },\n  };\n};\n\nexport const fetchRole = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE,\n  payload: RoleHelper.fetchRole(apiProps).catch((err) => {\n    const error = err?.errors?.[0] || {};\n    if (error.status === '400' && error.source === 'role uuid validation') {\n      return { error: BAD_UUID };\n    }\n\n    throw err;\n  }),\n});\n\nexport const fetchRoles = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRoles(options).catch((err) => {\n    const error = err?.errors?.[0] || {};\n    if (error.status === '400' && error.source === 'detail') {\n      return { error: BAD_UUID };\n    }\n\n    throw err;\n  }),\n});\n\nexport const fetchRolesWithPolicies = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES,\n  payload: RoleHelper.fetchRolesWithPolicies(options),\n});\n\nexport const removeRole = (role) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    type: ActionTypes.REMOVE_ROLE,\n    payload: RoleHelper.removeRole(role),\n    meta: {\n      notifications: {\n        fulfilled: {\n          variant: 'success',\n          title: intl.formatMessage(messages.removeRoleSuccessTitle),\n          dismissDelay: 8000,\n          description: intl.formatMessage(messages.removeRoleSuccessDescription),\n        },\n        rejected: {\n          variant: 'danger',\n          title: intl.formatMessage(messages.removeRoleErrorTitle),\n          dismissDelay: 8000,\n          description: intl.formatMessage(messages.removeRoleErrorDescription),\n        },\n      },\n    },\n  };\n};\n\nexport const fetchRoleForUser = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_USER,\n  payload: RoleHelper.fetchRole(apiProps),\n});\n\nexport const fetchRoleForPrincipal = (apiProps) => ({\n  type: ActionTypes.FETCH_ROLE_FOR_PRINCIPAL,\n  payload: RoleHelper.fetchRoleForPrincipal(apiProps),\n});\n\nexport const fetchRolesForWizard = (options = {}) => ({\n  type: ActionTypes.FETCH_ROLES_FOR_WIZARD,\n  payload: RoleHelper.fetchRoles(options),\n});\n\nexport const updateRole = (roleId, data, useCustomAccess) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    type: ActionTypes.UPDATE_ROLE,\n    payload: RoleHelper.updateRole(roleId, data, useCustomAccess),\n    meta: {\n      notifications: {\n        rejected: (payload) => ({\n          variant: 'danger',\n          title: intl.formatMessage(messages.editRoleErrorTitle),\n          dismissDelay: 8000,\n          description: payload?.errors?.[0]?.detail || intl.formatMessage(messages.editRoleErrorDescription),\n        }),\n      },\n    },\n  };\n};\n\nexport const patchRole = (roleId, data) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    type: ActionTypes.PATCH_ROLE,\n    payload: RoleHelper.patchRole(roleId, data),\n    meta: {\n      notifications: {\n        fulfilled: {\n          variant: 'success',\n          title: intl.formatMessage(messages.editRoleSuccessTitle),\n          dismissDelay: 8000,\n          description: intl.formatMessage(messages.editRoleSuccessDescription),\n        },\n      },\n    },\n  };\n};\n\nexport const removeRolePermissions = (role, permissionsToRemove) => ({\n  type: ActionTypes.UPDATE_ROLE,\n  payload: RoleHelper.removeRolePermissions(role, permissionsToRemove),\n});\n\nexport const updateRolesFilters = (filters) => ({\n  type: ActionTypes.UPDATE_ROLES_FILTERS,\n  payload: filters,\n});\n"],"names":["dispatch","useDispatch","userData","useUserData","useEffect","updateUsersFilters","usersInitialState","updateGroupsFilters","groupsInitialState","updateRolesFilters","rolesInitialState","ready","value","style","marginLeft","padding","locale","i","roleApi","getRoleApi","createRole","data","createRoles","fetchRoles","limit","offset","name","displayName","nameMatch","scope","orderBy","addFields","username","application","permission","options","listRoles","undefined","fetchRolesWithPolicies","filters","usesMetaInURL","chrome","display_name","roles","isPaginationValid","isOffsetValid","meta","count","getLastPageOffset","pagination","redirected","auth","getUser","fetchRole","uuid","getRole","fetchRoleForPrincipal","removeRole","roleId","deleteRole","updateRole","useCustomAccess","getRoleAccess","access","removeRolePermissions","role","permissionsToRemove","newRole","filter","item","includes","patchRole","axiosInstance","axios","interceptors","request","use","authInterceptor","response","responseDataInterceptor","interceptor401","error","store","registry","status","type","API_ERROR","payload","interceptor500","errorInterceptor","principalApi","PrincipalApi","RBAC_API_BASE","groupApi","GroupApi","RoleApi","accessApi","PolicyApi","AccessApi","permissionApi","PermissionApi","costApi","BaseAPI","COST_API_BASE","inventoryApi","HostsApi","INVENTORY_API_BASE","getPrincipalApi","getGroupApi","getAccessApi","getPermissionApi","getCostApi","getResourceTypes","get","getResource","path","getInventoryGroupsApi","getInventoryGroups","roleData","cache","createIntlCache","intl","createIntl","messages","providerMessages","ActionTypes","RoleHelper","notifications","rejected","variant","title","formatMessage","dismissDelay","description","errors","detail","apiProps","err","source","BAD_UUID","fulfilled","fetchRoleForUser","fetchRolesForWizard"],"sourceRoot":""}