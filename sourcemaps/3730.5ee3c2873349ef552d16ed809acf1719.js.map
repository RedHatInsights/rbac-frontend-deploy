{"version":3,"file":"js/3730.1652103721981.f36d6b4958a99cb065c3.js","mappings":"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","sources":["webpack:///./src/helpers/group/group-helper.js","webpack:///./src/helpers/shared/filters.js","webpack:///./src/hooks/useIsMounted.js","webpack:///./src/presentational-components/shared/RemoveModal.js","webpack:///./src/presentational-components/shared/breadcrubms.js","webpack:///./src/presentational-components/shared/top-toolbar.js","webpack:///./src/helpers/cost-management/cost-management-helper.js","webpack:///./src/redux/actions/cost-management-actions.js","webpack:///./src/redux/actions/group-actions.js","webpack:///./src/smart-components/common/ModalFormTemplate.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/smart-components/common/FormButtons.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/smart-components/common/page-action-route.js","webpack:///./src/smart-components/common/warningModal.js","webpack:///./src/smart-components/role/add-role-new/add-permissions-template.js","webpack:///./src/helpers/permission/permission-helper.js","webpack:///./src/redux/actions/permission-action.js","webpack:///./src/smart-components/role/add-role-new/DisabledRowWrapper.js","webpack:///./src/smart-components/role/add-role-new/add-permissions.js","webpack:///./src/smart-components/role/add-role-new/cost-resources.js","webpack:///./src/smart-components/role/edit-role-modal.js","webpack:///./src/smart-components/role/remove-role-modal.js","webpack:///./src/smart-components/role/role-selectors.js","webpack:///./src/smart-components/role/role-permissions-table-helpers.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permission-success.js","webpack:///./src/smart-components/role/add-role-permissions/review-template.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permission-wizard.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permissions-summary-content.js","webpack:///./src/smart-components/role/add-role-permissions/schema.js","webpack:///./src/smart-components/role/role-permissions.js","webpack:///./src/smart-components/role/role.js","webpack:///./src/utilities/async-debounce.js"],"sourcesContent":["import { getLastPageOffset, isOffsetValid } from '../shared/pagination';\nimport { getGroupApi } from '../shared/user-login';\n\nconst groupApi = getGroupApi();\n\nexport async function fetchGroups({\n  limit,\n  offset,\n  nameMatch,\n  scope,\n  username,\n  filters = {},\n  uuid,\n  roleNames,\n  roleDiscriminator,\n  orderBy,\n  platformDefault,\n  adminDefault,\n  system,\n  options,\n  inModal = true,\n}) {\n  const [groups, auth] = await Promise.all([\n    groupApi.listGroups(\n      limit,\n      offset,\n      filters.name,\n      nameMatch,\n      scope,\n      username,\n      uuid,\n      roleNames,\n      roleDiscriminator,\n      orderBy,\n      platformDefault,\n      adminDefault,\n      system,\n      options\n    ),\n    insights.chrome.auth.getUser(),\n  ]);\n  const isPaginationValid = isOffsetValid(offset, groups?.meta?.count);\n  offset = isPaginationValid ? offset : getLastPageOffset(groups.meta.count, limit);\n  let response = isPaginationValid\n    ? groups\n    : await groupApi.listGroups(limit, offset, filters.name, nameMatch, scope, username, uuid, roleNames, roleDiscriminator, orderBy, options);\n  return {\n    ...response,\n    ...(inModal\n      ? {}\n      : {\n          filters,\n          pagination: {\n            ...response?.meta,\n            offset,\n            limit,\n            redirected: !isPaginationValid,\n          },\n        }),\n    ...auth,\n  };\n}\n\nexport async function fetchGroup(uuid) {\n  return await groupApi.getGroup(uuid);\n}\n\nexport async function updateGroup(data) {\n  await groupApi.updateGroup(data.uuid, data);\n}\n\nexport async function addGroup(data) {\n  let newGroup = await groupApi.createGroup(data);\n  const promises = [];\n\n  if (data.user_list && data.user_list.length > 0) {\n    promises.push(groupApi.addPrincipalToGroup(newGroup.uuid, { principals: data.user_list }));\n  }\n\n  if (data.roles_list && data.roles_list.length > 0) {\n    promises.push(groupApi.addRoleToGroup(newGroup.uuid, { roles: data.roles_list }));\n  }\n\n  await Promise.all(promises);\n  return newGroup;\n}\n\nexport async function removeGroups(uuids) {\n  return await Promise.all(uuids.map((uuid) => groupApi.deleteGroup(uuid)));\n}\n\nexport async function deletePrincipalsFromGroup(groupId, users) {\n  return await groupApi.deletePrincipalFromGroup(groupId, users.join(','));\n}\n\nexport async function addPrincipalsToGroup(groupId, users) {\n  return await groupApi.addPrincipalToGroup(groupId, { principals: users });\n}\n\nexport async function fetchRolesForGroup(groupId, excluded, { limit, offset, name, description }, options = {}) {\n  return await groupApi.listRolesForGroup(groupId, excluded, undefined, name, description, undefined, limit, offset, 'display_name', options);\n}\n\nexport async function deleteRolesFromGroup(groupId, roles) {\n  return await groupApi.deleteRoleFromGroup(groupId, roles.join(','));\n}\n\nexport async function addRolesToGroup(groupId, roles) {\n  return await groupApi.addRoleToGroup(groupId, { roles });\n}\n\nexport async function fetchPrincipalsForGroup(groupId, usernames, options = {}) {\n  return await groupApi.getPrincipalsFromGroup(groupId, usernames, options.limit, options.offset, options.orderBy);\n}\n","export const syncDefaultFiltersWithUrl = (history, keys, defaults = {}) => {\n  const searchParams = new URLSearchParams(history.location.search);\n\n  let filters = keys.reduce((acc, key) => {\n    const values = searchParams.getAll(key);\n    return {\n      ...acc,\n      [key]: values.length > 1 ? values : values[0],\n    };\n  }, {});\n\n  Object.keys(defaults).forEach((key) => {\n    const value = defaults[key];\n    filters = {\n      ...filters,\n      [key]: Array.isArray(filters[key])\n        ? [...new Set([...filters[key], ...(Array.isArray(value) ? value : [value])])]\n        : (value?.length > 0 && value) || filters[key],\n    };\n\n    if (Array.isArray(value)) {\n      value.forEach((item) => searchParams.getAll(key).includes(item) || searchParams.append(key, item));\n    } else {\n      searchParams.get(key) || (value && searchParams.set(key, value));\n    }\n  });\n\n  history.replace({\n    pathname: history.location.pathname,\n    search: searchParams.toString(),\n  });\n  return filters;\n};\n\nexport const areFiltersPresentInUrl = (history, keys) => {\n  const searchParams = new URLSearchParams(history.location.search);\n  return keys.some((key) => searchParams.get(key));\n};\n\nexport const applyFiltersToUrl = (history, newValues) => {\n  const searchParams = new URLSearchParams(history.location.search);\n  Object.keys(newValues).forEach((key) => searchParams.delete(key));\n\n  Object.keys(newValues).forEach((key) => {\n    const value = newValues[key];\n\n    if (Array.isArray(value)) {\n      value.forEach((item) => item && searchParams.append(key, item));\n    } else {\n      value && searchParams.set(key, value);\n    }\n  });\n\n  history.replace({\n    pathname: history.location.pathname,\n    search: searchParams.toString(),\n  });\n};\n","import { useEffect, useRef } from 'react';\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nexport default useIsMounted;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { Button, Checkbox, Modal, ModalVariant, Split, SplitItem, Stack, TextContent } from '@patternfly/react-core';\nimport './RemoveModal.scss';\n\nconst RemoveModal = ({ title, text, onClose, onSubmit, isOpen, confirmButtonLabel, withCheckbox }) => {\n  const [checked, setChecked] = useState(false);\n\n  return (\n    <Modal\n      className=\"rbac\"\n      title={\n        <div>\n          <ExclamationTriangleIcon className=\"ins-m-alert rbac-c__delete-icon\" /> {title}\n        </div>\n      }\n      isOpen={isOpen}\n      variant={ModalVariant.small}\n      onClose={onClose}\n      actions={[\n        <Button key=\"confirm\" ouiaId=\"primary-confirm-button\" isDisabled={withCheckbox && !checked} variant=\"danger\" onClick={onSubmit}>\n          {confirmButtonLabel}\n        </Button>,\n        <Button key=\"cancel\" ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={onClose}>\n          Cancel\n        </Button>,\n      ]}\n    >\n      <Split hasGutter>\n        <SplitItem isFilled>\n          <Stack hasGutter>\n            <TextContent>{text}</TextContent>\n          </Stack>\n        </SplitItem>\n      </Split>\n      {withCheckbox ? (\n        <Checkbox\n          isChecked={checked}\n          onChange={() => setChecked(!checked)}\n          label=\"I understand, and I want to continue.\"\n          id=\"remove-modal-check\"\n          className=\"pf-u-mt-lg\"\n        />\n      ) : null}\n    </Modal>\n  );\n};\n\nRemoveModal.propTypes = {\n  text: PropTypes.any,\n  title: PropTypes.string,\n  confirmButtonLabel: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  withCheckbox: PropTypes.bool,\n};\n\nRemoveModal.defaultProps = {\n  withCheckbox: false,\n};\n\nexport default RemoveModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { BreadcrumbPlaceholder } from './loader-placeholders';\n\nconst RbacBreadcrumbs = (breadcrumbs) => {\n  return breadcrumbs ? (\n    <Breadcrumb>\n      {Object.values(breadcrumbs).map((item, index) =>\n        item.title ? (\n          <BreadcrumbItem key={item.title} isActive={item.isActive}>\n            {(item.to && (\n              <NavLink exact to={item.to}>\n                {item.title}\n              </NavLink>\n            )) ||\n              item.title}\n          </BreadcrumbItem>\n        ) : (\n          <BreadcrumbPlaceholder key={index} />\n        )\n      )}\n    </Breadcrumb>\n  ) : null;\n};\n\nRbacBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.object,\n};\n\nexport default RbacBreadcrumbs;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextContent, TextVariants, Flex, FlexItem } from '@patternfly/react-core';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport RbacBreadcrumbs from './breadcrubms';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport './top-toolbar.scss';\n\nexport const TopToolbar = ({ children, breadcrumbs }) => (\n  <Fragment>\n    {breadcrumbs && (\n      <section className=\"pf-c-page__main-breadcrumb\">\n        <RbacBreadcrumbs {...breadcrumbs} />\n      </section>\n    )}\n    <PageHeader className=\"rbac-page-header\">{children}</PageHeader>\n  </Fragment>\n);\n\nTopToolbar.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  breadcrumbs: PropTypes.array,\n  paddingBottom: PropTypes.bool,\n};\n\nTopToolbar.defaultProps = {\n  paddingBottom: false,\n};\n\nexport const TopToolbarTitle = ({ title, renderTitleTag, description, children }) => (\n  <Fragment>\n    <Flex>\n      <FlexItem className=\"pf-u-mb-sm\">\n        <PageHeaderTitle title={title || <ToolbarTitlePlaceholder />} className=\"rbac-page-header__title\" />\n      </FlexItem>\n      <FlexItem alignSelf={{ modifier: 'alignSelfCenter' }}>{renderTitleTag && renderTitleTag()}</FlexItem>\n    </Flex>\n    {description && (\n      <TextContent className=\"rbac-page-header__description\">\n        {typeof description === 'string' ? <Text component={TextVariants.p}>{description}</Text> : description}\n      </TextContent>\n    )}\n    {children}\n  </Fragment>\n);\n\nTopToolbarTitle.propTypes = {\n  title: PropTypes.node,\n  renderTitleTag: PropTypes.func,\n  description: PropTypes.node,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf(PropTypes.node)]),\n};\n","import { getCostApi } from '../shared/user-login';\n\nconst costApi = getCostApi();\n\nexport async function getResourceDefinitions(apiProps) {\n  return await costApi.getResourceTypes(apiProps);\n}\n\nexport async function getResource(apiProps) {\n  return await costApi.getResource(apiProps);\n}\n","import * as ActionTypes from '../action-types';\nimport * as CostHelper from '../../helpers/cost-management/cost-management-helper';\n\nexport const getResourceDefinitions = (apiProps) => ({\n  type: ActionTypes.GET_RESOURCE_DEFINITIONS,\n  payload: CostHelper.getResourceDefinitions(apiProps),\n});\n\nexport const getResource = (apiProps) => ({\n  type: ActionTypes.GET_RESOURCE,\n  payload: CostHelper.getResource(apiProps),\n});\n","import * as ActionTypes from '../action-types';\nimport * as GroupHelper from '../../helpers/group/group-helper';\nimport { BAD_UUID } from '../../helpers/shared/helpers';\n\nconst handleUuidError = (err) => {\n  const error = err?.errors?.[0] || {};\n  if (error.status === '400' && error.source === 'group uuid validation') {\n    return { error: BAD_UUID };\n  }\n\n  throw err;\n};\n\nexport const fetchGroups = (options = {}) => ({\n  type: ActionTypes.FETCH_GROUPS,\n  payload: GroupHelper.fetchGroups(options),\n});\n\nexport const fetchAdminGroup = (filterValue) => ({\n  type: ActionTypes.FETCH_ADMIN_GROUP,\n  payload: GroupHelper.fetchGroups({\n    limit: 1,\n    ...(filterValue?.length > 0 ? { filters: { name: filterValue }, nameMatch: 'partial' } : {}),\n    adminDefault: true,\n  }),\n});\n\nexport const fetchSystemGroup = (filterValue) => ({\n  type: ActionTypes.FETCH_SYSTEM_GROUP,\n  payload: GroupHelper.fetchGroups({\n    limit: 1,\n    ...(filterValue?.length > 0 ? { filters: { name: filterValue }, nameMatch: 'partial' } : {}),\n    platformDefault: true,\n  }),\n});\n\nexport const fetchGroup = (apiProps) => ({\n  type: ActionTypes.FETCH_GROUP,\n  payload: GroupHelper.fetchGroup(apiProps).catch(handleUuidError),\n});\n\nexport const addGroup = (groupData) => ({\n  type: ActionTypes.ADD_GROUP,\n  payload: GroupHelper.addGroup(groupData).catch((err) => {\n    const error = err?.errors?.[0] || {};\n    if (error.status === '400' && error.source === 'name') {\n      return {\n        error: true,\n      };\n    }\n\n    /**\n     * Convert any other API error response to not crash notifications.\n     * It has different format than other API requests.\n     */\n    throw {\n      message: error.detail,\n      description: error.source,\n    };\n  }),\n});\n\nexport const updateGroup = (groupData) => ({\n  type: ActionTypes.UPDATE_GROUP,\n  payload: GroupHelper.updateGroup(groupData),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success updating group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The group was updated successfully.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed updating group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The group was not updated successfuly.',\n      },\n    },\n  },\n});\n\nexport const removeGroups = (uuids) => ({\n  type: ActionTypes.REMOVE_GROUPS,\n  payload: GroupHelper.removeGroups(uuids),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        dismissDelay: 8000,\n        dismissable: false,\n        title: uuids.length > 1 ? 'Groups deleted successfully' : 'Group deleted successfully',\n      },\n      rejected: {\n        variant: 'danger',\n        dismissDelay: 8000,\n        dismissable: false,\n        title:\n          uuids.length > 1 ? 'There was an error deleting the groups. Please try again.' : 'There was an error deleting the group. Please try again.',\n      },\n    },\n  },\n});\n\nexport const resetSelectedGroup = () => ({\n  type: ActionTypes.RESET_SELECTED_GROUP,\n});\n\nexport const addMembersToGroup = (groupId, members) => ({\n  type: ActionTypes.ADD_MEMBERS_TO_GROUP,\n  payload: GroupHelper.addPrincipalsToGroup(groupId, members),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding members to group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The members were successfully added to the group.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding members to group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The members were not added successfully.',\n      },\n    },\n  },\n});\n\nexport const removeMembersFromGroup = (groupId, members) => ({\n  type: ActionTypes.REMOVE_MEMBERS_FROM_GROUP,\n  payload: GroupHelper.deletePrincipalsFromGroup(groupId, members),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing members from group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The members were successfully removed from the group.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed removing members from group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The members were not removed successfully.',\n      },\n    },\n  },\n});\n\nexport const fetchRolesForGroup = (groupId, pagination, options) => ({\n  type: ActionTypes.FETCH_ROLES_FOR_GROUP,\n  payload: GroupHelper.fetchRolesForGroup(groupId, false, pagination, options).catch(handleUuidError),\n});\n\nexport const fetchMembersForGroup = (groupId, usernames, options) => ({\n  type: ActionTypes.FETCH_MEMBERS_FOR_GROUP,\n  payload: GroupHelper.fetchPrincipalsForGroup(groupId, usernames, options).catch(handleUuidError),\n});\n\nexport const fetchAddRolesForGroup = (groupId, pagination, options) => ({\n  type: ActionTypes.FETCH_ADD_ROLES_FOR_GROUP,\n  payload: GroupHelper.fetchRolesForGroup(groupId, true, pagination, options).catch(handleUuidError),\n});\n\nexport const addRolesToGroup = (groupId, roles) => ({\n  type: ActionTypes.ADD_ROLES_TO_GROUP,\n  payload: GroupHelper.addRolesToGroup(groupId, roles),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success adding roles to group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The roles were successfully added to the group.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed adding roles to group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The roles were not added successfully.',\n      },\n    },\n  },\n});\n\nexport const removeRolesFromGroup = (groupId, roles) => ({\n  type: ActionTypes.REMOVE_ROLES_FROM_GROUP,\n  payload: GroupHelper.deleteRolesFromGroup(groupId, roles),\n  meta: {\n    notifications: {\n      fulfilled: {\n        variant: 'success',\n        title: 'Success removing roles from group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The roles were successfully removed from the group.',\n      },\n      rejected: {\n        variant: 'danger',\n        title: 'Failed removing roles from group',\n        dismissDelay: 8000,\n        dismissable: false,\n        description: 'The roles were not removed successfully.',\n      },\n    },\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FormSpy from '@data-driven-forms/react-form-renderer/form-spy';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal';\nimport { ActionGroup } from '@patternfly/react-core/dist/js/components/Form/ActionGroup';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button';\nimport { Form } from '@patternfly/react-core/dist/js/components/Form/Form';\n\n/**\n * This id is requried to submit form by a byttoun outside of the form element\n */\nconst MODAL_FORM_IDENTIFIER = 'modal-form';\nconst CustomFormWrapper = (props) => <Form {...props} id={MODAL_FORM_IDENTIFIER} />;\n\nconst CustomButtons = ({ saveLabel, cancelLabel }) => {\n  const { onCancel } = useFormApi();\n\n  return (\n    <FormSpy>\n      {({ pristine, invalid, validating, submitting }) => (\n        <div className=\"pf-c-form\">\n          <ActionGroup className=\"pf-u-mt-0\">\n            <Button\n              ouiaId=\"primary-save-button\"\n              variant=\"primary\"\n              form={MODAL_FORM_IDENTIFIER}\n              type=\"submit\"\n              isDisabled={pristine || validating || submitting || invalid}\n            >\n              {saveLabel}\n            </Button>\n            <Button ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={onCancel} id=\"cancel-modal\">\n              {cancelLabel}\n            </Button>\n          </ActionGroup>\n        </div>\n      )}\n    </FormSpy>\n  );\n};\n\nCustomButtons.propTypes = {\n  saveLabel: PropTypes.node,\n  cancelLabel: PropTypes.node,\n};\n\nCustomButtons.defaultProps = {\n  saveLabel: 'Save',\n  cancelLabel: 'Cancel',\n};\n\nconst ModalFormTemplate = ({ ModalProps, saveLabel, cancelLabel, alert, ...props }) => (\n  <Modal {...ModalProps} footer={<CustomButtons saveLabel={saveLabel} cancelLabel={cancelLabel} />}>\n    {alert?.()}\n    <FormTemplate {...props} showFormControls={false} FormWrapper={CustomFormWrapper} />\n  </Modal>\n);\n\nModalFormTemplate.propTypes = {\n  ModalProps: PropTypes.object,\n  ...CustomButtons.propTypes,\n};\n\nexport default ModalFormTemplate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  let selectOptions = [...options];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [...selectOptions]\n    : [{ label: isRequired ? 'Please choose' : 'None' }, ...selectOptions];\n};\n\nconst Select = ({ input, options, isReadOnly, isDisabled, isRequired, ...rest }) => (\n  <FormSelect {...input} {...rest} isDisabled={isDisabled || isReadOnly}>\n    {createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={props.value || props.label} {...props} label={props.label.toString()} /> // eslint-disable-line react/prop-types\n    ))}\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.any,\n      label: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any,\n};\n\nconst Pf4SelectWrapper = ({ label, isRequired, helperText, meta, description, hideLabel, ...rest }) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={isRequired}\n      label={!hideLabel && label}\n      fieldId={rest.id}\n      isValid={!showError}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n    >\n      {description && (\n        <TextContent>\n          <Text component={TextVariants.small}>{description}</Text>\n        </TextContent>\n      )}\n      <Select label={label} isValid={!showError} isRequired={isRequired} {...rest} />\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool,\n};\n\nexport default Pf4SelectWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ActionGroup, Button } from '@patternfly/react-core';\nimport { isEmpty } from 'lodash';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport FormSpy from '@data-driven-forms/react-form-renderer/form-spy';\n\nconst FormButtons = ({ dirtyFieldsSinceLastSubmit, submitSucceeded, pristine }) => {\n  const { onCancel } = useFormApi();\n  const noChanges = isEmpty(dirtyFieldsSinceLastSubmit) || (!submitSucceeded && pristine);\n  return (\n    <ActionGroup className=\"pf-u-mt-0\">\n      <Button ouiaId=\"primary-submit-button\" type=\"submit\" isDisabled={noChanges} variant=\"primary\">\n        Save\n      </Button>\n      <Button ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={() => onCancel()}>\n        Cancel\n      </Button>\n    </ActionGroup>\n  );\n};\n\nFormButtons.propTypes = {\n  dirtyFieldsSinceLastSubmit: PropTypes.shape({\n    [PropTypes.string]: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  }),\n  submitSucceeded: PropTypes.bool,\n  pristine: PropTypes.bool,\n  onCancel: PropTypes.func,\n};\n\nconst FormButtonWithSpies = (formProps) => (\n  <FormSpy\n    subscription={{\n      pristine: true,\n      submitSucceeded: true,\n      dirtyFieldsSinceLastSubmit: true,\n    }}\n  >\n    {(props) => <FormButtons {...props} {...formProps} />}\n  </FormSpy>\n);\n\nexport default FormButtonWithSpies;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\nimport FormButtons from './FormButtons';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport TextField from '@data-driven-forms/pf4-component-mapper/text-field';\nimport Textarea from '@data-driven-forms/pf4-component-mapper/textarea';\nimport ReactFormRender from '@data-driven-forms/react-form-renderer/form-renderer';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\n\nconst FormRenderer = ({ formTemplateProps, ...props }) => (\n  <ReactFormRender\n    componentMapper={{\n      [componentTypes.TEXT_FIELD]: TextField,\n      [componentTypes.TEXTAREA]: Textarea,\n      [componentTypes.SELECT]: Pf4SelectWrapper,\n    }}\n    FormTemplate={(props) => <FormTemplate {...formTemplateProps} {...props} FormButtons={FormButtons} />}\n    {...props}\n  />\n);\n\nFormRenderer.propTypes = {\n  formTemplateProps: PropTypes.object,\n};\n\nexport default FormRenderer;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route } from 'react-router-dom';\n\nconst PageActionRoute = ({ pageAction, ...props }) => {\n  useEffect(() => {\n    insights.chrome.appAction(pageAction);\n    return () => insights.chrome.appAction(undefined);\n  }, [pageAction]);\n  return <Route {...props} />;\n};\n\nPageActionRoute.propTypes = {\n  pageAction: PropTypes.string.isRequired,\n};\n\nexport default PageActionRoute;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalVariant, Button } from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport './warningModal.scss';\n\nexport const WarningModal = ({ type, isOpen, onModalCancel, onConfirmCancel, customTitle, customDescription }) => (\n  <Modal\n    title={\n      <span className=\"rbac-c-wizard__cancel-warning-header\">\n        <ExclamationTriangleIcon size=\"md\" className=\"rbac-c-wizard__cancel-warning-header--icon\" />\n        {customTitle || `Exit ${type} creation?`}\n      </span>\n    }\n    variant={ModalVariant.small}\n    className=\"rbac rbac-c-wizard__cancel-warning\"\n    isOpen={isOpen}\n    onClose={onModalCancel}\n    actions={[\n      <Button ouiaId=\"primary-exit-button\" key=\"confirm\" variant=\"primary\" onClick={onConfirmCancel}>\n        Exit\n      </Button>,\n      <Button ouiaId=\"secondary-cancel-button\" key=\"cancel\" variant=\"link\" onClick={onModalCancel}>\n        Stay\n      </Button>,\n    ]}\n  >\n    <span>{customDescription || 'All inputs will be discarded.'} </span>\n  </Modal>\n);\n\nWarningModal.propTypes = {\n  type: PropTypes.string,\n  customTitle: PropTypes.node,\n  customDescription: PropTypes.node,\n  isOpen: PropTypes.bool,\n  onModalCancel: PropTypes.func,\n  onConfirmCancel: PropTypes.func,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Chip, ChipGroup, Text, TextContent, Title, Button, Popover, Alert, AlertActionCloseButton } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport QuestionCircleIcon from '@patternfly/react-icons/dist/js/icons/outlined-question-circle-icon';\nimport './add-role-wizard.scss';\n\nconst AddPermissionTemplate = ({ formFields }) => {\n  const formOptions = useFormApi();\n  const [selectedPermissions, setSelectedPermissions] = useState(formOptions.getState().values['add-permissions-table'] || []);\n  const [alertClosed, setAlertClosed] = useState(false);\n  const notAllowedBasePermissions = formOptions.getState().values['not-allowed-permissions'];\n\n  const unresolvedSplats =\n    formOptions.getState().values?.['copy-base-role']?.applications?.filter((app) => !selectedPermissions?.find(({ uuid }) => uuid.includes(app))) ||\n    [];\n  const addPermissions = formFields[0][0];\n  return (\n    <div className=\"rbac\">\n      {selectedPermissions.length > 0 ? (\n        <div className=\"rbac-c-selected-chips\">\n          <ChipGroup categoryName=\"Selected permissions\">\n            {/* immutable reverse */}\n            {selectedPermissions\n              .reduce((acc, i) => [i, ...acc], [])\n              .map(({ uuid }) => (\n                <Chip key={uuid} color=\"blue\" isTruncated onClick={() => setSelectedPermissions(selectedPermissions.filter((p) => p.uuid !== uuid))}>\n                  {uuid}\n                </Chip>\n              ))}\n          </ChipGroup>\n        </div>\n      ) : null}\n      <Title headingLevel=\"h1\" size=\"xl\" className=\"rbac-c-add-permission-title\">\n        Add permissions\n      </Title>\n      <TextContent>\n        <Text>\n          Select permissions to add to your role\n          {unresolvedSplats.length !== 0 && (\n            <Popover\n              headerContent=\"Custom roles only support granular permissions\"\n              bodyContent=\"Wildcard permissions (for example, approval:*:*) aren’t included in this table and can’t be added to your custom role.\"\n            >\n              <Button variant=\"link\">\n                Why am I not seeing all of my permissions? <QuestionCircleIcon />\n              </Button>\n            </Popover>\n          )}\n        </Text>\n      </TextContent>\n      {notAllowedBasePermissions?.length > 0 && !alertClosed ? (\n        <Alert\n          variant=\"default\"\n          isInline\n          title={`The following permissions can not be added to a custom role and were removed from the copied role: ${notAllowedBasePermissions.join(\n            ', '\n          )}`}\n          actionClose={<AlertActionCloseButton onClose={() => setAlertClosed(true)} />}\n        />\n      ) : null}\n      {[\n        [\n          {\n            ...addPermissions,\n            props: {\n              ...addPermissions.props,\n              selectedPermissions,\n              setSelectedPermissions,\n            },\n          },\n        ],\n      ]}\n    </div>\n  );\n};\n\nAddPermissionTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default AddPermissionTemplate;\n","import { getPermissionApi } from '../shared/user-login';\n\nconst accessApi = getPermissionApi();\n\nexport async function listPermissions(\n  limit,\n  offset,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  excludeGlobals,\n  excludeRoles,\n  allowedOnly,\n  options\n) {\n  return await accessApi.listPermissions(\n    limit,\n    offset,\n    orderBy,\n    application,\n    resourceType,\n    verb,\n    permission,\n    excludeGlobals,\n    excludeRoles,\n    allowedOnly,\n    options\n  );\n}\n\nexport async function listPermissionOptions(field, limit, offset, application, resourceType, verb, allowedOnly, options) {\n  return await accessApi.listPermissionOptions(field, limit, offset, application, resourceType, verb, undefined, allowedOnly, options);\n}\n","import * as ActionTypes from '../action-types';\nimport * as PermissionsHelper from '../../helpers/permission/permission-helper';\n\nexport const listPermissions = ({\n  limit,\n  offset,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  exclude_globals = true,\n  exclude_roles,\n  allowed_only,\n  options,\n}) => ({\n  type: ActionTypes.LIST_PERMISSIONS,\n  payload: PermissionsHelper.listPermissions(\n    limit,\n    offset,\n    orderBy,\n    application,\n    resourceType,\n    verb,\n    permission,\n    exclude_globals,\n    exclude_roles,\n    allowed_only,\n    options\n  ),\n});\n\nconst fieldToAction = {\n  application: ActionTypes.LIST_APPLICATION_OPTIONS,\n  resource_type: ActionTypes.LIST_RESOURCE_OPTIONS,\n  verb: ActionTypes.LIST_OPERATION_OPTIONS,\n};\n\nexport const listPermissionOptions = ({ field, limit, offset, application, resourceType, verb, allowedOnly, options }) => ({\n  type: fieldToAction[field],\n  payload: PermissionsHelper.listPermissionOptions(field, limit, offset, application, resourceType, verb, allowedOnly, options),\n});\n\nexport const expandSplats = ({\n  limit = 1000,\n  offset = 0,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  exclude_globals = true,\n  options,\n}) => ({\n  type: ActionTypes.EXPAND_SPLATS,\n  payload: PermissionsHelper.listPermissions(limit, offset, orderBy, application, resourceType, verb, permission, exclude_globals, options),\n});\n\nexport const resetExpandSplats = () => ({\n  type: ActionTypes.RESET_EXPAND_SPLATS,\n  payload: {\n    data: [],\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from '@patternfly/react-core';\nimport { RowWrapper } from '@patternfly/react-table';\n\nexport const DisabledRowWrapper = ({ row, ...props }) =>\n  row.disableSelection ? (\n    <Tooltip content={row.disabledContent} exitDelay={1500} entryDelay={1500}>\n      <RowWrapper className=\"rbac-c-disabled-row\" row={row} {...props} />\n    </Tooltip>\n  ) : (\n    <RowWrapper row={row} {...props} />\n  );\n\nDisabledRowWrapper.propTypes = {\n  props: PropTypes.object,\n  row: PropTypes.object,\n};\n","import React, { useCallback, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport debouncePromise from '@redhat-cloud-services/frontend-components-utilities/debounce';\nimport { TableToolbarView } from '../../../presentational-components/shared/table-toolbar-view';\nimport { listPermissions, listPermissionOptions, expandSplats, resetExpandSplats } from '../../../redux/actions/permission-action';\nimport { getResourceDefinitions } from '../../../redux/actions/cost-management-actions';\nimport { fetchRole } from '../../../redux/actions/role-actions';\nimport { DisabledRowWrapper } from './DisabledRowWrapper';\nimport { isEqual } from 'lodash';\n\nconst columns = ['Application', 'Resource type', 'Operation'];\nconst selector = ({\n  permissionReducer: {\n    permission,\n    isLoading,\n    options: { application, operation, resource },\n    expandSplats,\n    isLoadingExpandSplats,\n  },\n  roleReducer: { isRecordLoading, selectedRole },\n  costReducer: { resourceTypes },\n}) => ({\n  permissions: permission.data.map(({ application, resource_type: resource, verb, permission, requires } = {}) => ({\n    application,\n    resource,\n    operation: verb,\n    uuid: permission,\n    requires,\n  })),\n  pagination: permission.meta,\n  isLoading: isLoading || isRecordLoading,\n  baseRole: selectedRole,\n  applicationOptions: application.data.filter((app) => app !== '*'),\n  resourceOptions: resource.data.filter((app) => app !== '*'),\n  operationOptions: operation.data.filter((app) => app !== '*'),\n  expandedPermissions: expandSplats.data.map(({ permission }) => permission),\n  isLoadingExpandSplats,\n  resourceTypes: resourceTypes.data,\n});\n\nconst AddPermissionsTable = ({ selectedPermissions, setSelectedPermissions, ...props }) => {\n  const dispatch = useDispatch();\n\n  const fetchData = (apiProps) =>\n    dispatch(\n      listPermissions({\n        ...apiProps,\n        ...(existingRoleId ? { exclude_roles: existingRoleId } : {}),\n        allowed_only: true,\n      })\n    );\n  const fetchOptions = (apiProps) => dispatch(listPermissionOptions({ ...apiProps, allowedOnly: true }));\n  const {\n    permissions,\n    isLoading,\n    pagination,\n    baseRole,\n    applicationOptions,\n    resourceOptions,\n    operationOptions,\n    expandedPermissions,\n    isLoadingExpandSplats,\n    resourceTypes,\n  } = useSelector(selector, shallowEqual);\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  // TODO: use reducer when cleaning this code\n  const [filters, setFilters] = useState({ applications: [], resources: [], operations: [] });\n  const roleType = formOptions.getState().values['role-type']; // create/copy\n  const existingRoleId = formOptions.getState().values['role-uuid'];\n  const [isToggled, setIsToggled] = useState(false);\n  const [filterBy, setFilterBy] = useState('');\n  const [value, setValue] = useState();\n  const maxFilterItems = 10;\n\n  const getResourceType = (permission) => resourceTypes.find((r) => r.value === permission.split(':')?.[1]);\n  const createRows = (permissions) =>\n    permissions.map(({ application, resource, operation, uuid, requires }) => ({\n      uuid: `${application}:${resource}:${operation}`,\n      requires,\n      cells: [\n        {\n          title: application,\n        },\n        resource,\n        operation,\n      ],\n      selected: Boolean(selectedPermissions && selectedPermissions.find((row) => row.uuid === uuid)),\n      disableSelection: application === 'cost-management' && (getResourceType(uuid) || { count: 0 }).count === 0,\n      disabledContent: (\n        <div>\n          To add this permission to your role and define specific resources for it, at least one data source must be connected.{' '}\n          <a href=\"./settings/sources\">Configure sources for Cost Management</a>\n        </div>\n      ),\n    }));\n\n  const debouncedGetApplicationOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({\n          field: 'application',\n          limit: 50,\n          application: applications.join(),\n          resourceType: resources.join(),\n          verb: operations.join(),\n        }),\n      2000\n    ),\n    []\n  );\n  const debouncedGetResourceOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({\n          field: 'resource_type',\n          limit: 50,\n          application: applications.join(),\n          resourceType: resources.join(),\n          verb: operations.join(),\n        }),\n      2000\n    ),\n    []\n  );\n  const debouncedGetOperationOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({ field: 'verb', limit: 50, application: applications.join(), resourceType: resources.join(), verb: operations.join() }),\n      2000\n    ),\n    []\n  );\n\n  useEffect(() => {\n    const baseRoleUuid = formOptions.getState().values['copy-base-role']?.uuid;\n    if (roleType === 'copy' && baseRoleUuid) {\n      dispatch(fetchRole(baseRoleUuid));\n    }\n\n    dispatch(getResourceDefinitions());\n    formOptions.change('has-cost-resources', false);\n    fetchData(pagination);\n    fetchOptions({ field: 'application', limit: 50 });\n    fetchOptions({ field: 'resource_type', limit: 50 });\n    fetchOptions({ field: 'verb', limit: 50 });\n\n    return () => dispatch(resetExpandSplats());\n  }, []);\n\n  useEffect(() => {\n    debouncedGetResourceOptions(filters);\n    debouncedGetOperationOptions(filters);\n  }, [filters.applications]);\n\n  useEffect(() => {\n    debouncedGetApplicationOptions(filters);\n    debouncedGetOperationOptions(filters);\n  }, [filters.resources]);\n\n  useEffect(() => {\n    debouncedGetApplicationOptions(filters);\n    debouncedGetResourceOptions(filters);\n  }, [filters.operations]);\n\n  useEffect(() => {\n    input.onChange(selectedPermissions);\n  }, [selectedPermissions]);\n\n  useEffect(() => {\n    if (\n      !baseRole ||\n      roleType !== 'copy' ||\n      formOptions.getState().values['base-permissions-loaded'] ||\n      selectedPermissions.length > 0 ||\n      formOptions.getState().values['copy-base-role']?.uuid !== baseRole?.uuid ||\n      isLoadingExpandSplats ||\n      isLoading\n    ) {\n      return;\n    }\n\n    let notAllowed = [];\n\n    const basePermissions =\n      baseRole?.access.filter((item) => {\n        if (applicationOptions.includes(item?.permission?.split(':')[0])) {\n          return true;\n        }\n        notAllowed.push(item);\n\n        return false;\n      }) || [];\n    formOptions.change(\n      'not-allowed-permissions',\n      notAllowed.map(({ permission }) => permission)\n    );\n    if (expandedPermissions.length === 0 && typeof isLoadingExpandSplats === 'undefined') {\n      const applications = [...new Set(basePermissions.map(({ permission }) => permission.split(':')[0]))];\n      dispatch(expandSplats({ application: applications.join() }));\n    } else {\n      const patterns = basePermissions.map(({ permission }) => permission.replace('*', '.*'));\n      setSelectedPermissions(() =>\n        expandedPermissions\n          .filter((p) => p.split(':')[0] !== 'cost-management' || (getResourceType(p) || { count: 0 }).count !== 0) // filter disabled rows\n          .filter((p) => patterns.some((f) => p.match(f))) // filter permissions with unresolved splats\n          .map((permission) => ({ uuid: permission }))\n      );\n      formOptions.change('base-permissions-loaded', true);\n    }\n  }, [permissions, baseRole]);\n\n  const setCheckedItems = (newSelection) => {\n    const newSelected = newSelection(selectedPermissions)\n      .filter(({ uuid, application }) => application !== 'cost-management' || getResourceType(uuid)?.count > 0)\n      .map(({ uuid, requires }) => ({ uuid, requires }));\n\n    setSelectedPermissions(isEqual(newSelected, selectedPermissions) ? [] : newSelected);\n  };\n\n  const calculateSelected = (filter) =>\n    filter.reduce(\n      (acc, curr) => ({\n        '': {\n          ...acc?.[''],\n          [curr]: true,\n        },\n      }),\n      { '': {} }\n    );\n\n  const preparedFilterItems = {\n    applications: [...applicationOptions].filter((item) => item.includes(filterBy)).map((app) => ({ label: app, value: app })),\n    resources: [...resourceOptions].filter((item) => item.includes(filterBy)).map((res) => ({ label: res, value: res })),\n    operations: [...operationOptions].filter((item) => item.includes(filterBy)).map((op) => ({ label: op, value: op })),\n  };\n\n  const emptyItem = {\n    label: <div> No results found</div>,\n    isDisabled: true,\n  };\n\n  const filterItemOverflow = preparedFilterItems[Object.keys(preparedFilterItems)[value ? value : 0]].length > maxFilterItems;\n  return (\n    <div className=\"rbac-c-permissions-table\">\n      <TableToolbarView\n        columns={columns}\n        isSelectable={true}\n        isCompact={true}\n        borders={false}\n        createRows={createRows}\n        data={permissions}\n        filterValue={''}\n        noData={permissions?.length === 0}\n        noDataDescription={[\n          \"The permission either does not exist or has already been added to this role. Adjust your filters and try again. Note: Applications that only have wildcard permissions (for example, compliance:*:*) aren't included in this table and can't be added to your custom role.\",\n        ]}\n        fetchData={({ limit, offset, applications, resources, operations }) => {\n          fetchData({\n            limit,\n            offset,\n            application: (applications || filters.applications).join(),\n            resourceType: (resources || filters.resources).join(),\n            verb: (operations || filters.operations).join(),\n          });\n        }}\n        setFilterValue={({ applications, resources, operations }) => {\n          setFilters({\n            ...filters,\n            ...(applications ? { applications } : filters.applications),\n            ...(resources ? { resources } : filters.resources),\n            ...(operations ? { operations } : filters.operations),\n          });\n        }}\n        isLoading={isLoading || isLoadingExpandSplats}\n        pagination={{ ...pagination, count: pagination.count }}\n        checkedRows={selectedPermissions}\n        setCheckedItems={setCheckedItems}\n        titlePlural=\"permissions\"\n        titleSingular=\"permission\"\n        showMoreTitle={isToggled ? 'See less' : 'See more'}\n        onFilter={(filterBy) => setFilterBy(filterBy)}\n        onShowMore={\n          filterItemOverflow\n            ? () => {\n                setIsToggled(() => !isToggled);\n              }\n            : undefined\n        }\n        onChange={(e, value) => {\n          setFilterBy('');\n          setValue(value);\n        }}\n        value={value}\n        filters={[\n          {\n            key: 'applications',\n            value: filters.applications,\n            placeholder: 'Filter by application',\n            type: 'group',\n            selected: calculateSelected(filters.applications),\n            groups: [\n              {\n                type: preparedFilterItems.applications.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.applications.length > 0\n                    ? [...preparedFilterItems.applications].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'resources',\n            value: filters.resources,\n            placeholder: 'Filter by resource type',\n            type: 'group',\n            selected: calculateSelected(filters.resources),\n            groups: [\n              {\n                type: preparedFilterItems.resources.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.resources.length > 0\n                    ? [...preparedFilterItems.resources].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'operations',\n            value: filters.operations,\n            placeholder: 'Filter by operation',\n            type: 'group',\n            selected: calculateSelected(filters.operations),\n            groups: [\n              {\n                type: preparedFilterItems.operations.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.operations.length > 0\n                    ? [...preparedFilterItems.operations].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n        ]}\n        isFilterable={true}\n        rowWrapper={DisabledRowWrapper}\n        tableId=\"add-role-permissions\"\n        {...props}\n      />\n    </div>\n  );\n};\n\nAddPermissionsTable.propTypes = {\n  selectedPermissions: PropTypes.array,\n  setSelectedPermissions: PropTypes.func,\n};\n\nexport default AddPermissionsTable;\n","import React, { useEffect, useReducer } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { Select, SelectOption, SelectVariant, Grid, GridItem, Text, TextVariants, FormGroup, Tooltip } from '@patternfly/react-core';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { getResourceDefinitions, getResource } from '../../../redux/actions/cost-management-actions';\nimport './cost-resources.scss';\n\nconst selector = ({ costReducer: { resourceTypes, isLoading, loadingResources, resources } }) => ({\n  resourceTypes: resourceTypes.data,\n  resources,\n  isLoading,\n  isLoadingResources: loadingResources > 0,\n});\n\nconst reducer = (state, action) => {\n  const prevState = state[action.key];\n  switch (action.type) {\n    case 'toggle':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          isOpen: !prevState.isOpen,\n        },\n      };\n    case 'select':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: prevState.selected.includes(action.selection)\n            ? prevState.selected.filter((item) => item !== action.selection)\n            : [...prevState.selected, action.selection],\n        },\n      };\n    case 'selectAll':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: prevState.options.map((option) => option.value),\n        },\n      };\n    case 'clear':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: [],\n        },\n      };\n    case 'setOptions':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          options: action.options,\n          filteredOptions: action.options,\n        },\n      };\n    case 'setFilter':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          filteredOptions: prevState.options.filter(({ value }) => value.includes(action.filtervalue)),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nconst CostResources = (props) => {\n  const dispatch = useDispatch();\n  const fetchData = (apiProps) => dispatch(getResourceDefinitions(apiProps));\n  const fetchResource = (apiProps) => dispatch(getResource(apiProps));\n  const { resourceTypes, isLoading, isLoadingResources, resources } = useSelector(selector, shallowEqual);\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  const permissions = formOptions.getState().values['add-permissions-table'].filter(({ uuid }) => uuid.split(':')[0].includes('cost-management'));\n  const [state, dispatchLocaly] = useReducer(\n    reducer,\n    permissions.reduce(\n      (acc, permission) => ({\n        ...acc,\n        [permission.uuid]: {\n          selected: [],\n          options: [],\n          filteredOptions: [],\n          isOpen: false,\n        },\n      }),\n      {}\n    )\n  );\n  const onToggle = (key, isOpen) => dispatchLocaly({ type: 'toggle', key, isOpen });\n  const clearSelection = (key) => dispatchLocaly({ type: 'clear', key });\n  const onSelect = (event, selection, selectAll, key) =>\n    selectAll ? dispatchLocaly({ type: 'selectAll', selection, key }) : dispatchLocaly({ type: 'select', selection, key });\n\n  const permissionToResource = (permission) => resourceTypes.find((r) => r.value === permission.split(':')?.[1])?.path.split('/')?.[5];\n\n  useEffect(() => {\n    (formOptions.getState().values['resource-definitions'] || []).map(({ permission, resources }) =>\n      resources.map(\n        (resource) =>\n          permissions.find((item) => item?.uuid === permission) && dispatchLocaly({ type: 'select', selection: resource, key: permission })\n      )\n    );\n    fetchData();\n    formOptions.change('has-cost-resources', true);\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading) {\n      const resourcePaths = [\n        ...new Set(permissions.map((permission) => resourceTypes.find((r) => r.value === permission.uuid.split(':')?.[1])?.path)),\n      ].filter((path) => path); // remove undefined\n      resourcePaths.map((path) => fetchResource(path));\n    }\n  }, [resourceTypes]);\n\n  useEffect(() => {\n    if (!isLoadingResources) {\n      permissions.map((p) => dispatchLocaly({ type: 'setOptions', key: p.uuid, options: resources[permissionToResource(p.uuid)] || [] }));\n    }\n  }, [isLoadingResources]);\n\n  useEffect(() => {\n    const resourceDefinitions = Object.entries(state).map(([permission, resources]) => ({ permission, resources: resources.selected }));\n    input.onChange(resourceDefinitions);\n    formOptions.change('resource-definitions', resourceDefinitions);\n  }, [state]);\n\n  // eslint-disable-next-line react/prop-types\n  const makeRow = ({ uuid: permission }) => {\n    const options = state[permission].filteredOptions;\n    return (\n      <React.Fragment>\n        <GridItem md={4} sm={12}>\n          <Tooltip content={<div>{permission}</div>}>\n            <FormGroup label={permission.replace(/^cost-management:/, '')} isRequired></FormGroup>\n          </Tooltip>\n        </GridItem>\n        <GridItem md={8} sm={12}>\n          <Select\n            className=\"rbac-m-cost-resource-select\"\n            variant={SelectVariant.checkbox}\n            typeAheadAriaLabel=\"Select a state\"\n            onToggle={(isOpen) => {\n              dispatchLocaly({ type: 'setFilter', key: permission, filtervalue: '' });\n              onToggle(permission, isOpen);\n            }}\n            onSelect={(event, selection) => {\n              onSelect(event, selection, selection === `Select All (${options.length})`, permission);\n            }}\n            onClear={() => clearSelection(permission)}\n            selections={state[permission].selected}\n            isOpen={state[permission].isOpen}\n            onFilter={(e) => e && dispatchLocaly({ type: 'setFilter', key: permission, filtervalue: e.target.value })}\n            aria-labelledby={permission}\n            placeholderText=\"Select resources\"\n            hasInlineFilter\n          >\n            {[\n              <SelectOption key={0} value={`Select All (${options.length})`} />,\n              ...options.map((option, index) => <SelectOption key={index + 1} value={option.value} />),\n            ]}\n          </Select>\n        </GridItem>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Grid hasGutter>\n      <GridItem md={4} className=\"rbac-m-hide-on-sm\">\n        <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n          Permissions\n        </Text>\n      </GridItem>\n      <GridItem md={8} className=\"rbac-m-hide-on-sm\">\n        <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n          Resource definitions\n        </Text>\n      </GridItem>\n      {permissions.map(makeRow)}\n    </Grid>\n  );\n};\n\nexport default CostResources;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\n\nimport ModalFormTemplate from '../common/ModalFormTemplate';\nimport FormRenderer from '../common/form-renderer';\nimport useIsMounted from '../../hooks/useIsMounted';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { roleSelector } from './role-selectors';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { fetchRole, fetchRoles } from '../../helpers/role/role-helper';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { patchRole } from '../../redux/actions/role-actions';\n\nconst validationPromise = (name, idKey, id) =>\n  name.length < 150\n    ? fetchRoles({ name }).then(({ data }) => {\n        if (data.length === 0) {\n          return undefined;\n        }\n\n        const taken = data.some((item) => item[idKey] !== id && item.display_name === name);\n        if (taken) {\n          throw 'Role with this name already exists.';\n        }\n      })\n    : Promise.reject('Can have maximum of 150 characters.');\n\nconst createEditRoleSchema = (id) => ({\n  fields: [\n    {\n      name: 'name',\n      component: componentTypes.TEXT_FIELD,\n      label: 'Name',\n      isRequired: true,\n      validate: [{ type: 'validate-role-name', id, idKey: 'uuid', validationPromise }],\n    },\n    {\n      name: 'description',\n      component: componentTypes.TEXTAREA,\n      label: 'Description',\n      validate: [\n        {\n          type: validatorTypes.MAX_LENGTH,\n          threshold: 150,\n        },\n      ],\n    },\n  ],\n});\n\nconst uniqueNameValidator = asyncDebounce((value, idKey, id, validationPromise) => {\n  if (!value || value.length === 0) {\n    return Promise.reject('Required');\n  }\n\n  return validationPromise(value, idKey, id);\n});\n\nconst EditRoleModal = ({ routeMatch, cancelRoute, submitRoute = cancelRoute, afterSubmit }) => {\n  const isMounted = useIsMounted();\n  const {\n    params: { id },\n  } = useRouteMatch(routeMatch);\n  const { replace, push } = useHistory();\n  const dispatch = useDispatch();\n\n  const validatorMapper = {\n    'validate-role-name':\n      ({ idKey, id, validationPromise }) =>\n      (value) =>\n        uniqueNameValidator(value, idKey, id, validationPromise),\n  };\n\n  const role = useSelector((state) => roleSelector(state, id));\n  const [initialValues, setInitialValues] = useState(role);\n\n  const onCancel = () => {\n    dispatch(\n      addNotification({\n        variant: 'warning',\n        dismissDelay: 8000,\n        dismissable: false,\n        title: 'Editing role',\n        description: 'Edit role was canceled by the user.',\n      })\n    );\n    replace(cancelRoute);\n  };\n\n  const handleSubmit = (data) =>\n    dispatch(patchRole(id, { name: data.name, display_name: data.name, description: data.description })).then(() => {\n      afterSubmit();\n      push(submitRoute);\n    });\n\n  useEffect(() => {\n    !initialValues &&\n      fetchRole(id).then((role) => {\n        if (isMounted.current) {\n          setInitialValues(role);\n        }\n      });\n  }, [id]);\n  if (!initialValues) {\n    return null;\n  }\n\n  return (\n    <FormRenderer\n      schema={createEditRoleSchema(id)}\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      onCancel={onCancel}\n      validatorMapper={validatorMapper}\n      FormTemplate={(props) => (\n        <ModalFormTemplate {...props} ModalProps={{ onClose: onCancel, isOpen: true, variant: 'small', title: 'Edit role information' }} />\n      )}\n    />\n  );\n};\n\nEditRoleModal.propTypes = {\n  routeMatch: PropTypes.string.isRequired,\n  cancelRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]).isRequired,\n  submitRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]),\n  afterSubmit: PropTypes.func.isRequired,\n};\n\nexport default EditRoleModal;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { Button, Checkbox, Modal, Text, TextContent, TextVariants, Split, SplitItem } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { removeRole } from '../../redux/actions/role-actions';\nimport { fetchRole } from '../../helpers/role/role-helper';\nimport useIsMounted from '../../hooks/useIsMounted';\nimport { roleNameSelector } from './role-selectors';\n\nconst RemoveRoleModal = ({ routeMatch, cancelRoute, submitRoute = cancelRoute, afterSubmit }) => {\n  const isMounted = useIsMounted();\n  const {\n    params: { id },\n  } = useRouteMatch(routeMatch);\n  const roleName = useSelector((state) => roleNameSelector(state, id));\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [internalRoleName, setInternalRoleName] = useState(roleName);\n  const dispatch = useDispatch();\n  const { push, replace } = useHistory();\n\n  useEffect(() => {\n    !internalRoleName &&\n      fetchRole(id)\n        .then((role) => {\n          if (isMounted.current) {\n            setInternalRoleName(role.display_name);\n          }\n        })\n        .catch((error) => dispatch(addNotification({ variant: 'danger', title: 'Could not get role', description: error?.errors?.[0]?.detail })));\n  }, []);\n\n  const onSubmit = () =>\n    dispatch(removeRole(id)).then(() => {\n      push(submitRoute);\n      return afterSubmit();\n    });\n\n  const onCancel = () => replace(cancelRoute);\n  if (!internalRoleName) {\n    return null;\n  }\n\n  return (\n    <Modal\n      className=\"rbac\"\n      aria-label=\"remove-role\"\n      header={\n        <TextContent>\n          <Split hasGutter>\n            <SplitItem>\n              <ExclamationTriangleIcon size=\"lg\" style={{ fill: '#f0ab00' }} />\n            </SplitItem>\n            <SplitItem>\n              <Text component=\"h1\">Delete role?</Text>\n            </SplitItem>\n          </Split>\n        </TextContent>\n      }\n      isOpen\n      variant=\"small\"\n      onClose={onCancel}\n      actions={[\n        <Button isDisabled={isDisabled} key=\"submit\" variant=\"danger\" type=\"button\" id=\"confirm-delete-portfolio\" onClick={onSubmit}>\n          Confirm\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" type=\"button\" onClick={onCancel}>\n          Cancel\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        <Text component={TextVariants.p}>\n          The <strong>{internalRoleName}</strong> role will be removed from any group it’s in, and members in the groups will no longer be granted the\n          permissions in the role.\n        </Text>\n        <Checkbox\n          id=\"remove-role-checkbox\"\n          label=\"I understand that this action cannot be undone.\"\n          isChecked={!isDisabled}\n          onChange={() => setIsDisabled((prev) => !prev)}\n        />\n      </TextContent>\n    </Modal>\n  );\n};\n\nRemoveRoleModal.propTypes = {\n  routeMatch: PropTypes.string.isRequired,\n  cancelRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]).isRequired,\n  submitRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]),\n  afterSubmit: PropTypes.func.isRequired,\n};\n\nexport default RemoveRoleModal;\n","export const roleSelector = (state, roleId) => {\n  const {\n    roleReducer: { roles = { data: [] }, selectedRole },\n  } = state;\n  if (selectedRole?.uuid === roleId) {\n    return selectedRole;\n  }\n\n  return roles.data.find(({ uuid }) => uuid === roleId);\n};\n\nexport const roleNameSelector = (state, roleId) => roleSelector(state, roleId)?.display_name;\n","import React, { Fragment } from 'react';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { getDateFormat } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { Link } from 'react-router-dom';\nimport flatten from 'lodash/flatten';\n\nexport const createRows =\n  (showResDefinitions, uuid) =>\n  (data, opened, selectedRows = []) =>\n    data.reduce((acc, { resourceDefinitions, permission, modified }) => {\n      const [appName, type, operation] = permission.split(':');\n      return [\n        ...acc,\n        {\n          uuid: permission,\n          cells: [\n            appName,\n            type,\n            operation,\n            ...(showResDefinitions\n              ? [\n                  permission.includes('cost-management') && resourceDefinitions.length > 0 ? (\n                    <Fragment key=\"resource-definitions\">\n                      <Link to={`/roles/detail/${uuid}/permission/${permission}`}>\n                        {flatten(resourceDefinitions.map((definition) => definition.attributeFilter.value)).length}\n                      </Link>\n                    </Fragment>\n                  ) : (\n                    <span className=\"rbac-c-text__disabled\">N/A</span>\n                  ),\n                ]\n              : []),\n            <Fragment key={`${appName}-modified`}>\n              <DateFormat date={modified} type={getDateFormat(modified)} />\n            </Fragment>,\n          ],\n          selected: Boolean(selectedRows?.find(({ uuid }) => uuid === permission)),\n        },\n      ];\n    }, []);\n\nexport const rolePermissionsReducerInitialState = {\n  pagination: defaultSettings,\n  selectedPermissions: [],\n  showRemoveModal: false,\n  confirmDelete: () => null,\n  deleteInfo: {},\n  filters: {\n    applications: [],\n    resources: [],\n    operations: [],\n  },\n  isToggled: false,\n  resources: [],\n  operations: [],\n};\nexport const SET_PAGINATION = 'SET_PAGINATION';\nexport const SELECT_PERMISSIONS = 'SELECT_PERMISSIONS';\nexport const SHOW_REMOVE_MODAL = 'SHOW_REMOVE_MODAL';\nexport const SUBMIT_REMOVE_MODAL = 'SUBMIT_REMOVE_MODAL';\nexport const INITIATE_REMOVE_PERMISSION = 'INITIATE_REMOVE_PERMISSION';\nexport const SET_FILTERS = 'SET_FILTERS';\nexport const SET_TOGGLED = 'SET_TOGGLED';\nexport const SET_FILTER_OPTIONS = 'SET_FILTER_OPTIONS';\nexport const INITIALIZE_ROLE = 'INITIALIZE_ROLE';\nconst reducerHandlers = {\n  [SET_PAGINATION]: (state, pagination) => ({ ...state, pagination: { ...state.pagination, ...pagination } }),\n  [SELECT_PERMISSIONS]: (state, { selection }) => ({ ...state, selectedPermissions: selection }),\n  [SHOW_REMOVE_MODAL]: (state, { showRemoveModal }) => ({ ...state, showRemoveModal }),\n  [SUBMIT_REMOVE_MODAL]: (state) => ({ ...state, selectedPermissions: [], showRemoveModal: false }),\n  [INITIATE_REMOVE_PERMISSION]: (state, { confirmDelete, deleteInfo }) => ({ ...state, confirmDelete, showRemoveModal: true, deleteInfo }),\n  [SET_FILTERS]: (state, filters) => ({ ...state, filters: { ...state.filters, ...filters } }),\n  [SET_TOGGLED]: (state) => ({ ...state, isToggled: !state.isToggled }),\n  [INITIALIZE_ROLE]: (state, { count, ...options }) => ({ ...state, ...options, pagination: { ...state.pagination, count } }),\n};\nexport const rolePermissionsReducer = (state, { type, ...action }) => {\n  if (!reducerHandlers[type]) {\n    return state;\n  }\n\n  return reducerHandlers[type](state, action);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title, Button, EmptyState, EmptyStateIcon, EmptyStateBody } from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { fetchRole } from '../../../redux/actions/role-actions.js';\n\nconst AddRolePermissionSuccess = ({ currentRoleID }) => {\n  const dispatch = useDispatch();\n  return (\n    <>\n      <EmptyState>\n        <EmptyStateIcon color=\"green\" icon={CheckCircleIcon} />\n        <Title headingLevel=\"h4\" size=\"lg\">\n          You have successfully added permissions to the role\n        </Title>\n        <EmptyStateBody></EmptyStateBody>\n        <Link to={`/roles/detail/${currentRoleID}`}>\n          <Button onClick={() => dispatch(fetchRole(currentRoleID))}>Exit</Button>\n        </Link>\n      </EmptyState>\n    </>\n  );\n};\n\nexport default AddRolePermissionSuccess;\n\nAddRolePermissionSuccess.propTypes = {\n  currentRoleID: PropTypes.string.isRequired,\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport { AddRolePermissionWizardContext } from './add-role-permission-wizard';\nimport '../add-role-new/review.scss';\n\nconst ReviewTemplate = ({ formFields }) => {\n  const { submitting } = useContext(AddRolePermissionWizardContext);\n\n  if (submitting) {\n    return (\n      <Bullseye>\n        <Spinner size=\"xl\" />\n      </Bullseye>\n    );\n  }\n\n  return <div className=\"rbac\">{[[{ ...formFields?.[0]?.[0] }]]}</div>;\n};\n\nReviewTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default ReviewTemplate;\n","import React, { useState, useEffect, useRef, createContext } from 'react';\nimport { useDispatch } from 'react-redux';\nimport AddRolePermissionSummaryContent from './add-role-permissions-summary-content';\nimport AddRolePermissionSuccess from './add-role-permission-success';\nimport PropTypes from 'prop-types';\nimport { WarningModal } from '../../common/warningModal';\nimport { useHistory } from 'react-router-dom';\nimport { Wizard } from '@patternfly/react-core';\nimport { updateRole } from '../../../redux/actions/role-actions.js';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/component-mapper';\nimport AddPermissionsTable from '../add-role-new/add-permissions';\nimport CostResources from '../add-role-new/cost-resources';\nimport { schemaBuilder } from './schema';\n\nconst FormTemplate = (props) => <Pf4FormTemplate {...props} showFormControls={false} />;\n\nexport const mapperExtension = {\n  'add-permissions-table': AddPermissionsTable,\n  'cost-resources': CostResources,\n  review: AddRolePermissionSummaryContent,\n};\n\nexport const AddRolePermissionWizardContext = createContext({\n  success: false,\n  submitting: false,\n  error: undefined,\n});\n\nconst AddRolePermissionWizard = ({ role }) => {\n  const [cancelWarningVisible, setCancelWarningVisible] = useState(false);\n  const [currentRoleID, setCurrentRoleID] = useState('');\n  const [schema, setSchema] = useState({});\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [wizardContextValue, setWizardContextValue] = useState({\n    success: false,\n    submitting: false,\n    error: undefined,\n    hideForm: false,\n  });\n  const container = useRef(document.createElement('div'));\n  const setWizardError = (error) => setWizardContextValue((prev) => ({ ...prev, error }));\n  const setWizardSuccess = (success) => setWizardContextValue((prev) => ({ ...prev, success }));\n  const setHideForm = (hideForm) => setWizardContextValue((prev) => ({ ...prev, hideForm }));\n\n  useEffect(() => {\n    setSchema(schemaBuilder(container.current));\n  }, []);\n\n  useEffect(() => {\n    setCurrentRoleID(role.uuid);\n  });\n\n  useEffect(() => {\n    container.current.hidden = cancelWarningVisible;\n  }, [cancelWarningVisible]);\n\n  const handleWizardCancel = () => {\n    setCancelWarningVisible(true);\n  };\n\n  const handleConfirmCancel = () => {\n    history.push(`/roles/detail/${role.uuid}`);\n  };\n\n  const onSubmit = async (formData) => {\n    const { 'add-permissions-table': selectedPermissions, 'cost-resources': resourceDefinitions } = formData;\n\n    const selectedPermissionIds = [...role.access.map((record) => record.permission), ...selectedPermissions.map((record) => record.uuid)];\n    const roleData = {\n      ...role,\n      access: [\n        ...selectedPermissions.reduce(\n          (acc, { uuid: permission, requires }) => [\n            ...acc,\n            ...[permission, ...requires.filter((require) => !selectedPermissionIds.includes(require))].map((permission) => ({\n              permission,\n              resourceDefinitions: resourceDefinitions?.find((r) => r.permission === permission)\n                ? [\n                    {\n                      attributeFilter: {\n                        key: `cost-management.${permission.split(':')[1]}`,\n                        operation: 'in',\n                        value: resourceDefinitions?.find((r) => r.permission === permission).resources,\n                      },\n                    },\n                  ]\n                : [],\n            })),\n          ],\n          role.access\n        ),\n      ],\n      accessCount: role.accessCount + selectedPermissions.length,\n    };\n\n    setWizardContextValue((prev) => ({ ...prev, submitting: true }));\n    dispatch(updateRole(currentRoleID, roleData))\n      .then(() => setWizardContextValue((prev) => ({ ...prev, submitting: false, success: true, hideForm: true })))\n      .catch(() => {\n        setWizardContextValue((prev) => ({ ...prev, submitting: false, success: false, hideForm: true }));\n        history.push(`/roles/detail/${role.uuid}`);\n      });\n  };\n\n  return (\n    <AddRolePermissionWizardContext.Provider\n      value={{ ...wizardContextValue, setWizardError, setWizardSuccess, setHideForm, rolePermissions: role.access }}\n    >\n      <WarningModal\n        type=\"Permission\"\n        isOpen={cancelWarningVisible}\n        onModalCancel={() => setCancelWarningVisible(false)}\n        onConfirmCancel={handleConfirmCancel}\n      />\n      {wizardContextValue.hideForm ? (\n        wizardContextValue.success ? (\n          <Wizard\n            title=\"Add permissions\"\n            isOpen\n            steps={[\n              {\n                name: 'success',\n                component: new AddRolePermissionSuccess({ currentRoleID }),\n                isFinishedStep: true,\n              },\n            ]}\n          />\n        ) : null\n      ) : (\n        <FormRenderer\n          container={container}\n          schema={schema}\n          subscription={{ values: true }}\n          FormTemplate={FormTemplate}\n          initialValues={{\n            'role-uuid': role.uuid,\n            'role-type': 'create',\n            'role-name': role.display_name,\n            'role-description': role.description,\n          }}\n          componentMapper={{ ...componentMapper, ...mapperExtension }}\n          onSubmit={onSubmit}\n          onCancel={(values) => {\n            if (values && values['add-permissions-table']?.length > 0) {\n              handleWizardCancel();\n            } else {\n              handleConfirmCancel();\n            }\n          }}\n        />\n      )}\n    </AddRolePermissionWizardContext.Provider>\n  );\n};\n\nAddRolePermissionWizard.defaultProps = {\n  role: {},\n};\n\nAddRolePermissionWizard.propTypes = {\n  role: PropTypes.object,\n};\n\nexport default AddRolePermissionWizard;\n","import React from 'react';\nimport { Grid, GridItem, Stack, StackItem, Text, TextContent, TextVariants, Title } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nconst AddRolePermissionSummaryContent = () => {\n  const formOptions = useFormApi();\n  const {\n    'role-name': name,\n    'role-description': description,\n    'add-permissions-table': selectedPermissions,\n    'resource-definitions': resourceDefinitions,\n    'has-cost-resources': hasCostResources,\n  } = formOptions.getState().values;\n\n  return (\n    <Stack hasGutter>\n      <StackItem>\n        <TextContent>\n          <Title headingLevel=\"h1\" size=\"xl\" className=\"pf-u-mb-sm\">\n            Review details\n          </Title>\n        </TextContent>\n      </StackItem>\n      <StackItem className=\"rbac-l-stack__item-summary\">\n        <Grid hasGutter>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              Role name\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <Text component={TextVariants.p}>{name}</Text>\n          </GridItem>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              Role description\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <Text component={TextVariants.p}>{description}</Text>\n          </GridItem>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              Added permissions\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <TextContent component={TextVariants.p}>\n              {selectedPermissions.map((permission, index) => (\n                <Text key={index}> {permission.uuid} </Text>\n              ))}\n            </TextContent>\n          </GridItem>\n          {hasCostResources && (\n            <React.Fragment>\n              <GridItem span={3}>\n                <Text className=\"pf-c-title\" component={TextVariants.h6}>\n                  Resource definitions\n                </Text>\n              </GridItem>\n              <GridItem span={9}>\n                <TextContent component={TextVariants.p}>\n                  {resourceDefinitions.map(({ resources }) => resources.map((resource, index) => <Text key={index}> {resource} </Text>))}\n                </TextContent>\n              </GridItem>\n            </React.Fragment>\n          )}\n        </Grid>\n      </StackItem>\n    </Stack>\n  );\n};\n\nexport default AddRolePermissionSummaryContent;\n","import React from 'react';\nimport AddPermissionTemplate from '../add-role-new/add-permissions-template';\nimport ReviewTemplate from './review-template';\n\nexport const schemaBuilder = (container) => ({\n  fields: [\n    {\n      component: 'wizard',\n      name: 'wizard',\n      isDynamic: true,\n      inModal: true,\n      showTitles: true,\n      crossroads: ['role-type'],\n      title: 'Add permissions',\n      container,\n      fields: [\n        {\n          name: 'add-permissions',\n          title: 'Add permissions',\n          StepTemplate: AddPermissionTemplate,\n          nextStep: ({ values }) =>\n            values &&\n            values['add-permissions-table'] &&\n            values['add-permissions-table'].some(({ uuid }) => uuid.split(':')[0].includes('cost-management'))\n              ? 'cost-resources-definition'\n              : 'review',\n          fields: [\n            {\n              component: 'add-permissions-table',\n              name: 'add-permissions-table',\n            },\n          ],\n        },\n        {\n          name: 'cost-resources-definition',\n          title: 'Define Cost Management resources',\n          nextStep: 'review',\n          fields: [\n            {\n              component: 'plain-text',\n              name: 'text-description',\n              label: <p>Specify where you would like to apply each cost permission selected in the previous step, using the dropdown below.</p>,\n            },\n            {\n              component: 'cost-resources',\n              name: 'cost-resources',\n              validate: [\n                (value = []) =>\n                  value.every((p) => p.resources.length > 0) ? undefined : 'You need to assign at least one resource to each permission.',\n              ],\n            },\n          ],\n        },\n        {\n          name: 'review',\n          title: 'Review details',\n          StepTemplate: ReviewTemplate,\n          fields: [\n            {\n              component: 'review',\n              name: 'review',\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n","import React, { useEffect, useReducer, useState } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport {\n  createRows,\n  INITIALIZE_ROLE,\n  INITIATE_REMOVE_PERMISSION,\n  rolePermissionsReducer,\n  rolePermissionsReducerInitialState,\n  SELECT_PERMISSIONS,\n  SET_FILTERS,\n  SET_PAGINATION,\n  SET_TOGGLED,\n  SHOW_REMOVE_MODAL,\n  SUBMIT_REMOVE_MODAL,\n} from './role-permissions-table-helpers';\nimport { cellWidth } from '@patternfly/react-table';\nimport './role-permissions.scss';\nimport { removeRolePermissions, fetchRole } from '../../redux/actions/role-actions';\nimport { Link, Route, useHistory } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\nimport { info } from '@patternfly/react-table';\nimport AddRolePermissionWizard from './add-role-permissions/add-role-permission-wizard';\nimport paths from '../../utilities/pathnames';\nimport RemoveModal from '../../presentational-components/shared/RemoveModal';\n\nconst maxFilterItems = 10;\n\nconst columns = [\n  { title: 'Application' },\n  { title: 'Resource type' },\n  { title: 'Operation' },\n  {\n    title: 'Resource definitions',\n    transforms: [\n      info({\n        popover: 'Resource definitions only apply to Cost Management permissions',\n        ariaLabel: 'Resource definitions only apply to Cost Management permissions',\n      }),\n    ],\n  },\n  { title: 'Last commit', transforms: [cellWidth(15)] },\n];\n\nconst removeModalText = (permissions, role, plural) =>\n  plural ? (\n    <p>\n      The <b> {`${permissions}`}</b> selected permissions will no longer be granted through the <b>{`${role.name}`}</b> role.\n    </p>\n  ) : (\n    <p>\n      The <b>{`${permissions}`}</b> permission will no longer be granted through the <b> {`${role.name}`}</b> role.\n    </p>\n  );\n\nconst Permissions = () => {\n  const { role, isRecordLoading } = useSelector(\n    (state) => ({\n      role: state.roleReducer.selectedRole,\n      isRecordLoading: state.roleReducer.isRecordLoading,\n    }),\n    shallowEqual\n  );\n\n  const history = useHistory();\n  const [\n    { pagination, selectedPermissions, showRemoveModal, confirmDelete, deleteInfo, filters, isToggled, resources, operations },\n    internalDispatch,\n  ] = useReducer(rolePermissionsReducer, rolePermissionsReducerInitialState);\n\n  const [showResourceDefinitions, setShowResourceDefinitions] = useState(true);\n\n  const dispatch = useDispatch();\n\n  const setCheckedItems = (newSelection) => {\n    internalDispatch({ type: SELECT_PERMISSIONS, selection: newSelection(selectedPermissions).map(({ uuid }) => ({ uuid })) });\n  };\n\n  useEffect(() => {\n    if (Object.keys(role).length > 0) {\n      const { resources, operations } = Object.entries(\n        role.access.reduce(\n          ({ resources, operations }, { permission }) => {\n            const [, resource, operation] = permission.split(':');\n            return {\n              resources: resources.includes(resource) ? resources : [...resources, resource],\n              operations: operations.includes(operation) ? operations : [...operations, operation],\n            };\n          },\n          { resources: [], operations: [] }\n        )\n      ).reduce((acc, [key, value]) => ({ ...acc, [key]: value.map((item) => ({ label: item, value: item })) }), {});\n      internalDispatch({ type: INITIALIZE_ROLE, resources, operations, count: role.access ? role.access.length : 0 });\n    }\n\n    setShowResourceDefinitions(role?.access?.find((a) => a.permission.includes('cost-management')));\n  }, [role]);\n\n  const filteredRows =\n    role && role.access\n      ? (role.access || [])\n          .filter(({ permission }) => {\n            const [application, resource, operation] = permission.split(':');\n            const { applications, resources, operations } = filters;\n            return (\n              (applications.length > 0 ? applications.includes(application) : true) &&\n              (resources.length > 0 ? resources.includes(resource) : true) &&\n              (operations.length > 0 ? operations.includes(operation) : true)\n            );\n          })\n          .map((acc) => ({ uuid: acc.permission, ...acc, modified: role.modified }))\n      : [];\n\n  const removePermissions = (permissions) => {\n    const permissionsToRemove = permissions.reduce((acc, curr) => [...acc, curr.uuid], []);\n    return dispatch(removeRolePermissions(role, permissionsToRemove)).then(() => {\n      dispatch(fetchRole(role.uuid));\n      internalDispatch({ type: SELECT_PERMISSIONS, selection: [] });\n    });\n  };\n\n  const actionResolver = () => [\n    {\n      title: 'Remove',\n      onClick: (_event, _rowId, permission) =>\n        internalDispatch({\n          type: INITIATE_REMOVE_PERMISSION,\n          confirmDelete: () => removePermissions([permission]),\n          deleteInfo: {\n            title: 'Remove permission?',\n            text: removeModalText(permission.uuid, role, false),\n            confirmButtonLabel: 'Remove permission',\n          },\n        }),\n    },\n  ];\n\n  const toolbarButtons = () => [\n    <Link to={`/roles/detail/${role.uuid}/role-add-permission`} key=\"role-add-permission\" className=\"rbac-m-hide-on-sm\">\n      <Button variant=\"primary\" aria-label=\"Add Permission\">\n        Add permissions\n      </Button>\n    </Link>,\n    {\n      label: 'Add Permission',\n      props: {\n        className: 'rbac-m-hide-on-md',\n      },\n      onClick: () => {\n        history.push(`/roles/detail/${role.uuid}/role-add-permission`);\n      },\n    },\n    {\n      label: 'Remove',\n      props: {\n        isDisabled: !selectedPermissions.length > 0,\n      },\n      onClick: () => {\n        const multiplePermissionsSelected = selectedPermissions.length > 1;\n        internalDispatch({\n          type: INITIATE_REMOVE_PERMISSION,\n          confirmDelete: () => removePermissions([...selectedPermissions]),\n          deleteInfo: {\n            title: multiplePermissionsSelected ? 'Remove permissions?' : 'Remove permission?',\n            text: removeModalText(\n              multiplePermissionsSelected ? selectedPermissions.length : selectedPermissions[0].uuid,\n              role,\n              selectedPermissions.length > 1\n            ),\n            confirmButtonLabel: multiplePermissionsSelected ? 'Remove permissions' : 'Remove permission',\n          },\n        });\n      },\n    },\n  ];\n\n  const routes = () => (\n    <Route exact path={paths['role-add-permission']}>\n      <AddRolePermissionWizard isOpen={true} role={role} />\n    </Route>\n  );\n\n  const calculateSelected = (filter) =>\n    filter.reduce(\n      (acc, curr) => ({\n        '': {\n          ...acc?.[''],\n          [curr]: true,\n        },\n      }),\n      { '': {} }\n    );\n\n  const emptyItem = {\n    label: <div> No results found</div>,\n    isDisabled: true,\n  };\n\n  const sanitizedRole = {\n    access: [],\n    applications: [],\n    ...role,\n  };\n\n  const filterItemOverflow = Object.values({ applications: sanitizedRole.applications, operations, resources }).find(\n    (value) => value.length > maxFilterItems\n  );\n\n  return (\n    <section className=\"pf-c-page__main-section rbac-c-role__permissions\">\n      {showRemoveModal && (\n        <RemoveModal\n          text={deleteInfo.text}\n          title={deleteInfo.title}\n          isOpen={showRemoveModal}\n          confirmButtonLabel={deleteInfo.confirmButtonLabel}\n          onClose={() => internalDispatch({ type: SHOW_REMOVE_MODAL, showRemoveModal: false })}\n          onSubmit={() => {\n            confirmDelete();\n            internalDispatch({ type: SUBMIT_REMOVE_MODAL });\n          }}\n        />\n      )}\n      <TableToolbarView\n        columns={showResourceDefinitions ? columns : columns.filter((c) => c.title !== 'Resource definitions')}\n        createRows={createRows(showResourceDefinitions, role?.uuid)}\n        actionResolver={role.system ? undefined : actionResolver}\n        data={filteredRows.slice(pagination.offset, pagination.offset + pagination.limit)}\n        filterValue=\"\"\n        ouiaId=\"role-permissions-table\"\n        fetchData={({ limit, offset }) => internalDispatch({ type: SET_PAGINATION, limit, offset })}\n        isSelectable={!role.system}\n        setCheckedItems={setCheckedItems}\n        checkedRows={selectedPermissions}\n        onShowMore={\n          filterItemOverflow\n            ? () => {\n                internalDispatch({ type: SET_TOGGLED });\n              }\n            : undefined\n        }\n        setFilterValue={({ applications, resources, operations }) => {\n          internalDispatch({\n            type: SET_FILTERS,\n            ...(applications ? { applications } : filters.applications),\n            ...(resources ? { resources } : filters.resources),\n            ...(operations ? { operations } : filters.operations),\n          });\n        }}\n        toolbarButtons={toolbarButtons}\n        isLoading={isRecordLoading}\n        pagination={{\n          ...pagination,\n          count: filteredRows.length,\n        }}\n        titlePlural=\"permissions\"\n        titleSingular=\"permission\"\n        routes={routes}\n        emptyProps={{\n          title: 'There are no permissions in this role',\n          description: ['To configure user access to applications,', 'add at least one permission to this role.', ''],\n        }}\n        filters={[\n          {\n            key: 'applications',\n            value: filters.applications.length === 0 ? '' : filters.applications,\n            placeholder: 'Filter by application',\n            type: 'group',\n            selected: calculateSelected(filters.applications),\n            groups: [\n              {\n                type: sanitizedRole.applications.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  sanitizedRole.applications.length > 0\n                    ? sanitizedRole.applications.slice(0, isToggled ? undefined : maxFilterItems).map((item) => ({ label: item, value: item }))\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'resources',\n            value: filters.resources.length === 0 ? '' : filters.resources,\n            placeholder: 'Filter by resource type',\n            type: 'group',\n            selected: calculateSelected(filters.resources),\n            groups: [\n              {\n                type: resources.length > 0 ? 'checkbox' : 'plain',\n                items: resources.length > 0 ? resources.slice(0, isToggled ? undefined : maxFilterItems) : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'operations',\n            value: filters.operations.length === 0 ? '' : filters.operations,\n            placeholder: 'Filter by operation',\n            type: 'group',\n            selected: calculateSelected(filters.operations),\n            groups: [\n              {\n                type: operations.length > 0 ? 'checkbox' : 'plain',\n                items: operations.length > 0 ? operations.slice(0, isToggled ? undefined : maxFilterItems) : [emptyItem],\n              },\n            ],\n          },\n        ]}\n      />\n    </section>\n  );\n};\n\nexport default Permissions;\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Route, useHistory, useParams } from 'react-router-dom';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { Button, Dropdown, DropdownItem, KebabToggle, Level, LevelItem, Text, TextContent } from '@patternfly/react-core';\nimport { PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport pathnames from '../../utilities/pathnames';\nimport { fetchRole, fetchRolesWithPolicies } from '../../redux/actions/role-actions';\nimport { TopToolbar } from '../../presentational-components/shared/top-toolbar';\nimport { ListLoader } from '../../presentational-components/shared/loader-placeholders';\nimport Permissions from './role-permissions';\nimport { fetchGroup } from '../../redux/actions/group-actions';\nimport { ToolbarTitlePlaceholder } from '../../presentational-components/shared/loader-placeholders';\nimport RemoveRoleModal from './remove-role-modal';\nimport EditRoleModal from './edit-role-modal';\nimport EmptyWithAction from '../../presentational-components/shared/empty-state';\nimport RbacBreadcrumbs from '../../presentational-components/shared/breadcrubms';\nimport { BAD_UUID, getBackRoute } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport './role.scss';\n\nconst Role = ({ onDelete }) => {\n  const history = useHistory();\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\n  const { uuid, groupUuid } = useParams();\n  const { role, group, isRecordLoading, rolesPagination, rolesFilters, groupsPagination, groupsFilters } = useSelector(\n    (state) => ({\n      role: state.roleReducer.selectedRole,\n      isRecordLoading: state.roleReducer.isRecordLoading,\n      ...(groupUuid && { group: state.groupReducer.selectedGroup }),\n      rolesPagination: state.roleReducer?.roles?.pagination || defaultSettings,\n      rolesFilters: state.roleReducer?.roles?.filters || {},\n      groupsPagination: state.groupReducer?.groups?.pagination || defaultSettings,\n      groupsFilters: state.groupReducer?.groups?.filters || {},\n    }),\n    shallowEqual\n  );\n\n  const roleExists = useSelector((state) => {\n    const {\n      roleReducer: { error },\n    } = state;\n    return error !== BAD_UUID;\n  });\n\n  const groupExists = useSelector((state) => {\n    const {\n      groupReducer: { error },\n    } = state;\n    return error !== BAD_UUID;\n  });\n\n  const dispatch = useDispatch();\n  const fetchData = () => {\n    dispatch(fetchRole(uuid));\n    groupUuid && dispatch(fetchGroup(groupUuid));\n  };\n\n  useEffect(() => {\n    fetchData();\n    insights.chrome.appObjectId(uuid);\n    return () => insights.chrome.appObjectId(undefined);\n  }, [uuid, groupUuid]);\n\n  const breadcrumbsList = () => [\n    groupUuid\n      ? {\n          title: 'Groups',\n          to: getBackRoute(pathnames.groups, groupsPagination, groupsFilters),\n        }\n      : {\n          title: 'Roles',\n          to: getBackRoute(pathnames.roles, rolesPagination, rolesFilters),\n        },\n\n    ...(groupUuid && groupExists\n      ? group\n        ? [\n            {\n              title: group && group.name,\n              to: `/groups/detail/${groupUuid}/roles`,\n              isLoading: group && group.loaded,\n            },\n          ]\n        : [undefined]\n      : groupExists || !groupUuid\n      ? []\n      : [{ title: 'Invalid group', isActive: true }]),\n\n    ...(groupExists || !groupUuid\n      ? [\n          {\n            title: isRecordLoading ? undefined : roleExists ? role?.display_name || role?.name : 'Invalid role',\n            isActive: true,\n          },\n        ]\n      : []),\n  ];\n\n  const title = !isRecordLoading && role ? role.display_name || role.name : undefined;\n  const description = !isRecordLoading && role ? role.description : undefined;\n  const dropdownItems = [\n    <DropdownItem\n      component={\n        <Link onClick={() => setDropdownOpen(false)} to={pathnames['role-detail-edit'].replace(':id', uuid)}>\n          Edit\n        </Link>\n      }\n      key=\"edit-role\"\n    />,\n    <DropdownItem\n      component={\n        <Link onClick={onDelete} to={pathnames['role-detail-remove'].replace(':id', uuid)}>\n          Delete\n        </Link>\n      }\n      className=\"rbac-c-role__action\"\n      key=\"delete-role\"\n    />,\n  ];\n\n  return (\n    <Fragment>\n      {(groupExists || !groupUuid) && roleExists ? (\n        <Fragment>\n          <TopToolbar breadcrumbs={breadcrumbsList()}>\n            <Level>\n              <LevelItem>\n                <PageHeaderTitle title={title || <ToolbarTitlePlaceholder />} className=\"rbac-page-header__title\" />\n              </LevelItem>\n              {!isRecordLoading && role && !role.system && (\n                <LevelItem>\n                  <Dropdown\n                    ouiaId=\"role-title-actions-dropdown\"\n                    toggle={<KebabToggle onToggle={(isOpen) => setDropdownOpen(isOpen)} id=\"role-actions-dropdown\" />}\n                    isOpen={isDropdownOpen}\n                    isPlain\n                    position=\"right\"\n                    dropdownItems={dropdownItems}\n                  />\n                </LevelItem>\n              )}\n            </Level>\n            {description && (\n              <TextContent className=\"rbac-page-header__description\">\n                <Text component=\"p\">{description}</Text>\n              </TextContent>\n            )}\n          </TopToolbar>\n          {isRecordLoading || !role ? <ListLoader /> : <Permissions />}\n          <Route path={pathnames['role-detail-remove']}>\n            {!isRecordLoading && (\n              <RemoveRoleModal\n                afterSubmit={() => {\n                  dispatch(fetchRolesWithPolicies({ ...rolesPagination, offset: 0, filters: rolesFilters, inModal: false }));\n                }}\n                cancelRoute={pathnames['role-detail'].replace(':uuid', uuid)}\n                submitRoute={getBackRoute(pathnames.roles, { ...rolesPagination, offset: 0 }, rolesFilters)}\n                routeMatch={pathnames['role-detail-remove']}\n              />\n            )}\n          </Route>\n          <Route path={pathnames['role-detail-edit']}>\n            {!isRecordLoading && (\n              <EditRoleModal\n                afterSubmit={fetchData}\n                cancelRoute={pathnames['role-detail'].replace(':uuid', uuid)}\n                routeMatch={pathnames['role-detail-edit']}\n              />\n            )}\n          </Route>\n        </Fragment>\n      ) : (\n        <Fragment>\n          <section className=\"pf-c-page__main-breadcrumb pf-u-pb-md\">\n            <RbacBreadcrumbs {...breadcrumbsList()} />\n          </section>\n          <EmptyWithAction\n            title={`${groupExists ? 'Role' : 'Group'} not found`}\n            description={[`${groupExists ? 'Role' : 'Group'} with ID ${groupExists ? uuid : groupUuid} does not exist.`]}\n            actions={[\n              <Button\n                key=\"back-button\"\n                className=\"pf-u-mt-xl\"\n                ouiaId=\"back-button\"\n                variant=\"primary\"\n                aria-label=\"Back to previous page\"\n                onClick={() => history.goBack()}\n              >\n                Back to previous page\n              </Button>,\n            ]}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nRole.propTypes = {\n  onDelete: PropTypes.func,\n};\n\nexport default Role;\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (asyncFunction, debounceTime = 250, options = { onlyResolvesLast: false }) =>\n  awesomeDebouncePromise(asyncFunction, debounceTime, options);\n"],"names":["groupApi","getGroupApi","fetchGroups","limit","offset","nameMatch","scope","username","filters","uuid","roleNames","roleDiscriminator","orderBy","platformDefault","adminDefault","system","options","inModal","Promise","all","listGroups","name","insights","chrome","auth","getUser","groups","isPaginationValid","isOffsetValid","meta","count","getLastPageOffset","response","pagination","redirected","fetchGroup","getGroup","updateGroup","data","addGroup","createGroup","newGroup","promises","user_list","length","push","addPrincipalToGroup","principals","roles_list","addRoleToGroup","roles","removeGroups","uuids","map","deleteGroup","deletePrincipalsFromGroup","groupId","users","deletePrincipalFromGroup","join","addPrincipalsToGroup","fetchRolesForGroup","excluded","description","listRolesForGroup","undefined","deleteRolesFromGroup","deleteRoleFromGroup","addRolesToGroup","fetchPrincipalsForGroup","usernames","getPrincipalsFromGroup","syncDefaultFiltersWithUrl","history","keys","defaults","searchParams","URLSearchParams","location","search","reduce","acc","key","values","getAll","Object","forEach","value","Array","isArray","Set","item","includes","append","get","set","replace","pathname","toString","areFiltersPresentInUrl","some","applyFiltersToUrl","newValues","isMounted","useRef","useEffect","current","RemoveModal","title","text","onClose","onSubmit","isOpen","confirmButtonLabel","withCheckbox","useState","checked","setChecked","Modal","className","variant","ModalVariant","actions","Button","ouiaId","isDisabled","onClick","Split","hasGutter","SplitItem","isFilled","Stack","TextContent","Checkbox","isChecked","onChange","label","id","propTypes","PropTypes","defaultProps","RbacBreadcrumbs","breadcrumbs","Breadcrumb","index","BreadcrumbItem","isActive","to","NavLink","exact","TopToolbar","children","Fragment","isRequired","paddingBottom","TopToolbarTitle","renderTitleTag","Flex","FlexItem","alignSelf","modifier","Text","component","TextVariants","costApi","getCostApi","getResourceDefinitions","apiProps","getResourceTypes","getResource","type","ActionTypes","payload","CostHelper","handleUuidError","err","error","errors","status","source","BAD_UUID","GroupHelper","fetchAdminGroup","filterValue","fetchSystemGroup","groupData","message","detail","notifications","fulfilled","dismissDelay","dismissable","rejected","addMembersToGroup","members","removeMembersFromGroup","fetchMembersForGroup","fetchAddRolesForGroup","removeRolesFromGroup","MODAL_FORM_IDENTIFIER","CustomFormWrapper","props","CustomButtons","saveLabel","cancelLabel","onCancel","useFormApi","pristine","invalid","validating","submitting","form","ModalFormTemplate","ModalProps","alert","footer","showFormControls","FormWrapper","Select","input","isReadOnly","rest","FormSelect","inputValue","selectOptions","find","createOptions","FormSelectOption","FieldProvider","Pf4SelectWrapper","helperText","hideLabel","showError","touched","FormGroup","fieldId","isValid","helperTextInvalid","componentType","FormButtons","dirtyFieldsSinceLastSubmit","submitSucceeded","noChanges","ActionGroup","formProps","subscription","FormRenderer","formTemplateProps","componentMapper","componentTypes","TextField","Textarea","FormTemplate","PageActionRoute","pageAction","appAction","Route","WarningModal","onModalCancel","onConfirmCancel","customTitle","customDescription","size","AddPermissionTemplate","formFields","formOptions","getState","selectedPermissions","setSelectedPermissions","alertClosed","setAlertClosed","notAllowedBasePermissions","unresolvedSplats","applications","filter","app","addPermissions","ChipGroup","categoryName","i","Chip","color","isTruncated","p","Title","headingLevel","Popover","headerContent","bodyContent","Alert","isInline","actionClose","AlertActionCloseButton","accessApi","getPermissionApi","listPermissions","application","resourceType","verb","permission","excludeGlobals","excludeRoles","allowedOnly","listPermissionOptions","field","fieldToAction","resource_type","DisabledRowWrapper","row","disableSelection","Tooltip","content","disabledContent","exitDelay","entryDelay","RowWrapper","columns","selector","permissionReducer","isLoading","operation","resource","expandSplats","isLoadingExpandSplats","roleReducer","isRecordLoading","selectedRole","resourceTypes","costReducer","permissions","requires","baseRole","applicationOptions","resourceOptions","operationOptions","expandedPermissions","AddPermissionsTable","dispatch","useDispatch","fetchData","existingRoleId","exclude_roles","allowed_only","exclude_globals","PermissionsHelper","fetchOptions","useSelector","shallowEqual","useFieldApi","resources","operations","setFilters","roleType","isToggled","setIsToggled","filterBy","setFilterBy","setValue","getResourceType","r","split","debouncedGetApplicationOptions","useCallback","debouncePromise","debouncedGetResourceOptions","debouncedGetOperationOptions","baseRoleUuid","fetchRole","change","notAllowed","basePermissions","access","patterns","f","match","calculateSelected","curr","preparedFilterItems","res","op","emptyItem","filterItemOverflow","isSelectable","isCompact","borders","createRows","cells","selected","Boolean","href","noData","noDataDescription","setFilterValue","checkedRows","setCheckedItems","newSelection","newSelected","titlePlural","titleSingular","showMoreTitle","onFilter","onShowMore","e","placeholder","items","slice","isFilterable","rowWrapper","tableId","loadingResources","isLoadingResources","reducer","state","action","prevState","selection","option","filteredOptions","filtervalue","useReducer","dispatchLocaly","path","resourceDefinitions","entries","Grid","GridItem","md","sm","SelectVariant","typeAheadAriaLabel","onToggle","onSelect","event","selectAll","onClear","selections","target","placeholderText","hasInlineFilter","SelectOption","validationPromise","idKey","fetchRoles","then","display_name","reject","createEditRoleSchema","fields","validate","validatorTypes","threshold","uniqueNameValidator","asyncDebounce","EditRoleModal","routeMatch","cancelRoute","submitRoute","afterSubmit","useIsMounted","useRouteMatch","params","useHistory","validatorMapper","role","roleSelector","initialValues","setInitialValues","addNotification","schema","patchRole","hash","RemoveRoleModal","roleName","roleNameSelector","setIsDisabled","internalRoleName","setInternalRoleName","header","style","fill","removeRole","prev","roleId","rolePermissionsReducerInitialState","defaultSettings","showRemoveModal","confirmDelete","deleteInfo","SET_PAGINATION","SELECT_PERMISSIONS","SHOW_REMOVE_MODAL","SUBMIT_REMOVE_MODAL","INITIATE_REMOVE_PERMISSION","SET_FILTERS","SET_TOGGLED","INITIALIZE_ROLE","reducerHandlers","rolePermissionsReducer","AddRolePermissionSuccess","currentRoleID","EmptyState","EmptyStateIcon","icon","CheckCircleIcon","EmptyStateBody","Link","ReviewTemplate","useContext","AddRolePermissionWizardContext","Bullseye","Spinner","mapperExtension","CostResources","review","hasCostResources","StackItem","span","createContext","success","AddRolePermissionWizard","cancelWarningVisible","setCancelWarningVisible","setCurrentRoleID","setSchema","hideForm","wizardContextValue","setWizardContextValue","container","document","createElement","isDynamic","showTitles","crossroads","StepTemplate","nextStep","every","schemaBuilder","hidden","handleConfirmCancel","formData","selectedPermissionIds","record","roleData","require","attributeFilter","accessCount","updateRole","Provider","setWizardError","setWizardSuccess","setHideForm","rolePermissions","Wizard","steps","isFinishedStep","transforms","info","popover","ariaLabel","cellWidth","removeModalText","plural","internalDispatch","showResourceDefinitions","setShowResourceDefinitions","a","showResDefinitions","filteredRows","modified","removePermissions","permissionsToRemove","removeRolePermissions","sanitizedRole","c","opened","selectedRows","appName","flatten","definition","DateFormat","date","getDateFormat","actionResolver","_event","_rowId","toolbarButtons","multiplePermissionsSelected","routes","paths","emptyProps","Role","onDelete","isDropdownOpen","setDropdownOpen","useParams","groupUuid","group","groupReducer","selectedGroup","rolesPagination","rolesFilters","groupsPagination","groupsFilters","roleExists","groupExists","appObjectId","breadcrumbsList","getBackRoute","pathnames","loaded","dropdownItems","DropdownItem","goBack","Level","LevelItem","PageHeaderTitle","Dropdown","toggle","KebabToggle","isPlain","position","fetchRolesWithPolicies","asyncFunction","debounceTime","onlyResolvesLast","awesomeDebouncePromise"],"sourceRoot":""}