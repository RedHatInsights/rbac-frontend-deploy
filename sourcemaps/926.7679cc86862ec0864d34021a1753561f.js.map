{"version":3,"file":"js/926.9daf6b4de12a69f53fa3.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/NotificationPortal/NotificationPortal.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/NotificationPortal/index.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/index.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/redux/actions/action-types.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/redux/actions/notifications.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/redux/reducers/notifications.js","webpack:///./src/smart-components/common/review-step-buttons.js","webpack:///./src/smart-components/common/wizard-error.js","webpack:///./src/smart-components/role/add-role/validators.js","webpack:///./src/smart-components/role/add-role/review-template.js","webpack:///./src/smart-components/role/add-role/cost-resources-template.js","webpack:///./src/smart-components/role/add-role/add-role-success.js","webpack:///./src/smart-components/role/add-role/base-role-table.js","webpack:///./src/smart-components/role/add-role/review.js","webpack:///./src/smart-components/role/add-role/set-name.js","webpack:///./src/smart-components/common/silent-error-boundary.js","webpack:///./src/smart-components/role/add-role/add-role-wizard.js","webpack:///./src/smart-components/role/add-role/type-selector.js","webpack:///./src/smart-components/role/add-role/schema.js","webpack:///./src/utilities/async-debounce.ts"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Portal = exports.NotificationPortal = void 0;\nvar react_redux_1 = require(\"react-redux\");\nvar Portal_1 = __importDefault(require(\"../Portal\"));\nvar notifications_1 = require(\"../redux/actions/notifications\");\nvar mapStateToProps = function (_a, initialProps) {\n    var notifications = _a.notifications;\n    return ({\n        notifications: initialProps.notifications || notifications,\n    });\n};\nvar mapDispatchToProps = function (dispatch, initialProps) { return ({\n    removeNotification: initialProps.removeNotification ? initialProps.removeNotification : function (id) { return dispatch((0, notifications_1.removeNotification)(id)); },\n    onClearAll: initialProps.clearNotifications ? initialProps.clearNotifications : function () { return dispatch((0, notifications_1.clearNotifications)()); },\n}); };\nexports.NotificationPortal = (0, react_redux_1.connect)(mapStateToProps, mapDispatchToProps)(Portal_1.default);\nvar Portal_2 = require(\"../Portal\");\nObject.defineProperty(exports, \"Portal\", { enumerable: true, get: function () { return __importDefault(Portal_2).default; } });\nexports.default = exports.NotificationPortal;\n//# sourceMappingURL=NotificationPortal.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = void 0;\nvar NotificationPortal_1 = require(\"./NotificationPortal\");\nObject.defineProperty(exports, \"default\", { enumerable: true, get: function () { return __importDefault(NotificationPortal_1).default; } });\n__exportStar(require(\"./NotificationPortal\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.notificationsMiddleware = exports.clearNotifications = exports.removeNotification = exports.addNotification = exports.CLEAR_NOTIFICATIONS = exports.REMOVE_NOTIFICATION = exports.ADD_NOTIFICATION = exports.notificationsReducers = exports.notifications = exports.NotificationsPortal = void 0;\nvar index_1 = require(\"./NotificationPortal/index\");\nObject.defineProperty(exports, \"NotificationsPortal\", { enumerable: true, get: function () { return __importDefault(index_1).default; } });\nvar notifications_1 = require(\"./redux/reducers/notifications\");\nObject.defineProperty(exports, \"notifications\", { enumerable: true, get: function () { return __importDefault(notifications_1).default; } });\nObject.defineProperty(exports, \"notificationsReducers\", { enumerable: true, get: function () { return notifications_1.notificationsReducers; } });\nvar action_types_1 = require(\"./redux/actions/action-types\");\nObject.defineProperty(exports, \"ADD_NOTIFICATION\", { enumerable: true, get: function () { return action_types_1.ADD_NOTIFICATION; } });\nObject.defineProperty(exports, \"REMOVE_NOTIFICATION\", { enumerable: true, get: function () { return action_types_1.REMOVE_NOTIFICATION; } });\nObject.defineProperty(exports, \"CLEAR_NOTIFICATIONS\", { enumerable: true, get: function () { return action_types_1.CLEAR_NOTIFICATIONS; } });\nvar notifications_2 = require(\"./redux/actions/notifications\");\nObject.defineProperty(exports, \"addNotification\", { enumerable: true, get: function () { return notifications_2.addNotification; } });\nObject.defineProperty(exports, \"removeNotification\", { enumerable: true, get: function () { return notifications_2.removeNotification; } });\nObject.defineProperty(exports, \"clearNotifications\", { enumerable: true, get: function () { return notifications_2.clearNotifications; } });\nvar notificationsMiddleware_1 = require(\"./notificationsMiddleware\");\nObject.defineProperty(exports, \"notificationsMiddleware\", { enumerable: true, get: function () { return __importDefault(notificationsMiddleware_1).default; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CLEAR_NOTIFICATIONS = exports.REMOVE_NOTIFICATION = exports.ADD_NOTIFICATION = void 0;\nvar notificationsPrefix = '@@INSIGHTS-CORE/NOTIFICATIONS/';\nexports.ADD_NOTIFICATION = \"\".concat(notificationsPrefix, \"ADD_NOTIFICATION\");\nexports.REMOVE_NOTIFICATION = \"\".concat(notificationsPrefix, \"REMOVE_NOTIFICATION\");\nexports.CLEAR_NOTIFICATIONS = \"\".concat(notificationsPrefix, \"CLEAR_NOTIFICATIONS\");\nexports.default = {\n    ADD_NOTIFICATION: exports.ADD_NOTIFICATION,\n    REMOVE_NOTIFICATION: exports.REMOVE_NOTIFICATION,\n    CLEAR_NOTIFICATIONS: exports.CLEAR_NOTIFICATIONS,\n};\n//# sourceMappingURL=action-types.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.clearNotifications = exports.removeNotification = exports.addNotification = void 0;\nvar action_types_1 = require(\"./action-types\");\nfunction generateID(type) {\n    return 'cloud-services' + type + '-' + new Date().getTime() + Math.random().toString(36).slice(2);\n}\nvar addNotification = function (notification) { return ({\n    type: action_types_1.ADD_NOTIFICATION,\n    payload: __assign({ id: generateID('notification') }, notification),\n}); };\nexports.addNotification = addNotification;\nvar removeNotification = function (index) { return ({\n    type: action_types_1.REMOVE_NOTIFICATION,\n    payload: index,\n}); };\nexports.removeNotification = removeNotification;\nvar clearNotifications = function () { return ({\n    type: action_types_1.CLEAR_NOTIFICATIONS,\n}); };\nexports.clearNotifications = clearNotifications;\nexports.default = {\n    addNotification: exports.addNotification,\n    removeNotification: exports.removeNotification,\n    clearNotifications: exports.clearNotifications,\n};\n//# sourceMappingURL=notifications.js.map","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.notifications = exports.notificationsReducers = exports.defaultState = void 0;\nvar action_types_1 = require(\"../actions/action-types\");\nvar addNotification = function (notifications, _a) {\n    var payload = _a.payload;\n    return __spreadArray(__spreadArray([], notifications, true), [payload], false);\n};\nvar removeNotification = function (notifications, _a) {\n    var payload = _a.payload;\n    var index = notifications.findIndex(function (_a) {\n        var id = _a.id;\n        return id === payload;\n    });\n    return __spreadArray(__spreadArray([], notifications.slice(0, index), true), notifications.slice(index + 1), true);\n};\nvar clearNotifications = function () { return []; };\nexports.defaultState = [];\nvar notificationsReducers = function (state, action) {\n    if (state === void 0) { state = exports.defaultState; }\n    switch (action.type) {\n        case action_types_1.ADD_NOTIFICATION:\n            return addNotification(state, action);\n        case action_types_1.REMOVE_NOTIFICATION:\n            return removeNotification(state, action);\n        case action_types_1.CLEAR_NOTIFICATIONS:\n            return clearNotifications();\n        default:\n            return state;\n    }\n};\nexports.notificationsReducers = notificationsReducers;\nexports.notifications = exports.notificationsReducers;\nexports.default = exports.notifications;\n//# sourceMappingURL=notifications.js.map","import { Button } from '@patternfly/react-core';\nimport React, { useContext, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport get from 'lodash/get';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nconst selectNext = (nextStep, getState) =>\n  ({\n    string: nextStep,\n    function: nextStep({ values: getState().values }),\n  }?.[typeof nextStep] || nextStep.stepMapper?.[get(getState().values, nextStep.when)]);\n\nconst NextButton = ({ nextStep, valid, handleNext, nextLabel, getState, handleSubmit, submitLabel }) => (\n  <Button\n    variant=\"primary\"\n    type=\"button\"\n    isDisabled={!valid || getState().validating}\n    onClick={() => (nextStep ? handleNext(selectNext(nextStep, getState)) : handleSubmit())}\n  >\n    {nextStep ? nextLabel : submitLabel}\n  </Button>\n);\n\nNextButton.propTypes = {\n  nextStep: PropTypes.oneOfType([PropTypes.string, PropTypes.func, PropTypes.object]),\n  handleSubmit: PropTypes.func.isRequired,\n  submitLabel: PropTypes.node.isRequired,\n  valid: PropTypes.bool,\n  handleNext: PropTypes.func.isRequired,\n  nextLabel: PropTypes.node.isRequired,\n  getState: PropTypes.func.isRequired,\n};\n\nconst ReviewStepButtons = ({ renderNextButton, disableBack, handlePrev, buttonLabels: { cancel, back }, context }) => {\n  const formOptions = useFormApi();\n  const { success, error, submitting } = useContext(context);\n  if (success || typeof error === 'undefined' || error || submitting) {\n    return null;\n  }\n\n  return (\n    <Fragment>\n      {renderNextButton()}\n      <Button type=\"button\" variant=\"secondary\" isDisabled={disableBack} onClick={handlePrev}>\n        {back}\n      </Button>\n      <Button type=\"button\" variant=\"link\" onClick={formOptions.onCancel}>\n        {cancel}\n      </Button>\n    </Fragment>\n  );\n};\n\nReviewStepButtons.propTypes = {\n  disableBack: PropTypes.bool,\n  handlePrev: PropTypes.func.isRequired,\n  handleNext: PropTypes.func.isRequired,\n  nextStep: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      when: PropTypes.string.isRequired,\n      stepMapper: PropTypes.object.isRequired,\n    }),\n    PropTypes.func,\n  ]),\n  buttonLabels: PropTypes.shape({\n    submit: PropTypes.node.isRequired,\n    cancel: PropTypes.node.isRequired,\n    back: PropTypes.node.isRequired,\n    next: PropTypes.node.isRequired,\n  }).isRequired,\n  context: PropTypes.object.isRequired,\n  renderNextButton: PropTypes.func,\n};\n\nexport default ReviewStepButtons;\n","import React, { useContext } from 'react';\nimport { Title, Button, EmptyState, EmptyStateVariant, EmptyStateIcon, EmptyStateBody } from '@patternfly/react-core';\nimport WizardContext from '@data-driven-forms/react-form-renderer/wizard-context';\nimport { ExclamationCircleIcon } from '@patternfly/react-icons';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\n\nconst WizardError = ({ context, title, text }) => {\n  const intl = useIntl();\n  const { jumpToStep } = useContext(WizardContext);\n  const { setWizardError } = useContext(context);\n  return (\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon color=\"red\" icon={ExclamationCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {title}\n      </Title>\n      <EmptyStateBody>{text}</EmptyStateBody>\n      <Button\n        onClick={() => {\n          setWizardError(undefined);\n          jumpToStep(0);\n        }}\n        variant=\"primary\"\n      >\n        {intl.formatMessage(messages.returnToStepNumber, { number: 1 })}\n      </Button>\n    </EmptyState>\n  );\n};\n\nWizardError.propTypes = {\n  context: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n};\n\nexport default WizardError;\n","import { useEffect } from 'react';\nimport { fetchRoles } from '../../../helpers/role/role-helper';\nimport asyncDebounce from '../../../utilities/async-debounce';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { locale } from '../../../AppEntry';\nimport { createIntl, createIntlCache } from 'react-intl';\nimport messages from '../../../Messages';\nimport providerMessages from '../../../locales/data.json';\n\nexport const asyncValidator = async (roleName) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  if (!roleName) {\n    return undefined;\n  }\n\n  const response = await fetchRoles({ limit: 10, offset: 0, name: roleName, nameMatch: 'exact' }).catch((error) => {\n    console.error(error);\n    return undefined;\n  });\n\n  // it has to be here twice because API is using AND instead of OR\n  const responseName = await fetchRoles({ limit: 10, offset: 0, displayName: roleName, nameMatch: 'exact' }).catch((error) => {\n    console.error(error);\n    return undefined;\n  });\n\n  if (response?.data?.length > 0 || responseName?.data?.length > 0) {\n    throw intl.formatMessage(messages.nameAlreadyTaken);\n  }\n\n  return undefined;\n};\n\nexport const debouncedAsyncValidator = asyncDebounce(asyncValidator);\n\nexport const ValidatorReset = ({ name }) => {\n  const formOptions = useFormApi();\n\n  useEffect(() => {\n    setTimeout(() => formOptions.change(name, '1'));\n\n    return () => formOptions.change(name, '');\n  }, []);\n\n  return null;\n};\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Bullseye, Spinner, Text, TextContent, Title } from '@patternfly/react-core';\nimport { AddRoleWizardContext } from './add-role-wizard';\nimport { asyncValidator } from './validators';\nimport './review.scss';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport WizardError from '../../common/wizard-error';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst ReviewTemplate = ({ formFields }) => {\n  const intl = useIntl();\n  const { submitting, error, setWizardError } = useContext(AddRoleWizardContext);\n  const { getState } = useFormApi();\n  useEffect(() => {\n    setWizardError(undefined);\n    asyncValidator(getState().values['role-name'])\n      .then(() => setWizardError(false))\n      .catch(() => setWizardError(true));\n  }, []);\n\n  if (typeof error === 'undefined' || submitting) {\n    return (\n      <Bullseye>\n        <Spinner size=\"xl\" />\n      </Bullseye>\n    );\n  }\n\n  if (error === true) {\n    return (\n      <WizardError\n        context={AddRoleWizardContext}\n        title={intl.formatMessage(messages.roleNameTakenTitle)}\n        text={intl.formatMessage(messages.roleNameTakenText)}\n      />\n    );\n  }\n\n  return (\n    <div className=\"rbac\">\n      <Title headingLevel=\"h1\" size=\"xl\" className=\"pf-u-mb-sm\">\n        {intl.formatMessage(messages.reviewDetails)}\n      </Title>\n      <TextContent className=\"pf-u-mb-md\">\n        <Text>{intl.formatMessage(messages.reviewRoleDetails)}</Text>\n      </TextContent>\n      {formFields?.[0]?.[0]}\n    </div>\n  );\n};\n\nReviewTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default ReviewTemplate;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title } from '@patternfly/react-core';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst CostResourcesTemplate = ({ formFields }) => {\n  const intl = useIntl();\n  return (\n    <div className=\"rbac\">\n      <Title headingLevel=\"h1\" size=\"xl\" className=\"pf-u-mb-lg\">\n        {intl.formatMessage(messages.reviewDetails)}\n      </Title>\n      {formFields}\n    </div>\n  );\n};\n\nCostResourcesTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default CostResourcesTemplate;\n","import React, { useContext } from 'react';\nimport { Title, Button, EmptyState, EmptyStateVariant, EmptyStateIcon, EmptyStateBody, EmptyStateSecondaryActions } from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\nimport { AddRoleWizardContext } from './add-role-wizard';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../../Messages';\nimport AppLink from '../../../presentational-components/shared/AppLink';\nimport pathnames from '../../../utilities/pathnames';\n\nconst AddRoleSuccess = ({ onClose }) => {\n  const { setHideForm, setWizardSuccess } = useContext(AddRoleWizardContext);\n  const intl = useIntl();\n  return (\n    <EmptyState variant={EmptyStateVariant.large}>\n      <EmptyStateIcon color=\"green\" icon={CheckCircleIcon} />\n      <Title headingLevel=\"h4\" size=\"lg\">\n        {intl.formatMessage(messages.roleCreatedSuccessfully)}\n      </Title>\n      <EmptyStateBody></EmptyStateBody>\n      <Button onClick={onClose} variant=\"primary\">\n        {intl.formatMessage(messages.exit)}\n      </Button>\n      <EmptyStateSecondaryActions>\n        <Button\n          onClick={() => {\n            setHideForm(false);\n            setWizardSuccess(false);\n          }}\n          variant=\"link\"\n        >\n          {intl.formatMessage(messages.createAnotherRole)}\n        </Button>\n        <Button component={(props) => <AppLink to={pathnames.groups.link} {...props} />} variant=\"link\">\n          {intl.formatMessage(messages.addRoleToGroup)}\n        </Button>\n      </EmptyStateSecondaryActions>\n    </EmptyState>\n  );\n};\n\nAddRoleSuccess.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default AddRoleSuccess;\n","import React, { useState, useEffect } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { Radio, Alert } from '@patternfly/react-core';\nimport { TableToolbarView } from '../../../presentational-components/shared/table-toolbar-view';\nimport { fetchRolesForWizard } from '../../../redux/actions/role-actions';\nimport { mappedProps } from '../../../helpers/shared/helpers';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { sortable } from '@patternfly/react-table';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst selector = ({ roleReducer: { rolesForWizard, isWizardLoading } }) => ({\n  roles: rolesForWizard.data,\n  pagination: rolesForWizard.meta,\n  isWizardLoading,\n});\n\nconst BaseRoleTable = (props) => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const fetchData = (options) => dispatch(fetchRolesForWizard(options));\n  const [filterValue, setFilterValue] = useState('');\n  const { roles, pagination, isWizardLoading } = useSelector(selector, shallowEqual);\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  const columns = [\n    '',\n    { title: intl.formatMessage(messages.name), key: 'display_name', transforms: [sortable] },\n    intl.formatMessage(messages.description),\n  ];\n\n  const [sortByState, setSortByState] = useState({ index: 1, direction: 'asc' });\n  const orderBy = `${sortByState?.direction === 'desc' ? '-' : ''}${columns[sortByState?.index].key}`;\n\n  useEffect(() => {\n    fetchData({\n      limit: 50,\n      offset: 0,\n      itemCount: 0,\n      orderBy,\n    });\n  }, []);\n\n  const createRows = (roles) =>\n    roles.map((role) => ({\n      cells: [\n        {\n          title: (\n            <Radio\n              id={`${role.uuid}-radio`}\n              name={`${role.name}-radio`}\n              aria-label={`${role.name}-radio`}\n              ouiaId={`${role.name}-radio`}\n              value={role.uuid}\n              isChecked={input.value.uuid === role.uuid}\n              onChange={() => {\n                formOptions.batch(() => {\n                  input.onChange(role);\n                  formOptions.change('role-copy-name', `Copy of ${role.display_name || role.name}`);\n                  formOptions.change('role-copy-description', role.description);\n                  formOptions.change('add-permissions-table', []);\n                  formOptions.change('base-permissions-loaded', false);\n                  formOptions.change('not-allowed-permissions', []);\n                });\n              }}\n            />\n          ),\n          props: { className: 'pf-c-table__check' },\n        },\n        role.display_name || role.name,\n        role.description,\n      ],\n    }));\n  return (\n    <div>\n      <Alert variant=\"info\" isInline title={intl.formatMessage(messages.granularPermissionsWillBeCopied)} />\n      <TableToolbarView\n        columns={columns}\n        rows={createRows(roles)}\n        data={roles}\n        fetchData={(config) => {\n          fetchData(mappedProps(config));\n        }}\n        filterValue={filterValue}\n        setFilterValue={({ name }) => setFilterValue(name)}\n        isLoading={isWizardLoading}\n        sortBy={sortByState}\n        onSort={(e, index, direction) => {\n          const orderBy = `${direction === 'desc' ? '-' : ''}${columns[index].key}`;\n          setSortByState({ index, direction });\n          fetchData({\n            ...pagination,\n            offset: 0,\n            orderBy,\n          });\n        }}\n        pagination={pagination}\n        titlePlural={intl.formatMessage(messages.roles)}\n        titleSingular={intl.formatMessage(messages.role)}\n        filterPlaceholder={intl.formatMessage(messages.roleName).toLowerCase()}\n        ouiaId=\"roles-table\"\n        isCompact\n        tableId=\"base-role\"\n      />\n    </div>\n  );\n};\n\nexport default BaseRoleTable;\n","import React from 'react';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { Stack, StackItem, Grid, GridItem, Text, TextVariants } from '@patternfly/react-core';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\nimport './review.scss';\n\nconst stickyTable = (columns, rows) => (\n  <div className=\"rbac-c-sticky\">\n    <Grid className=\"rbac-c-sticky--title\">\n      {columns.map((col) => (\n        <GridItem span={12 / columns.length} key={col}>\n          {col}\n        </GridItem>\n      ))}\n    </Grid>\n    <Grid className=\"rbac-c-sticky--data\">\n      {rows.map((row) =>\n        row.cells.map((cell) => (\n          <GridItem span={12 / columns.length} key={cell}>\n            {cell}\n          </GridItem>\n        ))\n      )}\n    </Grid>\n  </div>\n);\n\nconst ReviewStep = () => {\n  const intl = useIntl();\n  const formOptions = useFormApi();\n  const {\n    'role-name': name,\n    'role-description': description,\n    'role-copy-name': copyName,\n    'role-copy-description': copyDescription,\n    'add-permissions-table': permissions,\n    'resource-definitions': resourceDefinitions,\n    'has-cost-resources': hasCostResources,\n    'inventory-group-permissions': inventoryGroupPermissions,\n    'role-type': type,\n  } = formOptions.getState().values;\n  const columns = [intl.formatMessage(messages.application), intl.formatMessage(messages.resourceType), intl.formatMessage(messages.operation)];\n  const rows = permissions.map((permission) => ({\n    cells: permission.uuid.split(':'),\n  }));\n\n  const resourceDefinitionsRows = (resourceDefinitions || []).map(({ permission, resources }) => ({\n    cells: [permission, resources.join(', ')],\n  }));\n\n  const groupPermissionsRows = (inventoryGroupPermissions || []).map(({ permission, groups }) => ({\n    cells: [permission, groups?.map((group) => (group?.id === null ? intl.formatMessage(messages.ungroupedSystems) : group?.name)).join(', ')],\n  }));\n\n  return (\n    <React.Fragment>\n      <Stack>\n        <StackItem className=\"rbac-l-stack__item-summary\">\n          <Grid>\n            <GridItem sm={12} md={2}>\n              <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n                {intl.formatMessage(messages.name)}\n              </Text>\n            </GridItem>\n            <GridItem sm={12} md={10}>\n              <Text component={TextVariants.p}>{type === 'create' ? name : copyName}</Text>\n            </GridItem>\n          </Grid>\n          <Grid>\n            <GridItem sm={12} md={2}>\n              <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n                {intl.formatMessage(messages.description)}\n              </Text>\n            </GridItem>\n            <GridItem sm={12} md={10}>\n              <Text component={TextVariants.p}>{type === 'create' ? description : copyDescription}</Text>\n            </GridItem>\n          </Grid>\n          <Grid>\n            <GridItem sm={12} md={2}>\n              <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n                {intl.formatMessage(messages.permissions)}\n              </Text>\n            </GridItem>\n            <GridItem sm={12} md={10}>\n              {stickyTable(columns, rows)}\n            </GridItem>\n          </Grid>\n          {inventoryGroupPermissions && (\n            <Grid>\n              <GridItem sm={12} md={2}>\n                <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n                  {intl.formatMessage(messages.resourceDefinitions)}\n                </Text>\n              </GridItem>\n              <GridItem sm={12} md={10}>\n                {stickyTable([intl.formatMessage(messages.permission), intl.formatMessage(messages.groupDefinition)], groupPermissionsRows)}\n              </GridItem>\n            </Grid>\n          )}\n          {hasCostResources && (\n            <Grid>\n              <GridItem sm={12} md={2}>\n                <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n                  {intl.formatMessage(messages.resourceDefinitions)}\n                </Text>\n              </GridItem>\n              <GridItem sm={12} md={10}>\n                {stickyTable([intl.formatMessage(messages.permission), intl.formatMessage(messages.resourceDefinitions)], resourceDefinitionsRows)}\n              </GridItem>\n            </Grid>\n          )}\n        </StackItem>\n      </Stack>\n    </React.Fragment>\n  );\n};\n\nexport default ReviewStep;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Stack, StackItem } from '@patternfly/react-core';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { TextInput } from '@patternfly/react-core/dist/esm/components/TextInput/TextInput';\nimport { TextArea } from '@patternfly/react-core/dist/esm/components/TextArea/TextArea';\nimport { FormGroup } from '@patternfly/react-core/dist/esm/components/Form/FormGroup';\nimport { debouncedAsyncValidator } from './validators';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst roleNameValidated = (roleName, roleNameError) => (roleName === undefined || roleNameError || roleName?.length > 150 ? 'error' : 'default');\nconst roleDescriptionValidated = (roleDescription) => (roleDescription?.length > 150 ? 'error' : 'default');\n\nconst SetName = (props) => {\n  const intl = useIntl();\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  const { 'role-name': name, 'role-description': description } = formOptions.getState().values;\n  const [roleName, setRoleName] = useState(name || '');\n  const [roleNameError, setRoleNameError] = useState();\n  const [roleDescription, setRoleDescription] = useState(description);\n\n  const processRoleName = (value) => {\n    input.onChange(undefined);\n    debouncedAsyncValidator(value)\n      .then(() => {\n        input.onChange(value);\n        setRoleNameError(undefined);\n      })\n      .catch((error) => {\n        setRoleNameError(error);\n        input.onChange(undefined);\n      });\n    setRoleName(value);\n  };\n\n  useEffect(() => {\n    roleName?.length > 0 && processRoleName(roleName);\n  }, []);\n\n  return (\n    <Stack hasGutter>\n      <StackItem className=\"rbac-l-stack__item-summary\">\n        <FormGroup\n          label={intl.formatMessage(messages.roleName)}\n          helperTextInvalid={roleName ? roleNameError : intl.formatMessage(messages.required)}\n          isRequired\n          validated={roleNameValidated(roleName, roleNameError)}\n        >\n          <TextInput\n            id=\"role-name\"\n            value={roleName}\n            type=\"text\"\n            validated={roleNameValidated(roleName, roleNameError)}\n            onBlur={() => roleName === '' && setRoleName(undefined)}\n            onChange={processRoleName}\n            aria-label=\"Role name\"\n          />\n        </FormGroup>\n      </StackItem>\n      <StackItem>\n        <FormGroup\n          label={intl.formatMessage(messages.roleDescription)}\n          helperTextInvalid={intl.formatMessage(messages.maxCharactersWarning, { number: 150 })}\n          validated={roleDescriptionValidated(roleDescription)}\n        >\n          <TextArea\n            id=\"role-description\"\n            value={roleDescription}\n            validated={roleDescriptionValidated(roleDescription)}\n            onChange={(value) => {\n              setRoleDescription(value);\n              formOptions.change('role-description', value);\n            }}\n            aria-label=\"Role description\"\n            resizeOrientation=\"vertical\"\n          />\n        </FormGroup>\n      </StackItem>\n    </Stack>\n  );\n};\n\nSetName.propTypes = {\n  name: PropTypes.string,\n  description: PropTypes.string,\n};\n\nexport default SetName;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass SilentErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error) {\n    /**\n     * Propagate error if it does not match the configuration\n     */\n    if (!error.message.includes(this.props.silentErrorString)) {\n      this.setState({ hasError: false });\n      throw error;\n    }\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // Silently fail\n      return null;\n    }\n\n    return this.props.children;\n  }\n}\n\nSilentErrorBoundary.propTypes = {\n  children: PropTypes.node.isRequired,\n  silentErrorString: PropTypes.string.isRequired,\n};\n\nexport default SilentErrorBoundary;\n","import React, { useState, useEffect, useRef, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/component-mapper';\nimport { Wizard } from '@patternfly/react-core';\nimport { createQueryParams } from '../../../helpers/shared/helpers';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\nimport { schemaBuilder } from './schema';\nimport { createRole, fetchRolesWithPolicies } from '../../../redux/actions/role-actions';\nimport { WarningModal } from '../../common/warningModal';\nimport AddRoleSuccess from './add-role-success';\nimport BaseRoleTable from './base-role-table';\nimport AddPermissionsTable from './add-permissions';\nimport ReviewStep from './review';\nimport InventoryGroupsRole from './inventory-groups-role';\nimport CostResources from './cost-resources';\nimport TypeSelector from './type-selector';\nimport SetName from './set-name';\nimport useAppNavigate from '../../../hooks/useAppNavigate';\nimport SilentErrorBoundary from '../../common/silent-error-boundary';\nimport messages from '../../../Messages';\nimport paths from '../../../utilities/pathnames';\nimport './add-role-wizard.scss';\n\nexport const AddRoleWizardContext = createContext({\n  success: false,\n  submitting: false,\n  error: undefined,\n});\n\nconst FormTemplate = (props) => <Pf4FormTemplate {...props} showFormControls={false} />;\n\nconst Description = ({ Content, ...rest }) => <Content {...rest} />;\nDescription.propTypes = {\n  Content: PropTypes.elementType.isRequired,\n};\n\nexport const mapperExtension = {\n  'set-name': SetName,\n  'base-role-table': BaseRoleTable,\n  'add-permissions-table': AddPermissionsTable,\n  'cost-resources': CostResources,\n  'inventory-groups-role': InventoryGroupsRole,\n  review: ReviewStep,\n  description: Description,\n  'type-selector': TypeSelector,\n};\n\nconst AddRoleWizard = ({ pagination, filters, orderBy }) => {\n  const enableInventoryGroups = useFlag('hbi.api.inventory-groups');\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const navigate = useAppNavigate();\n  const chrome = useChrome();\n  const [wizardContextValue, setWizardContextValue] = useState({\n    success: false,\n    submitting: false,\n    error: undefined,\n    hideForm: false,\n  });\n  const [cancelWarningVisible, setCancelWarningVisible] = useState(false);\n  const container = useRef(document.createElement('div'));\n  const [schema, setSchema] = useState();\n\n  useEffect(() => {\n    setSchema(schemaBuilder(container.current, enableInventoryGroups));\n  }, []);\n\n  const onClose = () =>\n    navigate({\n      pathname: paths.roles.link,\n      search: createQueryParams({ page: 1, per_page: pagination.limit }),\n    });\n\n  const onCancel = () => {\n    if (!wizardContextValue.success) {\n      dispatch(\n        addNotification({\n          variant: 'warning',\n          title: intl.formatMessage(messages.creatingRoleCanceled),\n          dismissDelay: 8000,\n        })\n      );\n    }\n\n    setCancelWarningVisible(false);\n    /**\n     * This timeout should force React to wait for the modal close and push to history afterwards.\n     * That should fix the runtime error we are seeing in the production version of the code.\n     */\n    setTimeout(() => {\n      navigate({\n        pathname: paths.roles.link,\n        search: createQueryParams({ page: 1, per_page: pagination.limit, ...filters }),\n      });\n    });\n  };\n\n  const setWizardError = (error) => setWizardContextValue((prev) => ({ ...prev, error }));\n  const setWizardSuccess = (success) => setWizardContextValue((prev) => ({ ...prev, success }));\n  const setHideForm = (hideForm) => setWizardContextValue((prev) => ({ ...prev, hideForm }));\n\n  const onSubmit = (formData) => {\n    const {\n      'role-name': name,\n      'role-description': description,\n      'role-copy-name': copyName,\n      'role-copy-description': copyDescription,\n      'add-permissions-table': permissions,\n      'inventory-groups-role': invResources,\n      'cost-resources': costResources,\n      'role-type': type,\n    } = formData;\n    const selectedPermissionIds = permissions.map((record) => record.uuid);\n\n    const roleData = {\n      applications: [...new Set(permissions.map(({ uuid: permission }) => permission.split(':')[0]))],\n      description: (type === 'create' ? description : copyDescription) || null,\n      name: type === 'create' ? name : copyName,\n      access: permissions.reduce(\n        (acc, { uuid: permission, requires = [] }) => [\n          ...acc,\n          ...[permission, ...requires.filter((require) => !selectedPermissionIds.includes(require))].map((permission) => {\n            let attributeFilter;\n\n            if (permission.includes('cost-management')) {\n              attributeFilter = {\n                key: `cost-management.${permission.split(':')[1]}`,\n                operation: 'in',\n                value: costResources?.find((r) => r.permission === permission)?.resources,\n              };\n            } else if (permission.includes('inventory') && enableInventoryGroups) {\n              attributeFilter = {\n                key: 'group.id',\n                operation: 'in',\n                value: invResources?.find((g) => g.permission === permission)?.groups?.map((group) => group?.id),\n              };\n            }\n\n            return {\n              permission,\n              resourceDefinitions: attributeFilter ? [{ attributeFilter }] : [],\n            };\n          }),\n        ],\n        []\n      ),\n    };\n\n    return dispatch(createRole(roleData))\n      .then(() => {\n        setWizardContextValue((prev) => ({ ...prev, submitting: false, success: true, hideForm: true }));\n        dispatch(fetchRolesWithPolicies({ limit: pagination.limit, orderBy, usesMetaInURL: true, chrome }));\n      })\n      .catch(() => {\n        setWizardContextValue((prev) => ({ ...prev, submitting: false, success: false, hideForm: true }));\n        dispatch(fetchRolesWithPolicies({ limit: pagination.limit, orderBy, usesMetaInURL: true, chrome }));\n        onClose();\n      });\n  };\n\n  if (!schema) {\n    return null;\n  }\n  return (\n    <AddRoleWizardContext.Provider value={{ ...wizardContextValue, setWizardError, setWizardSuccess, setHideForm }}>\n      <SilentErrorBoundary silentErrorString=\"focus-trap\">\n        <WarningModal\n          type=\"role\"\n          isOpen={cancelWarningVisible}\n          onModalCancel={() => {\n            container.current.hidden = false;\n            setCancelWarningVisible(false);\n          }}\n          onConfirmCancel={onCancel}\n        />\n      </SilentErrorBoundary>\n      {wizardContextValue.hideForm ? (\n        wizardContextValue.success ? (\n          <Wizard\n            title={intl.formatMessage(messages.createRole)}\n            isOpen\n            onClose={onClose}\n            steps={[\n              {\n                name: 'success',\n                component: <AddRoleSuccess onClose={onClose} />,\n                isFinishedStep: true,\n              },\n            ]}\n          />\n        ) : null\n      ) : (\n        <FormRenderer\n          schema={schema}\n          container={container}\n          subscription={{ values: true }}\n          FormTemplate={FormTemplate}\n          initialValues={{\n            'role-type': 'create',\n          }}\n          componentMapper={{ ...componentMapper, ...mapperExtension }}\n          onSubmit={onSubmit}\n          onCancel={(values) => {\n            const showWarning = Boolean((values && values['role-name']) || values['role-description'] || values['copy-base-role']);\n            if (showWarning) {\n              container.current.hidden = true;\n              setCancelWarningVisible(true);\n            } else {\n              onCancel();\n            }\n          }}\n        />\n      )}\n    </AddRoleWizardContext.Provider>\n  );\n};\n\nAddRoleWizard.propTypes = {\n  pagination: PropTypes.shape({\n    limit: PropTypes.number.isRequired,\n  }).isRequired,\n  filters: PropTypes.shape({\n    name: PropTypes.string,\n  }).isRequired,\n  orderBy: PropTypes.string,\n};\n\nexport default AddRoleWizard;\n","import React, { useState } from 'react';\nimport { Radio } from '@patternfly/react-core';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst TypeSelector = (props) => {\n  const intl = useIntl();\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  const [checked, setChecked] = useState(formOptions.getState().values['role-type']);\n  const handleChange = (val) => {\n    setChecked(val);\n    input.onChange(val);\n    formOptions.change('add-permissions-table', []);\n    formOptions.change('base-permissions-loaded', false);\n    formOptions.change('not-allowed-permissions', []);\n  };\n\n  return (\n    <div>\n      <Radio\n        isChecked={checked === 'create'}\n        className=\"pf-u-mb-sm\"\n        name=\"role-type-create\"\n        onChange={() => handleChange('create')}\n        label={intl.formatMessage(messages.createRoleFromScratch)}\n        id=\"role-type-create\"\n        value=\"create\"\n      />\n      <Radio\n        isChecked={checked === 'copy'}\n        name=\"role-type-copy\"\n        onChange={() => handleChange('copy')}\n        label={intl.formatMessage(messages.copyAnExistingRole)}\n        id=\"role-type-copy\"\n        value=\"copy\"\n      />\n    </div>\n  );\n};\n\nexport default TypeSelector;\n","/* eslint-disable react/display-name */\nimport React from 'react';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport AddPermissionTemplate from './add-permissions-template';\nimport ReviewTemplate from './review-template';\nimport CostResourcesTemplate from './cost-resources-template';\nimport { debouncedAsyncValidator, ValidatorReset } from './validators';\nimport ReviewStepButtons from '../../common/review-step-buttons';\nimport { AddRoleWizardContext } from './add-role-wizard';\nimport { locale } from '../../../AppEntry';\nimport { createIntl, createIntlCache } from 'react-intl';\nimport messages from '../../../Messages';\nimport providerMessages from '../../../locales/data.json';\nimport { validateNextAddRolePermissionStep } from '../permission-wizard-helper';\nimport InventoryGroupsRoleTemplate from './inventory-groups-role-template';\n\nexport const schemaBuilder = (container, enableInventoryGroups) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    fields: [\n      {\n        component: 'wizard',\n        name: 'wizard',\n        isDynamic: true,\n        inModal: true,\n        showTitles: true,\n        crossroads: ['role-type'],\n        title: intl.formatMessage(messages.createRole),\n        style: { overflow: 'hidden' },\n        container,\n        fields: [\n          {\n            title: intl.formatMessage(messages.createRole),\n            name: 'step-1',\n            nextStep: {\n              when: 'role-type',\n              stepMapper: {\n                copy: 'name-and-description',\n                create: 'add-permissions',\n              },\n            },\n            fields: [\n              {\n                component: 'type-selector',\n                name: 'role-type',\n                isRequired: true,\n                validate: [\n                  {\n                    type: validatorTypes.REQUIRED,\n                  },\n                ],\n              },\n              {\n                component: 'set-name',\n                name: 'role-name',\n                type: 'text',\n                validate: [\n                  {\n                    type: validatorTypes.REQUIRED,\n                  },\n                  {\n                    type: validatorTypes.MAX_LENGTH,\n                    threshold: 150,\n                  },\n                ],\n                condition: {\n                  when: 'role-type',\n                  is: 'create',\n                },\n              },\n              {\n                component: 'base-role-table',\n                name: 'copy-base-role',\n                label: intl.formatMessage(messages.baseRole),\n                isRequired: true,\n                condition: {\n                  when: 'role-type',\n                  is: 'copy',\n                },\n                validate: [\n                  {\n                    type: validatorTypes.REQUIRED,\n                  },\n                ],\n              },\n              {\n                condition: {\n                  when: 'role-type',\n                  is: 'create',\n                },\n                component: 'description',\n                name: 'fixasyncvalidation',\n                Content: ValidatorReset,\n              },\n              {\n                condition: {\n                  when: 'role-type',\n                  is: 'copy',\n                },\n                component: 'description',\n                name: 'fixasyncvalidation2',\n                Content: ValidatorReset,\n              },\n            ],\n          },\n          {\n            title: intl.formatMessage(messages.nameAndDescription),\n            name: 'name-and-description',\n            nextStep: 'add-permissions',\n            fields: [\n              {\n                component: 'text-field',\n                name: 'role-copy-name',\n                type: 'text',\n                label: intl.formatMessage(messages.roleName),\n                isRequired: true,\n                validate: [\n                  debouncedAsyncValidator,\n                  {\n                    type: validatorTypes.REQUIRED,\n                  },\n                  {\n                    type: 'max-length',\n                    threshold: 150,\n                  },\n                ],\n              },\n              {\n                component: 'text-field',\n                name: 'role-copy-description',\n                type: 'text',\n                label: intl.formatMessage(messages.roleDescription),\n                validate: [\n                  {\n                    type: 'max-length',\n                    threshold: 150,\n                  },\n                ],\n              },\n            ],\n          },\n          {\n            name: 'add-permissions',\n            title: intl.formatMessage(messages.addPermissions),\n            StepTemplate: AddPermissionTemplate,\n            nextStep: ({ values }) => validateNextAddRolePermissionStep('add-permissions', values, enableInventoryGroups),\n            fields: [\n              {\n                component: 'add-permissions-table',\n                name: 'add-permissions-table',\n              },\n            ],\n          },\n          {\n            title: intl.formatMessage(messages.inventoryGroupsAccessTitle),\n            name: 'inventory-groups-role',\n            StepTemplate: InventoryGroupsRoleTemplate,\n            nextStep: ({ values }) => validateNextAddRolePermissionStep('inventory-groups-role', values),\n            fields: [\n              {\n                component: 'plain-text',\n                name: 'cost-resources',\n                label: <p className=\"pf-u-mb-md\">{intl.formatMessage(messages.applyInventoryGroupsRolePermission)}</p>,\n              },\n              {\n                component: 'inventory-groups-role',\n                name: 'inventory-groups-role',\n                validate: [\n                  (value = []) =>\n                    value?.every(({ groups, permission }) => groups?.length > 0 && permission)\n                      ? undefined\n                      : intl.formatMessage(messages.assignAtLeastOneInventoryGroup),\n                ],\n              },\n            ],\n          },\n          {\n            name: 'cost-resources-definition',\n            title: intl.formatMessage(messages.defineCostResources),\n            nextStep: 'review',\n            StepTemplate: CostResourcesTemplate,\n            fields: [\n              {\n                component: 'plain-text',\n                name: 'text-description',\n                label: <p className=\"pf-u-mb-md\">{intl.formatMessage(messages.applyCostPermissionText)}</p>,\n              },\n              {\n                component: 'cost-resources',\n                name: 'cost-resources',\n                validate: [\n                  (value = []) =>\n                    value?.every(({ resources }) => resources?.length > 0) ? undefined : intl.formatMessage(messages.assignAtLeastOneResource),\n                ],\n              },\n            ],\n          },\n          {\n            name: 'review',\n            title: intl.formatMessage(messages.reviewDetails),\n            buttons: (props) => <ReviewStepButtons {...props} context={AddRoleWizardContext} />,\n            StepTemplate: ReviewTemplate,\n            fields: [\n              {\n                component: 'review',\n                name: 'review',\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  };\n};\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (asyncFunction: (...args: any[]) => Promise<any>, debounceTime = 250, options = { onlyResolvesLast: false }) =>\n  awesomeDebouncePromise(asyncFunction, debounceTime, options);\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","Portal","NotificationPortal","react_redux_1","Portal_1","notifications_1","connect","_a","initialProps","notifications","dispatch","removeNotification","id","onClearAll","clearNotifications","default","Portal_2","enumerable","get","__createBinding","create","o","m","k","k2","undefined","__exportStar","p","prototype","hasOwnProperty","call","NotificationPortal_1","notificationsMiddleware","addNotification","CLEAR_NOTIFICATIONS","REMOVE_NOTIFICATION","ADD_NOTIFICATION","notificationsReducers","NotificationsPortal","index_1","action_types_1","notifications_2","notificationsMiddleware_1","notificationsPrefix","concat","__assign","assign","t","s","i","n","arguments","length","apply","notification","type","payload","Date","getTime","Math","random","toString","slice","index","__spreadArray","to","from","pack","ar","l","Array","defaultState","state","action","findIndex","PropTypes","ReviewStepButtons","renderNextButton","disableBack","handlePrev","buttonLabels","cancel","back","context","formOptions","useFormApi","useContext","success","error","submitting","Fragment","Button","variant","isDisabled","onClick","onCancel","propTypes","handleNext","nextStep","when","stepMapper","submit","next","isRequired","WizardError","title","text","intl","useIntl","jumpToStep","WizardContext","setWizardError","EmptyState","EmptyStateVariant","EmptyStateIcon","color","icon","ExclamationCircleIcon","Title","headingLevel","size","EmptyStateBody","formatMessage","messages","number","asyncValidator","roleName","cache","createIntlCache","createIntl","locale","providerMessages","fetchRoles","limit","offset","name","nameMatch","console","response","displayName","responseName","data","debouncedAsyncValidator","asyncDebounce","ValidatorReset","useEffect","setTimeout","change","ReviewTemplate","formFields","AddRoleWizardContext","getState","values","then","Bullseye","Spinner","className","TextContent","Text","CostResourcesTemplate","AddRoleSuccess","onClose","setHideForm","setWizardSuccess","CheckCircleIcon","EmptyStateSecondaryActions","component","props","AppLink","pathnames","selector","roleReducer","rolesForWizard","isWizardLoading","roles","pagination","meta","stickyTable","columns","rows","Grid","map","col","GridItem","span","key","row","cells","cell","roleNameValidated","roleNameError","roleDescriptionValidated","roleDescription","SetName","input","useFieldApi","description","useState","setRoleName","setRoleNameError","setRoleDescription","processRoleName","onChange","Stack","hasGutter","StackItem","FormGroup","label","helperTextInvalid","validated","TextInput","onBlur","TextArea","resizeOrientation","SilentErrorBoundary","hasError","message","includes","silentErrorString","setState","children","React","createContext","FormTemplate","showFormControls","Description","Content","rest","mapperExtension","useDispatch","fetchData","options","fetchRolesForWizard","filterValue","setFilterValue","useSelector","shallowEqual","transforms","sortable","direction","sortByState","setSortByState","orderBy","itemCount","Alert","isInline","role","Radio","uuid","ouiaId","isChecked","batch","display_name","createRows","config","mappedProps","isLoading","sortBy","onSort","e","titlePlural","titleSingular","filterPlaceholder","toLowerCase","isCompact","tableId","AddPermissionsTable","CostResources","InventoryGroupsRole","review","copyName","copyDescription","permissions","resourceDefinitions","hasCostResources","inventoryGroupPermissions","permission","split","resourceDefinitionsRows","resources","join","groupPermissionsRows","groups","group","sm","md","TextVariants","checked","setChecked","handleChange","val","AddRoleWizard","filters","enableInventoryGroups","useFlag","navigate","useAppNavigate","chrome","useChrome","hideForm","wizardContextValue","setWizardContextValue","cancelWarningVisible","setCancelWarningVisible","container","useRef","document","createElement","schema","setSchema","fields","isDynamic","inModal","showTitles","crossroads","style","overflow","copy","validate","validatorTypes","threshold","condition","is","StepTemplate","AddPermissionTemplate","validateNextAddRolePermissionStep","InventoryGroupsRoleTemplate","every","buttons","schemaBuilder","current","pathname","paths","search","createQueryParams","page","per_page","dismissDelay","Provider","prev","isOpen","onModalCancel","hidden","onConfirmCancel","Wizard","steps","isFinishedStep","subscription","initialValues","componentMapper","onSubmit","formData","invResources","costResources","selectedPermissionIds","record","roleData","applications","Set","access","reduce","acc","requires","filter","require","attributeFilter","operation","find","r","g","createRole","fetchRolesWithPolicies","usesMetaInURL","Boolean","asyncFunction","debounceTime","onlyResolvesLast"],"sourceRoot":""}