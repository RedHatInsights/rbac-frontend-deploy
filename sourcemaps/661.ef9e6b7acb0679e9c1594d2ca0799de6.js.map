{"version":3,"file":"js/661.966f1312fe5c58b5a54c.js","mappings":"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","sources":["webpack:///./src/presentational-components/shared/ActiveUsers.js","webpack:///./src/presentational-components/shared/UsersRow.js","webpack:///./src/helpers/user/user-helper.js","webpack:///./src/redux/actions/user-actions.js","webpack:///./src/smart-components/group/add-group/users-list.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextVariants } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nconst ActiveUser = ({ description, linkTitle }) => {\n  const env = insights.chrome.getEnvironment();\n  const prefix = insights.chrome.isProd ? '' : `${env === 'ci' ? 'qa' : env}.`;\n  return (\n    <Text className=\"pf-u-mt-0\" component={TextVariants.h7}>\n      {description}\n      <Text\n        component={TextVariants.a}\n        href={`https://www.${prefix}redhat.com/wapps/ugc/protected/usermgt/userList.html`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >\n        {linkTitle}\n        <ExternalLinkAltIcon />\n      </Text>\n      .\n    </Text>\n  );\n};\n\nActiveUser.propTypes = {\n  description: PropTypes.node,\n  linkTitle: PropTypes.node,\n};\n\nActiveUser.defaultProps = {\n  description: '',\n  linkTitle: ' user management list ',\n};\n\nexport default ActiveUser;\n","import React from 'react';\nimport { RowWrapper } from '@patternfly/react-table';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nconst UsersRow = ({ row, ...props }) => {\n  const { status } = row;\n  const isActive = status?.props?.['data-is-active'];\n  return <RowWrapper className={classNames('rbac__user-row', { 'ins-m-inactive': !isActive })} row={row} {...props} />;\n};\n\nUsersRow.propTypes = {\n  row: PropTypes.shape({\n    status: PropTypes.shape({\n      props: PropTypes.shape({\n        'data-is-active': PropTypes.bool,\n        data: PropTypes.shape({\n          isActive: PropTypes.bool,\n        }),\n      }),\n    }),\n  }),\n};\n\nexport default UsersRow;\n","import { getLastPageOffset, isOffsetValid } from '../shared/pagination';\nimport { getPrincipalApi } from '../shared/user-login';\n\nconst principalApi = getPrincipalApi();\n\nconst principalStatusApiMap = {\n  Active: 'enabled',\n  Inactive: 'disabled',\n};\nexport async function fetchUsers({ limit, offset = 0, orderBy, filters = {}, inModal, matchCriteria = 'partial' }) {\n  const { username, email, status = [] } = filters;\n  const sortOrder = orderBy === '-username' ? 'desc' : 'asc';\n  const mappedStatus = status.length === 2 ? 'all' : principalStatusApiMap[status[0]] || 'all';\n  const response = await principalApi.listPrincipals(limit, offset, matchCriteria, username, sortOrder, email, mappedStatus);\n  const isPaginationValid = isOffsetValid(offset, response?.meta?.count);\n  offset = isPaginationValid ? offset : getLastPageOffset(response.meta.count, limit);\n  const { data, meta } = isPaginationValid\n    ? response\n    : await principalApi.listPrincipals(limit, offset, matchCriteria, username, sortOrder, email, mappedStatus);\n  return {\n    data,\n    meta: {\n      ...meta,\n      offset,\n      limit,\n    },\n    ...(inModal\n      ? {}\n      : {\n          filters,\n          pagination: {\n            ...meta,\n            offset,\n            limit,\n            redirected: !isPaginationValid,\n          },\n        }),\n  };\n}\n","import * as ActionTypes from '../action-types';\nimport * as UserHelper from '../../helpers/user/user-helper';\n\nexport const fetchUsers = (apiProps) => ({\n  type: ActionTypes.FETCH_USERS,\n  payload: UserHelper.fetchUsers(apiProps),\n});\n\nexport const updateUsersFilters = (filters) => ({\n  type: ActionTypes.UPDATE_USERS_FILTERS,\n  payload: filters,\n});\n","import React, { useEffect, Fragment, useState } from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { Link, useHistory } from 'react-router-dom';\nimport { mappedProps } from '../../../helpers/shared/helpers';\nimport { TableToolbarView } from '../../../presentational-components/shared/table-toolbar-view';\nimport { fetchUsers, updateUsersFilters } from '../../../redux/actions/user-actions';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { Label } from '@patternfly/react-core';\nimport { sortable, nowrap } from '@patternfly/react-table';\nimport UsersRow from '../../../presentational-components/shared/UsersRow';\nimport {\n  defaultCompactSettings,\n  defaultSettings,\n  syncDefaultPaginationWithUrl,\n  applyPaginationToUrl,\n  isPaginationPresentInUrl,\n} from '../../../helpers/shared/pagination';\nimport { syncDefaultFiltersWithUrl, applyFiltersToUrl, areFiltersPresentInUrl } from '../../../helpers/shared/filters';\nimport { CheckIcon, CloseIcon } from '@patternfly/react-icons';\n\nconst columns = [\n  { title: 'Org. Administrator', key: 'org-admin', transforms: [nowrap] },\n  { title: 'Username', key: 'username', transforms: [sortable] },\n  { title: 'Email' },\n  { title: 'First name', transforms: [nowrap] },\n  { title: 'Last name', transforms: [nowrap] },\n  { title: 'Status', transforms: [nowrap] },\n];\n\nconst createRows =\n  (userLinks) =>\n  (data, _expanded, checkedRows = []) => {\n    return data\n      ? data.reduce(\n          (acc, { username, is_active: isActive, email, first_name: firstName, last_name: lastName, is_org_admin: isOrgAdmin }) => [\n            ...acc,\n            {\n              uuid: username,\n              cells: [\n                isOrgAdmin ? (\n                  <Fragment>\n                    <span>\n                      <CheckIcon key=\"yes-icon\" className=\"pf-u-mr-sm\" />\n                      <span key=\"yes\">Yes</span>\n                    </span>\n                  </Fragment>\n                ) : (\n                  <Fragment>\n                    <CloseIcon key=\"no-icon\" className=\"pf-u-mr-sm\" />\n                    <span key=\"no\">No</span>\n                  </Fragment>\n                ),\n                { title: userLinks ? <Link to={`/users/detail/${username}`}>{username.toString()}</Link> : username.toString() },\n                email.toString(),\n                firstName.toString(),\n                lastName.toString(),\n                {\n                  title: (\n                    <Label key=\"status\" color={isActive && 'green'}>\n                      {isActive ? 'Active' : 'Inactive'}\n                    </Label>\n                  ),\n                  props: {\n                    'data-is-active': isActive,\n                  },\n                },\n              ],\n              selected: Boolean(checkedRows && checkedRows.find((row) => row.uuid === username)),\n            },\n          ],\n          []\n        )\n      : [];\n  };\n\nconst UsersList = ({ users, fetchUsers, updateUsersFilters, isLoading, pagination, selectedUsers, setSelectedUsers, userLinks, inModal, props }) => {\n  const defaultPagination = useSelector(({ userReducer: { users } }) => ({\n    limit: inModal ? users.meta.limit : users.pagination.limit || defaultSettings.limit,\n    offset: inModal ? users.meta.offset : users.pagination.offset || defaultSettings.offset,\n    count: inModal ? users.meta.count : users.pagination.count,\n    redirected: !inModal && users.pagination.redirected,\n  }));\n\n  const history = useHistory();\n\n  let stateFilters = useSelector(\n    ({\n      userReducer: {\n        users: { filters },\n      },\n    }) => filters\n  );\n\n  const [filters, setFilters] = useState(\n    inModal\n      ? {\n          username: '',\n          email: '',\n          status: ['Active'],\n        }\n      : stateFilters\n  );\n\n  useEffect(() => {\n    inModal || (defaultPagination.redirected && applyPaginationToUrl(history, defaultPagination.limit, defaultPagination.offset));\n  }, [defaultPagination.redirected]);\n\n  useEffect(() => {\n    const pagination = inModal ? defaultSettings : syncDefaultPaginationWithUrl(history, defaultPagination);\n    const newFilters = inModal ? { status: filters.status } : syncDefaultFiltersWithUrl(history, ['username', 'email', 'status'], filters);\n    setFilters(newFilters);\n    fetchUsers({ ...mappedProps({ ...pagination, filters: newFilters }), inModal });\n  }, []);\n\n  useEffect(() => {\n    if (!inModal) {\n      isPaginationPresentInUrl(history) || applyPaginationToUrl(history, pagination.limit, pagination.offset);\n      Object.values(filters).some((filter) => filter?.length > 0) &&\n        !areFiltersPresentInUrl(history, Object.keys(filters)) &&\n        syncDefaultFiltersWithUrl(history, Object.keys(filters), filters);\n    }\n  });\n\n  const setCheckedItems = (newSelection) => {\n    setSelectedUsers((users) => {\n      return newSelection(users).map(({ uuid, username }) => ({ uuid, label: username || uuid }));\n    });\n  };\n\n  const updateFilters = (payload) => {\n    inModal || updateUsersFilters(payload);\n    setFilters({ username: '', ...payload });\n  };\n\n  return (\n    <TableToolbarView\n      columns={columns}\n      isSelectable\n      isCompact={true}\n      borders={false}\n      createRows={createRows(userLinks)}\n      data={users}\n      ouiaId=\"users-table\"\n      fetchData={(config) => {\n        const status = Object.prototype.hasOwnProperty.call(config, 'status') ? config.status : filters.status;\n        const { username, email, count, limit, offset, orderBy } = config;\n        fetchUsers({ ...mappedProps({ count, limit, offset, orderBy, filters: { username, email, status } }), inModal });\n        inModal || applyPaginationToUrl(history, limit, offset);\n        inModal || applyFiltersToUrl(history, { username, email, status });\n      }}\n      setFilterValue={({ username, email, status }) => {\n        updateFilters({\n          username: typeof username === 'undefined' ? filters.username : username,\n          email: typeof email === 'undefined' ? filters.email : email,\n          status: typeof status === 'undefined' || status === filters.status ? filters.status : status,\n        });\n      }}\n      isLoading={isLoading}\n      pagination={pagination}\n      checkedRows={selectedUsers}\n      setCheckedItems={setCheckedItems}\n      sortBy={{\n        index: 1,\n        direction: 'asc',\n      }}\n      rowWrapper={UsersRow}\n      titlePlural=\"users\"\n      titleSingular=\"user\"\n      noDataDescription={[\n        'This filter criteria matches no users.',\n        'Make sure the beginning of your search input corresponds to the beginning of the value you are looking for, or try changing your filter settings.',\n      ]}\n      noData={users.length === 0 && !filters.username && !filters.email}\n      filters={[\n        { key: 'username', value: filters.username, placeholder: 'Filter by username' },\n        { key: 'email', value: filters.email, placeholder: 'Filter by email' },\n        {\n          key: 'status',\n          value: filters.status,\n          label: 'Status',\n          type: 'checkbox',\n          items: [\n            { label: 'Active', value: 'Active' },\n            { label: 'Inactive', value: 'Inactive' },\n          ],\n        },\n      ]}\n      tableId=\"users-list\"\n      {...props}\n    />\n  );\n};\n\nconst mapStateToProps = ({ userReducer: { users, isUserDataLoading } }) => {\n  return {\n    users: users.data && users.data.map((data) => ({ ...data, uuid: data.username })),\n    pagination: users.meta,\n    isLoading: isUserDataLoading,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    fetchUsers: (apiProps = defaultSettings) => {\n      dispatch(fetchUsers(apiProps));\n    },\n    updateUsersFilters: (filters) => {\n      dispatch(updateUsersFilters(filters));\n    },\n    addNotification: (...props) => dispatch(addNotification(...props)),\n  };\n};\n\nconst mergeProps = (propsFromState, propsFromDispatch, ownProps) => {\n  return {\n    ...ownProps,\n    ...propsFromState,\n    ...propsFromDispatch,\n    fetchUsers: (apiProps) => {\n      return propsFromDispatch.fetchUsers(apiProps ? apiProps : defaultCompactSettings);\n    },\n  };\n};\n\nUsersList.propTypes = {\n  history: PropTypes.shape({\n    goBack: PropTypes.func.isRequired,\n    push: PropTypes.func.isRequired,\n  }),\n  users: PropTypes.array,\n  isLoading: PropTypes.bool,\n  searchFilter: PropTypes.string,\n  fetchUsers: PropTypes.func.isRequired,\n  updateUsersFilters: PropTypes.func.isRequired,\n  setSelectedUsers: PropTypes.func.isRequired,\n  selectedUsers: PropTypes.array,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number.isRequired,\n    offset: PropTypes.number,\n    count: PropTypes.number,\n  }),\n  userLinks: PropTypes.bool,\n  props: PropTypes.object,\n  inModal: PropTypes.bool,\n};\n\nUsersList.defaultProps = {\n  users: [],\n  selectedUsers: [],\n  setSelectedUsers: () => undefined,\n  userLinks: false,\n  inModal: false,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersList);\nexport const CompactUsersList = connect(mapStateToProps, mapDispatchToProps, mergeProps)(UsersList);\n"],"names":["ActiveUser","description","linkTitle","env","insights","chrome","getEnvironment","prefix","isProd","Text","className","component","TextVariants","href","target","rel","propTypes","PropTypes","defaultProps","UsersRow","row","props","status","isActive","RowWrapper","classNames","data","principalApi","getPrincipalApi","principalStatusApiMap","Active","Inactive","fetchUsers","limit","offset","orderBy","filters","inModal","matchCriteria","username","email","sortOrder","mappedStatus","length","listPrincipals","response","isPaginationValid","isOffsetValid","meta","count","getLastPageOffset","pagination","redirected","apiProps","type","ActionTypes","payload","UserHelper","updateUsersFilters","columns","title","key","transforms","nowrap","sortable","createRows","userLinks","_expanded","checkedRows","reduce","acc","is_active","firstName","first_name","lastName","last_name","isOrgAdmin","is_org_admin","uuid","cells","Fragment","Link","to","toString","Label","color","selected","Boolean","find","UsersList","users","isLoading","selectedUsers","setSelectedUsers","defaultPagination","useSelector","userReducer","defaultSettings","history","useHistory","stateFilters","useState","setFilters","useEffect","applyPaginationToUrl","syncDefaultPaginationWithUrl","newFilters","syncDefaultFiltersWithUrl","mappedProps","isPaginationPresentInUrl","Object","values","some","filter","areFiltersPresentInUrl","keys","isSelectable","isCompact","borders","ouiaId","fetchData","config","prototype","hasOwnProperty","call","applyFiltersToUrl","setFilterValue","setCheckedItems","newSelection","map","label","sortBy","index","direction","rowWrapper","titlePlural","titleSingular","noDataDescription","noData","value","placeholder","items","tableId","mapStateToProps","isUserDataLoading","mapDispatchToProps","dispatch","addNotification","goBack","push","searchFilter","connect","CompactUsersList","propsFromState","propsFromDispatch","ownProps","defaultCompactSettings"],"sourceRoot":""}