{"version":3,"file":"js/6067.0204f7d8565063a5699e.js","mappings":"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","sources":["webpack:///./node_modules/@patternfly/react-component-groups/dist/esm/WarningModal/WarningModal.js","webpack:///./node_modules/@patternfly/react-styles/css/components/Backdrop/backdrop.mjs","webpack:///./node_modules/@patternfly/react-styles/css/components/ModalBox/modal-box.mjs","webpack:///./node_modules/@patternfly/react-styles/css/layouts/Bullseye/bullseye.mjs","webpack:///./src/hooks/useAppNavigate.js","webpack:///./src/smart-components/role/remove-role-modal.js","webpack:///./src/smart-components/role/role-selectors.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useState } from 'react';\nimport { Button, Modal, ModalVariant, ButtonVariant, Checkbox } from '@patternfly/react-core';\nconst WarningModal = (_a) => {\n    var { isOpen, onConfirm, onClose, children, confirmButtonLabel = 'Confirm', cancelButtonLabel = 'Cancel', variant = ModalVariant.small, titleIconVariant = 'warning', withCheckbox = false, checkboxLabel = 'I understand that this action cannot be undone', confirmButtonVariant = ButtonVariant.primary, ouiaId = 'WarningModal' } = _a, props = __rest(_a, [\"isOpen\", \"onConfirm\", \"onClose\", \"children\", \"confirmButtonLabel\", \"cancelButtonLabel\", \"variant\", \"titleIconVariant\", \"withCheckbox\", \"checkboxLabel\", \"confirmButtonVariant\", \"ouiaId\"]);\n    const [checked, setChecked] = useState(false);\n    return (React.createElement(Modal, Object.assign({ variant: variant, isOpen: isOpen, onClose: onClose, onEscapePress: onClose, titleIconVariant: titleIconVariant, actions: [\n            React.createElement(Button, { ouiaId: `${ouiaId}-confirm-button`, key: \"confirm\", variant: confirmButtonVariant, onClick: () => {\n                    onConfirm === null || onConfirm === void 0 ? void 0 : onConfirm();\n                    setChecked(false);\n                }, isDisabled: withCheckbox && !checked }, confirmButtonLabel),\n            React.createElement(Button, { ouiaId: `${ouiaId}-cancel-button`, key: \"cancel\", variant: ButtonVariant.link, onClick: onClose }, cancelButtonLabel),\n        ], ouiaId: ouiaId }, props),\n        children,\n        withCheckbox ? (React.createElement(Checkbox, { isChecked: checked, onChange: (_event, value) => setChecked(value), label: checkboxLabel, id: \"warning-modal-check\", className: \"pf-v5-u-mt-lg\", ouiaId: `${ouiaId}-confirm-checkbox` })) : null));\n};\nexport default WarningModal;\n","import './backdrop.css';\nexport default {\n  \"backdrop\": \"pf-v5-c-backdrop\",\n  \"backdropOpen\": \"pf-v5-c-backdrop__open\"\n};","import './modal-box.css';\nexport default {\n  \"button\": \"pf-v5-c-button\",\n  \"modalBox\": \"pf-v5-c-modal-box\",\n  \"modalBoxBody\": \"pf-v5-c-modal-box__body\",\n  \"modalBoxClose\": \"pf-v5-c-modal-box__close\",\n  \"modalBoxDescription\": \"pf-v5-c-modal-box__description\",\n  \"modalBoxFooter\": \"pf-v5-c-modal-box__footer\",\n  \"modalBoxHeader\": \"pf-v5-c-modal-box__header\",\n  \"modalBoxHeaderMain\": \"pf-v5-c-modal-box__header-main\",\n  \"modalBoxTitle\": \"pf-v5-c-modal-box__title\",\n  \"modalBoxTitleIcon\": \"pf-v5-c-modal-box__title-icon\",\n  \"modalBoxTitleText\": \"pf-v5-c-modal-box__title-text\",\n  \"modifiers\": {\n    \"sm\": \"pf-m-sm\",\n    \"md\": \"pf-m-md\",\n    \"lg\": \"pf-m-lg\",\n    \"alignTop\": \"pf-m-align-top\",\n    \"danger\": \"pf-m-danger\",\n    \"warning\": \"pf-m-warning\",\n    \"success\": \"pf-m-success\",\n    \"custom\": \"pf-m-custom\",\n    \"info\": \"pf-m-info\",\n    \"help\": \"pf-m-help\",\n    \"icon\": \"pf-m-icon\"\n  },\n  \"themeDark\": \"pf-v5-theme-dark\"\n};","import './bullseye.css';\nexport default {\n  \"bullseye\": \"pf-v5-l-bullseye\"\n};","import { useNavigate } from 'react-router-dom';\nimport { mergeToBasename } from '../presentational-components/shared/AppLink';\n\nconst useAppNavigate = (linkBasename) => {\n  const navigate = useNavigate();\n\n  return (to, options) => {\n    return navigate(mergeToBasename(to, linkBasename), options);\n  };\n};\n\nexport default useAppNavigate;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport WarningModal from '@patternfly/react-component-groups/dist/dynamic/WarningModal';\nimport { Text, TextContent, TextVariants, ButtonVariant } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { removeRole } from '../../redux/actions/role-actions';\nimport { fetchRole } from '../../helpers/role/role-helper';\nimport { roleNameSelector } from './role-selectors';\nimport useAppNavigate from '../../hooks/useAppNavigate';\nimport messages from '../../Messages';\n\nconst RemoveRoleModal = ({ cancelRoute, submitRoute = cancelRoute, afterSubmit, isLoading }) => {\n  const intl = useIntl();\n  const { roleId } = useParams();\n  const roles = roleId.split(',');\n  const roleName = useSelector((state) => {\n    if (roles.length === 1) {\n      return roleNameSelector(state, roles[0]);\n    }\n\n    return roles.length;\n  });\n  const [internalRoleName, setInternalRoleName] = useState(roleName);\n  const dispatch = useDispatch();\n  const navigate = useAppNavigate();\n\n  useEffect(() => {\n    if (roles && roleName) {\n      setInternalRoleName(roleName);\n    } else if (roles && roles.length === 1) {\n      fetchRole(roles[0])\n        .then((role) => setInternalRoleName(role.display_name))\n        .catch((error) => dispatch(addNotification({ variant: 'danger', title: 'Could not get role', description: error?.errors?.[0]?.detail })));\n    }\n  }, [roleName, roles]);\n\n  const onSubmit = () => {\n    Promise.all(roles.map((id) => dispatch(removeRole(id)))).then(() => afterSubmit());\n    navigate(submitRoute);\n  };\n\n  const onCancel = () => navigate(cancelRoute, { replace: true });\n  if (!internalRoleName) {\n    return null;\n  }\n\n  return (\n    <WarningModal\n      withCheckbox\n      isOpen={!isLoading}\n      aria-label=\"delete-role\"\n      title={intl.formatMessage(messages.deleteRoleQuestion)}\n      onClose={onCancel}\n      onConfirm={onSubmit}\n      confirmButtonLabel={intl.formatMessage(messages.deleteRole)}\n      confirmButtonVariant={ButtonVariant.danger}\n    >\n      <TextContent>\n        <Text component={TextVariants.p}>\n          <FormattedMessage\n            {...messages.roleWilBeRemovedWithPermissions}\n            values={{\n              strong: (text) => <strong>{text}</strong>,\n              name: internalRoleName,\n              count: roles.length,\n            }}\n          />\n        </Text>\n      </TextContent>\n    </WarningModal>\n  );\n};\n\nRemoveRoleModal.propTypes = {\n  cancelRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]).isRequired,\n  submitRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]),\n  afterSubmit: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default RemoveRoleModal;\n","export const roleSelector = (state, roleId) => {\n  const {\n    roleReducer: { roles = { data: [] }, selectedRole },\n  } = state;\n  if (selectedRole?.uuid === roleId) {\n    return selectedRole;\n  }\n\n  return roles.data.find(({ uuid }) => uuid === roleId);\n};\n\nexport const roleNameSelector = (state, roleId) => roleSelector(state, roleId)?.display_name;\n"],"names":["_a","isOpen","onConfirm","onClose","children","confirmButtonLabel","cancelButtonLabel","variant","Modal","small","titleIconVariant","withCheckbox","checkboxLabel","confirmButtonVariant","Button","primary","ouiaId","props","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__rest","checked","setChecked","useState","assign","onEscapePress","actions","key","onClick","isDisabled","link","Checkbox","isChecked","onChange","_event","value","label","id","className","linkBasename","navigate","useNavigate","to","options","RemoveRoleModal","cancelRoute","submitRoute","afterSubmit","isLoading","intl","roleId","useParams","roles","split","roleName","useSelector","state","internalRoleName","setInternalRoleName","dispatch","useDispatch","useEffect","then","role","display_name","catch","error","title","description","errors","detail","formatMessage","deleteRoleQuestion","replace","Promise","all","map","deleteRole","ButtonVariant","danger","TextContent","Text","component","TextVariants","roleWilBeRemovedWithPermissions","values","strong","text","name","count","propTypes","pathname","isRequired","search","hash","roleSelector","roleReducer","data","selectedRole","uuid","find","roleNameSelector"],"sourceRoot":""}