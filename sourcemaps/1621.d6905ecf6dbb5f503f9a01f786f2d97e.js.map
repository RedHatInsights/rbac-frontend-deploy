{"version":3,"file":"js/1621.f9ad96ee27ebef5df31f.js","mappings":"qKAWA,MAcA,EAdwB,EAAGA,QAAOC,OAAMC,cAAaC,aAAYC,KAC/D,kBAAC,EAAAC,WAAU,CAACC,QAAS,EAAAC,kBAAkBC,MAAQJ,GAC7C,kBAAC,EAAAK,iBAAgB,CAACC,UAAW,oCAAGV,GAAWC,KAAM,kBAAC,EAAAU,eAAc,CAACV,KAAMA,GAAQ,MAAgBW,aAAa,OAC5G,kBAAC,EAAAC,eAAc,CAACC,UAAU,iBACvBZ,EAAYa,KAAI,CAACC,EAAuBC,IACvC,kBAAC,aAAc,CAACA,IAAKA,GAClBD,E,IAAM,iCAIb,kBAAC,EAAAE,iBAAgB,KAAEf,G,oRCLhB,MAAMgB,EAAmB,EAC9BL,YACAM,YACAC,UACAC,UACAC,OACAC,iBACAC,OACAC,iBACAC,qBACAC,SACAC,cACAC,gBACAC,aACAC,kBACAC,cACAC,YACAC,eACAC,iBACAC,cACAC,eACAC,kBACAC,YACAC,kBACAC,aACAC,oBACAC,aACAC,UACAC,eACAC,aACAC,gBACAC,WACAC,WACAC,QACAC,SACAC,SACAC,eACAC,YACAC,mBACAC,cACAC,UACAC,qBACAC,UACAC,WACAC,gBACAC,iBACAC,uBAEA,MAAMC,IAAO,UACPC,IAAW,IAAAC,SAAQ,wBAmHzB,OACE,yBAAKrD,UAAWA,GACbc,KACCM,GAA8B,IAAjBX,GAAM6C,QAAwC,IAAxBnC,GAAamC,QAAgBvB,EAAQwB,OAAM,EAAGlB,YAAaA,IAC9F,kBAAC,IAAe,CACdnD,MAAOiE,GAAKK,cAAc,IAASC,eAAgB,CAAEC,MAAO3C,IAC5D5B,KAAM,IACNC,YAAa,CACX+D,GAAKK,cAAc,IAASG,uBAC5BR,GAAKK,cAAc,IAASI,qBAAsB,CAAEC,KAAM7C,KAE5D3B,QAASqB,IAAiB,MACtBkB,IAxFQ,MAClB,MAAMkC,EAAU,GAAyB,SAAtBxB,GAAQyB,UAAuB,IAAM,KAAKvD,EAAQ8B,GAAQ0B,QAAQ7D,MACrF,OACE,kBAAC,EAAA8D,SAAQ,KACP,kBAAC,KAAO,CACNzC,aAAcA,EACdC,gBAAiBA,EACjBF,YAAaA,EACbI,gBAAiBA,EACjBP,UAAWA,GAAawB,GACxBjC,KAAMA,EACNK,cAAeA,EACfG,YAAaA,EACbG,eAAgBA,EAChBgB,OAAQwB,EACR7C,WAAYA,EACZC,gBAAiBA,EACjBQ,UAAWA,EACXhB,eAAgBA,EAChBmB,kBAAmBA,EACnBE,QAASA,EACTC,aAAcA,EACdC,WAAYA,EACZC,cAAeA,EACfC,SAAUA,EACVC,SAAUA,EACVC,MAAOA,EACPK,gBAAiBA,GACjBK,QAASA,GACTC,aAAcA,GACdC,cAAeA,GACfC,gBAAiBA,KAElB9B,EACC,kBAAC,IAAa,CACZ5B,QAASc,EAAY,IAAa4D,aAAUC,EAC5C1D,KAAMQ,GAAYmD,MAClB5D,QAASA,EAAQP,KAAK4D,GAASA,EAAK3E,UAGtC,kBAAC,IAAK,CACJmF,cAAc,EAAK,aACP,GAAGtD,EAAYuD,sBAC3B9E,QAASc,EAAY,IAAa4D,QAAU,KAC5C3D,QAASA,KACJiB,GACHf,GAAM6C,OAAS,GAAK,CAClBiB,SAAU,CAACC,EAAIC,EAAYC,GAAQC,OAAMC,OAAQC,GAAOC,cACtDnD,GAAgB,QAAa,CAAC,CAAEgD,OAAME,OAAMC,cAAc1B,IAAY,CAAE2B,SAAUpE,EAAK+D,IAAOK,YAAgBN,QAE/GjC,GAAgB,CAAEC,aACvBhC,KAAMA,GAAM6C,OAAS,EAAI7C,EAAO,CAAC,CAAEuE,WAAW,EAAMJ,MAAO,CAzF3C,CACxB1F,MACE,kBAAC,IAAe,CACdA,MAAOiE,GAAKK,cAAc,IAASyB,qBAAsB,CAAEvB,MAAO3C,IAClE3B,YACEwD,IAAUC,GACNA,GACA,CAACM,GAAKK,cAAc,IAAS0B,qBAAsB,CAAExB,MAAO3C,IAAgBoC,GAAKK,cAAc,IAAS2B,qBAE9G9F,QACEuD,IAAUC,QACNsB,EACA,CACE,kBAAC,EAAAiB,kBAAiB,CAACjF,IAAI,iBACrB,kBAAC,EAAAkF,OAAM,CACL7F,QAAQ,OACRsD,OAAO,uBACPwC,QAAS,KACPhE,EAAeD,GACfK,EAAU,IACLT,EACHsE,OAAQ,KACJlE,GAA8B,CAAEwD,KAAM,KAC1C,GAGH1B,GAAKK,cAAc,IAASgC,sBAO7ClG,MAAO,CACLmG,QAASjF,EAAQ8C,YAwDXsB,MAAOpE,KACFC,GAAM6C,OAAS,GAAK,CAAE1C,kBAC3BZ,UAA2B,GAAhBS,GAAM6C,OAAc,0BAA4B,GAC3DzC,mBAAoBA,EACpBiB,WAAYA,EACZQ,OAAQA,EACRQ,OAAQA,GACRP,OAAQ,CAACmD,EAAG1B,EAAOD,EAAWvC,IAAiBe,EAAOmD,EAAG1B,EAAOD,EAAWvC,KAEzEmB,IAAc,kBAAC,IAAW,MAC5B,kBAAC,IAAS,QAGZ1B,EAAW0E,UACX,kBAAC,IAAY,MACTvE,GACA,kBAAC,EAAAwE,WAAU,KAAK,QAAkB3E,EAAYS,EAAWP,EAAamB,EAAQpB,GAAkB1B,QAAQ,SAASqG,cAAc,QAKxI,EAiBK,GAIP,EAGHxF,EAAiByF,UAAY,IACxB,KAAQA,UACXxD,OAAQ,UAAgB,CACtByD,WAAY,WACZ/B,MAAO,aAEThE,UAAW,WACX8B,WAAY,QACZxB,UAAW,SACXmB,gBAAiB,SACjBlB,QAAS,SACTc,aAAc,WACdE,YAAa,UACbf,QAAS,UAAgBwF,WACzBvF,KAAM,UAAgBuF,WACtBjF,YAAa,WACbD,OAAQ,SACRF,eAAgB,SAChBC,mBAAoB,SACpBI,WAAY,UAAgB,CAC1B0E,SAAU,SACVvB,MAAO,WACPmB,OAAQ,WACRU,MAAO,aAET/E,gBAAiB,UAAgB,CAC/BgF,eAAgB,SAChB5F,UAAW,WAEbkC,aAAc,SACdC,SAAU,SACVF,OAAQ,SACRS,aAAc,SACdJ,OAAQ,SACRF,gBAAiB,SACjBC,WAAY,SACZE,kBAAmB,YAAkB,UACrCd,QAAS,UACTgB,QAAS,WAAiBiD,WAC1B9C,gBAAiB,UAGnB7C,EAAiB8F,aAAe,IAC3B,KAAQA,aACX9E,aAAc,CAAC,EACff,WAAW,EACXC,SAAS,EACTO,OAAQ,IAAM,KACd4B,iBAAiB,EACjBnB,YAAa,GACboB,YAAY,EACZO,gBAAiB,IAAM,K,uKCnPlB,MAAMkD,EAAoB,CAACnF,EAAa,CAAC,EAAGS,EAAWP,EAAc,GAAImB,EAAS,GAAIpB,KAAoB,IAC5GA,EACHmF,UAAWpF,EAAWgF,MACtBK,QAASrF,EAAWmD,MACpBmC,MAAM,QAActF,EAAWmD,MAAOnD,EAAWsE,QACjDiB,UAAW,CAACC,EAAQF,KAClB7E,EAAU,IACLT,EACHsE,QAAQ,QAAgBgB,EAAMtF,EAAWmD,OACzCS,KAAM1D,EACN2C,QAASxB,GACT,EAEJoE,eAAgB,CACd,CAAExH,MAAO,IAAKmD,MAAO,GACrB,CAAEnD,MAAO,KAAMmD,MAAO,IACtB,CAAEnD,MAAO,KAAMmD,MAAO,IACtB,CAAEnD,MAAO,KAAMmD,MAAO,IACtB,CAAEnD,MAAO,MAAOmD,MAAO,MAEzBsE,gBAAiB,CAACF,EAAQH,KACxB5E,EAAU,CACR6D,OAAQ,EACRnB,MAAOkC,EACPzB,KAAM1D,EACN2C,QAASxB,GACT,IAIOsE,EAAoB,CAC/BxF,EACAG,EAAc,GACdI,EAAkB,MAAe,GACjChB,EAAO,GACPoC,EACAtB,EAAkB,MAAM,MAExB,MAAM0B,GAAO,UACb,MAAO,CACL8C,MAAO1E,EAAY+B,OACnBI,MAAO,CACL,CACExE,MAAOiE,EAAKK,cAAc,IAASqD,YACnCvB,QAAS,KACP3D,GAAgB,IAAM,IAAG,GAG7B,KACOP,GAAaT,GAAQA,EAAK2C,OAAS,EACpC,CACEpE,MAAOiE,EAAKK,cAAc,IAASsD,WAAY,CAC7CxD,OAAQ3C,EAAKoG,OAAOtF,GAAiB6B,SAEvCgC,QAAS,KACP3D,GAAgB,QAAahB,GAAM,GAAM,GAG7C,CAAC,IAGTqG,SAAS,QAAiBrG,EAAMY,EAAaE,GAC7C8C,SAAWlC,KACRjB,GAAaO,GAAgB,QAAahB,EAAM0B,GAAO,EAE1D4E,GAAIlE,EACL,EAGUmE,EAAsB,CACjC9F,EACAE,EAAiB,MAAe,GAChCI,EAAY,MAAe,GAC3BP,EAAc,GACdF,EAAa,CAAC,EACdD,EAAgB,GAChBa,EACAsF,EACApF,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAW,KAEA,MAAME,GAAO,UACb,MAAO,CACLf,WACAC,QACAqB,MAAO,IACD3B,GAAWA,EAAQuB,OAAS,EAC5BvB,EAAQ9B,KAAI,EAAGE,MAAKiH,QAAO/E,QAAOgF,WAAUC,cAAaC,OAAO,OAAQC,SAAQ9D,QAAO+D,eAAe,CACpGL,MAAOA,IAAS,QAAejH,GAC/BoH,KAAMA,GAAQ,OACdG,aAAc,CACZD,WACAR,GAAI,aAAa9G,IACjBA,IAAK,aAAaA,IAClBmH,YAAaA,GAA4BnE,EAAKK,cAAc,IAASmE,YAAa,CAAExH,QACpFkC,QACAgF,cACa,SAATE,EAAkB,CAAEvF,eAAcC,aAAYC,gBAAeC,YAAa,CAAC,EAC/EqF,SACA9D,QACAtB,SAAU,CAACoC,EAAIoD,KACb,MAAMC,EACgB,iBAAbD,GAA0BE,MAAMC,QAAQH,GAAkEA,EAAtDI,OAAOC,MAAK,IAAAC,QAAON,EAAS,KAAMvF,GAAUA,KAEzGf,EAAe,IACVH,KACAF,EACHsE,OAAQ,EACR,CAACpF,GAAM0H,KAET,SAAe,IACbnG,EAAU,IACLT,EACHsE,OAAQ,EACRzB,QAASxB,KACNP,EAAQoG,QACT,CAACC,EAAKC,KAAS,IACVD,EACH,CAACC,EAAKlI,KAAMkI,EAAKhG,SAEnB,CAAC,GAEH,CAAClC,GAAM0H,MAETS,MAAM3H,IACN8G,GAAUc,SAASC,QACZ7H,IACP,EAEJ8H,WAAYrH,OAGhB,CACE,CACEgG,OAAO,QAAevF,GAAqBb,GAC3CuG,KAAM,OACNG,aAAc,CACZD,SAAUxE,EACVgE,GAAI,mBACJ9G,IAAK,mBACLmH,YAAanE,EAAKK,cAAc,IAASmE,YAAa,CAAExH,IAAK0B,GAAqBb,IAClFqB,MAAOlB,EACPiB,SAAU,CAACoC,EAAInC,KACbf,EAAe,IACVL,EACHsE,OAAQ,EACRV,KAAMxC,KAER,SAAe,IACbX,EAAU,IACLT,EACHsE,OAAQ,EACRV,KAAMxC,EACNyB,QAASxB,MAEXgG,MAAM3H,IACNsC,GAAesF,SAASC,QACjB7H,IACP,EAEJ8H,WAAYrH,QAIlB+F,GAAe,IAEtB,EAGUuB,EAA6B,CACxCvH,EAAc,GACdY,EACAd,EAAa,CAAC,EACdK,EAAiB,MAAe,GAChCI,EAAY,MAAe,GAC3BY,KACG,CACHP,QACEA,GAAWA,EAAQuB,OAAS,EACxBvB,EACG9B,KACC,EAAGE,IAAKoH,EAAMlF,MAAOsG,KACnBA,GACmB,IAAnBA,EAAQrF,QAAgB,CACtBsF,UAAU,QAAerB,GACzBA,OACAsB,MAAOf,MAAMC,QAAQY,GAAWA,EAAQ1I,KAAK8G,IAAW,CAAGlC,KAAMkC,MAAa,CAAC,CAAElC,KAAM8D,OAG5F5B,OAAO+B,SACV,CACE,CACEjE,KAAM1D,IAGhB4H,SAAU,CAACvE,GAAKwE,GAAUC,KACxB,MAAMC,EAAc,CAAC7G,EAAOkF,EAAMpH,IAC5B8I,EACc,UAAT1B,GAA6B,aAATA,EAAsB,GAAK,GAGpDpH,IAAQ6I,EAAQzB,KACXlF,EAGI,aAATkF,GAAgC,UAATA,EAClBlF,EAAM0E,QAAQ1E,GAAUA,IAAU2G,EAAQH,MAAM,IAAIhE,OAGtDiD,MAAMC,QAAQ1F,GAAS,GAAK,GAG/B8G,EAAepH,EAAQoG,QAAO,CAACC,GAAOjI,MAAKkC,QAAOkF,WAAW,IAAMa,EAAK,CAACjI,GAAM+I,EAAY7G,EAAOkF,EAAMpH,MAAS,CAAC,GACxHmB,EAAe,IACVL,EACHsE,OAAQ,EACRV,KAAM,MACHsE,IAELzH,EAAU,IACLT,EACHsE,OAAQ,EACRzB,QAASxB,EACTuC,KAAM,MACHsE,GACH,IAIAC,EAAU,EACd5H,eACAC,kBACAF,cACAI,kBACAP,YACAT,OACAK,gBACAG,cACAG,iBACAL,aACAC,kBACAQ,YACAY,SACA5B,iBACAmB,oBACAsF,cACApF,UACAC,eACAC,aACAC,gBACAC,WACAC,WACAC,QACAK,kBACAK,UACAE,gBACAC,qBAEA,kBAAC,IAAc,IACR1B,GAAgB,CACnB6H,WAAYzC,EAAkBxF,EAAWG,EAAaI,EAAiBhB,EAAMoC,EAAStB,IAExF6H,aAAcpC,EACZ9F,EACAE,EACAI,EACAP,EACAF,EACAD,EACAa,EACAsF,EACApF,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAW,GAEFsG,cAAe,CACblK,QAASqB,SAELU,GAAa,CACjBH,WAAYmF,EAAkBnF,EAAYS,EAAWP,EAAamB,EAAQpB,QAEtEC,EAAYmC,OAAS,GAAMvB,GAAWA,EAAQuB,OAAS,KAC1DZ,GAAmB,CAClB8G,oBAAqBd,EAA2BvH,EAAaY,EAASd,EAAYK,EAAgBI,EAAWY,KAGhHY,KAILkG,EAAQtD,UAAY,CAClBtE,aAAc,SACdC,gBAAiB,SACjBF,YAAa,UACbI,gBAAiB,SACjBP,UAAW,SACXT,KAAM,UACNK,cAAe,WACfG,YAAa,cAAoB,CAAC,UAAiB,aACnDG,eAAgB,SAChBS,QAAS,YACP,UAAgB,CACdM,MAAO,cAAoB,CAAC,WAAkB,WAAkB,YAChElC,IAAK,WACLmH,YAAa,cAGjBtF,aAAc,SACdC,WAAY,SACZC,cAAe,WACfC,SAAU,SACVC,SAAU,SACVC,MAAO,QACPpB,WAAY,UAAgB,CAC1BmD,MAAO,WACPmB,OAAQ,WACRU,MAAO,aAET/E,gBAAiB,UAAgB,CAC/BgF,eAAgB,SAChB5F,UAAW,WAEbgC,OAAQ,WACR6E,YAAa,YAAkB,YAC/BtF,kBAAmB,WACnB4H,cAAe,SACf/H,UAAW,SAAesE,WAC1BtF,eAAgB,SAChBgC,gBAAiB,SACjBK,QAAS,WACTE,cAAe,WACfC,gBAAiB,UAGnBkG,EAAQjD,aAAe,CACrBsD,eAAe,EACfjI,cAAc,EACdJ,WAAW,EACXT,KAAM,GACNK,cAAe,GACfG,YAAa,GACbF,WAAY,KACZU,gBAAiB,KAAe,EAChCL,eAAgB,KAAe,EAC/BgB,YAAQ6B,EACRzD,eAAgB,IAAM,GACtByG,YAAa,GACbpF,QAAS,GACTC,cAAc,EACdU,iBAAiB,EACjBQ,gBAAiB,IAAM,MAGzB,S,0KC/WA,MAAMwG,EAA2B,EAAGC,SAAQC,cAAaC,aAAYC,0BACnE,MAAM3G,GAAO,YAEN,KAAE1C,EAAI,WAAEQ,EAAU,YAAEE,GAAe4I,IAAW,IAAAC,WAAS,KAAM,CAClE7I,YAAa,GACbV,KAAMqJ,EAAoB7J,KAAI,EAAGgK,iBAAmB5H,YAAcA,IAAO6H,MAAM,EAAG,KAAgB9F,OAClGnD,WAAY,IACP,KACHgF,MAAO6D,EAAoBxG,YAIzB6G,EAAoB,EAAGtF,OAAO,GAAIT,QAAOmB,UAAU6E,GAAW,IAClEL,GAAQ,EAAG9I,aAAYE,kBACrB,MAAMV,EAAOqJ,EACV7J,KAAI,EAAGgK,iBAAmB5H,YAAcA,IACxC0E,QAAQ1E,GAAUA,EAAMgI,SAASxF,KACjCqF,MAAM3E,EAAQnB,GACjB,MAAO,CACL3D,OACAU,YAAaiJ,EAAWvF,EAAO1D,EAC/BF,WAAY,IACPA,EACHsE,OAAQ6E,EAAW,EAAI7E,EACvBnB,QACA6B,MAAOxF,EAAK6C,QAEf,IAGL,OACE,kBAAC,EAAAgH,MAAK,CACJjL,QAAS,CACP,kBAAC,EAAAgG,OAAM,CAAClF,IAAI,eAAeX,QAAQ,UAAU8F,QAASsE,GACnDzG,EAAKK,cAAc,IAAS+G,SAGjC/K,QAAQ,QACRmK,OAAQA,EACRa,QAASZ,EACT1K,MAAOiE,EAAKK,cAAc,IAASsG,qBACnC1K,YACE,kBAAC,KAAgB,IACX,IAASqL,wBACbC,OAAQ,CACNC,OAASzK,GAAS,gCAASA,GAC3B2J,iBAKN,kBAAC,IAAgB,CACfrJ,QAlDU,CAAC,IAmDXG,KAAMF,EACNU,YAAaA,EACbG,eAAiBsJ,GAAWT,EAAkBS,GAAQ,GACtD3J,WAAYA,EACZ6B,OAAO,4BACPF,OAAuC,IAA/BkH,EAAoBxG,OAC5B7C,KAAMA,EAAKR,KAAKoC,IAAU,CAAGuC,MAAO,CAACvC,OACrCtB,YAAaoC,EAAKK,cAAc,IAASsG,qBACzC9I,cAAemC,EAAKK,cAAc,IAASqH,oBAC3ChI,kBAAmB,CAACM,EAAKK,cAAc,IAASqH,mBAAoB,CAAEhB,WAAYA,KAClFnI,UAAWyI,EACXpH,QAAQ,+BAGb,EAGH2G,EAAyB5D,UAAY,CACnC6D,OAAQ,SACRC,YAAa,SAAe5D,WAC5B6D,WAAY,WAAiB7D,WAC7B8D,oBAAqB,YACnB,UAAgB,CACdG,gBAAiB,UAAgB,CAC/B5H,MAAO,WAAiB2D,aACvBA,cAELA,YAGJ,S,0ICzFA,MAAM8E,GAAY,E,SAAA,MAEXC,eAAeC,GAAmB,MAAE5G,EAAK,OAAEmB,EAAM,SAAER,EAAQ,YAAEkG,EAAc,GAAE,OAAEC,EAAM,QAAEpH,IAC5F,aAAagH,EAAUE,mBAAmBC,EAAalG,EAAUjB,EAASoH,EAAQ9G,EAAOmB,EAC3F,C,+CCDA,MAAM4F,EAA0B,EAAG7F,UAAS8F,aAC1C,MAAMjI,GAAO,UAEb,OAA6C,IAAtCiI,EAAOtB,oBAAoBxG,OAChC,8BAAOH,EAAKK,cAAc,IAAS6H,gBAEnC,uBACE/F,QAAS,KACPA,KACO,IAGR8F,EAAOtB,oBAAoBxG,OAE/B,EAGH6H,EAAwBrF,UAAY,CAClCR,QAAS,SAAeU,WACxBoF,OAAQ,UAAgB,CAAEtB,oBAAqB,UAAgB9D,aAAcA,YAG/E,UCxBasF,EAAa,CAAC3K,EAAM4K,EAAyBC,IACxD7K,EAAKwH,QAAO,CAACC,GAAOyB,gBAAeuB,GAAUpH,KAC3C,MAAOyH,EAASlE,EAAMmE,GAAa7B,EAAW8B,MAAM,KACpD,MAAO,IACFvD,EACH,CACExD,MAAO,CACL6G,EACAlE,EACAmE,KACIH,EACA,CACE,kBAAC,EAAAtH,SAAQ,CAAC9D,IAAI,MACZ,kBAAC,EAAuB,CAACmF,QAAS,IAAMkG,EAAUxH,GAAQoH,OAAQA,MAGtE,KAGT,GACA,I,yBCXL,MAAMQ,EAAiB,EAAG7J,UAAS8J,aAAYC,OAAMC,mBAAkBR,8BACrE,MAAMpI,GAAO,YACN,OAAE6I,EAAM,aAAEC,EAAY,oBAAEnC,GAAuBoC,IAAe,IAAAlC,UAAS,CAAEgC,QAAQ,KAChFzD,QAAS/H,IAAY,IAAA2L,QAAO,CAClC,CAAEjN,MAAOiE,EAAKK,cAAc,IAASyH,aAAc9K,IAAK,cAAeiM,WAAY,CAACC,EAAA,IACpF,CAAEnN,MAAOiE,EAAKK,cAAc,IAAS8I,cAAenM,IAAK,gBAAiBiM,WAAY,CAACC,EAAA,IACvF,CAAEnN,MAAOiE,EAAKK,cAAc,IAASkI,WAAYvL,IAAK,OAAQiM,WAAY,CAACC,EAAA,OACvEd,EAA0B,CAAC,CAAErM,MAAOiE,EAAKK,cAAc,IAASsG,uBAA0B,KAG1FyC,GAAW,IAAAC,gBACX,YAAEC,EAAW,UAAErL,IAAc,IAAAsL,cAChCC,IAAU,CACTF,YAAaE,EAAMC,cAAcxB,OACjChK,UAAWuL,EAAMC,cAAcxL,aAEjC,EAAAyL,cAGInL,EAAY,EAAGuJ,iBAAgB6B,MAEnCP,EC9B8B,CAACO,IAAa,CAC9CvF,KAAM,KACNwF,QAAS,EAAgCD,KD4B9B,CAAmB,CAAE7B,aADLA,GAAa3H,OAAS,EAAI2H,EAAca,GACLkB,KAAK,QAASF,IAAY,GAUxF,IAAAG,YAAU,KACRvL,EAAU,IAAK,KAAiBoC,WAAU,GACzC,IAEH,MAAOoJ,EAAaC,IAAkB,IAAAnD,UAAS,CAAEhG,MAAO,EAAGD,UAAW,QAChED,EAAU,GAA8B,SAA3BoJ,GAAanJ,UAAuB,IAAM,KAAKvD,EAAQ0M,GAAalJ,OAAO7D,MACxFiN,EAAeX,GAAa9L,MAAQ,GAE1C,OACE,kBAAC,EAAAsD,SAAQ,KACP,kBAAC,IAAgB,CACfzD,QAASA,EACTC,KAAM6K,EAAW8B,EAAc7B,GAnBdvH,GACrBkI,EAAY,CACVF,QAAQ,EACRC,aAAcQ,EAAY9L,KAAKqD,GAAO6F,WACtCC,oBAAqB2C,EAAY9L,KAAKqD,GAAO8F,wBAgB3CnJ,KAAMyM,EACN1L,UAAWA,EACXY,OAAQ4K,EACR3K,OAAQ,CAACmD,EAAG1B,EAAOD,KACjB,MAAMD,EAAU,GAAiB,SAAdC,EAAuB,IAAM,KAAKvD,EAAQwD,GAAO7D,MACpEgN,EAAe,CAAEnJ,QAAOD,cACxBrC,EAAU,IACL+K,GAAaY,KAChB9H,OAAQ,EACRzB,aACI/B,GAASuB,OAAS,EAClB,IACKvB,EAAQoG,QACT,CAACC,EAAKC,KAAS,IACVD,EACH,CAACC,EAAKlI,KAAMkI,EAAKhG,SAEnB,CAAC,IAGL,CAAEwC,KAAM,GAAIoG,YAAa,KAC7B,EAEJlJ,QAASA,EACTT,eAAgBuK,EAChBzK,UAAWA,EACXH,WAAYwL,GAAaY,KACzBvK,OAAO,oBACP/B,YAAaoC,EAAKK,cAAc,IAASiJ,aAAanI,cACtDtD,cAAemC,EAAKK,cAAc,IAASqG,YAAYvF,cACvD1B,QAASxB,IAAc2K,GAA4C,IAAxBqB,EAAa9J,OACxDT,kBAAmB,CAACM,EAAKK,cAAc,IAAS8J,0BAA2BnK,EAAKK,cAAc,IAAS+J,0BACvGxK,QAAQ,eAEV,kBAAC,EAAAyK,SAAQ,CAACC,SAAU,kBAAC,EAAAxJ,SAAQ,OAC1B+H,GACC,kBAACtC,EAAA,QAAwB,CACvBI,oBAAqBA,EACrBH,OAAQqC,EACRpC,YAAa,IAAMsC,EAAY,CAAEF,QAAQ,IACzCnC,WAAYoC,KAKrB,EAGHL,EAAe9F,UAAY,CACzB/D,QAAS,YAAkB,YAAkBiE,WAC7C6F,WAAY,SAAe7F,WAC3B8F,KAAM,YAAkB,YAAkB9F,WAC1C+F,iBAAkB,SAClBR,wBAAyB,UAG3B,U,+GEtGA,MAAM,GAA2B,IAAAmC,OAAK,IAAM,0CAMtCC,EAAgB,EAAG5L,UAAS8J,aAAYC,OAAMP,8BAClD,MAAMpI,GAAO,WACNyK,EAAUC,IAAe,IAAA7D,UAAS,CAAC,KACnC,OAAEgC,EAAM,aAAEC,EAAY,oBAAEnC,GAAuBoC,IAAe,IAAAlC,UAAS,CAAEgC,QAAQ,IAElFxL,EAAU,CACd,CACEtB,MAAOiE,EAAKK,cAAc,IAASsK,OACnC3N,IAAK,eACLiM,WAAY,CAACC,EAAA,IAEf,CAAEnN,MAAOiE,EAAKK,cAAc,IAASpE,cACrC,CACEF,MAAOiE,EAAKK,cAAc,IAASiJ,aACnCsB,eAAgB,CAACC,EAAA,GAAgB,EAAAC,EAAA,GAAU,OAIzCC,EAA2B,CAC/B/K,EAAKK,cAAc,IAASyH,aAC5B9H,EAAKK,cAAc,IAAS8I,cAC5BnJ,EAAKK,cAAc,IAASkI,cACxBH,EAA0B,CAACpI,EAAKK,cAAc,IAASsG,sBAAwB,KAG/E,MAAEgE,EAAK,UAAE1M,EAAS,gBAAE+M,IAAoB,IAAAzB,cAC5C,EAAG0B,aAAeN,QAAO1M,YAAW+M,uBAAwB,CAC1DL,QACA1M,YACA+M,qBAEF,EAAAtB,eAGKK,EAAaC,IAAkB,IAAAnD,UAAS,CAAEhG,MAAO,EAAGD,UAAW,QAChED,EAAU,GAA8B,SAA3BoJ,GAAanJ,UAAuB,IAAM,KAAKvD,EAAQ0M,GAAalJ,OAAO7D,MACxFoM,GAAW,IAAAC,gBAEjB,IAAAS,YAAU,KACRV,GAAS,QAAW,CAAEnI,MAAO,GAAImB,OAAQ,EAAGzB,UAASuK,MAAO,YAAapD,YAAaa,EAAKkB,KAAK,OAAQ,GACvG,IAgEH,IAAIsB,GAAiB,IAAAC,aACnB,KAAS,CAACnK,EAAOmB,EAAQV,EAAMoG,EAAapB,EAAY/F,KACtD,MAAM0K,EAAmBvD,GAAa3H,OAAS,EAAI2H,EAAca,EACjE,OAAOS,GAAS,QAAW,CAAEnI,QAAOmB,SAAQ8I,MAAO,YAAavK,UAASe,OAAMoG,YAAauD,EAAiBxB,KAAK,KAAMnD,eAAc,GACrI,KACH,IAeF,OACE,kBAAC,EAAA5F,SAAQ,KACP,kBAAC,IAAgB,CACflC,QAASA,EACTvB,QAASA,EACTC,MAvFcE,EAuFGmN,EAAMnN,KAtFpBA,GAAMwH,QACX,CAACC,GAAOzD,OAAM8J,eAAc5J,OAAMzF,cAAasP,eAAeC,IAAM,IAC/DvG,EACH,CACEzD,OACAC,MAAO,CACL,CAAE1F,MAAOuP,GAAgB5J,EAAMvF,MAAO,CAAEsP,UAAW,KAAMjF,QAAQ,IACjE,CAAEzK,MAAOE,EAAaE,MAAO,CAAEqK,QAAQ,IACvC,CAAEzK,MAAOwP,EAAapP,MAAO,CAAEqK,OAA2B,IAAnBiE,EAASjJ,OAGpD,CACEA,KAAM,GAAGA,WACTkK,OAAQ,EAAIF,EACZG,eAAgB,EAChBlK,MAAO,CACL,CACEtF,MAAO,CAAEmG,QAAS,EAAGzF,UAAW,mBAChCd,MAAOiP,IAAkBxJ,GACvB,kBAACoK,EAAA,EAAK,CACJjM,OAAO,mCAAkC,aAC9B,eACXvC,SAAS,EACTf,QAAS,IAAa0E,QACtBU,MAAOsJ,EACPzN,KAAM0N,EAAgBxJ,GAAMyG,OAAOnL,KAAKmL,IAAW,CACjDxG,MAAO,IACFwG,EAAOvB,WAAW8B,MAAM,QACvBJ,EACA,CACE,kBAAC,EAAAtH,SAAQ,CAAC9D,IAAI,MACZ,kBAAC,EAAuB,CACtBmF,QAAS,IACP4G,EAAY,CACVF,QAAQ,EACRC,aAAcb,EAAOvB,WACrBC,oBAAqBsB,EAAOtB,sBAGhCsB,OAAQA,MAId,SAIR,kBAAC,IAAW,MACZ,kBAAC,IAAS,OAGZ,kBAAC4D,EAAA,EAAa,CAACxO,QAAS0N,EAA0BzN,KAAMiO,EAAalP,QAAS,IAAa0E,eAMrG,KA8BEvD,KAAMmN,EAAMnN,KACZL,WAAW,EACXkC,cAAc,EACdC,SArBW,CAACgE,EAAQwI,EAAWC,EAAUvF,EAAQwF,KAChDxF,EAOHkE,GAAaD,IAAa,IAAMA,EAAU,CAACuB,EAAQxK,OAAQ,OAN3DkJ,GAAaD,IAAa,IAAMA,EAAU,CAACuB,EAAQxK,MAAOuK,MAEzC,IAAbA,GACF3C,GAAS,QAAsB4C,EAAQxK,O,EAiBvC7B,OAAO,cACPpB,UAAW,EAAG0C,QAAOmB,SAAQV,OAAMoG,cAAapB,iBAC9CyE,EAAelK,EAAOmB,EAAQV,EAAMoG,EAAapB,EAAY/F,EAAQ,EAEvExB,OAAQ4K,EACR3K,OAAQ,CAACmD,EAAG1B,EAAOD,KACjB,MAAMD,EAAU,GAAiB,SAAdC,EAAuB,IAAM,KAAKvD,EAAQwD,GAAO7D,MACpEgN,EAAe,CAAEnJ,QAAOD,cACxBwI,GACE,QAAW,CACThH,OAAQ,EACRzB,aACI/B,GAASuB,OAAS,EAClB,IACKvB,EAAQoG,QACT,CAACC,EAAKC,KAAS,IACVD,EACH,CAACC,EAAKlI,KAAMkI,EAAKhG,SAEnB,CAAC,IAGL,CAAEwC,KAAM,GAAIoG,YAAa,MAEhC,EAEH5J,aAAc,CAAEwD,KAAM,GAAIoG,YAAa,IACvC3J,eAAgBuK,EAChBzK,UAAWA,EACXH,WAAY6M,EAAMT,KAClBxL,kBAAkB,YAClBd,YAAY,QACZC,cAAc,OACd+B,QAAQ,cAEV,kBAAC,EAAAyK,SAAQ,CAACC,SAAU,kBAAC,EAAAxJ,SAAQ,OAC1B+H,GACC,kBAAC,EAAwB,CACvBlC,oBAAqBA,EACrBH,OAAQqC,EACRpC,YAAa,IAAMsC,EAAY,CAAEF,QAAQ,IACzCnC,WAAYoC,MArIH,IAACtL,CA0InB,EAGHgN,EAAc7H,UAAY,CACxBsJ,WAAY,SACZC,sBAAuB,SACvBC,WAAY,SACZxB,MAAO,WACP1M,UAAW,SACX+M,gBAAiB,WACjBpM,QAAS,YAAkB,YAAkBiE,WAC7C6F,WAAY,SAAe7F,WAC3B8F,KAAM,YAAkB,YAAkB9F,WAC1CuF,wBAAyB,UAG3B,UC5KMgE,EAAmB,EAAGzD,WAC1B,MAAM0D,GAAa,IAAAC,YAAW,MACvB5K,EAAM6K,IAAW,IAAA1F,UAAS,KAC1BH,EAAY8F,IAAiB,IAAA3F,UAAS,KACtCiB,EAAa2E,IAAkB,IAAA5F,UAAS,IACzC6F,EAAmB,EAAGhL,OAAMoG,cAAapB,iBACzB,iBAAThF,GACT6K,EAAQ7K,GAGgB,iBAAfgF,GACT8F,EAAc9F,GAGZoB,GACF2E,EAAsC,iBAAhB3E,EAA2B,GAAKA,E,EAIpDlJ,EAjDoB,GAAG+J,OAAM0D,aAAY3K,OAAO,GAAIoG,cAAc,OACxE,MAAM9H,GAAO,UACb,MAAO,CACL,CACEhD,IAAK,cACLkC,MAAO4I,EACP3D,YAAanE,EAAKK,cAAc,IAASmE,YAAa,CAAExH,IAAKgD,EAAKK,cAAc,IAASyH,aAAa3G,gBACtGiD,KAAM,WACN7D,MAAOoI,EAAK7L,KAAK6P,IAAQ,CAAG1I,MAAO0I,EAAKzN,MAAOyN,UAE7CN,EACA,CACE,CACErP,IAAK,OACLoH,KAAM,OACNlF,MAAOwC,EACPuC,MAAOjE,EAAKK,cAAc,IAASuM,UACnCzI,YAAanE,EAAKK,cAAc,IAASmE,YAAa,CAAExH,IAAKgD,EAAKK,cAAc,IAASuM,UAAUzL,kBASvG,GACL,EAsBe0L,CAAa,CAAElE,OAAM0D,aAAY3K,OAAMoG,cAAapB,eACpE,OAAO2F,EACL,kBAAC,EAAa,CAAC3D,WAAYgE,EAAkB9N,QAASA,EAAS+J,KAAMA,IAErE,kBAAC,EAAc,CAACD,WAAYgE,EAAkB9N,QAASA,EAAS+J,KAAMA,EAAMC,iBAAkBlH,EAAKvB,OAAS,GAAK2H,EAAY3H,OAAS,GACvI,EAGHiM,EAAiBzJ,UAAY,CAC3BgG,KAAM,YAAkB,YAAkB9F,YAG5C,UCnEMiK,EAAa,EAAGnE,UAAW,kBAAC,EAAgB,CAACA,KAAMA,IAEzDmE,EAAWnK,UAAY,CACrBgG,KAAM,YAAkB,YAAkB9F,YAG5C,S","sources":["webpack:///./src/presentational-components/shared/empty-state.tsx","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/presentational-components/shared/toolbar.js","webpack:///./src/smart-components/myUserAccess/ResourceDefinitionsModal.js","webpack:///./src/helpers/access/access-helper.js","webpack:///./src/presentational-components/myUserAccess/ResourceDefinitionsLink.js","webpack:///./src/smart-components/myUserAccess/mua-table-helpers.js","webpack:///./src/smart-components/myUserAccess/MUAAccessTable.js","webpack:///./src/redux/actions/access-actions.js","webpack:///./src/smart-components/myUserAccess/MUARolesTable.js","webpack:///./src/smart-components/myUserAccess/CommonBundleView.js","webpack:///./src/smart-components/myUserAccess/bundles/rhel.js"],"sourcesContent":["import React from 'react';\nimport { EmptyState, EmptyStateBody, EmptyStateIcon, EmptyStateVariant, EmptyStateHeader, EmptyStateFooter } from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\n\ninterface EmptyWithActionProps {\n  title: string;\n  icon?: React.ComponentClass<Omit<React.HTMLProps<SVGElement>, 'ref'>, Record<string, unknown>>;\n  description: React.ReactNode[];\n  actions: React.ReactNode;\n}\n\nconst EmptyWithAction = ({ title, icon, description, actions, ...props }: EmptyWithActionProps) => (\n  <EmptyState variant={EmptyStateVariant.sm} {...props}>\n    <EmptyStateHeader titleText={<>{title}</>} icon={<EmptyStateIcon icon={icon || SearchIcon} />} headingLevel=\"h4\" />\n    <EmptyStateBody className=\"pf-v5-u-mb-md\">\n      {description.map((text: React.ReactNode, key: number) => (\n        <React.Fragment key={key}>\n          {text} <br />\n        </React.Fragment>\n      ))}\n    </EmptyStateBody>\n    <EmptyStateFooter>{actions}</EmptyStateFooter>\n  </EmptyState>\n);\n\nexport default EmptyWithAction;\n","import React, { Fragment } from 'react';\nimport { useIntl } from 'react-intl';\nimport propTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { useFlag } from '@unleash/proxy-client-react';\nimport { TableVariant } from '@patternfly/react-table';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table/deprecated';\nimport TableToolbar from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport SkeletonTable from '@patternfly/react-component-groups/dist/dynamic/SkeletonTable';\nimport { Button, Pagination, EmptyStateActions } from '@patternfly/react-core';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport { selectedRows } from '../../helpers/shared/helpers';\nimport Toolbar, { paginationBuilder } from './toolbar';\nimport EmptyWithAction from './empty-state';\nimport './table-toolbar-view.scss';\n\nexport const TableToolbarView = ({\n  className,\n  isCompact,\n  borders,\n  columns,\n  rows,\n  toolbarButtons,\n  data,\n  actionResolver,\n  areActionsDisabled,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  paginationProps,\n  filterValue,\n  isLoading,\n  emptyFilters,\n  setFilterValue,\n  checkedRows,\n  isSelectable,\n  isRowSelectable,\n  fetchData,\n  setCheckedItems,\n  emptyProps,\n  filterPlaceholder,\n  rowWrapper,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  onSort,\n  isExpandable,\n  onExpand,\n  hideFilterChips,\n  hideHeader,\n  noData,\n  noDataDescription,\n  ouiaId,\n  tableId,\n  containerRef,\n  textFilterRef,\n  toolbarChildren,\n}) => {\n  const intl = useIntl();\n  const isITLess = useFlag('platform.rbac.itless');\n  const renderEmpty = () => ({\n    title: (\n      <EmptyWithAction\n        title={intl.formatMessage(messages.noMatchingItemsFound, { items: titlePlural })}\n        description={\n          noData && noDataDescription\n            ? noDataDescription\n            : [intl.formatMessage(messages.filterMatchesNoItems, { items: titlePlural }), intl.formatMessage(messages.tryChangingFilters)]\n        }\n        actions={\n          noData && noDataDescription\n            ? undefined\n            : [\n                <EmptyStateActions key=\"clear-filters\">\n                  <Button\n                    variant=\"link\"\n                    ouiaId=\"clear-filters-button\"\n                    onClick={() => {\n                      setFilterValue(emptyFilters);\n                      fetchData({\n                        ...pagination,\n                        offset: 0,\n                        ...(emptyFilters ? emptyFilters : { name: '' }),\n                      });\n                    }}\n                  >\n                    {intl.formatMessage(messages.clearAllFilters)}\n                  </Button>\n                </EmptyStateActions>,\n              ]\n        }\n      />\n    ),\n    props: {\n      colSpan: columns.length,\n    },\n  });\n\n  const renderTable = () => {\n    const orderBy = `${sortBy?.direction === 'desc' ? '-' : ''}${columns[sortBy?.index]?.key}`;\n    return (\n      <Fragment>\n        <Toolbar\n          isSelectable={isSelectable}\n          isRowSelectable={isRowSelectable}\n          checkedRows={checkedRows}\n          setCheckedItems={setCheckedItems}\n          isLoading={isLoading || noData}\n          data={data}\n          titleSingular={titleSingular}\n          filterValue={filterValue}\n          setFilterValue={setFilterValue}\n          sortBy={orderBy}\n          pagination={pagination}\n          paginationProps={paginationProps}\n          fetchData={fetchData}\n          toolbarButtons={toolbarButtons}\n          filterPlaceholder={filterPlaceholder}\n          filters={filters}\n          isFilterable={isFilterable}\n          onShowMore={onShowMore}\n          showMoreTitle={showMoreTitle}\n          onFilter={onFilter}\n          onChange={onChange}\n          value={value}\n          hideFilterChips={hideFilterChips}\n          tableId={tableId}\n          containerRef={containerRef}\n          textFilterRef={textFilterRef}\n          toolbarChildren={toolbarChildren}\n        />\n        {isLoading ? (\n          <SkeletonTable\n            variant={isCompact ? TableVariant.compact : undefined}\n            rows={pagination?.limit}\n            columns={columns.map((item) => item.title)}\n          />\n        ) : (\n          <Table\n            canSelectAll={false}\n            aria-label={`${titlePlural.toLowerCase()} table`}\n            variant={isCompact ? TableVariant.compact : null}\n            borders={borders}\n            {...(isSelectable &&\n              rows?.length > 0 && {\n                onSelect: (_e, isSelected, _idx, { uuid, cells: [name], requires }) =>\n                  setCheckedItems(selectedRows([{ uuid, name, requires, ...(isITLess && { username: data[_idx]?.username }) }], isSelected)),\n              })}\n            {...(isExpandable && { onExpand })}\n            rows={rows?.length > 0 ? rows : [{ fullWidth: true, cells: [renderEmpty()] }]}\n            cells={columns}\n            {...(rows?.length > 0 && { actionResolver })}\n            className={rows?.length == 0 ? 'ins-c-table-empty-state' : ''}\n            areActionsDisabled={areActionsDisabled}\n            rowWrapper={rowWrapper}\n            sortBy={sortBy}\n            ouiaId={ouiaId}\n            onSort={(e, index, direction, isSelectable) => onSort(e, index, direction, isSelectable)}\n          >\n            {!hideHeader && <TableHeader />}\n            <TableBody />\n          </Table>\n        )}\n        {!pagination.noBottom && (\n          <TableToolbar>\n            {!isLoading && (\n              <Pagination {...paginationBuilder(pagination, fetchData, filterValue, sortBy, paginationProps)} variant=\"bottom\" dropDirection=\"up\" />\n            )}\n          </TableToolbar>\n        )}\n      </Fragment>\n    );\n  };\n\n  return (\n    <div className={className}>\n      {routes()}\n      {!isLoading && rows?.length === 0 && filterValue?.length === 0 && filters.every(({ value }) => !value) ? (\n        <EmptyWithAction\n          title={intl.formatMessage(messages.configureItems, { items: titlePlural })}\n          icon={PlusCircleIcon}\n          description={[\n            intl.formatMessage(messages.toConfigureUserAccess),\n            intl.formatMessage(messages.createAtLeastOneItem, { item: titleSingular }),\n          ]}\n          actions={toolbarButtons()[0]}\n          {...emptyProps}\n        />\n      ) : (\n        renderTable()\n      )}\n    </div>\n  );\n};\n\nTableToolbarView.propTypes = {\n  ...Toolbar.propTypes,\n  sortBy: propTypes.shape({\n    directions: propTypes.string,\n    index: propTypes.number,\n  }),\n  className: propTypes.string,\n  rowWrapper: propTypes.any,\n  isCompact: propTypes.bool,\n  isRowSelectable: propTypes.func,\n  borders: propTypes.bool,\n  emptyFilters: propTypes.object,\n  checkedRows: propTypes.array,\n  columns: propTypes.array.isRequired,\n  rows: propTypes.array.isRequired,\n  titlePlural: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  areActionsDisabled: propTypes.func,\n  pagination: propTypes.shape({\n    noBottom: propTypes.bool,\n    limit: propTypes.number,\n    offset: propTypes.number,\n    count: propTypes.number,\n  }),\n  paginationProps: propTypes.shape({\n    toggleTemplate: propTypes.func,\n    isCompact: propTypes.bool,\n  }),\n  isExpandable: propTypes.bool,\n  onExpand: propTypes.func,\n  onSort: propTypes.func,\n  containerRef: propTypes.node,\n  noData: propTypes.bool,\n  hideFilterChips: propTypes.bool,\n  hideHeader: propTypes.bool,\n  noDataDescription: propTypes.arrayOf(propTypes.node),\n  filters: propTypes.array,\n  tableId: propTypes.string.isRequired,\n  toolbarChildren: propTypes.func,\n};\n\nTableToolbarView.defaultProps = {\n  ...Toolbar.defaultProps,\n  emptyFilters: {},\n  isCompact: false,\n  borders: true,\n  routes: () => null,\n  hideFilterChips: false,\n  checkedRows: [],\n  hideHeader: false,\n  toolbarChildren: () => null,\n};\n","import React from 'react';\nimport PrimaryToolbar from '@redhat-cloud-services/frontend-components/PrimaryToolbar';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { pickBy } from 'lodash';\nimport { selectedRows, calculateChecked, debouncedFetch, firstUpperCase } from '../../helpers/shared/helpers';\nimport { calculateOffset, calculatePage, defaultSettings } from '../../helpers/shared/pagination';\n\nexport const paginationBuilder = (pagination = {}, fetchData, filterValue = '', sortBy = '', paginationProps) => ({\n  ...paginationProps,\n  itemCount: pagination.count,\n  perPage: pagination.limit,\n  page: calculatePage(pagination.limit, pagination.offset),\n  onSetPage: (_event, page) => {\n    fetchData({\n      ...pagination,\n      offset: calculateOffset(page, pagination.limit),\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n  perPageOptions: [\n    { title: '5', value: 5 },\n    { title: '10', value: 10 },\n    { title: '20', value: 20 },\n    { title: '50', value: 50 },\n    { title: '100', value: 100 },\n  ],\n  onPerPageSelect: (_event, perPage) => {\n    fetchData({\n      offset: 0,\n      limit: perPage,\n      name: filterValue,\n      orderBy: sortBy,\n    });\n  },\n});\n\nexport const bulkSelectBuilder = (\n  isLoading,\n  checkedRows = [],\n  setCheckedItems = () => undefined,\n  data = [],\n  tableId,\n  isRowSelectable = () => true\n) => {\n  const intl = useIntl();\n  return {\n    count: checkedRows.length,\n    items: [\n      {\n        title: intl.formatMessage(messages.selectNone),\n        onClick: () => {\n          setCheckedItems(() => []);\n        },\n      },\n      {\n        ...(!isLoading && data && data.length > 0\n          ? {\n              title: intl.formatMessage(messages.selectPage, {\n                length: data.filter(isRowSelectable).length,\n              }),\n              onClick: () => {\n                setCheckedItems(selectedRows(data, true));\n              },\n            }\n          : {}),\n      },\n    ],\n    checked: calculateChecked(data, checkedRows, isRowSelectable),\n    onSelect: (value) => {\n      !isLoading && setCheckedItems(selectedRows(data, value));\n    },\n    id: tableId,\n  };\n};\n\nexport const filterConfigBuilder = (\n  isLoading,\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  filterValue = '',\n  pagination = {},\n  titleSingular = '',\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  textFilterRef\n) => {\n  const intl = useIntl();\n  return {\n    onChange,\n    value,\n    items: [\n      ...(filters && filters.length > 0\n        ? filters.map(({ key, label, value, selected, placeholder, type = 'text', groups, items, innerRef }) => ({\n            label: label || firstUpperCase(key),\n            type: type ?? 'text',\n            filterValues: {\n              innerRef,\n              id: `filter-by-${key}`,\n              key: `filter-by-${key}`,\n              placeholder: placeholder ? placeholder : intl.formatMessage(messages.filterByKey, { key }),\n              value,\n              selected,\n              ...(type !== 'text' ? { isFilterable, onShowMore, showMoreTitle, onFilter } : {}),\n              groups,\n              items,\n              onChange: (_e, filterBy) => {\n                const newFilter =\n                  typeof filterBy !== 'string' && !Array.isArray(filterBy) ? Object.keys(pickBy(filterBy[''], (value) => value)) : filterBy;\n\n                setFilterValue({\n                  ...filterValue,\n                  ...pagination,\n                  offset: 0,\n                  [key]: newFilter,\n                });\n                debouncedFetch(() =>\n                  fetchData({\n                    ...pagination,\n                    offset: 0,\n                    orderBy: sortBy,\n                    ...filters.reduce(\n                      (acc, curr) => ({\n                        ...acc,\n                        [curr.key]: curr.value,\n                      }),\n                      {}\n                    ),\n                    [key]: newFilter,\n                  })\n                ).then((data) => {\n                  innerRef?.current?.focus();\n                  return data;\n                });\n              },\n              isDisabled: isLoading,\n            },\n          }))\n        : [\n            {\n              label: firstUpperCase(filterPlaceholder || titleSingular),\n              type: 'text',\n              filterValues: {\n                innerRef: textFilterRef,\n                id: 'filter-by-string',\n                key: 'filter-by-string',\n                placeholder: intl.formatMessage(messages.filterByKey, { key: filterPlaceholder || titleSingular }),\n                value: filterValue,\n                onChange: (_e, value) => {\n                  setFilterValue({\n                    ...pagination,\n                    offset: 0,\n                    name: value,\n                  });\n                  debouncedFetch(() =>\n                    fetchData({\n                      ...pagination,\n                      offset: 0,\n                      name: value,\n                      orderBy: sortBy,\n                    })\n                  ).then((data) => {\n                    textFilterRef?.current?.focus();\n                    return data;\n                  });\n                },\n                isDisabled: isLoading,\n              },\n            },\n          ]),\n      ...(filterItems || []),\n    ],\n  };\n};\n\nexport const activeFiltersConfigBuilder = (\n  filterValue = '',\n  filters,\n  pagination = {},\n  setFilterValue = () => undefined,\n  fetchData = () => undefined,\n  sortBy\n) => ({\n  filters:\n    filters && filters.length > 0\n      ? filters\n          .map(\n            ({ key: type, value: options }) =>\n              options &&\n              options.length !== 0 && {\n                category: firstUpperCase(type),\n                type,\n                chips: Array.isArray(options) ? options.map((filter) => ({ name: filter })) : [{ name: options }],\n              }\n          )\n          .filter(Boolean)\n      : [\n          {\n            name: filterValue,\n          },\n        ],\n  onDelete: (_e, [deleted], isAll) => {\n    const setKeyValue = (value, type, key) => {\n      if (isAll) {\n        return type === 'group' || type === 'checkbox' ? [] : '';\n      }\n\n      if (key !== deleted.type) {\n        return value;\n      }\n\n      if (type === 'checkbox' || type === 'group') {\n        return value.filter((value) => value !== deleted.chips[0]?.name);\n      }\n\n      return Array.isArray(value) ? [] : '';\n    };\n\n    const filtersValue = filters.reduce((acc, { key, value, type }) => ({ ...acc, [key]: setKeyValue(value, type, key) }), {});\n    setFilterValue({\n      ...pagination,\n      offset: 0,\n      name: '',\n      ...filtersValue,\n    });\n    fetchData({\n      ...pagination,\n      offset: 0,\n      orderBy: sortBy,\n      name: '',\n      ...filtersValue,\n    });\n  },\n});\n\nconst Toolbar = ({\n  isSelectable,\n  isRowSelectable,\n  checkedRows,\n  setCheckedItems,\n  isLoading,\n  data,\n  titleSingular,\n  filterValue,\n  setFilterValue,\n  pagination,\n  paginationProps,\n  fetchData,\n  sortBy,\n  toolbarButtons,\n  filterPlaceholder,\n  filterItems,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  hideFilterChips,\n  tableId,\n  textFilterRef,\n  toolbarChildren,\n}) => (\n  <PrimaryToolbar\n    {...(isSelectable && {\n      bulkSelect: bulkSelectBuilder(isLoading, checkedRows, setCheckedItems, data, tableId, isRowSelectable),\n    })}\n    filterConfig={filterConfigBuilder(\n      isLoading,\n      setFilterValue,\n      fetchData,\n      filterValue,\n      pagination,\n      titleSingular,\n      filterPlaceholder,\n      filterItems,\n      filters,\n      isFilterable,\n      onShowMore,\n      showMoreTitle,\n      onFilter,\n      onChange,\n      value,\n      sortBy,\n      textFilterRef\n    )}\n    actionsConfig={{\n      actions: toolbarButtons(),\n    }}\n    {...(!isLoading && {\n      pagination: paginationBuilder(pagination, fetchData, filterValue, sortBy, paginationProps),\n    })}\n    {...((filterValue.length > 0 || (filters && filters.length > 0)) &&\n      !hideFilterChips && {\n        activeFiltersConfig: activeFiltersConfigBuilder(filterValue, filters, pagination, setFilterValue, fetchData, sortBy),\n      })}\n  >\n    {toolbarChildren()}\n  </PrimaryToolbar>\n);\n\nToolbar.propTypes = {\n  isSelectable: PropTypes.bool,\n  isRowSelectable: PropTypes.func,\n  checkedRows: PropTypes.array,\n  setCheckedItems: PropTypes.func,\n  isLoading: PropTypes.bool,\n  data: PropTypes.array,\n  titleSingular: PropTypes.string,\n  filterValue: PropTypes.oneOfType([PropTypes.array, PropTypes.string]),\n  setFilterValue: PropTypes.func,\n  filters: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.array]),\n      key: PropTypes.string,\n      placeholder: PropTypes.string,\n    })\n  ),\n  isFilterable: PropTypes.bool,\n  onShowMore: PropTypes.func,\n  showMoreTitle: PropTypes.string,\n  onFilter: PropTypes.func,\n  onChange: PropTypes.func,\n  value: PropTypes.any,\n  pagination: PropTypes.shape({\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    count: PropTypes.number,\n  }),\n  paginationProps: PropTypes.shape({\n    toggleTemplate: PropTypes.func,\n    isCompact: PropTypes.bool,\n  }),\n  sortBy: PropTypes.string,\n  filterItems: PropTypes.arrayOf(PropTypes.object),\n  filterPlaceholder: PropTypes.string,\n  isCollapsible: PropTypes.bool,\n  fetchData: PropTypes.func.isRequired,\n  toolbarButtons: PropTypes.func,\n  hideFilterChips: PropTypes.bool,\n  tableId: PropTypes.string,\n  textFilterRef: PropTypes.object,\n  toolbarChildren: PropTypes.func,\n};\n\nToolbar.defaultProps = {\n  isCollapsible: false,\n  isSelectable: false,\n  isLoading: false,\n  data: [],\n  titleSingular: '',\n  filterValue: [],\n  pagination: defaultSettings,\n  setCheckedItems: () => undefined,\n  setFilterValue: () => undefined,\n  sortBy: undefined,\n  toolbarButtons: () => [],\n  filterItems: [],\n  filters: [],\n  isFilterable: false,\n  hideFilterChips: false,\n  toolbarChildren: () => null,\n};\n\nexport default Toolbar;\n","import { Button, Modal } from '@patternfly/react-core';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst ResourceDefinitionsModal = ({ isOpen, handleClose, permission, resourceDefinitions }) => {\n  const intl = useIntl();\n  const columns = [''];\n  const [{ rows, pagination, filterValue }, setRows] = useState(() => ({\n    filterValue: '',\n    rows: resourceDefinitions.map(({ attributeFilter: { value } }) => value).slice(0, defaultSettings.limit),\n    pagination: {\n      ...defaultSettings,\n      count: resourceDefinitions.length,\n    },\n  }));\n\n  const handleFilterValue = ({ name = '', limit, offset }, isFilter = false) =>\n    setRows(({ pagination, filterValue }) => {\n      const rows = resourceDefinitions\n        .map(({ attributeFilter: { value } }) => value)\n        .filter((value) => value.includes(name))\n        .slice(offset, limit);\n      return {\n        rows,\n        filterValue: isFilter ? name : filterValue,\n        pagination: {\n          ...pagination,\n          offset: isFilter ? 0 : offset,\n          limit,\n          count: rows.length,\n        },\n      };\n    });\n\n  return (\n    <Modal\n      actions={[\n        <Button key=\"close-action\" variant=\"primary\" onClick={handleClose}>\n          {intl.formatMessage(messages.close)}\n        </Button>,\n      ]}\n      variant=\"large\"\n      isOpen={isOpen}\n      onClose={handleClose}\n      title={intl.formatMessage(messages.resourceDefinitions)}\n      description={\n        <FormattedMessage\n          {...messages.viewResourceDefinitions}\n          values={{\n            strong: (text) => <strong>{text}</strong>,\n            permission,\n          }}\n        />\n      }\n    >\n      <TableToolbarView\n        columns={columns}\n        data={rows}\n        filterValue={filterValue}\n        setFilterValue={(config) => handleFilterValue(config, true)}\n        pagination={pagination}\n        ouiaId=\"resource-definition-table\"\n        noData={resourceDefinitions.length === 0}\n        rows={rows.map((value) => ({ cells: [value] }))}\n        titlePlural={intl.formatMessage(messages.resourceDefinitions)}\n        titleSingular={intl.formatMessage(messages.resourceDefinition)}\n        noDataDescription={[intl.formatMessage(messages.resourceDefinition, { permission: permission })]}\n        fetchData={handleFilterValue}\n        tableId=\"resource-definitions-modal\"\n      />\n    </Modal>\n  );\n};\n\nResourceDefinitionsModal.propTypes = {\n  isOpen: PropTypes.bool,\n  handleClose: PropTypes.func.isRequired,\n  permission: PropTypes.string.isRequired,\n  resourceDefinitions: PropTypes.arrayOf(\n    PropTypes.shape({\n      attributeFilter: PropTypes.shape({\n        value: PropTypes.string.isRequired,\n      }).isRequired,\n    })\n  ).isRequired,\n};\n\nexport default ResourceDefinitionsModal;\n","import { getAccessApi } from '../shared/user-login';\n\nconst accessApi = getAccessApi();\n\nexport async function getPrincipalAccess({ limit, offset, username, application = '', status, orderBy }) {\n  return await accessApi.getPrincipalAccess(application, username, orderBy, status, limit, offset);\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst ResourceDefinitionsLink = ({ onClick, access }) => {\n  const intl = useIntl();\n\n  return access.resourceDefinitions.length === 0 ? (\n    <span>{intl.formatMessage(messages.notApplicable)}</span>\n  ) : (\n    <a\n      onClick={() => {\n        onClick();\n        return false;\n      }}\n    >\n      {access.resourceDefinitions.length}\n    </a>\n  );\n};\n\nResourceDefinitionsLink.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  access: PropTypes.shape({ resourceDefinitions: PropTypes.array.isRequired }).isRequired,\n};\n\nexport default ResourceDefinitionsLink;\n","import React, { Fragment } from 'react';\nimport ResourceDefinitionsLink from '../../presentational-components/myUserAccess/ResourceDefinitionsLink';\n\nexport const createRows = (data, showResourceDefinitions, onRdClick) =>\n  data.reduce((acc, { permission, ...access }, index) => {\n    const [appName, type, operation] = permission.split(':');\n    return [\n      ...acc,\n      {\n        cells: [\n          appName,\n          type,\n          operation,\n          ...(showResourceDefinitions\n            ? [\n                <Fragment key=\"rd\">\n                  <ResourceDefinitionsLink onClick={() => onRdClick(index)} access={access} />\n                </Fragment>,\n              ]\n            : []),\n        ],\n      },\n    ];\n  }, []);\n","import React, { Fragment, Suspense, useEffect, useRef, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport { getPrincipalAccess } from '../../redux/actions/access-actions';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { createRows } from './mua-table-helpers';\nimport ResourceDefinitionsModal from './ResourceDefinitionsModal';\nimport { sortable } from '@patternfly/react-table';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst MUAAccessTable = ({ filters, setFilters, apps, hasActiveFilters, showResourceDefinitions }) => {\n  const intl = useIntl();\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n  const { current: columns } = useRef([\n    { title: intl.formatMessage(messages.application), key: 'application', transforms: [sortable] },\n    { title: intl.formatMessage(messages.resourceType), key: 'resource_type', transforms: [sortable] },\n    { title: intl.formatMessage(messages.operation), key: 'verb', transforms: [sortable] },\n    ...(showResourceDefinitions ? [{ title: intl.formatMessage(messages.resourceDefinitions) }] : []),\n  ]);\n\n  const dispatch = useDispatch();\n  const { permissions, isLoading } = useSelector(\n    (state) => ({\n      permissions: state.accessReducer.access,\n      isLoading: state.accessReducer.isLoading,\n    }),\n    shallowEqual\n  );\n\n  const fetchData = ({ application, ...apiProps }) => {\n    const applicationParam = application?.length > 0 ? application : apps;\n    dispatch(getPrincipalAccess({ application: applicationParam.join(','), ...apiProps }));\n  };\n\n  const handleRdClick = (index) =>\n    setRdConfig({\n      rdOpen: true,\n      rdPermission: permissions.data[index].permission,\n      resourceDefinitions: permissions.data[index].resourceDefinitions,\n    });\n\n  useEffect(() => {\n    fetchData({ ...defaultSettings, orderBy });\n  }, []);\n\n  const [sortByState, setSortByState] = useState({ index: 0, direction: 'asc' });\n  const orderBy = `${sortByState?.direction === 'desc' ? '-' : ''}${columns[sortByState?.index].key}`;\n  const filteredRows = permissions?.data || [];\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        columns={columns}\n        rows={createRows(filteredRows, showResourceDefinitions, handleRdClick)}\n        data={filteredRows}\n        fetchData={fetchData}\n        sortBy={sortByState}\n        onSort={(e, index, direction) => {\n          const orderBy = `${direction === 'desc' ? '-' : ''}${columns[index].key}`;\n          setSortByState({ index, direction });\n          fetchData({\n            ...permissions?.meta,\n            offset: 0,\n            orderBy,\n            ...(filters?.length > 0\n              ? {\n                  ...filters.reduce(\n                    (acc, curr) => ({\n                      ...acc,\n                      [curr.key]: curr.value,\n                    }),\n                    {}\n                  ),\n                }\n              : { name: '', application: [] }),\n          });\n        }}\n        filters={filters}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={permissions?.meta}\n        ouiaId=\"permissions-table\"\n        titlePlural={intl.formatMessage(messages.permissions).toLowerCase()}\n        titleSingular={intl.formatMessage(messages.permission).toLowerCase()}\n        noData={!isLoading && !hasActiveFilters && filteredRows.length === 0}\n        noDataDescription={[intl.formatMessage(messages.noPermissionsForInsights), intl.formatMessage(messages.contactOrgAdministrator)]}\n        tableId=\"mua-access\"\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUAAccessTable.propTypes = {\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  hasActiveFilters: PropTypes.bool,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nexport default MUAAccessTable;\n","import * as ActionTypes from '../action-types';\nimport * as AccessHelper from '../../helpers/access/access-helper';\n\nexport const getPrincipalAccess = (apiProps) => ({\n  type: ActionTypes.GET_PRINCIPAL_ACCESS,\n  payload: AccessHelper.getPrincipalAccess(apiProps),\n});\n","import React, { Fragment, useCallback, useEffect, useState, lazy, Suspense } from 'react';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash/debounce';\nimport SkeletonTable from '@patternfly/react-component-groups/dist/dynamic/SkeletonTable';\nimport { TableToolbarView } from '../../presentational-components/shared/table-toolbar-view';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { useIntl } from 'react-intl';\nimport { fetchRoles, fetchRoleForPrincipal } from '../../redux/actions/role-actions';\nimport messages from '../../Messages';\n\nconst ResourceDefinitionsModal = lazy(() => import('./ResourceDefinitionsModal'));\n\nimport { TableVariant, compoundExpand, cellWidth, sortable } from '@patternfly/react-table';\nimport { Table, TableHeader, TableBody } from '@patternfly/react-table/deprecated';\nimport ResourceDefinitionsLink from '../../presentational-components/myUserAccess/ResourceDefinitionsLink';\n\nconst MUARolesTable = ({ filters, setFilters, apps, showResourceDefinitions }) => {\n  const intl = useIntl();\n  const [expanded, setExpanded] = useState({});\n  const [{ rdOpen, rdPermission, resourceDefinitions }, setRdConfig] = useState({ rdOpen: false });\n\n  const columns = [\n    {\n      title: intl.formatMessage(messages.roles),\n      key: 'display_name',\n      transforms: [sortable],\n    },\n    { title: intl.formatMessage(messages.description) },\n    {\n      title: intl.formatMessage(messages.permissions),\n      cellTransforms: [compoundExpand, cellWidth(20)],\n    },\n  ];\n\n  const compoundPermissionsCells = [\n    intl.formatMessage(messages.application),\n    intl.formatMessage(messages.resourceType),\n    intl.formatMessage(messages.operation),\n    ...(showResourceDefinitions ? [intl.formatMessage(messages.resourceDefinitions)] : []),\n  ];\n\n  const { roles, isLoading, rolesWithAccess } = useSelector(\n    ({ roleReducer: { roles, isLoading, rolesWithAccess } }) => ({\n      roles,\n      isLoading,\n      rolesWithAccess,\n    }),\n    shallowEqual\n  );\n\n  const [sortByState, setSortByState] = useState({ index: 0, direction: 'asc' });\n  const orderBy = `${sortByState?.direction === 'desc' ? '-' : ''}${columns[sortByState?.index].key}`;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchRoles({ limit: 20, offset: 0, orderBy, scope: 'principal', application: apps.join(',') }));\n  }, []);\n\n  const createRows = (data) => {\n    return data?.reduce(\n      (acc, { uuid, display_name, name, description, accessCount }, i) => [\n        ...acc,\n        {\n          uuid,\n          cells: [\n            { title: display_name || name, props: { component: 'th', isOpen: false } },\n            { title: description, props: { isOpen: false } },\n            { title: accessCount, props: { isOpen: expanded[uuid] === 2 } },\n          ],\n        },\n        {\n          uuid: `${uuid}-groups`,\n          parent: 2 * i,\n          compoundParent: 2,\n          cells: [\n            {\n              props: { colSpan: 4, className: 'pf-m-no-padding' },\n              title: rolesWithAccess?.[uuid] ? (\n                <Table\n                  ouiaId=\"permissions-in-role-nested-table\"\n                  aria-label=\"Simple Table\"\n                  borders={false}\n                  variant={TableVariant.compact}\n                  cells={compoundPermissionsCells}\n                  rows={rolesWithAccess[uuid].access.map((access) => ({\n                    cells: [\n                      ...access.permission.split(':'),\n                      ...(showResourceDefinitions\n                        ? [\n                            <Fragment key=\"rd\">\n                              <ResourceDefinitionsLink\n                                onClick={() =>\n                                  setRdConfig({\n                                    rdOpen: true,\n                                    rdPermission: access.permission,\n                                    resourceDefinitions: access.resourceDefinitions,\n                                  })\n                                }\n                                access={access}\n                              />\n                            </Fragment>,\n                          ]\n                        : []),\n                    ],\n                  }))}\n                >\n                  <TableHeader />\n                  <TableBody />\n                </Table>\n              ) : (\n                <SkeletonTable columns={compoundPermissionsCells} rows={accessCount} variant={TableVariant.compact} />\n              ),\n            },\n          ],\n        },\n      ],\n      []\n    );\n  };\n\n  let debouncedFetch = useCallback(\n    debounce((limit, offset, name, application, permission, orderBy) => {\n      const applicationParam = application?.length > 0 ? application : apps;\n      return dispatch(fetchRoles({ limit, offset, scope: 'principal', orderBy, name, application: applicationParam.join(','), permission }));\n    }, 800),\n    []\n  );\n\n  const onExpand = (_event, _rowIndex, colIndex, isOpen, rowData) => {\n    if (!isOpen) {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: colIndex }));\n      // Permissions\n      if (colIndex === 2) {\n        dispatch(fetchRoleForPrincipal(rowData.uuid));\n      }\n    } else {\n      setExpanded((expanded) => ({ ...expanded, [rowData.uuid]: -1 }));\n    }\n  };\n\n  return (\n    <Fragment>\n      <TableToolbarView\n        filters={filters}\n        columns={columns}\n        rows={createRows(roles.data)}\n        data={roles.data}\n        isCompact={false}\n        isExpandable={true}\n        onExpand={onExpand}\n        ouiaId=\"roles-table\"\n        fetchData={({ limit, offset, name, application, permission }) => {\n          debouncedFetch(limit, offset, name, application, permission, orderBy);\n        }}\n        sortBy={sortByState}\n        onSort={(e, index, direction) => {\n          const orderBy = `${direction === 'desc' ? '-' : ''}${columns[index].key}`;\n          setSortByState({ index, direction });\n          dispatch(\n            fetchRoles({\n              offset: 0,\n              orderBy,\n              ...(filters?.length > 0\n                ? {\n                    ...filters.reduce(\n                      (acc, curr) => ({\n                        ...acc,\n                        [curr.key]: curr.value,\n                      }),\n                      {}\n                    ),\n                  }\n                : { name: '', application: [] }),\n            })\n          );\n        }}\n        emptyFilters={{ name: '', application: [] }}\n        setFilterValue={setFilters}\n        isLoading={isLoading}\n        pagination={roles.meta}\n        filterPlaceholder=\"role name\"\n        titlePlural=\"roles\"\n        titleSingular=\"role\"\n        tableId=\"mua-roles\"\n      />\n      <Suspense fallback={<Fragment />}>\n        {rdOpen && (\n          <ResourceDefinitionsModal\n            resourceDefinitions={resourceDefinitions}\n            isOpen={rdOpen}\n            handleClose={() => setRdConfig({ rdOpen: false })}\n            permission={rdPermission}\n          />\n        )}\n      </Suspense>\n    </Fragment>\n  );\n};\n\nMUARolesTable.propTypes = {\n  fetchRoles: PropTypes.func,\n  fetchRoleForPrincipal: PropTypes.func,\n  fetchUsers: PropTypes.func,\n  roles: PropTypes.object,\n  isLoading: PropTypes.bool,\n  rolesWithAccess: PropTypes.object,\n  filters: PropTypes.arrayOf(PropTypes.object).isRequired,\n  setFilters: PropTypes.func.isRequired,\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n  showResourceDefinitions: PropTypes.bool,\n};\n\nexport default MUARolesTable;\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport OrgAdminContext from '../../utilities/org-admin-context';\nimport MUAAccessTable from './MUAAccessTable';\nimport MUARolesTable from './MUARolesTable';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\n// TODO: Add permissions back when we support partial matching\n\nexport const createFilter = ({ apps, isOrgAdmin, name = '', application = [] /* permission = '' */ }) => {\n  const intl = useIntl();\n  return [\n    {\n      key: 'application',\n      value: application,\n      placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.application).toLowerCase() }),\n      type: 'checkbox',\n      items: apps.map((app) => ({ label: app, value: app })),\n    },\n    ...(isOrgAdmin\n      ? [\n          {\n            key: 'name',\n            type: 'text',\n            value: name,\n            label: intl.formatMessage(messages.roleName),\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.roleName).toLowerCase() }),\n          },\n          // {\n          //   key: 'permission',\n          //   value: permission,\n          //   placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.permission).toLowerCase() }),\n          //   type: 'text',\n          // },\n        ]\n      : []),\n  ];\n};\n\nconst CommonBundleView = ({ apps }) => {\n  const isOrgAdmin = useContext(OrgAdminContext);\n  const [name, setName] = useState('');\n  const [permission, setPermission] = useState('');\n  const [application, setApplication] = useState([]);\n  const handleSetFilters = ({ name, application, permission }) => {\n    if (typeof name === 'string') {\n      setName(name);\n    }\n\n    if (typeof permission === 'string') {\n      setPermission(permission);\n    }\n\n    if (application) {\n      setApplication(typeof application === 'string' ? [] : application);\n    }\n  };\n\n  const filters = createFilter({ apps, isOrgAdmin, name, application, permission });\n  return isOrgAdmin ? (\n    <MUARolesTable setFilters={handleSetFilters} filters={filters} apps={apps} />\n  ) : (\n    <MUAAccessTable setFilters={handleSetFilters} filters={filters} apps={apps} hasActiveFilters={name.length > 0 || application.length > 0} />\n  );\n};\n\nCommonBundleView.propTypes = {\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default CommonBundleView;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport CommonBundleView from '../CommonBundleView';\n\nconst RhelBundle = ({ apps }) => <CommonBundleView apps={apps} />;\n\nRhelBundle.propTypes = {\n  apps: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\nexport default RhelBundle;\n"],"names":["title","icon","description","actions","props","EmptyState","variant","EmptyStateVariant","sm","EmptyStateHeader","titleText","EmptyStateIcon","headingLevel","EmptyStateBody","className","map","text","key","EmptyStateFooter","TableToolbarView","isCompact","borders","columns","rows","toolbarButtons","data","actionResolver","areActionsDisabled","routes","titlePlural","titleSingular","pagination","paginationProps","filterValue","isLoading","emptyFilters","setFilterValue","checkedRows","isSelectable","isRowSelectable","fetchData","setCheckedItems","emptyProps","filterPlaceholder","rowWrapper","filters","isFilterable","onShowMore","showMoreTitle","onFilter","onChange","value","sortBy","onSort","isExpandable","onExpand","hideFilterChips","hideHeader","noData","noDataDescription","ouiaId","tableId","containerRef","textFilterRef","toolbarChildren","intl","isITLess","useFlag","length","every","formatMessage","configureItems","items","toConfigureUserAccess","createAtLeastOneItem","item","orderBy","direction","index","Fragment","compact","undefined","limit","canSelectAll","toLowerCase","onSelect","_e","isSelected","_idx","uuid","cells","name","requires","username","fullWidth","noMatchingItemsFound","filterMatchesNoItems","tryChangingFilters","EmptyStateActions","Button","onClick","offset","clearAllFilters","colSpan","e","noBottom","Pagination","dropDirection","propTypes","directions","isRequired","count","toggleTemplate","defaultProps","paginationBuilder","itemCount","perPage","page","onSetPage","_event","perPageOptions","onPerPageSelect","bulkSelectBuilder","selectNone","selectPage","filter","checked","id","filterConfigBuilder","filterItems","label","selected","placeholder","type","groups","innerRef","filterValues","filterByKey","filterBy","newFilter","Array","isArray","Object","keys","pickBy","reduce","acc","curr","then","current","focus","isDisabled","activeFiltersConfigBuilder","options","category","chips","Boolean","onDelete","deleted","isAll","setKeyValue","filtersValue","Toolbar","bulkSelect","filterConfig","actionsConfig","activeFiltersConfig","isCollapsible","ResourceDefinitionsModal","isOpen","handleClose","permission","resourceDefinitions","setRows","useState","attributeFilter","slice","handleFilterValue","isFilter","includes","Modal","close","onClose","viewResourceDefinitions","values","strong","config","resourceDefinition","accessApi","async","getPrincipalAccess","application","status","ResourceDefinitionsLink","access","notApplicable","createRows","showResourceDefinitions","onRdClick","appName","operation","split","MUAAccessTable","setFilters","apps","hasActiveFilters","rdOpen","rdPermission","setRdConfig","useRef","transforms","sortable","resourceType","dispatch","useDispatch","permissions","useSelector","state","accessReducer","shallowEqual","apiProps","payload","join","useEffect","sortByState","setSortByState","filteredRows","meta","noPermissionsForInsights","contactOrgAdministrator","Suspense","fallback","lazy","MUARolesTable","expanded","setExpanded","roles","cellTransforms","compoundExpand","cellWidth","compoundPermissionsCells","rolesWithAccess","roleReducer","scope","debouncedFetch","useCallback","applicationParam","display_name","accessCount","i","component","parent","compoundParent","Table","SkeletonTable","_rowIndex","colIndex","rowData","fetchRoles","fetchRoleForPrincipal","fetchUsers","CommonBundleView","isOrgAdmin","useContext","setName","setPermission","setApplication","handleSetFilters","app","roleName","createFilter","RhelBundle"],"sourceRoot":""}