{"version":3,"file":"js/9457.1666597967899.ce726f4522aa7059b46a.js","mappings":"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","sources":["webpack:///./src/helpers/shared/filters.js","webpack:///./src/hooks/useIsMounted.js","webpack:///./src/presentational-components/shared/RemoveModal.js","webpack:///./src/presentational-components/shared/breadcrumbs.js","webpack:///./src/presentational-components/shared/table-toolbar-view.js","webpack:///./src/presentational-components/shared/top-toolbar.js","webpack:///./src/helpers/cost-management/cost-management-helper.js","webpack:///./src/redux/actions/cost-management-actions.js","webpack:///./src/smart-components/common/ModalFormTemplate.js","webpack:///./src/presentational-components/shared/pf4-select-wrapper.js","webpack:///./src/smart-components/common/FormButtons.js","webpack:///./src/smart-components/common/form-renderer.js","webpack:///./src/smart-components/common/page-action-route.js","webpack:///./src/smart-components/common/warningModal.js","webpack:///./src/smart-components/role/add-role-new/add-permissions-template.js","webpack:///./src/helpers/permission/permission-helper.js","webpack:///./src/redux/actions/permission-action.js","webpack:///./src/smart-components/role/add-role-new/DisabledRowWrapper.js","webpack:///./src/smart-components/role/add-role-new/add-permissions.js","webpack:///./src/smart-components/role/add-role-new/cost-resources.js","webpack:///./src/smart-components/role/edit-role-modal.js","webpack:///./src/smart-components/role/remove-role-modal.js","webpack:///./src/smart-components/role/role-selectors.js","webpack:///./src/smart-components/role/role-permissions-table-helpers.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permission-success.js","webpack:///./src/smart-components/role/add-role-permissions/review-template.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permission-wizard.js","webpack:///./src/smart-components/role/add-role-permissions/add-role-permissions-summary-content.js","webpack:///./src/smart-components/role/add-role-permissions/schema.js","webpack:///./src/smart-components/role/role-permissions.js","webpack:///./src/smart-components/role/role.js","webpack:///./src/utilities/async-debounce.ts"],"sourcesContent":["export const syncDefaultFiltersWithUrl = (history, keys, defaults = {}) => {\n  const searchParams = new URLSearchParams(history.location.search);\n\n  let filters = keys.reduce((acc, key) => {\n    const values = searchParams.getAll(key);\n    return {\n      ...acc,\n      [key]: values.length > 1 ? values : values[0],\n    };\n  }, {});\n\n  Object.keys(defaults).forEach((key) => {\n    const value = defaults[key];\n    filters = {\n      ...filters,\n      [key]: Array.isArray(filters[key])\n        ? [...new Set([...filters[key], ...(Array.isArray(value) ? value : [value])])]\n        : (value?.length > 0 && value) || filters[key],\n    };\n\n    if (Array.isArray(value)) {\n      value.forEach((item) => searchParams.getAll(key).includes(item) || searchParams.append(key, item));\n    } else {\n      searchParams.get(key) || (value && searchParams.set(key, value));\n    }\n  });\n\n  history.replace({\n    pathname: history.location.pathname,\n    search: searchParams.toString(),\n  });\n  return filters;\n};\n\nexport const areFiltersPresentInUrl = (history, keys) => {\n  const searchParams = new URLSearchParams(history.location.search);\n  return keys.some((key) => searchParams.get(key));\n};\n\nexport const applyFiltersToUrl = (history, newValues) => {\n  const searchParams = new URLSearchParams(history.location.search);\n  Object.keys(newValues).forEach((key) => searchParams.delete(key));\n\n  Object.keys(newValues).forEach((key) => {\n    const value = newValues[key];\n\n    if (Array.isArray(value)) {\n      value.forEach((item) => item && searchParams.append(key, item));\n    } else {\n      value && searchParams.set(key, value);\n    }\n  });\n\n  history.replace({\n    pathname: history.location.pathname,\n    search: searchParams.toString(),\n  });\n};\n","import { useEffect, useRef } from 'react';\n\nconst useIsMounted = () => {\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return isMounted;\n};\n\nexport default useIsMounted;\n","import React, { useState } from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { Button, Checkbox, Modal, ModalVariant, Split, SplitItem, Stack, TextContent } from '@patternfly/react-core';\nimport './RemoveModal.scss';\n\nconst RemoveModal = ({ title, text, onClose, onSubmit, isOpen, confirmButtonLabel, withCheckbox }) => {\n  const intl = useIntl();\n  const [checked, setChecked] = useState(false);\n\n  return (\n    <Modal\n      className=\"rbac\"\n      title={\n        <div>\n          <ExclamationTriangleIcon className=\"ins-m-alert rbac-c__delete-icon\" /> {title}\n        </div>\n      }\n      isOpen={isOpen}\n      variant={ModalVariant.small}\n      onClose={onClose}\n      actions={[\n        <Button key=\"confirm\" ouiaId=\"primary-confirm-button\" isDisabled={withCheckbox && !checked} variant=\"danger\" onClick={onSubmit}>\n          {confirmButtonLabel}\n        </Button>,\n        <Button key=\"cancel\" ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={onClose}>\n          {intl.formatMessage(messages.cancel)}\n        </Button>,\n      ]}\n    >\n      <Split hasGutter>\n        <SplitItem isFilled>\n          <Stack hasGutter>\n            <TextContent>{text}</TextContent>\n          </Stack>\n        </SplitItem>\n      </Split>\n      {withCheckbox ? (\n        <Checkbox\n          isChecked={checked}\n          onChange={() => setChecked(!checked)}\n          label={intl.formatMessage(messages.confirmCheckMessage)}\n          id=\"remove-modal-check\"\n          className=\"pf-u-mt-lg\"\n        />\n      ) : null}\n    </Modal>\n  );\n};\n\nRemoveModal.propTypes = {\n  text: PropTypes.any,\n  title: PropTypes.string,\n  confirmButtonLabel: PropTypes.string,\n  onSubmit: PropTypes.func,\n  onClose: PropTypes.func,\n  isOpen: PropTypes.bool,\n  withCheckbox: PropTypes.bool,\n};\n\nRemoveModal.defaultProps = {\n  withCheckbox: false,\n};\n\nexport default RemoveModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport { BreadcrumbPlaceholder } from './loader-placeholders';\n\nconst RbacBreadcrumbs = (breadcrumbs) => {\n  return breadcrumbs ? (\n    <Breadcrumb>\n      {Object.values(breadcrumbs).map((item, index) =>\n        item.title ? (\n          <BreadcrumbItem key={item.title} isActive={item.isActive}>\n            {(item.to && (\n              <NavLink exact to={item.to}>\n                {item.title}\n              </NavLink>\n            )) ||\n              item.title}\n          </BreadcrumbItem>\n        ) : (\n          <BreadcrumbPlaceholder key={index} />\n        )\n      )}\n    </Breadcrumb>\n  ) : null;\n};\n\nRbacBreadcrumbs.propTypes = {\n  breadcrumbs: PropTypes.object,\n};\n\nexport default RbacBreadcrumbs;\n","import React, { Fragment } from 'react';\nimport { useIntl } from 'react-intl';\nimport propTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { Table, TableHeader, TableBody, TableVariant } from '@patternfly/react-table';\nimport TableToolbar from '@redhat-cloud-services/frontend-components/TableToolbar';\nimport { Button, Pagination, EmptyStatePrimary } from '@patternfly/react-core';\nimport { ListLoader } from './loader-placeholders';\nimport { PlusCircleIcon } from '@patternfly/react-icons';\nimport { selectedRows } from '../../helpers/shared/helpers';\nimport Toolbar, { paginationBuilder } from './toolbar';\nimport EmptyWithAction from './empty-state';\nimport './table-toolbar-view.scss';\n\nexport const TableToolbarView = ({\n  isCompact,\n  borders,\n  columns,\n  rows,\n  toolbarButtons,\n  data,\n  actionResolver,\n  areActionsDisabled,\n  routes,\n  titlePlural,\n  titleSingular,\n  pagination,\n  filterValue,\n  isLoading,\n  emptyFilters,\n  setFilterValue,\n  checkedRows,\n  isSelectable,\n  fetchData,\n  setCheckedItems,\n  emptyProps,\n  filterPlaceholder,\n  rowWrapper,\n  filters,\n  isFilterable,\n  onShowMore,\n  showMoreTitle,\n  onFilter,\n  onChange,\n  value,\n  sortBy,\n  isExpandable,\n  onExpand,\n  hideFilterChips,\n  hideHeader,\n  noData,\n  noDataDescription,\n  ouiaId,\n  tableId,\n  containerRef,\n  onSort,\n}) => {\n  const intl = useIntl();\n  const renderEmpty = () => ({\n    title: (\n      <EmptyWithAction\n        title={intl.formatMessage(messages.noMatchingItemsFound, { items: titlePlural })}\n        description={\n          noData && noDataDescription\n            ? noDataDescription\n            : [intl.formatMessage(messages.filterMatchesNoItems, { items: titlePlural }), intl.formatMessage(messages.tryChangingFilters)]\n        }\n        actions={\n          noData && noDataDescription\n            ? undefined\n            : [\n                <EmptyStatePrimary key=\"clear-filters\">\n                  <Button\n                    variant=\"link\"\n                    ouiaId=\"clear-filters-button\"\n                    onClick={() => {\n                      setFilterValue(emptyFilters);\n                      fetchData({\n                        ...pagination,\n                        offset: 0,\n                        ...(emptyFilters ? emptyFilters : { name: '' }),\n                      });\n                    }}\n                  >\n                    {intl.formatMessage(messages.clearAllFilters)}\n                  </Button>\n                </EmptyStatePrimary>,\n              ]\n        }\n      />\n    ),\n    props: {\n      colSpan: columns.length,\n    },\n  });\n\n  const renderTable = () => {\n    const orderBy = `${sortBy?.direction === 'desc' ? '-' : ''}${columns[sortBy?.index]?.key}`;\n    return (\n      <Fragment>\n        <Toolbar\n          isSelectable={isSelectable}\n          checkedRows={checkedRows}\n          setCheckedItems={setCheckedItems}\n          isLoading={isLoading || noData}\n          data={data}\n          titleSingular={titleSingular}\n          filterValue={filterValue}\n          setFilterValue={setFilterValue}\n          sortBy={orderBy}\n          pagination={pagination}\n          fetchData={fetchData}\n          toolbarButtons={toolbarButtons}\n          filterPlaceholder={filterPlaceholder}\n          filters={filters}\n          isFilterable={isFilterable}\n          onShowMore={onShowMore}\n          showMoreTitle={showMoreTitle}\n          onFilter={onFilter}\n          onChange={onChange}\n          value={value}\n          hideFilterChips={hideFilterChips}\n          tableId={tableId}\n          containerRef={containerRef}\n        />\n        {isLoading ? (\n          <ListLoader />\n        ) : (\n          <Table\n            canSelectAll={false}\n            aria-label={`${titlePlural.toLowerCase()} table`}\n            variant={isCompact ? TableVariant.compact : null}\n            borders={borders}\n            {...(isSelectable &&\n              rows.length > 0 && {\n                onSelect: (_e, isSelected, _idx, { uuid, cells: [name], requires }) =>\n                  setCheckedItems(selectedRows([{ uuid, name, requires }], isSelected)),\n              })}\n            {...(isExpandable && { onExpand })}\n            rows={rows.length > 0 ? rows : [{ fullWidth: true, cells: [renderEmpty()] }]}\n            cells={columns}\n            {...(rows.length > 0 && { actionResolver })}\n            className={rows.length == 0 ? 'ins-c-table-empty-state' : ''}\n            areActionsDisabled={areActionsDisabled}\n            rowWrapper={rowWrapper}\n            sortBy={sortBy}\n            ouiaId={ouiaId}\n            onSort={(e, index, direction, isSelectable) => onSort(e, index, direction, isSelectable)}\n          >\n            {!hideHeader && <TableHeader />}\n            <TableBody />\n          </Table>\n        )}\n        {!pagination.noBottom && (\n          <TableToolbar>\n            {!isLoading && <Pagination {...paginationBuilder(pagination, fetchData, filterValue, sortBy)} variant=\"bottom\" dropDirection=\"up\" />}\n          </TableToolbar>\n        )}\n      </Fragment>\n    );\n  };\n\n  return (\n    <Fragment>\n      {routes()}\n      {!isLoading && rows.length === 0 && filterValue.length === 0 && filters.every(({ value }) => !value) ? (\n        <EmptyWithAction\n          title={intl.formatMessage(messages.configureItems, { items: titlePlural })}\n          icon={PlusCircleIcon}\n          description={[\n            intl.formatMessage(messages.toConfigureUserAccess),\n            intl.formatMessage(messages.createAtLeastOneItem, { item: titleSingular }),\n          ]}\n          actions={toolbarButtons()[0]}\n          {...emptyProps}\n        />\n      ) : (\n        renderTable()\n      )}\n    </Fragment>\n  );\n};\n\nTableToolbarView.propTypes = {\n  ...Toolbar.propTypes,\n  sortBy: propTypes.shape({\n    directions: propTypes.string,\n    index: propTypes.number,\n  }),\n  rowWrapper: propTypes.any,\n  isCompact: propTypes.bool,\n  borders: propTypes.bool,\n  emptyFilters: propTypes.object,\n  checkedRows: propTypes.array,\n  columns: propTypes.array.isRequired,\n  titlePlural: propTypes.string,\n  routes: propTypes.func,\n  actionResolver: propTypes.func,\n  areActionsDisabled: propTypes.func,\n  pagination: propTypes.shape({\n    noBottom: propTypes.bool,\n  }),\n  isExpandable: propTypes.bool,\n  onExpand: propTypes.func,\n  hideFilterChips: propTypes.bool,\n  hideHeader: propTypes.bool,\n  noDataDescription: propTypes.arrayOf(propTypes.node),\n  filters: propTypes.array,\n  tableId: propTypes.string.isRequired,\n};\n\nTableToolbarView.defaultProps = {\n  ...Toolbar.defaultProps,\n  emptyFilters: {},\n  isCompact: false,\n  borders: true,\n  routes: () => null,\n  hideFilterChips: false,\n  checkedRows: [],\n  hideHeader: false,\n};\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Text, TextContent, TextVariants, Flex, FlexItem } from '@patternfly/react-core';\nimport { ToolbarTitlePlaceholder } from './loader-placeholders';\nimport RbacBreadcrumbs from './breadcrumbs';\nimport { PageHeader, PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\n\nimport './top-toolbar.scss';\n\nexport const TopToolbar = ({ children, breadcrumbs }) => (\n  <Fragment>\n    {breadcrumbs && (\n      <section className=\"pf-c-page__main-breadcrumb\">\n        <RbacBreadcrumbs {...breadcrumbs} />\n      </section>\n    )}\n    <PageHeader className=\"rbac-page-header\">{children}</PageHeader>\n  </Fragment>\n);\n\nTopToolbar.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node]).isRequired,\n  breadcrumbs: PropTypes.array,\n  paddingBottom: PropTypes.bool,\n};\n\nTopToolbar.defaultProps = {\n  paddingBottom: false,\n};\n\nexport const TopToolbarTitle = ({ title, renderTitleTag, description, children }) => (\n  <Fragment>\n    <Flex>\n      <FlexItem className=\"pf-u-mb-sm\">\n        <PageHeaderTitle title={title || <ToolbarTitlePlaceholder />} className=\"rbac-page-header__title\" />\n      </FlexItem>\n      <FlexItem alignSelf={{ modifier: 'alignSelfCenter' }}>{renderTitleTag && renderTitleTag()}</FlexItem>\n    </Flex>\n    {description && (\n      <TextContent className=\"rbac-page-header__description\">\n        {typeof description === 'string' ? <Text component={TextVariants.p}>{description}</Text> : description}\n      </TextContent>\n    )}\n    {children}\n  </Fragment>\n);\n\nTopToolbarTitle.propTypes = {\n  title: PropTypes.node,\n  renderTitleTag: PropTypes.func,\n  description: PropTypes.node,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf(PropTypes.node)]),\n};\n","import { getCostApi } from '../shared/user-login';\n\nconst costApi = getCostApi();\n\nexport async function getResourceDefinitions(apiProps) {\n  return await costApi.getResourceTypes(apiProps);\n}\n\nexport async function getResource(apiProps) {\n  return await costApi.getResource(apiProps);\n}\n","import * as ActionTypes from '../action-types';\nimport * as CostHelper from '../../helpers/cost-management/cost-management-helper';\n\nexport const getResourceDefinitions = (apiProps) => ({\n  type: ActionTypes.GET_RESOURCE_DEFINITIONS,\n  payload: CostHelper.getResourceDefinitions(apiProps),\n});\n\nexport const getResource = (apiProps) => ({\n  type: ActionTypes.GET_RESOURCE,\n  payload: CostHelper.getResource(apiProps),\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FormSpy from '@data-driven-forms/react-form-renderer/form-spy';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\n\nimport { Modal } from '@patternfly/react-core/dist/js/components/Modal';\nimport { ActionGroup } from '@patternfly/react-core/dist/js/components/Form/ActionGroup';\nimport { Button } from '@patternfly/react-core/dist/js/components/Button';\nimport { Form } from '@patternfly/react-core/dist/js/components/Form/Form';\n\n/**\n * This id is requried to submit form by a button outside of the form element\n */\nconst MODAL_FORM_IDENTIFIER = 'modal-form';\nconst CustomFormWrapper = (props) => <Form {...props} id={MODAL_FORM_IDENTIFIER} />;\n\nconst CustomButtons = ({ saveLabel, cancelLabel }) => {\n  const { onCancel } = useFormApi();\n\n  return (\n    <FormSpy>\n      {({ pristine, invalid, validating, submitting }) => (\n        <div className=\"pf-c-form\">\n          <ActionGroup className=\"pf-u-mt-0\">\n            <Button\n              ouiaId=\"primary-save-button\"\n              variant=\"primary\"\n              form={MODAL_FORM_IDENTIFIER}\n              type=\"submit\"\n              isDisabled={pristine || validating || submitting || invalid}\n            >\n              {saveLabel}\n            </Button>\n            <Button ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={onCancel} id=\"cancel-modal\">\n              {cancelLabel}\n            </Button>\n          </ActionGroup>\n        </div>\n      )}\n    </FormSpy>\n  );\n};\n\nCustomButtons.propTypes = {\n  saveLabel: PropTypes.node,\n  cancelLabel: PropTypes.node,\n};\n\nCustomButtons.defaultProps = {\n  saveLabel: 'Save',\n  cancelLabel: 'Cancel',\n};\n\nconst ModalFormTemplate = ({ ModalProps, saveLabel, cancelLabel, alert, ...props }) => (\n  <Modal {...ModalProps} footer={<CustomButtons saveLabel={saveLabel} cancelLabel={cancelLabel} />}>\n    {alert?.()}\n    <FormTemplate {...props} showFormControls={false} FormWrapper={CustomFormWrapper} />\n  </Modal>\n);\n\nModalFormTemplate.propTypes = {\n  ModalProps: PropTypes.object,\n  ...CustomButtons.propTypes,\n};\n\nexport default ModalFormTemplate;\n","import React from 'react';\nimport { useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\nimport { FormSelect, FormSelectOption, FormGroup, TextContent, Text, TextVariants } from '@patternfly/react-core';\n\nconst createOptions = (options, inputValue, isRequired) => {\n  const intl = useIntl();\n\n  if (inputValue && isRequired) {\n    return options;\n  }\n\n  let selectOptions = [...options];\n  return selectOptions.find(({ value }) => value === undefined)\n    ? [...selectOptions]\n    : [{ label: intl.formatMessage(messages[isRequired ? 'pleaseChoose' : 'none']) }, ...selectOptions];\n};\n\nconst Select = ({ input, options, isReadOnly, isDisabled, isRequired, ...rest }) => (\n  <FormSelect {...input} {...rest} isDisabled={isDisabled || isReadOnly}>\n    {createOptions(options, input.value, isRequired).map((props) => (\n      <FormSelectOption key={props.value || props.label} {...props} label={props.label.toString()} /> // eslint-disable-line react/prop-types\n    ))}\n  </FormSelect>\n);\n\nSelect.propTypes = {\n  input: PropTypes.object.isRequired,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.any,\n      label: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  isReadOnly: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n  FieldProvider: PropTypes.any,\n};\n\nconst Pf4SelectWrapper = ({ label, isRequired, helperText, meta, description, hideLabel, ...rest }) => {\n  const { error, touched } = meta;\n  const showError = touched && error;\n\n  return (\n    <FormGroup\n      isRequired={isRequired}\n      label={!hideLabel && label}\n      fieldId={rest.id}\n      isValid={!showError}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n    >\n      {description && (\n        <TextContent>\n          <Text component={TextVariants.small}>{description}</Text>\n        </TextContent>\n      )}\n      <Select label={label} isValid={!showError} isRequired={isRequired} {...rest} />\n    </FormGroup>\n  );\n};\n\nPf4SelectWrapper.propTypes = {\n  componentType: PropTypes.string,\n  label: PropTypes.string,\n  isRequired: PropTypes.bool,\n  helperText: PropTypes.string,\n  meta: PropTypes.object,\n  description: PropTypes.string,\n  hideLabel: PropTypes.bool,\n};\n\nexport default Pf4SelectWrapper;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { ActionGroup, Button } from '@patternfly/react-core';\nimport { isEmpty } from 'lodash';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport FormSpy from '@data-driven-forms/react-form-renderer/form-spy';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst FormButtons = ({ dirtyFieldsSinceLastSubmit, submitSucceeded, pristine }) => {\n  const { onCancel } = useFormApi();\n  const noChanges = isEmpty(dirtyFieldsSinceLastSubmit) || (!submitSucceeded && pristine);\n  const intl = useIntl();\n  return (\n    <ActionGroup className=\"pf-u-mt-0\">\n      <Button ouiaId=\"primary-submit-button\" type=\"submit\" isDisabled={noChanges} variant=\"primary\">\n        {intl.formatMessage(messages.save)}\n      </Button>\n      <Button ouiaId=\"secondary-cancel-button\" variant=\"link\" onClick={() => onCancel()}>\n        {intl.formatMessage(messages.cancel)}\n      </Button>\n    </ActionGroup>\n  );\n};\n\nFormButtons.propTypes = {\n  dirtyFieldsSinceLastSubmit: PropTypes.shape({\n    [PropTypes.string]: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.bool]),\n  }),\n  submitSucceeded: PropTypes.bool,\n  pristine: PropTypes.bool,\n  onCancel: PropTypes.func,\n};\n\nconst FormButtonWithSpies = (formProps) => (\n  <FormSpy\n    subscription={{\n      pristine: true,\n      submitSucceeded: true,\n      dirtyFieldsSinceLastSubmit: true,\n    }}\n  >\n    {(props) => <FormButtons {...props} {...formProps} />}\n  </FormSpy>\n);\n\nexport default FormButtonWithSpies;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Pf4SelectWrapper from '../../presentational-components/shared/pf4-select-wrapper';\nimport FormButtons from './FormButtons';\nimport FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport TextField from '@data-driven-forms/pf4-component-mapper/text-field';\nimport Textarea from '@data-driven-forms/pf4-component-mapper/textarea';\nimport ReactFormRender from '@data-driven-forms/react-form-renderer/form-renderer';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\n\nconst FormRenderer = ({ formTemplateProps, ...props }) => (\n  <ReactFormRender\n    componentMapper={{\n      [componentTypes.TEXT_FIELD]: TextField,\n      [componentTypes.TEXTAREA]: Textarea,\n      [componentTypes.SELECT]: Pf4SelectWrapper,\n    }}\n    FormTemplate={(props) => <FormTemplate {...formTemplateProps} {...props} FormButtons={FormButtons} />}\n    {...props}\n  />\n);\n\nFormRenderer.propTypes = {\n  formTemplateProps: PropTypes.object,\n};\n\nexport default FormRenderer;\n","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { Route } from 'react-router-dom';\n\nconst PageActionRoute = ({ pageAction, ...props }) => {\n  useEffect(() => {\n    insights.chrome.appAction(pageAction);\n    return () => insights.chrome.appAction(undefined);\n  }, [pageAction]);\n  return <Route {...props} />;\n};\n\nPageActionRoute.propTypes = {\n  pageAction: PropTypes.string.isRequired,\n};\n\nexport default PageActionRoute;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalVariant, Button } from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport './warningModal.scss';\n\nexport const WarningModal = ({\n  type,\n  isOpen,\n  onModalCancel,\n  onConfirmCancel,\n  customTitle,\n  customDescription,\n  customPrimaryButtonTitle,\n  customSecondaryButtonTitle,\n}) => {\n  const intl = useIntl();\n  return (\n    <Modal\n      title={\n        <span className=\"rbac-c-wizard__cancel-warning-header\">\n          <ExclamationTriangleIcon size=\"md\" className=\"rbac-c-wizard__cancel-warning-header--icon\" />\n          {customTitle || intl.formatMessage(messages.exitItemCreation, { item: type })}\n        </span>\n      }\n      variant={ModalVariant.small}\n      className=\"rbac rbac-c-wizard__cancel-warning\"\n      isOpen={isOpen}\n      onClose={onModalCancel}\n      actions={[\n        <Button ouiaId=\"primary-exit-button\" key=\"confirm\" variant=\"primary\" onClick={onConfirmCancel}>\n          {customPrimaryButtonTitle ?? intl.formatMessage(messages.exit)}\n        </Button>,\n        <Button ouiaId=\"secondary-cancel-button\" key=\"cancel\" variant=\"link\" onClick={onModalCancel}>\n          {customSecondaryButtonTitle ?? intl.formatMessage(messages.stay)}\n        </Button>,\n      ]}\n    >\n      <span>{customDescription || intl.formatMessage(messages.discardedInputsWarning)} </span>\n    </Modal>\n  );\n};\n\nWarningModal.propTypes = {\n  type: PropTypes.string,\n  customTitle: PropTypes.node,\n  customDescription: PropTypes.node,\n  customPrimaryButtonTitle: PropTypes.string,\n  customSecondaryButtonTitle: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onModalCancel: PropTypes.func,\n  onConfirmCancel: PropTypes.func,\n};\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Chip, ChipGroup, Text, TextContent, Title, Button, Popover, Alert, AlertActionCloseButton } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport QuestionCircleIcon from '@patternfly/react-icons/dist/js/icons/outlined-question-circle-icon';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\nimport './add-role-wizard.scss';\n\nconst AddPermissionTemplate = ({ formFields }) => {\n  const formOptions = useFormApi();\n  const [selectedPermissions, setSelectedPermissions] = useState(formOptions.getState().values['add-permissions-table'] || []);\n  const [alertClosed, setAlertClosed] = useState(false);\n  const notAllowedBasePermissions = formOptions.getState().values['not-allowed-permissions'];\n  const intl = useIntl();\n\n  const unresolvedSplats =\n    formOptions.getState().values?.['copy-base-role']?.applications?.filter((app) => !selectedPermissions?.find(({ uuid }) => uuid.includes(app))) ||\n    [];\n  const addPermissions = formFields[0][0];\n  return (\n    <div className=\"rbac\">\n      {selectedPermissions.length > 0 ? (\n        <div className=\"rbac-c-selected-chips\">\n          <ChipGroup categoryName={intl.formatMessage(messages.selectedPermissions)}>\n            {/* immutable reverse */}\n            {selectedPermissions\n              .reduce((acc, i) => [i, ...acc], [])\n              .map(({ uuid }) => (\n                <Chip key={uuid} color=\"blue\" isTruncated onClick={() => setSelectedPermissions(selectedPermissions.filter((p) => p.uuid !== uuid))}>\n                  {uuid}\n                </Chip>\n              ))}\n          </ChipGroup>\n        </div>\n      ) : null}\n      <Title headingLevel=\"h1\" size=\"xl\" className=\"rbac-c-add-permission-title\">\n        {intl.formatMessage(messages.addPermissions)}\n      </Title>\n      <TextContent>\n        <Text>\n          {intl.formatMessage(messages.selectPermissionsForRole)}\n          {unresolvedSplats.length !== 0 && (\n            <Popover\n              headerContent={intl.formatMessage(messages.onlyGranularPermissions)}\n              bodyContent={intl.formatMessage(messages.noWildcardPermissions)}\n            >\n              <Button variant=\"link\">\n                {intl.formatMessage(messages.whyNotSeeingAllPermissions)} <QuestionCircleIcon />\n              </Button>\n            </Popover>\n          )}\n        </Text>\n      </TextContent>\n      {notAllowedBasePermissions?.length > 0 && !alertClosed ? (\n        <Alert\n          variant=\"default\"\n          isInline\n          title={`${intl.formatMessage(messages.followingPermissionsCannotBeAdded)} ${notAllowedBasePermissions.join(', ')}`}\n          actionClose={<AlertActionCloseButton onClose={() => setAlertClosed(true)} />}\n        />\n      ) : null}\n      {[\n        [\n          {\n            ...addPermissions,\n            props: {\n              ...addPermissions.props,\n              selectedPermissions,\n              setSelectedPermissions,\n            },\n          },\n        ],\n      ]}\n    </div>\n  );\n};\n\nAddPermissionTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default AddPermissionTemplate;\n","import { getPermissionApi } from '../shared/user-login';\n\nconst accessApi = getPermissionApi();\n\nexport async function listPermissions(\n  limit,\n  offset,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  excludeGlobals,\n  excludeRoles,\n  allowedOnly,\n  options\n) {\n  return await accessApi.listPermissions(\n    limit,\n    offset,\n    orderBy,\n    application,\n    resourceType,\n    verb,\n    permission,\n    excludeGlobals,\n    excludeRoles,\n    allowedOnly,\n    options\n  );\n}\n\nexport async function listPermissionOptions(field, limit, offset, application, resourceType, verb, allowedOnly, options) {\n  return await accessApi.listPermissionOptions(field, limit, offset, application, resourceType, verb, undefined, allowedOnly, options);\n}\n","import * as ActionTypes from '../action-types';\nimport * as PermissionsHelper from '../../helpers/permission/permission-helper';\n\nexport const listPermissions = ({\n  limit,\n  offset,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  exclude_globals = true,\n  exclude_roles,\n  allowed_only,\n  options,\n}) => ({\n  type: ActionTypes.LIST_PERMISSIONS,\n  payload: PermissionsHelper.listPermissions(\n    limit,\n    offset,\n    orderBy,\n    application,\n    resourceType,\n    verb,\n    permission,\n    exclude_globals,\n    exclude_roles,\n    allowed_only,\n    options\n  ),\n});\n\nconst fieldToAction = {\n  application: ActionTypes.LIST_APPLICATION_OPTIONS,\n  resource_type: ActionTypes.LIST_RESOURCE_OPTIONS,\n  verb: ActionTypes.LIST_OPERATION_OPTIONS,\n};\n\nexport const listPermissionOptions = ({ field, limit, offset, application, resourceType, verb, allowedOnly, options }) => ({\n  type: fieldToAction[field],\n  payload: PermissionsHelper.listPermissionOptions(field, limit, offset, application, resourceType, verb, allowedOnly, options),\n});\n\nexport const expandSplats = ({\n  limit = 1000,\n  offset = 0,\n  orderBy,\n  application,\n  resourceType,\n  verb,\n  permission,\n  exclude_globals = true,\n  options,\n}) => ({\n  type: ActionTypes.EXPAND_SPLATS,\n  payload: PermissionsHelper.listPermissions(limit, offset, orderBy, application, resourceType, verb, permission, exclude_globals, options),\n});\n\nexport const resetExpandSplats = () => ({\n  type: ActionTypes.RESET_EXPAND_SPLATS,\n  payload: {\n    data: [],\n  },\n});\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from '@patternfly/react-core';\nimport { RowWrapper } from '@patternfly/react-table';\n\nexport const DisabledRowWrapper = ({ row, ...props }) =>\n  row.disableSelection ? (\n    <Tooltip content={row.disabledContent} exitDelay={1500} entryDelay={1500}>\n      <RowWrapper className=\"rbac-c-disabled-row\" row={row} {...props} />\n    </Tooltip>\n  ) : (\n    <RowWrapper row={row} {...props} />\n  );\n\nDisabledRowWrapper.propTypes = {\n  props: PropTypes.object,\n  row: PropTypes.object,\n};\n","import React, { useCallback, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport debouncePromise from '@redhat-cloud-services/frontend-components-utilities/debounce';\nimport { TableToolbarViewOld } from '../../../presentational-components/shared/table-toolbar-view-old';\nimport { listPermissions, listPermissionOptions, expandSplats, resetExpandSplats } from '../../../redux/actions/permission-action';\nimport { getResourceDefinitions } from '../../../redux/actions/cost-management-actions';\nimport { fetchRole } from '../../../redux/actions/role-actions';\nimport { DisabledRowWrapper } from './DisabledRowWrapper';\nimport { isEqual } from 'lodash';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\nimport usePermissions from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\n\nconst selector = ({\n  permissionReducer: {\n    permission,\n    isLoading,\n    options: { application, operation, resource },\n    expandSplats,\n    isLoadingExpandSplats,\n  },\n  roleReducer: { isRecordLoading, selectedRole },\n  costReducer: { resourceTypes },\n}) => ({\n  permissions: permission.data.map(({ application, resource_type: resource, verb, permission, requires } = {}) => ({\n    application,\n    resource,\n    operation: verb,\n    uuid: permission,\n    requires,\n  })),\n  pagination: permission.meta,\n  isLoading: isLoading || isRecordLoading,\n  baseRole: selectedRole,\n  applicationOptions: application.data.filter((app) => app !== '*'),\n  resourceOptions: resource.data.filter((app) => app !== '*'),\n  operationOptions: operation.data.filter((app) => app !== '*'),\n  expandedPermissions: expandSplats.data.map(({ permission }) => permission),\n  isLoadingExpandSplats,\n  resourceTypes: resourceTypes.data,\n});\n\nconst AddPermissionsTable = ({ selectedPermissions, setSelectedPermissions, ...props }) => {\n  const dispatch = useDispatch();\n  const intl = useIntl();\n  const { hasAccess } = usePermissions('cost-management', ['cost-management:*:*']);\n  const columns = [intl.formatMessage(messages.application), intl.formatMessage(messages.resourceType), intl.formatMessage(messages.operation)];\n\n  const fetchData = (apiProps) =>\n    dispatch(\n      listPermissions({\n        ...apiProps,\n        ...(existingRoleId ? { exclude_roles: existingRoleId } : {}),\n        allowed_only: true,\n      })\n    );\n  const fetchOptions = (apiProps) => dispatch(listPermissionOptions({ ...apiProps, allowedOnly: true }));\n  const {\n    permissions,\n    isLoading,\n    pagination,\n    baseRole,\n    applicationOptions,\n    resourceOptions,\n    operationOptions,\n    expandedPermissions,\n    isLoadingExpandSplats,\n    resourceTypes,\n  } = useSelector(selector, shallowEqual);\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  // TODO: use reducer when cleaning this code\n  const [filters, setFilters] = useState({ applications: [], resources: [], operations: [] });\n  const roleType = formOptions.getState().values['role-type']; // create/copy\n  const existingRoleId = formOptions.getState().values['role-uuid'];\n  const [isToggled, setIsToggled] = useState(false);\n  const [filterBy, setFilterBy] = useState('');\n  const [value, setValue] = useState();\n  const maxFilterItems = 10;\n\n  const getResourceType = (permission) => resourceTypes.find((r) => r.value === permission.split(':')?.[1]);\n  const createRows = (permissions) =>\n    permissions.map(({ application, resource, operation, uuid, requires }) => ({\n      uuid: `${application}:${resource}:${operation}`,\n      requires,\n      cells: [\n        {\n          title: application,\n        },\n        resource,\n        operation,\n      ],\n      selected: Boolean(selectedPermissions && selectedPermissions.find((row) => row.uuid === uuid)),\n      disableSelection: (application === 'cost-management' && (getResourceType(uuid) || { count: 0 }).count === 0) || !hasAccess,\n      disabledContent: (\n        <div>\n          {intl.formatMessage(hasAccess ? messages.configureResourcesForPermission : messages.noCostManagementPermissions)}{' '}\n          {hasAccess ? <a href=\"./settings/sources\">{intl.formatMessage(messages.configureCostSources)}</a> : null}\n        </div>\n      ),\n    }));\n\n  const debouncedGetApplicationOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({\n          field: 'application',\n          limit: 50,\n          application: applications.join(),\n          resourceType: resources.join(),\n          verb: operations.join(),\n        }),\n      2000\n    ),\n    []\n  );\n  const debouncedGetResourceOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({\n          field: 'resource_type',\n          limit: 50,\n          application: applications.join(),\n          resourceType: resources.join(),\n          verb: operations.join(),\n        }),\n      2000\n    ),\n    []\n  );\n  const debouncedGetOperationOptions = useCallback(\n    debouncePromise(\n      ({ applications, resources, operations }) =>\n        fetchOptions({ field: 'verb', limit: 50, application: applications.join(), resourceType: resources.join(), verb: operations.join() }),\n      2000\n    ),\n    []\n  );\n\n  useEffect(() => {\n    const baseRoleUuid = formOptions.getState().values['copy-base-role']?.uuid;\n    if (roleType === 'copy' && baseRoleUuid) {\n      dispatch(fetchRole(baseRoleUuid));\n    }\n\n    hasAccess && dispatch(getResourceDefinitions());\n    formOptions.change('has-cost-resources', false);\n    fetchData(pagination);\n    fetchOptions({ field: 'application', limit: 50 });\n    fetchOptions({ field: 'resource_type', limit: 50 });\n    fetchOptions({ field: 'verb', limit: 50 });\n\n    return () => dispatch(resetExpandSplats());\n  }, []);\n\n  useEffect(() => {\n    debouncedGetResourceOptions(filters);\n    debouncedGetOperationOptions(filters);\n  }, [filters.applications]);\n\n  useEffect(() => {\n    debouncedGetApplicationOptions(filters);\n    debouncedGetOperationOptions(filters);\n  }, [filters.resources]);\n\n  useEffect(() => {\n    debouncedGetApplicationOptions(filters);\n    debouncedGetResourceOptions(filters);\n  }, [filters.operations]);\n\n  useEffect(() => {\n    input.onChange(selectedPermissions);\n  }, [selectedPermissions]);\n\n  useEffect(() => {\n    if (\n      !baseRole ||\n      roleType !== 'copy' ||\n      formOptions.getState().values['base-permissions-loaded'] ||\n      selectedPermissions.length > 0 ||\n      formOptions.getState().values['copy-base-role']?.uuid !== baseRole?.uuid ||\n      isLoadingExpandSplats ||\n      isLoading\n    ) {\n      return;\n    }\n\n    let notAllowed = [];\n\n    const basePermissions =\n      baseRole?.access.filter((item) => {\n        if (applicationOptions.includes(item?.permission?.split(':')[0])) {\n          return true;\n        }\n        notAllowed.push(item);\n\n        return false;\n      }) || [];\n    formOptions.change(\n      'not-allowed-permissions',\n      notAllowed.map(({ permission }) => permission)\n    );\n    if (expandedPermissions.length === 0 && typeof isLoadingExpandSplats === 'undefined') {\n      const applications = [...new Set(basePermissions.map(({ permission }) => permission.split(':')[0]))];\n      dispatch(expandSplats({ application: applications.join() }));\n    } else {\n      const patterns = basePermissions.map(({ permission }) => permission.replace('*', '.*'));\n      setSelectedPermissions(() =>\n        expandedPermissions\n          .filter((p) => p.split(':')[0] !== 'cost-management' || (getResourceType(p) || { count: 0 }).count !== 0) // filter disabled rows\n          .filter((p) => patterns.some((f) => p.match(f))) // filter permissions with unresolved splats\n          .map((permission) => ({ uuid: permission }))\n      );\n      formOptions.change('base-permissions-loaded', true);\n    }\n  }, [permissions, baseRole]);\n\n  const setCheckedItems = (newSelection) => {\n    const newSelected = newSelection(selectedPermissions)\n      .filter(({ uuid, application }) => application !== 'cost-management' || getResourceType(uuid)?.count > 0)\n      .map(({ uuid, requires }) => ({ uuid, requires }));\n\n    setSelectedPermissions(isEqual(newSelected, selectedPermissions) ? [] : newSelected);\n  };\n\n  const calculateSelected = (filter) =>\n    filter.reduce(\n      (acc, curr) => ({\n        '': {\n          ...acc?.[''],\n          [curr]: true,\n        },\n      }),\n      { '': {} }\n    );\n\n  const preparedFilterItems = {\n    applications: [...applicationOptions].filter((item) => item.includes(filterBy)).map((app) => ({ label: app, value: app })),\n    resources: [...resourceOptions].filter((item) => item.includes(filterBy)).map((res) => ({ label: res, value: res })),\n    operations: [...operationOptions].filter((item) => item.includes(filterBy)).map((op) => ({ label: op, value: op })),\n  };\n\n  const emptyItem = {\n    label: <div>{intl.formatMessage(messages.noResultsFound)}</div>,\n    isDisabled: true,\n  };\n\n  const filterItemOverflow = preparedFilterItems[Object.keys(preparedFilterItems)[value ? value : 0]].length > maxFilterItems;\n  return (\n    <div className=\"rbac-c-permissions-table\">\n      <TableToolbarViewOld\n        columns={columns}\n        isSelectable={true}\n        isCompact={true}\n        borders={false}\n        createRows={createRows}\n        data={permissions}\n        filterValue={''}\n        noData={permissions?.length === 0}\n        noDataDescription={[intl.formatMessage(messages.permissionNotDisplayedDescription)]}\n        fetchData={({ limit, offset, applications, resources, operations }) => {\n          fetchData({\n            limit,\n            offset,\n            application: (applications || filters.applications).join(),\n            resourceType: (resources || filters.resources).join(),\n            verb: (operations || filters.operations).join(),\n          });\n        }}\n        setFilterValue={({ applications, resources, operations }) => {\n          setFilters({\n            ...filters,\n            ...(applications ? { applications } : filters.applications),\n            ...(resources ? { resources } : filters.resources),\n            ...(operations ? { operations } : filters.operations),\n          });\n        }}\n        isLoading={isLoading || isLoadingExpandSplats}\n        pagination={{ ...pagination, count: pagination.count }}\n        checkedRows={selectedPermissions}\n        setCheckedItems={setCheckedItems}\n        titlePlural={intl.formatMessage(messages.permissions).toLowerCase()}\n        titleSingular={intl.formatMessage(messages.permission).toLowerCase()}\n        showMoreTitle={intl.formatMessage(isToggled ? messages.seeLess : messages.seeMore)}\n        onFilter={(filterBy) => setFilterBy(filterBy)}\n        onShowMore={\n          filterItemOverflow\n            ? () => {\n                setIsToggled(() => !isToggled);\n              }\n            : undefined\n        }\n        onChange={(e, value) => {\n          setFilterBy('');\n          setValue(value);\n        }}\n        value={value}\n        filters={[\n          {\n            key: 'applications',\n            value: filters.applications,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.application).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.applications),\n            groups: [\n              {\n                type: preparedFilterItems.applications.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.applications.length > 0\n                    ? [...preparedFilterItems.applications].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'resources',\n            value: filters.resources,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.resourceType).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.resources),\n            groups: [\n              {\n                type: preparedFilterItems.resources.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.resources.length > 0\n                    ? [...preparedFilterItems.resources].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'operations',\n            value: filters.operations,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.operation).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.operations),\n            groups: [\n              {\n                type: preparedFilterItems.operations.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  preparedFilterItems.operations.length > 0\n                    ? [...preparedFilterItems.operations].slice(0, isToggled ? undefined : maxFilterItems)\n                    : [emptyItem],\n              },\n            ],\n          },\n        ]}\n        isFilterable={true}\n        rowWrapper={DisabledRowWrapper}\n        tableId=\"add-role-permissions\"\n        {...props}\n      />\n    </div>\n  );\n};\n\nAddPermissionsTable.propTypes = {\n  selectedPermissions: PropTypes.array,\n  setSelectedPermissions: PropTypes.func,\n};\n\nexport default AddPermissionsTable;\n","import React, { useEffect, useReducer } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { Select, SelectOption, SelectVariant, Grid, GridItem, Text, TextVariants, FormGroup, Tooltip } from '@patternfly/react-core';\nimport useFieldApi from '@data-driven-forms/react-form-renderer/use-field-api';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { getResourceDefinitions, getResource } from '../../../redux/actions/cost-management-actions';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\nimport './cost-resources.scss';\n\nconst selector = ({ costReducer: { resourceTypes, isLoading, loadingResources, resources } }) => ({\n  resourceTypes: resourceTypes.data,\n  resources,\n  isLoading,\n  isLoadingResources: loadingResources > 0,\n});\n\nconst reducer = (state, action) => {\n  const prevState = state[action.key];\n  switch (action.type) {\n    case 'toggle':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          isOpen: !prevState.isOpen,\n        },\n      };\n    case 'select':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: prevState.selected.includes(action.selection)\n            ? prevState.selected.filter((item) => item !== action.selection)\n            : [...prevState.selected, action.selection],\n        },\n      };\n    case 'selectAll':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: prevState.options.map((option) => option.value),\n        },\n      };\n    case 'clear':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          selected: [],\n        },\n      };\n    case 'setOptions':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          options: action.options,\n          filteredOptions: action.options,\n        },\n      };\n    case 'setFilter':\n      return {\n        ...state,\n        [action.key]: {\n          ...prevState,\n          filteredOptions: prevState.options.filter(({ value }) => value.includes(action.filtervalue)),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nconst CostResources = (props) => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  const fetchData = (apiProps) => dispatch(getResourceDefinitions(apiProps));\n  const fetchResource = (apiProps) => dispatch(getResource(apiProps));\n  const { resourceTypes, isLoading, isLoadingResources, resources } = useSelector(selector, shallowEqual);\n  const { input } = useFieldApi(props);\n  const formOptions = useFormApi();\n  const permissions = formOptions.getState().values['add-permissions-table'].filter(({ uuid }) => uuid.split(':')[0].includes('cost-management'));\n  const [state, dispatchLocaly] = useReducer(\n    reducer,\n    permissions.reduce(\n      (acc, permission) => ({\n        ...acc,\n        [permission.uuid]: {\n          selected: [],\n          options: [],\n          filteredOptions: [],\n          isOpen: false,\n        },\n      }),\n      {}\n    )\n  );\n  const onToggle = (key, isOpen) => dispatchLocaly({ type: 'toggle', key, isOpen });\n  const clearSelection = (key) => dispatchLocaly({ type: 'clear', key });\n  const onSelect = (event, selection, selectAll, key) =>\n    selectAll ? dispatchLocaly({ type: 'selectAll', selection, key }) : dispatchLocaly({ type: 'select', selection, key });\n\n  const permissionToResource = (permission) => resourceTypes.find((r) => r.value === permission.split(':')?.[1])?.path.split('/')?.[5];\n\n  useEffect(() => {\n    (formOptions.getState().values['resource-definitions'] || []).map(({ permission, resources }) =>\n      resources.map(\n        (resource) =>\n          permissions.find((item) => item?.uuid === permission) && dispatchLocaly({ type: 'select', selection: resource, key: permission })\n      )\n    );\n    fetchData();\n    formOptions.change('has-cost-resources', true);\n  }, []);\n\n  useEffect(() => {\n    if (!isLoading) {\n      const resourcePaths = [\n        ...new Set(permissions.map((permission) => resourceTypes.find((r) => r.value === permission.uuid.split(':')?.[1])?.path)),\n      ].filter((path) => path); // remove undefined\n      resourcePaths.map((path) => fetchResource(path));\n    }\n  }, [resourceTypes]);\n\n  useEffect(() => {\n    if (!isLoadingResources) {\n      permissions.map((p) => dispatchLocaly({ type: 'setOptions', key: p.uuid, options: resources[permissionToResource(p.uuid)] || [] }));\n    }\n  }, [isLoadingResources]);\n\n  useEffect(() => {\n    const resourceDefinitions = Object.entries(state).map(([permission, resources]) => ({ permission, resources: resources.selected }));\n    input.onChange(resourceDefinitions);\n    formOptions.change('resource-definitions', resourceDefinitions);\n  }, [state]);\n\n  // eslint-disable-next-line react/prop-types\n  const makeRow = ({ uuid: permission }) => {\n    const options = state[permission].filteredOptions;\n    return (\n      <React.Fragment>\n        <GridItem md={4} sm={12}>\n          <Tooltip content={<div>{permission}</div>}>\n            <FormGroup label={permission.replace(/^cost-management:/, '')} isRequired></FormGroup>\n          </Tooltip>\n        </GridItem>\n        <GridItem md={8} sm={12}>\n          <Select\n            className=\"rbac-m-cost-resource-select\"\n            variant={SelectVariant.checkbox}\n            typeAheadAriaLabel={intl.formatMessage(messages.selectState)}\n            onToggle={(isOpen) => {\n              dispatchLocaly({ type: 'setFilter', key: permission, filtervalue: '' });\n              onToggle(permission, isOpen);\n            }}\n            onSelect={(event, selection) => {\n              onSelect(event, selection, selection === intl.formatMessage(messages.selectAll, { length: options.length }), permission);\n            }}\n            onClear={() => clearSelection(permission)}\n            selections={state[permission].selected}\n            isOpen={state[permission].isOpen}\n            onFilter={(e) => e && dispatchLocaly({ type: 'setFilter', key: permission, filtervalue: e.target.value })}\n            aria-labelledby={permission}\n            placeholderText={intl.formatMessage(messages.selectResources)}\n            hasInlineFilter\n          >\n            {[\n              <SelectOption key={0} value={intl.formatMessage(messages.selectAll, { length: options.length })} />,\n              ...options.map((option, index) => <SelectOption key={index + 1} value={option.value} />),\n            ]}\n          </Select>\n        </GridItem>\n      </React.Fragment>\n    );\n  };\n\n  return (\n    <Grid hasGutter>\n      <GridItem md={4} className=\"rbac-m-hide-on-sm\">\n        <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n          {intl.formatMessage(messages.permissions)}\n        </Text>\n      </GridItem>\n      <GridItem md={8} className=\"rbac-m-hide-on-sm\">\n        <Text component={TextVariants.h4} className=\"rbac-bold-text\">\n          {intl.formatMessage(messages.resourceDefinitions)}\n        </Text>\n      </GridItem>\n      {permissions.map(makeRow)}\n    </Grid>\n  );\n};\n\nexport default CostResources;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport componentTypes from '@data-driven-forms/react-form-renderer/component-types';\nimport validatorTypes from '@data-driven-forms/react-form-renderer/validator-types';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/';\nimport ModalFormTemplate from '../common/ModalFormTemplate';\nimport FormRenderer from '../common/form-renderer';\nimport useIsMounted from '../../hooks/useIsMounted';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { roleSelector } from './role-selectors';\nimport { fetchRole, fetchRoles } from '../../helpers/role/role-helper';\nimport asyncDebounce from '../../utilities/async-debounce';\nimport { patchRole } from '../../redux/actions/role-actions';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst EditRoleModal = ({ routeMatch, cancelRoute, submitRoute = cancelRoute, afterSubmit }) => {\n  const intl = useIntl();\n  const isMounted = useIsMounted();\n  const { replace, push } = useHistory();\n  const dispatch = useDispatch();\n\n  const {\n    params: { id },\n  } = useRouteMatch(routeMatch);\n  const role = useSelector((state) => roleSelector(state, id));\n  const [initialValues, setInitialValues] = useState(role);\n\n  useEffect(() => {\n    !initialValues &&\n      fetchRole(id).then((role) => {\n        if (isMounted.current) {\n          setInitialValues(role);\n        }\n      });\n  }, [id]);\n\n  const validationPromise = (name, idKey, id) => {\n    return name.length < 150\n      ? fetchRoles({ name }).then(({ data }) => {\n          if (data.length === 0) {\n            return undefined;\n          }\n\n          const taken = data.some((item) => item[idKey] !== id && item.display_name === name);\n          if (taken) {\n            throw intl.formatMessage(messages.roleWithNameExists);\n          }\n        })\n      : Promise.reject(intl.formatMessage(messages.maxCharactersWarning, { number: 150 }));\n  };\n\n  const createEditRoleSchema = (id) => {\n    return {\n      fields: [\n        {\n          name: 'name',\n          component: componentTypes.TEXT_FIELD,\n          label: intl.formatMessage(messages.name),\n          isRequired: true,\n          validate: [{ type: 'validate-role-name', id, idKey: 'uuid', validationPromise }],\n        },\n        {\n          name: 'description',\n          component: componentTypes.TEXTAREA,\n          label: intl.formatMessage(messages.description),\n          validate: [\n            {\n              type: validatorTypes.MAX_LENGTH,\n              threshold: 150,\n            },\n          ],\n        },\n      ],\n    };\n  };\n\n  const uniqueNameValidator = asyncDebounce((value, idKey, id, validationPromise) =>\n    !value || value.length === 0 ? Promise.reject(intl.formatMessage(messages.required)) : validationPromise(value, idKey, id)\n  );\n\n  const validatorMapper = {\n    'validate-role-name':\n      ({ idKey, id, validationPromise }) =>\n      (value) =>\n        uniqueNameValidator(value, idKey, id, validationPromise),\n  };\n\n  const onCancel = () => {\n    dispatch(\n      addNotification({\n        variant: 'warning',\n        dismissDelay: 8000,\n        title: intl.formatMessage(messages.editingRoleTitle),\n        description: intl.formatMessage(messages.editingRoleCanceledDescription),\n      })\n    );\n    replace(cancelRoute);\n  };\n\n  const handleSubmit = (data) =>\n    dispatch(patchRole(id, { name: data.name, display_name: data.name, description: data.description })).then(() => {\n      afterSubmit();\n      push(submitRoute);\n    });\n\n  return initialValues ? (\n    <FormRenderer\n      schema={createEditRoleSchema(id)}\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      onCancel={onCancel}\n      validatorMapper={validatorMapper}\n      FormTemplate={(props) => (\n        <ModalFormTemplate {...props} ModalProps={{ onClose: onCancel, isOpen: true, variant: 'small', title: 'Edit role information' }} />\n      )}\n    />\n  ) : null;\n};\n\nEditRoleModal.propTypes = {\n  routeMatch: PropTypes.string.isRequired,\n  cancelRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]).isRequired,\n  submitRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]),\n  afterSubmit: PropTypes.func.isRequired,\n};\n\nexport default EditRoleModal;\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { Button, Checkbox, Modal, Text, TextContent, TextVariants, Split, SplitItem } from '@patternfly/react-core';\nimport { addNotification } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport { removeRole } from '../../redux/actions/role-actions';\nimport { fetchRole } from '../../helpers/role/role-helper';\nimport useIsMounted from '../../hooks/useIsMounted';\nimport { roleNameSelector } from './role-selectors';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nconst RemoveRoleModal = ({ routeMatch, cancelRoute, submitRoute = cancelRoute, afterSubmit }) => {\n  const intl = useIntl();\n  const isMounted = useIsMounted();\n  const {\n    params: { id },\n  } = useRouteMatch(routeMatch);\n  const roleName = useSelector((state) => roleNameSelector(state, id));\n  const [isDisabled, setIsDisabled] = useState(true);\n  const [internalRoleName, setInternalRoleName] = useState(roleName);\n  const dispatch = useDispatch();\n  const { push, replace } = useHistory();\n\n  useEffect(() => {\n    !internalRoleName &&\n      fetchRole(id)\n        .then((role) => {\n          if (isMounted.current) {\n            setInternalRoleName(role.display_name);\n          }\n        })\n        .catch((error) => dispatch(addNotification({ variant: 'danger', title: 'Could not get role', description: error?.errors?.[0]?.detail })));\n  }, []);\n\n  const onSubmit = () =>\n    dispatch(removeRole(id)).then(() => {\n      push(submitRoute);\n      return afterSubmit();\n    });\n\n  const onCancel = () => replace(cancelRoute);\n  if (!internalRoleName) {\n    return null;\n  }\n\n  return (\n    <Modal\n      className=\"rbac\"\n      aria-label=\"remove-role\"\n      header={\n        <TextContent>\n          <Split hasGutter>\n            <SplitItem>\n              <ExclamationTriangleIcon size=\"lg\" style={{ fill: '#f0ab00' }} />\n            </SplitItem>\n            <SplitItem>\n              <Text component=\"h1\">{intl.formatMessage(messages.deleteRoleQuestion)}</Text>\n            </SplitItem>\n          </Split>\n        </TextContent>\n      }\n      isOpen\n      variant=\"small\"\n      onClose={onCancel}\n      actions={[\n        <Button isDisabled={isDisabled} key=\"submit\" variant=\"danger\" type=\"button\" id=\"confirm-delete-portfolio\" onClick={onSubmit}>\n          {intl.formatMessage(messages.confirm)}\n        </Button>,\n        <Button key=\"cancel\" variant=\"link\" type=\"button\" onClick={onCancel}>\n          {intl.formatMessage(messages.cancel)}\n        </Button>,\n      ]}\n    >\n      <TextContent>\n        <Text component={TextVariants.p}>\n          <FormattedMessage\n            {...messages.roleWilBeRemovedWithPermissions}\n            values={{\n              strong: (text) => <strong>{text}</strong>,\n              name: internalRoleName,\n            }}\n          />\n        </Text>\n        <Checkbox\n          id=\"remove-role-checkbox\"\n          label={intl.formatMessage(messages.understandActionIrreversible)}\n          isChecked={!isDisabled}\n          onChange={() => setIsDisabled((prev) => !prev)}\n        />\n      </TextContent>\n    </Modal>\n  );\n};\n\nRemoveRoleModal.propTypes = {\n  routeMatch: PropTypes.string.isRequired,\n  cancelRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]).isRequired,\n  submitRoute: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      pathname: PropTypes.string.isRequired,\n      search: PropTypes.string,\n      hash: PropTypes.string,\n    }),\n  ]),\n  afterSubmit: PropTypes.func.isRequired,\n};\n\nexport default RemoveRoleModal;\n","export const roleSelector = (state, roleId) => {\n  const {\n    roleReducer: { roles = { data: [] }, selectedRole },\n  } = state;\n  if (selectedRole?.uuid === roleId) {\n    return selectedRole;\n  }\n\n  return roles.data.find(({ uuid }) => uuid === roleId);\n};\n\nexport const roleNameSelector = (state, roleId) => roleSelector(state, roleId)?.display_name;\n","import React, { Fragment } from 'react';\nimport DateFormat from '@redhat-cloud-services/frontend-components/DateFormat';\nimport { getDateFormat } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { Link } from 'react-router-dom';\nimport flatten from 'lodash/flatten';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\n\nexport const createRows = (showResDefinitions, uuid) => {\n  const intl = useIntl();\n  return (data, opened, selectedRows = []) =>\n    data.reduce((acc, { resourceDefinitions, permission, modified }) => {\n      const [appName, type, operation] = permission.split(':');\n      return [\n        ...acc,\n        {\n          uuid: permission,\n          cells: [\n            appName,\n            type,\n            operation,\n            ...(showResDefinitions\n              ? [\n                  permission.includes('cost-management') && resourceDefinitions.length > 0 ? (\n                    <Fragment key=\"resource-definitions\">\n                      <Link to={`/roles/detail/${uuid}/permission/${permission}`}>\n                        {flatten(resourceDefinitions.map((definition) => definition.attributeFilter.value)).length}\n                      </Link>\n                    </Fragment>\n                  ) : (\n                    <span className=\"rbac-c-text__disabled\">{intl.formatMessage(messages.notApplicable)}</span>\n                  ),\n                ]\n              : []),\n            <Fragment key={`${appName}-modified`}>\n              <DateFormat date={modified} type={getDateFormat(modified)} />\n            </Fragment>,\n          ],\n          selected: Boolean(selectedRows?.find(({ uuid }) => uuid === permission)),\n        },\n      ];\n    }, []);\n};\n\nexport const rolePermissionsReducerInitialState = {\n  pagination: defaultSettings,\n  selectedPermissions: [],\n  showRemoveModal: false,\n  confirmDelete: () => null,\n  deleteInfo: {},\n  filters: {\n    applications: [],\n    resources: [],\n    operations: [],\n  },\n  isToggled: false,\n  resources: [],\n  operations: [],\n};\nexport const SET_PAGINATION = 'SET_PAGINATION';\nexport const SELECT_PERMISSIONS = 'SELECT_PERMISSIONS';\nexport const SHOW_REMOVE_MODAL = 'SHOW_REMOVE_MODAL';\nexport const SUBMIT_REMOVE_MODAL = 'SUBMIT_REMOVE_MODAL';\nexport const INITIATE_REMOVE_PERMISSION = 'INITIATE_REMOVE_PERMISSION';\nexport const SET_FILTERS = 'SET_FILTERS';\nexport const SET_TOGGLED = 'SET_TOGGLED';\nexport const SET_FILTER_OPTIONS = 'SET_FILTER_OPTIONS';\nexport const INITIALIZE_ROLE = 'INITIALIZE_ROLE';\nconst reducerHandlers = {\n  [SET_PAGINATION]: (state, pagination) => ({ ...state, pagination: { ...state.pagination, ...pagination } }),\n  [SELECT_PERMISSIONS]: (state, { selection }) => ({ ...state, selectedPermissions: selection }),\n  [SHOW_REMOVE_MODAL]: (state, { showRemoveModal }) => ({ ...state, showRemoveModal }),\n  [SUBMIT_REMOVE_MODAL]: (state) => ({ ...state, selectedPermissions: [], showRemoveModal: false }),\n  [INITIATE_REMOVE_PERMISSION]: (state, { confirmDelete, deleteInfo }) => ({ ...state, confirmDelete, showRemoveModal: true, deleteInfo }),\n  [SET_FILTERS]: (state, filters) => ({ ...state, filters: { ...state.filters, ...filters } }),\n  [SET_TOGGLED]: (state) => ({ ...state, isToggled: !state.isToggled }),\n  [INITIALIZE_ROLE]: (state, { count, ...options }) => ({ ...state, ...options, pagination: { ...state.pagination, count } }),\n};\nexport const rolePermissionsReducer = (state, { type, ...action }) => {\n  if (!reducerHandlers[type]) {\n    return state;\n  }\n\n  return reducerHandlers[type](state, action);\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Title, Button, EmptyState, EmptyStateIcon, EmptyStateBody } from '@patternfly/react-core';\nimport { CheckCircleIcon } from '@patternfly/react-icons';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { fetchRole } from '../../../redux/actions/role-actions.js';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst AddRolePermissionSuccess = ({ currentRoleID }) => {\n  const intl = useIntl();\n  const dispatch = useDispatch();\n  return (\n    <>\n      <EmptyState>\n        <EmptyStateIcon color=\"green\" icon={CheckCircleIcon} />\n        <Title headingLevel=\"h4\" size=\"lg\">\n          {intl.formatMessage(messages.permissionsAddedSuccessfully)}\n        </Title>\n        <EmptyStateBody></EmptyStateBody>\n        <Link to={`/roles/detail/${currentRoleID}`}>\n          <Button onClick={() => dispatch(fetchRole(currentRoleID))}>{intl.formatMessage(messages.exit)}</Button>\n        </Link>\n      </EmptyState>\n    </>\n  );\n};\n\nexport default AddRolePermissionSuccess;\n\nAddRolePermissionSuccess.propTypes = {\n  currentRoleID: PropTypes.string.isRequired,\n};\n","import React, { useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport { AddRolePermissionWizardContext } from './add-role-permission-wizard';\nimport '../add-role-new/review.scss';\n\nconst ReviewTemplate = ({ formFields }) => {\n  const { submitting } = useContext(AddRolePermissionWizardContext);\n\n  if (submitting) {\n    return (\n      <Bullseye>\n        <Spinner size=\"xl\" />\n      </Bullseye>\n    );\n  }\n\n  return <div className=\"rbac\">{[[{ ...formFields?.[0]?.[0] }]]}</div>;\n};\n\nReviewTemplate.propTypes = {\n  formFields: PropTypes.array,\n};\n\nexport default ReviewTemplate;\n","import React, { useState, useEffect, useRef, createContext } from 'react';\nimport { useDispatch } from 'react-redux';\nimport AddRolePermissionSummaryContent from './add-role-permissions-summary-content';\nimport AddRolePermissionSuccess from './add-role-permission-success';\nimport PropTypes from 'prop-types';\nimport { WarningModal } from '../../common/warningModal';\nimport { useHistory } from 'react-router-dom';\nimport { Wizard } from '@patternfly/react-core';\nimport { updateRole } from '../../../redux/actions/role-actions.js';\nimport FormRenderer from '@data-driven-forms/react-form-renderer/form-renderer';\nimport Pf4FormTemplate from '@data-driven-forms/pf4-component-mapper/form-template';\nimport componentMapper from '@data-driven-forms/pf4-component-mapper/component-mapper';\nimport AddPermissionsTable from '../add-role-new/add-permissions';\nimport CostResources from '../add-role-new/cost-resources';\nimport { schemaBuilder } from './schema';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst FormTemplate = (props) => <Pf4FormTemplate {...props} showFormControls={false} />;\n\nexport const mapperExtension = {\n  'add-permissions-table': AddPermissionsTable,\n  'cost-resources': CostResources,\n  review: AddRolePermissionSummaryContent,\n};\n\nexport const AddRolePermissionWizardContext = createContext({\n  success: false,\n  submitting: false,\n  error: undefined,\n});\n\nconst AddRolePermissionWizard = ({ role }) => {\n  const intl = useIntl();\n  const [cancelWarningVisible, setCancelWarningVisible] = useState(false);\n  const [currentRoleID, setCurrentRoleID] = useState('');\n  const [schema, setSchema] = useState({});\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [wizardContextValue, setWizardContextValue] = useState({\n    success: false,\n    submitting: false,\n    error: undefined,\n    hideForm: false,\n  });\n  const container = useRef(document.createElement('div'));\n  const setWizardError = (error) => setWizardContextValue((prev) => ({ ...prev, error }));\n  const setWizardSuccess = (success) => setWizardContextValue((prev) => ({ ...prev, success }));\n  const setHideForm = (hideForm) => setWizardContextValue((prev) => ({ ...prev, hideForm }));\n\n  useEffect(() => {\n    setSchema(schemaBuilder(container.current));\n  }, []);\n\n  useEffect(() => {\n    setCurrentRoleID(role.uuid);\n  });\n\n  useEffect(() => {\n    container.current.hidden = cancelWarningVisible;\n  }, [cancelWarningVisible]);\n\n  const handleWizardCancel = () => {\n    setCancelWarningVisible(true);\n  };\n\n  const handleConfirmCancel = () => {\n    history.push(`/roles/detail/${role.uuid}`);\n  };\n\n  const onSubmit = async (formData) => {\n    const { 'add-permissions-table': selectedPermissions, 'cost-resources': resourceDefinitions } = formData;\n\n    const selectedPermissionIds = [...role.access.map((record) => record.permission), ...selectedPermissions.map((record) => record.uuid)];\n    const roleData = {\n      ...role,\n      access: [\n        ...selectedPermissions.reduce(\n          (acc, { uuid: permission, requires }) => [\n            ...acc,\n            ...[permission, ...requires.filter((require) => !selectedPermissionIds.includes(require))].map((permission) => ({\n              permission,\n              resourceDefinitions: resourceDefinitions?.find((r) => r.permission === permission)\n                ? [\n                    {\n                      attributeFilter: {\n                        key: `cost-management.${permission.split(':')[1]}`,\n                        operation: 'in',\n                        value: resourceDefinitions?.find((r) => r.permission === permission).resources,\n                      },\n                    },\n                  ]\n                : [],\n            })),\n          ],\n          role.access\n        ),\n      ],\n      accessCount: role.accessCount + selectedPermissions.length,\n    };\n\n    setWizardContextValue((prev) => ({ ...prev, submitting: true }));\n    dispatch(updateRole(currentRoleID, roleData))\n      .then(() => setWizardContextValue((prev) => ({ ...prev, submitting: false, success: true, hideForm: true })))\n      .catch(() => {\n        setWizardContextValue((prev) => ({ ...prev, submitting: false, success: false, hideForm: true }));\n        history.push(`/roles/detail/${role.uuid}`);\n      });\n  };\n\n  return (\n    <AddRolePermissionWizardContext.Provider\n      value={{ ...wizardContextValue, setWizardError, setWizardSuccess, setHideForm, rolePermissions: role.access }}\n    >\n      <WarningModal\n        type={intl.formatMessage(messages.permission)}\n        isOpen={cancelWarningVisible}\n        onModalCancel={() => setCancelWarningVisible(false)}\n        onConfirmCancel={handleConfirmCancel}\n      />\n      {wizardContextValue.hideForm ? (\n        wizardContextValue.success ? (\n          <Wizard\n            title={intl.formatMessage(messages.addPermissions)}\n            isOpen\n            steps={[\n              {\n                name: 'success',\n                component: new AddRolePermissionSuccess({ currentRoleID }),\n                isFinishedStep: true,\n              },\n            ]}\n          />\n        ) : null\n      ) : (\n        <FormRenderer\n          container={container}\n          schema={schema}\n          subscription={{ values: true }}\n          FormTemplate={FormTemplate}\n          initialValues={{\n            'role-uuid': role.uuid,\n            'role-type': 'create',\n            'role-name': role.display_name,\n            'role-description': role.description,\n          }}\n          componentMapper={{ ...componentMapper, ...mapperExtension }}\n          onSubmit={onSubmit}\n          onCancel={(values) => {\n            if (values && values['add-permissions-table']?.length > 0) {\n              handleWizardCancel();\n            } else {\n              handleConfirmCancel();\n            }\n          }}\n        />\n      )}\n    </AddRolePermissionWizardContext.Provider>\n  );\n};\n\nAddRolePermissionWizard.defaultProps = {\n  role: {},\n};\n\nAddRolePermissionWizard.propTypes = {\n  role: PropTypes.object,\n};\n\nexport default AddRolePermissionWizard;\n","import React from 'react';\nimport { Grid, GridItem, Stack, StackItem, Text, TextContent, TextVariants, Title } from '@patternfly/react-core';\nimport useFormApi from '@data-driven-forms/react-form-renderer/use-form-api';\nimport { useIntl } from 'react-intl';\nimport messages from '../../../Messages';\n\nconst AddRolePermissionSummaryContent = () => {\n  const intl = useIntl();\n  const formOptions = useFormApi();\n  const {\n    'role-name': name,\n    'role-description': description,\n    'add-permissions-table': selectedPermissions,\n    'resource-definitions': resourceDefinitions,\n    'has-cost-resources': hasCostResources,\n  } = formOptions.getState().values;\n\n  return (\n    <Stack hasGutter>\n      <StackItem>\n        <TextContent>\n          <Title headingLevel=\"h1\" size=\"xl\" className=\"pf-u-mb-sm\">\n            {intl.formatMessage(messages.reviewDetails)}\n          </Title>\n        </TextContent>\n      </StackItem>\n      <StackItem className=\"rbac-l-stack__item-summary\">\n        <Grid hasGutter>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              {intl.formatMessage(messages.roleName)}\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <Text component={TextVariants.p}>{name}</Text>\n          </GridItem>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              {intl.formatMessage(messages.roleDescription)}\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <Text component={TextVariants.p}>{description}</Text>\n          </GridItem>\n          <GridItem span={3}>\n            <Text className=\"pf-c-title\" component={TextVariants.h6}>\n              {intl.formatMessage(messages.addedPermissions)}\n            </Text>\n          </GridItem>\n          <GridItem span={9}>\n            <TextContent component={TextVariants.p}>\n              {selectedPermissions.map((permission, index) => (\n                <Text key={index}> {permission.uuid} </Text>\n              ))}\n            </TextContent>\n          </GridItem>\n          {hasCostResources && (\n            <React.Fragment>\n              <GridItem span={3}>\n                <Text className=\"pf-c-title\" component={TextVariants.h6}>\n                  {intl.formatMessage(messages.resourceDefinitions)}\n                </Text>\n              </GridItem>\n              <GridItem span={9}>\n                <TextContent component={TextVariants.p}>\n                  {resourceDefinitions.map(({ resources }) => resources.map((resource, index) => <Text key={index}> {resource} </Text>))}\n                </TextContent>\n              </GridItem>\n            </React.Fragment>\n          )}\n        </Grid>\n      </StackItem>\n    </Stack>\n  );\n};\n\nexport default AddRolePermissionSummaryContent;\n","import React from 'react';\nimport AddPermissionTemplate from '../add-role-new/add-permissions-template';\nimport ReviewTemplate from './review-template';\nimport { locale } from '../../../AppEntry';\nimport { createIntl, createIntlCache } from 'react-intl';\nimport messages from '../../../Messages';\nimport providerMessages from '../../../locales/data.json';\n\nexport const schemaBuilder = (container) => {\n  const cache = createIntlCache();\n  const intl = createIntl({ locale, messages: providerMessages }, cache);\n  return {\n    fields: [\n      {\n        component: 'wizard',\n        name: 'wizard',\n        isDynamic: true,\n        inModal: true,\n        showTitles: true,\n        crossroads: ['role-type'],\n        title: intl.formatMessage(messages.addPermissions),\n        container,\n        fields: [\n          {\n            name: 'add-permissions',\n            title: intl.formatMessage(messages.addPermissions),\n            StepTemplate: AddPermissionTemplate,\n            nextStep: ({ values }) =>\n              values &&\n              values['add-permissions-table'] &&\n              values['add-permissions-table'].some(({ uuid }) => uuid.split(':')[0].includes('cost-management'))\n                ? 'cost-resources-definition'\n                : 'review',\n            fields: [\n              {\n                component: 'add-permissions-table',\n                name: 'add-permissions-table',\n              },\n            ],\n          },\n          {\n            name: 'cost-resources-definition',\n            title: intl.formatMessage(messages.defineCostResources),\n            nextStep: 'review',\n            fields: [\n              {\n                component: 'plain-text',\n                name: 'text-description',\n                label: <p>{intl.formatMessage(messages.applyCostPermissionText)}</p>,\n              },\n              {\n                component: 'cost-resources',\n                name: 'cost-resources',\n                validate: [\n                  (value = []) => (value.every((p) => p.resources.length > 0) ? undefined : intl.formatMessage(messages.assignAtLeastOneResource)),\n                ],\n              },\n            ],\n          },\n          {\n            name: 'review',\n            title: intl.formatMessage(messages.reviewDetails),\n            StepTemplate: ReviewTemplate,\n            fields: [\n              {\n                component: 'review',\n                name: 'review',\n              },\n            ],\n          },\n        ],\n      },\n    ],\n  };\n};\n","import React, { useEffect, useReducer, useState } from 'react';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { TableToolbarViewOld } from '../../presentational-components/shared/table-toolbar-view-old';\nimport {\n  createRows,\n  INITIALIZE_ROLE,\n  INITIATE_REMOVE_PERMISSION,\n  rolePermissionsReducer,\n  rolePermissionsReducerInitialState,\n  SELECT_PERMISSIONS,\n  SET_FILTERS,\n  SET_PAGINATION,\n  SET_TOGGLED,\n  SHOW_REMOVE_MODAL,\n  SUBMIT_REMOVE_MODAL,\n} from './role-permissions-table-helpers';\nimport { cellWidth } from '@patternfly/react-table';\nimport './role-permissions.scss';\nimport { removeRolePermissions, fetchRole } from '../../redux/actions/role-actions';\nimport { Link, Route, useHistory } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\nimport { info } from '@patternfly/react-table';\nimport AddRolePermissionWizard from './add-role-permissions/add-role-permission-wizard';\nimport paths from '../../utilities/pathnames';\nimport RemoveModal from '../../presentational-components/shared/RemoveModal';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport PropTypes from 'prop-types';\nimport messages from '../../Messages';\n\nconst maxFilterItems = 10;\n\nconst removeModalText = (permissions, role, plural) => {\n  return (\n    <FormattedMessage\n      {...(plural ? messages.permissionsWillNotBeGrantedThroughRole : messages.permissionWillNotBeGrantedThroughRole)}\n      values={{\n        b: (text) => <b>{text}</b>,\n        ...(plural\n          ? {\n              permissions,\n            }\n          : {\n              permission: permissions,\n            }),\n        role: role.name,\n      }}\n    />\n  );\n};\n\nconst Permissions = ({ cantAddPermissions }) => {\n  const intl = useIntl();\n  const { role, isRecordLoading } = useSelector(\n    (state) => ({\n      role: state.roleReducer.selectedRole,\n      isRecordLoading: state.roleReducer.isRecordLoading,\n    }),\n    shallowEqual\n  );\n\n  const history = useHistory();\n  const [\n    { pagination, selectedPermissions, showRemoveModal, confirmDelete, deleteInfo, filters, isToggled, resources, operations },\n    internalDispatch,\n  ] = useReducer(rolePermissionsReducer, rolePermissionsReducerInitialState);\n\n  const [showResourceDefinitions, setShowResourceDefinitions] = useState(true);\n\n  const dispatch = useDispatch();\n\n  const columns = [\n    { title: intl.formatMessage(messages.application) },\n    { title: intl.formatMessage(messages.resourceType) },\n    { title: intl.formatMessage(messages.operation) },\n    {\n      title: intl.formatMessage(messages.resourceDefinitions),\n      transforms: [\n        info({\n          popover: intl.formatMessage(messages.resourceDefinitionsApplyToCost),\n          ariaLabel: intl.formatMessage(messages.resourceDefinitionsApplyToCost),\n        }),\n      ],\n    },\n    { title: intl.formatMessage(messages.lastCommit), transforms: [cellWidth(15)] },\n  ];\n\n  const setCheckedItems = (newSelection) => {\n    internalDispatch({ type: SELECT_PERMISSIONS, selection: newSelection(selectedPermissions).map(({ uuid }) => ({ uuid })) });\n  };\n  const emptyPropsDescription = cantAddPermissions\n    ? ['']\n    : ['To configure user access to applications,', 'add at least one permission to this role.', ''];\n\n  useEffect(() => {\n    if (Object.keys(role).length > 0) {\n      const { resources, operations } = Object.entries(\n        role.access.reduce(\n          ({ resources, operations }, { permission }) => {\n            const [, resource, operation] = permission.split(':');\n            return {\n              resources: resources.includes(resource) ? resources : [...resources, resource],\n              operations: operations.includes(operation) ? operations : [...operations, operation],\n            };\n          },\n          { resources: [], operations: [] }\n        )\n      ).reduce((acc, [key, value]) => ({ ...acc, [key]: value.map((item) => ({ label: item, value: item })) }), {});\n      internalDispatch({ type: INITIALIZE_ROLE, resources, operations, count: role.access ? role.access.length : 0 });\n    }\n\n    setShowResourceDefinitions(role?.access?.find((a) => a.permission.includes('cost-management')));\n  }, [role]);\n\n  const filteredRows =\n    role && role.access\n      ? (role.access || [])\n          .filter(({ permission }) => {\n            const [application, resource, operation] = permission.split(':');\n            const { applications, resources, operations } = filters;\n            return (\n              (applications.length > 0 ? applications.includes(application) : true) &&\n              (resources.length > 0 ? resources.includes(resource) : true) &&\n              (operations.length > 0 ? operations.includes(operation) : true)\n            );\n          })\n          .map((acc) => ({ uuid: acc.permission, ...acc, modified: role.modified }))\n      : [];\n\n  const removePermissions = (permissions) => {\n    const permissionsToRemove = permissions.reduce((acc, curr) => [...acc, curr.uuid], []);\n    return dispatch(removeRolePermissions(role, permissionsToRemove)).then(() => {\n      dispatch(fetchRole(role.uuid));\n      internalDispatch({ type: SELECT_PERMISSIONS, selection: [] });\n    });\n  };\n\n  const actionResolver = () => [\n    {\n      title: intl.formatMessage(messages.remove),\n      onClick: (_event, _rowId, permission) =>\n        internalDispatch({\n          type: INITIATE_REMOVE_PERMISSION,\n          confirmDelete: () => removePermissions([permission]),\n          deleteInfo: {\n            title: intl.formatMessage(messages.removePermissionQuestion),\n            text: removeModalText(permission.uuid, role, false),\n            confirmButtonLabel: intl.formatMessage(messages.removePermission),\n          },\n        }),\n    },\n  ];\n\n  const toolbarButtons = () =>\n    cantAddPermissions\n      ? []\n      : [\n          <Link to={`/roles/detail/${role.uuid}/role-add-permission`} key=\"role-add-permission\" className=\"rbac-m-hide-on-sm\">\n            <Button variant=\"primary\" aria-label=\"Add Permission\">\n              {intl.formatMessage(messages.addPermissions)}\n            </Button>\n          </Link>,\n          {\n            label: intl.formatMessage(messages.addPermission),\n            props: {\n              className: 'rbac-m-hide-on-md',\n            },\n            onClick: () => {\n              history.push(`/roles/detail/${role.uuid}/role-add-permission`);\n            },\n          },\n          {\n            label: intl.formatMessage(messages.remove),\n            props: {\n              isDisabled: !selectedPermissions.length > 0,\n            },\n            onClick: () => {\n              const multiplePermissionsSelected = selectedPermissions.length > 1;\n              internalDispatch({\n                type: INITIATE_REMOVE_PERMISSION,\n                confirmDelete: () => removePermissions([...selectedPermissions]),\n                deleteInfo: {\n                  title: intl.formatMessage(multiplePermissionsSelected ? messages.removePermissionsQuestion : messages.removePermissionQuestion),\n                  text: removeModalText(\n                    multiplePermissionsSelected ? selectedPermissions.length : selectedPermissions[0].uuid,\n                    role,\n                    selectedPermissions.length > 1\n                  ),\n                  confirmButtonLabel: intl.formatMessage(multiplePermissionsSelected ? messages.removePermissions : messages.removePermission),\n                },\n              });\n            },\n          },\n        ];\n\n  const routes = () => (\n    <Route exact path={paths['role-add-permission'].path}>\n      <AddRolePermissionWizard isOpen={true} role={role} />\n    </Route>\n  );\n\n  const calculateSelected = (filter) =>\n    filter.reduce(\n      (acc, curr) => ({\n        '': {\n          ...acc?.[''],\n          [curr]: true,\n        },\n      }),\n      { '': {} }\n    );\n\n  const emptyItem = {\n    label: <div> {intl.formatMessage(messages.noResultsFound)}</div>,\n    isDisabled: true,\n  };\n\n  const sanitizedRole = {\n    access: [],\n    applications: [],\n    ...role,\n  };\n\n  const filterItemOverflow = Object.values({ applications: sanitizedRole.applications, operations, resources }).find(\n    (value) => value.length > maxFilterItems\n  );\n\n  return (\n    <section className=\"pf-c-page__main-section rbac-c-role__permissions\">\n      {showRemoveModal && (\n        <RemoveModal\n          text={deleteInfo.text}\n          title={deleteInfo.title}\n          isOpen={showRemoveModal}\n          confirmButtonLabel={deleteInfo.confirmButtonLabel}\n          onClose={() => internalDispatch({ type: SHOW_REMOVE_MODAL, showRemoveModal: false })}\n          onSubmit={() => {\n            confirmDelete();\n            internalDispatch({ type: SUBMIT_REMOVE_MODAL });\n          }}\n        />\n      )}\n      <TableToolbarViewOld\n        columns={showResourceDefinitions ? columns : columns.filter((c) => c.title !== intl.formatMessage(messages.resourceDefinitions))}\n        createRows={createRows(showResourceDefinitions, role?.uuid)}\n        actionResolver={role.system ? undefined : actionResolver}\n        data={filteredRows.slice(pagination.offset, pagination.offset + pagination.limit)}\n        filterValue=\"\"\n        ouiaId=\"role-permissions-table\"\n        fetchData={({ limit, offset }) => internalDispatch({ type: SET_PAGINATION, limit, offset })}\n        isSelectable={!role.system}\n        setCheckedItems={setCheckedItems}\n        checkedRows={selectedPermissions}\n        onShowMore={\n          filterItemOverflow\n            ? () => {\n                internalDispatch({ type: SET_TOGGLED });\n              }\n            : undefined\n        }\n        setFilterValue={({ applications, resources, operations }) => {\n          internalDispatch({\n            type: SET_FILTERS,\n            ...(applications ? { applications } : filters.applications),\n            ...(resources ? { resources } : filters.resources),\n            ...(operations ? { operations } : filters.operations),\n          });\n        }}\n        toolbarButtons={toolbarButtons}\n        isLoading={isRecordLoading}\n        pagination={{\n          ...pagination,\n          count: filteredRows.length,\n        }}\n        titlePlural={intl.formatMessage(messages.permissions)}\n        titleSingular={intl.formatMessage(messages.permission)}\n        routes={routes}\n        emptyProps={{\n          title: intl.formatMessage(messages.noRolePermissions),\n          description: emptyPropsDescription,\n        }}\n        filters={[\n          {\n            key: 'applications',\n            value: filters.applications.length === 0 ? '' : filters.applications,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.application).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.applications),\n            groups: [\n              {\n                type: sanitizedRole.applications.length > 0 ? 'checkbox' : 'plain',\n                items:\n                  sanitizedRole.applications.length > 0\n                    ? sanitizedRole.applications.slice(0, isToggled ? undefined : maxFilterItems).map((item) => ({ label: item, value: item }))\n                    : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'resources',\n            value: filters.resources.length === 0 ? '' : filters.resources,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.resourceType).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.resources),\n            groups: [\n              {\n                type: resources.length > 0 ? 'checkbox' : 'plain',\n                items: resources.length > 0 ? resources.slice(0, isToggled ? undefined : maxFilterItems) : [emptyItem],\n              },\n            ],\n          },\n          {\n            key: 'operations',\n            value: filters.operations.length === 0 ? '' : filters.operations,\n            placeholder: intl.formatMessage(messages.filterByKey, { key: intl.formatMessage(messages.operation).toLowerCase() }),\n            type: 'group',\n            selected: calculateSelected(filters.operations),\n            groups: [\n              {\n                type: operations.length > 0 ? 'checkbox' : 'plain',\n                items: operations.length > 0 ? operations.slice(0, isToggled ? undefined : maxFilterItems) : [emptyItem],\n              },\n            ],\n          },\n        ]}\n        tableId=\"role-permissions\"\n      />\n    </section>\n  );\n};\n\nPermissions.propTypes = {\n  cantAddPermissions: PropTypes.bool,\n};\n\nexport default Permissions;\n","import React, { Fragment, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, Route, useHistory, useParams } from 'react-router-dom';\nimport { shallowEqual, useSelector, useDispatch } from 'react-redux';\nimport { Button, Dropdown, DropdownItem, KebabToggle, Level, LevelItem, Text, TextContent } from '@patternfly/react-core';\nimport { PageHeaderTitle } from '@redhat-cloud-services/frontend-components/PageHeader';\nimport pathnames from '../../utilities/pathnames';\nimport { fetchRole, fetchRolesWithPolicies } from '../../redux/actions/role-actions';\nimport { TopToolbar } from '../../presentational-components/shared/top-toolbar';\nimport { ListLoader } from '../../presentational-components/shared/loader-placeholders';\nimport Permissions from './role-permissions';\nimport { fetchGroup, fetchRolesForGroup, fetchSystemGroup } from '../../redux/actions/group-actions';\nimport { ToolbarTitlePlaceholder } from '../../presentational-components/shared/loader-placeholders';\nimport RemoveRoleModal from './remove-role-modal';\nimport EditRoleModal from './edit-role-modal';\nimport EmptyWithAction from '../../presentational-components/shared/empty-state';\nimport RbacBreadcrumbs from '../../presentational-components/shared/breadcrumbs';\nimport { BAD_UUID, getBackRoute } from '../../helpers/shared/helpers';\nimport { defaultSettings } from '../../helpers/shared/pagination';\nimport { useIntl } from 'react-intl';\nimport messages from '../../Messages';\nimport './role.scss';\n\nconst Role = ({ onDelete }) => {\n  const intl = useIntl();\n  const history = useHistory();\n  const [isDropdownOpen, setDropdownOpen] = useState(false);\n  const [isNonPermissionAddingRole, setIsNonPermissionAddingRole] = useState(false);\n  const { uuid, groupUuid } = useParams();\n  const { role, group, isRecordLoading, rolesPagination, rolesFilters, groupsPagination, groupsFilters, systemGroupUuid } = useSelector(\n    (state) => ({\n      role: state.roleReducer.selectedRole,\n      isRecordLoading: state.roleReducer.isRecordLoading,\n      ...(groupUuid && { group: state.groupReducer.selectedGroup }),\n      systemGroupUuid: state.groupReducer.systemGroup?.uuid,\n      rolesPagination: state.roleReducer?.roles?.pagination || defaultSettings,\n      rolesFilters: state.roleReducer?.roles?.filters || {},\n      groupsPagination: state.groupReducer?.groups?.pagination || defaultSettings,\n      groupsFilters: state.groupReducer?.groups?.filters || {},\n    }),\n    shallowEqual\n  );\n\n  const roleExists = useSelector((state) => {\n    const {\n      roleReducer: { error },\n    } = state;\n    return error !== BAD_UUID;\n  });\n\n  const groupExists = useSelector((state) => {\n    const {\n      groupReducer: { error },\n    } = state;\n    return error !== BAD_UUID;\n  });\n\n  const dispatch = useDispatch();\n  const fetchData = () => {\n    dispatch(fetchRole(uuid));\n    if (groupUuid) {\n      if (groupUuid !== 'default-access') {\n        dispatch(fetchGroup(groupUuid));\n      } else {\n        if (systemGroupUuid) {\n          dispatch(fetchRolesForGroup(systemGroupUuid, {}));\n          insights.chrome.appObjectId(systemGroupUuid);\n          return () => insights.chrome.appObjectId(undefined);\n        } else {\n          dispatch(fetchSystemGroup());\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    fetchData();\n    insights.chrome.appObjectId(uuid);\n    return () => insights.chrome.appObjectId(undefined);\n  }, [uuid, groupUuid, systemGroupUuid]);\n\n  useEffect(() => {\n    if (role?.accessCount === 0 && role?.external_tenant !== '' && role?.external_role_id !== '' && role?.system) {\n      setIsNonPermissionAddingRole(true);\n    }\n  }, [role]);\n\n  const breadcrumbsList = () => [\n    groupUuid\n      ? {\n          title: intl.formatMessage(messages.groups),\n          to: getBackRoute(pathnames.groups.path, groupsPagination, groupsFilters),\n        }\n      : {\n          title: intl.formatMessage(messages.roles),\n          to: getBackRoute(pathnames.roles.path, rolesPagination, rolesFilters),\n        },\n\n    ...(groupExists && groupUuid && (groupUuid === 'default-access' ? systemGroupUuid : groupExists)\n      ? group\n        ? [\n            {\n              title: group && group.name,\n              to: `/groups/detail/${groupUuid}/roles`,\n              isLoading: group && group.loaded,\n            },\n          ]\n        : [undefined]\n      : groupExists || !groupUuid\n      ? []\n      : [{ title: intl.formatMessage(messages.invalidGroup), isActive: true }]),\n\n    ...(groupExists || !groupUuid\n      ? [\n          {\n            title: isRecordLoading ? undefined : roleExists ? role?.display_name || role?.name : intl.formatMessage(messages.invalidRole),\n            isActive: true,\n          },\n        ]\n      : []),\n  ];\n\n  const title = !isRecordLoading && role ? role.display_name || role.name : undefined;\n  const description = !isRecordLoading && role ? role.description : undefined;\n  const dropdownItems = [\n    <DropdownItem\n      component={\n        <Link onClick={() => setDropdownOpen(false)} to={pathnames['role-detail-edit'].path.replace(':id', uuid)}>\n          {intl.formatMessage(messages.edit)}\n        </Link>\n      }\n      key=\"edit-role\"\n    />,\n    <DropdownItem\n      component={\n        <Link onClick={onDelete} to={pathnames['role-detail-remove'].path.replace(':id', uuid)}>\n          {intl.formatMessage(messages.delete)}\n        </Link>\n      }\n      className=\"rbac-c-role__action\"\n      key=\"delete-role\"\n    />,\n  ];\n\n  return (\n    <Fragment>\n      {(groupExists || !groupUuid) && roleExists ? (\n        <Fragment>\n          <TopToolbar breadcrumbs={breadcrumbsList()}>\n            <Level>\n              <LevelItem>\n                <PageHeaderTitle title={title || <ToolbarTitlePlaceholder />} className=\"rbac-page-header__title\" />\n              </LevelItem>\n              {!isRecordLoading && role && !role.system && (\n                <LevelItem>\n                  <Dropdown\n                    ouiaId=\"role-title-actions-dropdown\"\n                    toggle={<KebabToggle onToggle={(isOpen) => setDropdownOpen(isOpen)} id=\"role-actions-dropdown\" />}\n                    isOpen={isDropdownOpen}\n                    isPlain\n                    position=\"right\"\n                    dropdownItems={dropdownItems}\n                  />\n                </LevelItem>\n              )}\n            </Level>\n            {description && (\n              <TextContent className=\"rbac-page-header__description\">\n                <Text component=\"p\">{description}</Text>\n              </TextContent>\n            )}\n          </TopToolbar>\n          {isRecordLoading || !role ? <ListLoader /> : <Permissions cantAddPermissions={isNonPermissionAddingRole} />}\n          <Route path={pathnames['role-detail-remove'].path}>\n            {!isRecordLoading && (\n              <RemoveRoleModal\n                afterSubmit={() => {\n                  dispatch(fetchRolesWithPolicies({ ...rolesPagination, offset: 0, filters: rolesFilters, inModal: false }));\n                }}\n                cancelRoute={pathnames['role-detail'].path.replace(':uuid', uuid)}\n                submitRoute={getBackRoute(pathnames.roles.path, { ...rolesPagination, offset: 0 }, rolesFilters)}\n                routeMatch={pathnames['role-detail-remove'].path}\n              />\n            )}\n          </Route>\n          <Route path={pathnames['role-detail-edit'].path}>\n            {!isRecordLoading && (\n              <EditRoleModal\n                afterSubmit={fetchData}\n                cancelRoute={pathnames['role-detail'].path.replace(':uuid', uuid)}\n                routeMatch={pathnames['role-detail-edit'].path}\n              />\n            )}\n          </Route>\n        </Fragment>\n      ) : (\n        <Fragment>\n          <section className=\"pf-c-page__main-breadcrumb pf-u-pb-md\">\n            <RbacBreadcrumbs {...breadcrumbsList()} />\n          </section>\n          <EmptyWithAction\n            title={`${groupExists ? 'Role' : 'Group'} not found`}\n            description={[`${groupExists ? 'Role' : 'Group'} with ID ${groupExists ? uuid : groupUuid} does not exist.`]}\n            actions={[\n              <Button\n                key=\"back-button\"\n                className=\"pf-u-mt-xl\"\n                ouiaId=\"back-button\"\n                variant=\"primary\"\n                aria-label=\"Back to previous page\"\n                onClick={() => history.goBack()}\n              >\n                {intl.formatMessage(messages.backToPreviousPage)}\n              </Button>,\n            ]}\n          />\n        </Fragment>\n      )}\n    </Fragment>\n  );\n};\n\nRole.propTypes = {\n  onDelete: PropTypes.func,\n};\n\nexport default Role;\n","import awesomeDebouncePromise from 'awesome-debounce-promise';\n\nexport default (asyncFunction: (...args: any[]) => Promise<any>, debounceTime = 250, options = { onlyResolvesLast: false }) =>\n  awesomeDebouncePromise(asyncFunction, debounceTime, options);\n"],"names":["syncDefaultFiltersWithUrl","history","keys","defaults","searchParams","URLSearchParams","location","search","filters","reduce","acc","key","values","getAll","length","Object","forEach","value","Array","isArray","Set","item","includes","append","get","set","replace","pathname","toString","areFiltersPresentInUrl","some","applyFiltersToUrl","newValues","isMounted","useRef","useEffect","current","RemoveModal","title","text","onClose","onSubmit","isOpen","confirmButtonLabel","withCheckbox","intl","useIntl","useState","checked","setChecked","Modal","className","variant","ModalVariant","actions","Button","ouiaId","isDisabled","onClick","formatMessage","messages","Split","hasGutter","SplitItem","isFilled","Stack","TextContent","Checkbox","isChecked","onChange","label","id","propTypes","PropTypes","defaultProps","RbacBreadcrumbs","breadcrumbs","Breadcrumb","map","index","BreadcrumbItem","isActive","to","NavLink","exact","TableToolbarView","orderBy","isCompact","borders","columns","rows","toolbarButtons","data","actionResolver","areActionsDisabled","routes","titlePlural","titleSingular","pagination","filterValue","isLoading","emptyFilters","setFilterValue","checkedRows","isSelectable","fetchData","setCheckedItems","emptyProps","filterPlaceholder","rowWrapper","isFilterable","onShowMore","showMoreTitle","onFilter","sortBy","isExpandable","onExpand","hideFilterChips","hideHeader","noData","noDataDescription","tableId","containerRef","onSort","Fragment","every","items","icon","PlusCircleIcon","description","direction","Table","canSelectAll","toLowerCase","TableVariant","onSelect","_e","isSelected","_idx","uuid","name","cells","requires","selectedRows","fullWidth","undefined","EmptyStatePrimary","offset","props","colSpan","e","TableHeader","TableBody","noBottom","Pagination","paginationBuilder","dropDirection","Toolbar","directions","TopToolbar","children","isRequired","paddingBottom","TopToolbarTitle","renderTitleTag","Flex","FlexItem","alignSelf","modifier","Text","component","TextVariants","costApi","getCostApi","getResourceDefinitions","apiProps","getResourceTypes","getResource","type","ActionTypes","payload","CostHelper","MODAL_FORM_IDENTIFIER","CustomFormWrapper","CustomButtons","saveLabel","cancelLabel","onCancel","useFormApi","pristine","invalid","validating","submitting","form","ModalFormTemplate","ModalProps","alert","footer","showFormControls","FormWrapper","Select","input","options","isReadOnly","rest","FormSelect","inputValue","selectOptions","find","createOptions","FormSelectOption","FieldProvider","Pf4SelectWrapper","helperText","meta","hideLabel","error","showError","touched","FormGroup","fieldId","isValid","helperTextInvalid","componentType","FormButtons","dirtyFieldsSinceLastSubmit","submitSucceeded","noChanges","ActionGroup","formProps","subscription","FormRenderer","formTemplateProps","componentMapper","componentTypes","TextField","Textarea","FormTemplate","PageActionRoute","pageAction","insights","chrome","appAction","Route","WarningModal","onModalCancel","onConfirmCancel","customTitle","customDescription","customPrimaryButtonTitle","customSecondaryButtonTitle","size","AddPermissionTemplate","formFields","formOptions","getState","selectedPermissions","setSelectedPermissions","alertClosed","setAlertClosed","notAllowedBasePermissions","unresolvedSplats","applications","filter","app","addPermissions","ChipGroup","categoryName","i","Chip","color","isTruncated","p","Title","headingLevel","Popover","headerContent","bodyContent","Alert","isInline","join","actionClose","AlertActionCloseButton","accessApi","getPermissionApi","listPermissions","limit","application","resourceType","verb","permission","excludeGlobals","excludeRoles","allowedOnly","listPermissionOptions","field","fieldToAction","resource_type","DisabledRowWrapper","row","disableSelection","Tooltip","content","disabledContent","exitDelay","entryDelay","RowWrapper","selector","permissionReducer","operation","resource","expandSplats","isLoadingExpandSplats","roleReducer","isRecordLoading","selectedRole","resourceTypes","costReducer","permissions","baseRole","applicationOptions","resourceOptions","operationOptions","expandedPermissions","AddPermissionsTable","dispatch","useDispatch","hasAccess","usePermissions","existingRoleId","exclude_roles","allowed_only","exclude_globals","PermissionsHelper","fetchOptions","useSelector","shallowEqual","useFieldApi","resources","operations","setFilters","roleType","isToggled","setIsToggled","filterBy","setFilterBy","setValue","getResourceType","r","split","debouncedGetApplicationOptions","useCallback","debouncePromise","debouncedGetResourceOptions","debouncedGetOperationOptions","baseRoleUuid","fetchRole","change","notAllowed","basePermissions","access","push","patterns","count","f","match","calculateSelected","curr","preparedFilterItems","res","op","emptyItem","filterItemOverflow","createRows","selected","Boolean","href","newSelection","newSelected","placeholder","groups","slice","loadingResources","isLoadingResources","reducer","state","action","prevState","selection","option","filteredOptions","filtervalue","useReducer","dispatchLocaly","path","resourceDefinitions","entries","Grid","GridItem","md","sm","SelectVariant","typeAheadAriaLabel","onToggle","event","selectAll","onClear","selections","target","placeholderText","hasInlineFilter","SelectOption","EditRoleModal","routeMatch","cancelRoute","submitRoute","afterSubmit","useIsMounted","useHistory","useRouteMatch","params","role","roleSelector","initialValues","setInitialValues","then","validationPromise","idKey","fetchRoles","display_name","Promise","reject","number","uniqueNameValidator","asyncDebounce","validatorMapper","addNotification","dismissDelay","schema","fields","validate","validatorTypes","threshold","createEditRoleSchema","patchRole","hash","RemoveRoleModal","roleName","roleNameSelector","setIsDisabled","internalRoleName","setInternalRoleName","errors","detail","header","style","fill","removeRole","strong","prev","roleId","roles","showResDefinitions","opened","modified","appName","Link","flatten","definition","attributeFilter","DateFormat","date","getDateFormat","rolePermissionsReducerInitialState","defaultSettings","showRemoveModal","confirmDelete","deleteInfo","SET_PAGINATION","SELECT_PERMISSIONS","SHOW_REMOVE_MODAL","SUBMIT_REMOVE_MODAL","INITIATE_REMOVE_PERMISSION","SET_FILTERS","SET_TOGGLED","INITIALIZE_ROLE","reducerHandlers","rolePermissionsReducer","AddRolePermissionSuccess","currentRoleID","EmptyState","EmptyStateIcon","CheckCircleIcon","EmptyStateBody","ReviewTemplate","useContext","AddRolePermissionWizardContext","Bullseye","Spinner","mapperExtension","CostResources","review","hasCostResources","StackItem","span","createContext","success","AddRolePermissionWizard","cancelWarningVisible","setCancelWarningVisible","setCurrentRoleID","setSchema","hideForm","wizardContextValue","setWizardContextValue","container","document","createElement","cache","createIntlCache","createIntl","locale","providerMessages","isDynamic","inModal","showTitles","crossroads","StepTemplate","nextStep","schemaBuilder","hidden","handleConfirmCancel","formData","selectedPermissionIds","record","roleData","require","accessCount","updateRole","Provider","setWizardError","setWizardSuccess","setHideForm","rolePermissions","Wizard","steps","isFinishedStep","removeModalText","plural","b","Permissions","cantAddPermissions","internalDispatch","showResourceDefinitions","setShowResourceDefinitions","transforms","info","popover","ariaLabel","cellWidth","emptyPropsDescription","a","filteredRows","removePermissions","permissionsToRemove","removeRolePermissions","sanitizedRole","c","system","_event","_rowId","multiplePermissionsSelected","paths","Role","onDelete","isDropdownOpen","setDropdownOpen","isNonPermissionAddingRole","setIsNonPermissionAddingRole","useParams","groupUuid","group","groupReducer","selectedGroup","systemGroupUuid","systemGroup","rolesPagination","rolesFilters","groupsPagination","groupsFilters","roleExists","BAD_UUID","groupExists","fetchGroup","fetchRolesForGroup","appObjectId","fetchSystemGroup","external_tenant","external_role_id","breadcrumbsList","getBackRoute","pathnames","loaded","dropdownItems","DropdownItem","goBack","Level","LevelItem","PageHeaderTitle","Dropdown","toggle","KebabToggle","isPlain","position","fetchRolesWithPolicies","asyncFunction","debounceTime","onlyResolvesLast"],"sourceRoot":""}